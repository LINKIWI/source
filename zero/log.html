<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Log - zero - Process and socket manager for zero-downtime binary deploys</title>
<link rel="icon" type="image/png" href="https://static.kevinlin.info/favicon.png" />
<link rel="alternate" type="application/atom+xml" title="zero Atom Feed" href="atom.xml" />
<link rel="alternate" type="application/atom+xml" title="zero Atom Feed (tags)" href="tags.xml" />
<style type="text/css">
body {
	color: #000;
	background-color: #fff;
	font-family: monospace;
}

h1, h2, h3, h4, h5, h6 {
	font-size: 1em;
	margin: 0;
}

img, h1, h2 {
	vertical-align: middle;
}

img {
	border: 0;
}

a:target {
	background-color: #ccc;
}

a.d,
a.h,
a.i {
	text-decoration: none;
}

a.line {
	text-decoration: none;
	user-select: none;
}

#blob a {
	color: #555;
}

#blob a:hover {
	color: blue;
	text-decoration: none;
}

table thead td {
	font-weight: bold;
}

table td {
	padding: 0 0.4em;
}

#content table td {
	vertical-align: top;
	white-space: nowrap;
}

#branches tr:hover td,
#tags tr:hover td,
#index tr:hover td,
#log tr:hover td,
#files tr:hover td {
	background-color: #eee;
}

#index tr td:nth-child(2),
#tags tr td:nth-child(3),
#branches tr td:nth-child(3),
#log tr td:nth-child(2) {
	white-space: normal;
}

td.num {
	text-align: right;
}

.desc {
	color: #555;
}

hr {
	border: 0;
	border-top: 1px solid #555;
	height: 1px;
}

pre {
	font-family: monospace;
}

pre a.h {
	color: #00a;
}

.A,
span.i,
pre a.i {
	color: #070;
}

.D,
span.d,
pre a.d {
	color: #e00;
}

pre a.h:hover,
pre a.i:hover,
pre a.d:hover {
	text-decoration: none;
}
</style>
</head>
<body>
<table><tr><td><a href="/"><img src="https://static.kevinlin.info/favicon.png" alt="" width="32" height="32" /></a></td><td><h1>zero</h1><span class="desc">Process and socket manager for zero-downtime binary deploys</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://source.static.kevinlin.info/zero.git">https://source.static.kevinlin.info/zero.git</a></td></tr><tr><td></td><td>
<a href="log">Log</a> | <a href="files">Files</a> | <a href="refs">Refs</a> | <a href="file/README.md">README</a></td></tr></table>
<hr/>
<div id="content">
<table id="log"><thead>
<tr><td><b>Date</b></td><td><b>Commit</b></td><td><b>Author</b></td><td><b>Message</b></td><td class="num" align="right"><b>Files</b></td><td class="num" align="right"><b>+</b></td><td class="num" align="right"><b>-</b></td></tr>
</thead><tbody>
<tr><td>2021-06-02 03:53</td><td>3f27a6361ccfcb315a47581690d2b19cfd2f4052</td><td>Kevin Lin</td><td><a href="commit/3f27a6361ccfcb315a47581690d2b19cfd2f4052">cmd/zero: Report max RSS memory usage in byte units</a></td><td class="num" align="right">2</td><td class="num" align="right">+2</td><td class="num" align="right">-2</td></tr>
<tr><td>2021-06-02 03:27</td><td>412d2d928931efa017b50996ba16e26bfcd0618b</td><td>Kevin Lin</td><td><a href="commit/412d2d928931efa017b50996ba16e26bfcd0618b">pkg/manager: Add threshold uptime check to initial service process start</a></td><td class="num" align="right">1</td><td class="num" align="right">+19</td><td class="num" align="right">-2</td></tr>
<tr><td>2021-06-02 03:20</td><td>3a0e42ca00811c70dbca17d580fb1d0d41881fe9</td><td>Kevin Lin</td><td><a href="commit/3a0e42ca00811c70dbca17d580fb1d0d41881fe9">*: Rename ShutdownDelay to ReloadUptime for behavior clarity</a></td><td class="num" align="right">4</td><td class="num" align="right">+7</td><td class="num" align="right">-7</td></tr>
<tr><td>2021-06-02 03:14</td><td>8b2e7170085284c6b91cdb73062ed519439c0dbd</td><td>Kevin Lin</td><td><a href="commit/8b2e7170085284c6b91cdb73062ed519439c0dbd">config.example.yaml: SIGUSR1 as example reload signal</a></td><td class="num" align="right">1</td><td class="num" align="right">+1</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-06-02 03:10</td><td>68fab2d1f2121d17c46b9dd1446fcf31ded056c5</td><td>Kevin Lin</td><td><a href="commit/68fab2d1f2121d17c46b9dd1446fcf31ded056c5">pkg/manager: Reinstate process uptime threshold check after allowing concurrent wait</a></td><td class="num" align="right">1</td><td class="num" align="right">+16</td><td class="num" align="right">-2</td></tr>
<tr><td>2021-06-02 02:56</td><td>e06b95f7485326d9f3725ca21711427280d19eaf</td><td>Kevin Lin</td><td><a href="commit/e06b95f7485326d9f3725ca21711427280d19eaf">pkg/manager: Provide WaitC convenience wrapper with channel interface</a></td><td class="num" align="right">2</td><td class="num" align="right">+14</td><td class="num" align="right">-8</td></tr>
<tr><td>2021-06-02 02:50</td><td>588982bdc7c2cdc6e2bd5242d3dfd65bc8946009</td><td>Kevin Lin</td><td><a href="commit/588982bdc7c2cdc6e2bd5242d3dfd65bc8946009">pkg/manager: Simple Process abstraction supporting concurrent Wait usage</a></td><td class="num" align="right">2</td><td class="num" align="right">+51</td><td class="num" align="right">-5</td></tr>
<tr><td>2021-06-01 06:56</td><td>2b0eeb310fc76e8286d0d401cd799f8829f38dc5</td><td>Kevin Lin</td><td><a href="commit/2b0eeb310fc76e8286d0d401cd799f8829f38dc5">pkg/manager: Kill service process when Zero dies</a></td><td class="num" align="right">1</td><td class="num" align="right">+4</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-06-01 06:45</td><td>bd5ddbde60afb566c67b6668180f2aa8d4eeab1e</td><td>Kevin Lin</td><td><a href="commit/bd5ddbde60afb566c67b6668180f2aa8d4eeab1e">pkg/manager: Remove mutual exclusion on underlying process getter</a></td><td class="num" align="right">1</td><td class="num" align="right">+3</td><td class="num" align="right">-8</td></tr>
<tr><td>2021-06-01 06:09</td><td>8330420647ec08231dfcd60918f5c5cf8c2dab2a</td><td>Kevin Lin</td><td><a href="commit/8330420647ec08231dfcd60918f5c5cf8c2dab2a">cmd/zero: Erroneous qualifier for log on signal</a></td><td class="num" align="right">1</td><td class="num" align="right">+1</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-06-01 06:08</td><td>f38c591d651be0847e12b69ea57e97c34ba434cd</td><td>Kevin Lin</td><td><a href="commit/f38c591d651be0847e12b69ea57e97c34ba434cd">pkg/manager: Remove reload startup interval check to avoid duplicate wait on new process</a></td><td class="num" align="right">1</td><td class="num" align="right">+2</td><td class="num" align="right">-22</td></tr>
<tr><td>2021-05-31 06:35</td><td>bf19d86ccc97772bb2529d717b435c0a3fb704d0</td><td>Kevin Lin</td><td><a href="commit/bf19d86ccc97772bb2529d717b435c0a3fb704d0">cmd/zero: Include service name as Sentry event tag</a></td><td class="num" align="right">1</td><td class="num" align="right">+1</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-31 05:52</td><td>d3181d1c952f90a71e647ab4561fe55b661a8ded</td><td>Kevin Lin</td><td><a href="commit/d3181d1c952f90a71e647ab4561fe55b661a8ded">internal/config: Decouple Address string representation from listen behavior</a></td><td class="num" align="right">1</td><td class="num" align="right">+11</td><td class="num" align="right">-9</td></tr>
<tr><td>2021-05-31 05:37</td><td>75773362d0b433f2d3c300d43dd600b2575c12ff</td><td>Kevin Lin</td><td><a href="commit/75773362d0b433f2d3c300d43dd600b2575c12ff">cmd/zero, internal/config: Register SIGTERM as global shutdown signal</a></td><td class="num" align="right">2</td><td class="num" align="right">+3</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-31 05:30</td><td>350ec45d6eecda3deb28a84355243bb01d48bcb6</td><td>Kevin Lin</td><td><a href="commit/350ec45d6eecda3deb28a84355243bb01d48bcb6">init: Use /etc/default/zero.d/ as default environment file path</a></td><td class="num" align="right">1</td><td class="num" align="right">+1</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-31 05:15</td><td>b73cd76d8749eb9d8e1eefa356e0839cb8c14ab3</td><td>Kevin Lin</td><td><a href="commit/b73cd76d8749eb9d8e1eefa356e0839cb8c14ab3">root: README documentation</a></td><td class="num" align="right">1</td><td class="num" align="right">+28</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-31 05:06</td><td>ed2655baad02a08805ad791527b1ef191aebe2bd</td><td>Kevin Lin</td><td><a href="commit/ed2655baad02a08805ad791527b1ef191aebe2bd">cmd/zero: Fix race condition in shutdown channel causing early process exit</a></td><td class="num" align="right">1</td><td class="num" align="right">+1</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-31 05:04</td><td>8c91438cb409d8da9debf02db17b6c5794f7370a</td><td>Kevin Lin</td><td><a href="commit/8c91438cb409d8da9debf02db17b6c5794f7370a">pkg/manager: Proxy stdin through to service process during exec</a></td><td class="num" align="right">1</td><td class="num" align="right">+2</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-31 05:01</td><td>e4a5ecb072b6404328eb9fd9656d00d4f2010a49</td><td>Kevin Lin</td><td><a href="commit/e4a5ecb072b6404328eb9fd9656d00d4f2010a49">cmd/zero: Additional logging for shutdown delay/timeout parameters</a></td><td class="num" align="right">1</td><td class="num" align="right">+4</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-31 04:58</td><td>e39c4dd835d691f03f9644b42add2e78a6a4a228</td><td>Kevin Lin</td><td><a href="commit/e39c4dd835d691f03f9644b42add2e78a6a4a228">cmd/zero: Manager uptime metrics with service PID tag</a></td><td class="num" align="right">1</td><td class="num" align="right">+19</td><td class="num" align="right">-2</td></tr>
<tr><td>2021-05-31 04:58</td><td>0fbe07ab1c2efbf3db5a987f631e5920fe25ad2e</td><td>Kevin Lin</td><td><a href="commit/0fbe07ab1c2efbf3db5a987f631e5920fe25ad2e">pkg/manager: API to retrieve current active *os.Process</a></td><td class="num" align="right">1</td><td class="num" align="right">+16</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-31 04:58</td><td>2de1aa9774ca141a611894b9e8775d305c7450d7</td><td>Kevin Lin</td><td><a href="commit/2de1aa9774ca141a611894b9e8775d305c7450d7">pkg/manager: Protect start with mutex</a></td><td class="num" align="right">1</td><td class="num" align="right">+3</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-31 04:32</td><td>24de6f3b8346ba16ba9eb60f01023d1bafaefa1d</td><td>Kevin Lin</td><td><a href="commit/24de6f3b8346ba16ba9eb60f01023d1bafaefa1d">cmd/zero: Reload and shutdown metrics instrumentation</a></td><td class="num" align="right">1</td><td class="num" align="right">+42</td><td class="num" align="right">-2</td></tr>
<tr><td>2021-05-31 04:28</td><td>3295e6f22f3dd93b4e7bd821897ef5db5de40743</td><td>Kevin Lin</td><td><a href="commit/3295e6f22f3dd93b4e7bd821897ef5db5de40743">internal/config: Add name identifier to service runtime parameters</a></td><td class="num" align="right">3</td><td class="num" align="right">+5</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-31 04:14</td><td>c8fcf2e9f711151a2e4bd6643096ae4bfda95061</td><td>Kevin Lin</td><td><a href="commit/c8fcf2e9f711151a2e4bd6643096ae4bfda95061">cmd/zero: Sentry client integration</a></td><td class="num" align="right">2</td><td class="num" align="right">+29</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-31 00:06</td><td>fe7420f3ab4aa5a1ff81dbc6804fa47200145cb0</td><td>Kevin Lin</td><td><a href="commit/fe7420f3ab4aa5a1ff81dbc6804fa47200145cb0">internal/config: Config struct documentation</a></td><td class="num" align="right">1</td><td class="num" align="right">+7</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-31 00:05</td><td>e3df53fc383c3cecf7729c3e95fbdb8c8e387f2f</td><td>Kevin Lin</td><td><a href="commit/e3df53fc383c3cecf7729c3e95fbdb8c8e387f2f">.ci: Build and release pipeline</a></td><td class="num" align="right">1</td><td class="num" align="right">+114</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-31 00:03</td><td>60d02c65c5139f4f8a05cede984994f843a35a4f</td><td>Kevin Lin</td><td><a href="commit/60d02c65c5139f4f8a05cede984994f843a35a4f">root: Update example config with new environment schema</a></td><td class="num" align="right">1</td><td class="num" align="right">+3</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-31 00:02</td><td>5066b91d6628d499b51c6723d33e3b2717750293</td><td>Kevin Lin</td><td><a href="commit/5066b91d6628d499b51c6723d33e3b2717750293">cmd/zero: More useful status logs</a></td><td class="num" align="right">1</td><td class="num" align="right">+27</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-30 23:57</td><td>877e12b4a7359e12581df40b6c9c63e23abd9557</td><td>Kevin Lin</td><td><a href="commit/877e12b4a7359e12581df40b6c9c63e23abd9557">internal/config: Expose Unix signal name in Stringer implementation</a></td><td class="num" align="right">1</td><td class="num" align="right">+7</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-30 23:46</td><td>7499c2ed50e761112432d0314c8b9861a3b518f5</td><td>Kevin Lin</td><td><a href="commit/7499c2ed50e761112432d0314c8b9861a3b518f5">cmd/zero: Initialize Aperture metrics client</a></td><td class="num" align="right">2</td><td class="num" align="right">+32</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-30 23:30</td><td>d0116762e280efc896172015d020165c88d85eae</td><td>Kevin Lin</td><td><a href="commit/d0116762e280efc896172015d020165c88d85eae">pkg/manager: Move Manager to pkg/</a></td><td class="num" align="right">3</td><td class="num" align="right">+213</td><td class="num" align="right">-211</td></tr>
<tr><td>2021-05-30 23:30</td><td>5cd4adcfd641b3a3a58b75b6c6184d246d602d00</td><td>Kevin Lin</td><td><a href="commit/5cd4adcfd641b3a3a58b75b6c6184d246d602d00">internal/manager: Expose exited process state for successful reloads</a></td><td class="num" align="right">1</td><td class="num" align="right">+10</td><td class="num" align="right">-8</td></tr>
<tr><td>2021-05-30 23:16</td><td>97a34862b018edeabc88c439b6de0d2e93e02cde</td><td>Kevin Lin</td><td><a href="commit/97a34862b018edeabc88c439b6de0d2e93e02cde">internal/manager: Always replace active process regardless of shutdown outcome</a></td><td class="num" align="right">1</td><td class="num" align="right">+6</td><td class="num" align="right">-2</td></tr>
<tr><td>2021-05-30 22:59</td><td>2d4ba06c64219d081c8244521c8ded00bfdb8837</td><td>Kevin Lin</td><td><a href="commit/2d4ba06c64219d081c8244521c8ded00bfdb8837">internal/manager: Reset active process after successful close</a></td><td class="num" align="right">1</td><td class="num" align="right">+10</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-30 22:54</td><td>5039e8fe92f1167d42644a0dee338bec574e81af</td><td>Kevin Lin</td><td><a href="commit/5039e8fe92f1167d42644a0dee338bec574e81af">cmd/zero: Main process and manager client</a></td><td class="num" align="right">1</td><td class="num" align="right">+79</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-30 22:48</td><td>7b395f3534d82f2d48948cf7e863c2808af10282</td><td>Kevin Lin</td><td><a href="commit/7b395f3534d82f2d48948cf7e863c2808af10282">init: systemd unit file</a></td><td class="num" align="right">1</td><td class="num" align="right">+16</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-30 22:46</td><td>1f558b08de135f38b01f59554d86efc1aae17bf7</td><td>Kevin Lin</td><td><a href="commit/1f558b08de135f38b01f59554d86efc1aae17bf7">internal/manager: Initial process manager implementation</a></td><td class="num" align="right">1</td><td class="num" align="right">+194</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-30 22:31</td><td>3857974d4de16e0fe67861d243e902e204c86c67</td><td>Kevin Lin</td><td><a href="commit/3857974d4de16e0fe67861d243e902e204c86c67">internal/config: Structure runtime environment as a KV object</a></td><td class="num" align="right">2</td><td class="num" align="right">+11</td><td class="num" align="right">-1</td></tr>
<tr><td>2021-05-30 22:24</td><td>5fc6b5758d81b3896b546f4c36c2a078b43dab05</td><td>Kevin Lin</td><td><a href="commit/5fc6b5758d81b3896b546f4c36c2a078b43dab05">internal/meta: Application version constant</a></td><td class="num" align="right">1</td><td class="num" align="right">+5</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-22 23:22</td><td>39b9c138c6de2d1b9bafdd43d48799f6f5dbca06</td><td>Kevin Lin</td><td><a href="commit/39b9c138c6de2d1b9bafdd43d48799f6f5dbca06">internal/config: Disallow use of SIGINT for service reload to avoid conflict with Zero shutdown</a></td><td class="num" align="right">1</td><td class="num" align="right">+3</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-22 23:21</td><td>ed883bd7094245ac7c03fba2ba1fbfe7a432fdb7</td><td>Kevin Lin</td><td><a href="commit/ed883bd7094245ac7c03fba2ba1fbfe7a432fdb7">internal/config: Signal string parser</a></td><td class="num" align="right">3</td><td class="num" align="right">+66</td><td class="num" align="right">-2</td></tr>
<tr><td>2021-05-22 21:51</td><td>9d574eb218e7708e508cff3dca0dbe3ccbba1fec</td><td>Kevin Lin</td><td><a href="commit/9d574eb218e7708e508cff3dca0dbe3ccbba1fec">internal/config: Schema and validation</a></td><td class="num" align="right">3</td><td class="num" align="right">+134</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-22 21:46</td><td>9a8f4e7fa521bbd544374bbd6064e1ade9b84491</td><td>Kevin Lin</td><td><a href="commit/9a8f4e7fa521bbd544374bbd6064e1ade9b84491">root: Project metadata and build</a></td><td class="num" align="right">5</td><td class="num" align="right">+47</td><td class="num" align="right">-0</td></tr>
<tr><td>2021-05-22 21:42</td><td>975f99f8f40eff1de9ffaaca102d2c08fd327762</td><td>Kevin Lin</td><td><a href="commit/975f99f8f40eff1de9ffaaca102d2c08fd327762">internal/config: YAML data containers adapted from Bitflow</a></td><td class="num" align="right">1</td><td class="num" align="right">+78</td><td class="num" align="right">-0</td></tr>
</tbody></table></div>
</body>
</html>
