<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bump rules_protobuf - livegrep - Fast, regular expression code search service</title>
<meta name="description" content="Fast, regular expression code search service" />
<meta name="author" content="Kevin Lin" />
<link rel="icon" type="image/png" href="https://static.kevinlin.info/favicon.png" />
<link rel="alternate" type="application/atom+xml" title="livegrep Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="livegrep Atom Feed (tags)" href="../tags.xml" />
<style type="text/css">
body{color:#000;background-color:#fff;font-family:monospace}h1,h2,h3,h4,h5,h6{font-size:1em;margin:0}img,h1,h2{vertical-align:middle}img{border:0}a:target{background-color:#ccc}a.d,a.h,a.i{text-decoration:none}a.line{text-decoration:none;user-select:none}#blob a{color:#555}#blob a:hover{color:blue;text-decoration:none}table thead td{font-weight:bold}table td{padding:0 .4em}table td pre{margin:0}#content table td{vertical-align:top;white-space:nowrap}#branches tr:hover td,#tags tr:hover td,#index tr:hover td,#log tr:hover td,#files tr:hover td{background-color:#eee}#index tr td:nth-child(2),#tags tr td:nth-child(3),#branches tr td:nth-child(3),#log tr td:nth-child(2){white-space:normal}td.num{text-align:right}.desc{color:#555}hr{border:0;border-top:1px solid #555;height:1px}pre{font-family:monospace}pre a.h{color:#00a}.A,span.i,pre a.i{color:#070}.D,span.d,pre a.d{color:#e00}pre a.h:hover,pre a.i:hover,pre a.d:hover{text-decoration:none}
</style>
</head>
<body>
<table><tr><td><a href="/"><img src="https://static.kevinlin.info/favicon.png" alt="" width="32" height="32" /></a></td><td><h1>livegrep</h1><span class="desc">Fast, regular expression code search service</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://source.static.kevinlin.info/external/livegrep.git">https://source.static.kevinlin.info/external/livegrep.git</a></td></tr><tr><td></td><td>
<a href="../log">Log</a> | <a href="../files">Files</a> | <a href="../refs">Refs</a> | <a href="../file/README.md">README</a> | <a href="../file/COPYING">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/33069ea1502a9a3fa1276e3ab7ded1056e03353b">33069ea1502a9a3fa1276e3ab7ded1056e03353b</a>
<b>parent</b> <a href="../commit/ca6c3026509ec31b50617986a0163010d02ed505">ca6c3026509ec31b50617986a0163010d02ed505</a>
<b>Author:</b> Nelson Elhage &lt;<a href="mailto:nelhage@nelhage.com">nelhage@nelhage.com</a>&gt;
<b>Date:</b>   Sun,  2 Sep 2018 02:10:41 +0000

Bump rules_protobuf

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">BUILD</a></td><td> | </td><td class="num">8</td><td><span class="i">+++++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">WORKSPACE</a></td><td> | </td><td class="num">15</td><td><span class="i">++++++++++++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">client/test/BUILD</a></td><td> | </td><td class="num">7</td><td><span class="i">++++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">cmd/lg/BUILD</a></td><td> | </td><td class="num">3</td><td><span class="i">++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">cmd/livegrep-fetch-reindex/BUILD</a></td><td> | </td><td class="num">7</td><td><span class="i">+++</span><span class="d">----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">cmd/livegrep-github-reindex/BUILD</a></td><td> | </td><td class="num">3</td><td><span class="i">++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">cmd/livegrep-reload/BUILD</a></td><td> | </td><td class="num">7</td><td><span class="i">+++</span><span class="d">----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">cmd/livegrep/BUILD</a></td><td> | </td><td class="num">3</td><td><span class="i">++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h8">jsonframe/BUILD</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">server/BUILD</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">server/api/BUILD</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">server/config/BUILD</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h12">server/log/BUILD</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h13">server/middleware/BUILD</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h14">server/reqid/BUILD</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h15">server/templates/BUILD</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h16">src/proto/BUILD</a></td><td> | </td><td class="num">13</td><td><span class="i">++++++++++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h17">tools/build_defs/go_externals.bzl</a></td><td> | </td><td class="num">56</td><td><span class="i">++++++++++++++++++++++++++++++</span><span class="d">--------------------------</span></td></tr>
</table></pre><pre>18 files changed, 86 insertions(+), 51 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/BUILD">BUILD</a> b/<a href="../file/BUILD">BUILD</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1,8 +1,5 @@
</a><a href="#h0-0-0" id="h0-0-0" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_prefix&quot;)
</a> load(&quot;@compdb//:aspects.bzl&quot;, &quot;compilation_database&quot;)
 
<a href="#h0-0-3" id="h0-0-3" class="d">-go_prefix(&quot;github.com/livegrep/livegrep&quot;)
</a><a href="#h0-0-4" id="h0-0-4" class="d">-
</a> compilation_database(
     name = &quot;compilation_db&quot;,
     exec_root_marker = True,
<a href="#h0-1" id="h0-1" class="h">@@ -11,3 +8,8 @@ compilation_database(
</a>         &quot;//src/tools:codesearchtool&quot;,
     ],
 )
<a href="#h0-1-3" id="h0-1-3" class="i">+
</a><a href="#h0-1-4" id="h0-1-4" class="i">+load(&quot;@bazel_gazelle//:def.bzl&quot;, &quot;gazelle&quot;)
</a><a href="#h0-1-5" id="h0-1-5" class="i">+
</a><a href="#h0-1-6" id="h0-1-6" class="i">+# gazelle:prefix github.com/livegrep/livegrep
</a><a href="#h0-1-7" id="h0-1-7" class="i">+gazelle(name = &quot;gazelle&quot;)
</a><b>diff --git a/<a id="h1" href="../file/WORKSPACE">WORKSPACE</a> b/<a href="../file/WORKSPACE">WORKSPACE</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -76,16 +76,26 @@ new_patched_http_archive(
</a> 
 git_repository(
     name = &quot;io_bazel_rules_go&quot;,
<a href="#h1-0-3" id="h1-0-3" class="d">-    commit = &quot;44b3bdf7d3645cbf0cfd786c5f105d0af4cf49ca&quot;,
</a><a href="#h1-0-4" id="h1-0-4" class="i">+    commit = &quot;2ec02d552198da2d42354f1d4e5d951f1889052d&quot;,  # 0.15.1
</a>     remote = &quot;https://github.com/bazelbuild/rules_go.git&quot;,
 )
 
<a href="#h1-0-8" id="h1-0-8" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_rules_dependencies&quot;, &quot;go_register_toolchains&quot;)
</a><a href="#h1-0-9" id="h1-0-9" class="i">+http_archive(
</a><a href="#h1-0-10" id="h1-0-10" class="i">+    name = &quot;bazel_gazelle&quot;,
</a><a href="#h1-0-11" id="h1-0-11" class="i">+    sha256 = &quot;c0a5739d12c6d05b6c1ad56f2200cb0b57c5a70e03ebd2f7b87ce88cabf09c7b&quot;,
</a><a href="#h1-0-12" id="h1-0-12" class="i">+    urls = [&quot;https://github.com/bazelbuild/bazel-gazelle/releases/download/0.14.0/bazel-gazelle-0.14.0.tar.gz&quot;],
</a><a href="#h1-0-13" id="h1-0-13" class="i">+)
</a><a href="#h1-0-14" id="h1-0-14" class="i">+
</a><a href="#h1-0-15" id="h1-0-15" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_register_toolchains&quot;, &quot;go_rules_dependencies&quot;)
</a> 
 go_rules_dependencies()
 
 go_register_toolchains()
 
<a href="#h1-0-21" id="h1-0-21" class="i">+load(&quot;@bazel_gazelle//:deps.bzl&quot;, &quot;gazelle_dependencies&quot;)
</a><a href="#h1-0-22" id="h1-0-22" class="i">+
</a><a href="#h1-0-23" id="h1-0-23" class="i">+gazelle_dependencies()
</a><a href="#h1-0-24" id="h1-0-24" class="i">+
</a> load(
     &quot;//tools/build_defs:go_externals.bzl&quot;,
     &quot;go_externals&quot;,
<a href="#h1-1" id="h1-1" class="h">@@ -106,7 +116,6 @@ new_libgit2_archive(
</a>     version = &quot;0.24.1&quot;,
 )
 
<a href="#h1-1-3" id="h1-1-3" class="d">-load(&quot;@org_pubref_rules_protobuf//go:rules.bzl&quot;, &quot;go_proto_repositories&quot;)
</a> load(&quot;@org_pubref_rules_protobuf//cpp:rules.bzl&quot;, &quot;cpp_proto_repositories&quot;)
 
 cpp_proto_repositories(excludes = [
<b>diff --git a/<a id="h2" href="../file/client/test/BUILD">client/test/BUILD</a> b/<a href="../file/client/test/BUILD">client/test/BUILD</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -1,14 +1,15 @@
</a> # gazelle:ignore
 load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;, &quot;go_test&quot;)
<a href="#h2-0-2" id="h2-0-2" class="d">-load(&quot;@org_pubref_rules_protobuf//go:rules.bzl&quot;, &quot;GRPC_COMPILE_DEPS&quot;)
</a> 
 go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;testutil.go&quot;],
<a href="#h2-0-7" id="h2-0-7" class="i">+    importpath = &quot;github.com/livegrep/livegrep/client&quot;,
</a>     visibility = [&quot;//visibility:public&quot;],
     deps = [
         &quot;//src/proto:go_proto&quot;,
<a href="#h2-0-11" id="h2-0-11" class="d">-    ] + GRPC_COMPILE_DEPS,
</a><a href="#h2-0-12" id="h2-0-12" class="i">+        &quot;@org_golang_google_grpc//:go_default_library&quot;,
</a><a href="#h2-0-13" id="h2-0-13" class="i">+    ],
</a> )
 
 go_test(
<a href="#h2-1" id="h2-1" class="h">@@ -17,7 +18,7 @@ go_test(
</a>         &quot;bench_test.go&quot;,
         &quot;integration_test.go&quot;,
     ],
<a href="#h2-1-3" id="h2-1-3" class="d">-    library = &quot;:go_default_library&quot;,
</a><a href="#h2-1-4" id="h2-1-4" class="i">+    embed = [&quot;:go_default_library&quot;],
</a>     deps = [
         &quot;//src/proto:go_proto&quot;,
         &quot;@in_gopkg_check_v1//:go_default_library&quot;,
<b>diff --git a/<a id="h3" href="../file/cmd/lg/BUILD">cmd/lg/BUILD</a> b/<a href="../file/cmd/lg/BUILD">cmd/lg/BUILD</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -3,6 +3,7 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_binary&quot;, &quot;go_library&quot;)
</a> go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;main.go&quot;],
<a href="#h3-0-3" id="h3-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/cmd/lg&quot;,
</a>     visibility = [&quot;//visibility:private&quot;],
     deps = [
         &quot;//server/api:go_default_library&quot;,
<a href="#h3-1" id="h3-1" class="h">@@ -12,6 +13,6 @@ go_library(
</a> 
 go_binary(
     name = &quot;lg&quot;,
<a href="#h3-1-3" id="h3-1-3" class="d">-    library = &quot;:go_default_library&quot;,
</a><a href="#h3-1-4" id="h3-1-4" class="i">+    embed = [&quot;:go_default_library&quot;],
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h4" href="../file/cmd/livegrep-fetch-reindex/BUILD">cmd/livegrep-fetch-reindex/BUILD</a> b/<a href="../file/cmd/livegrep-fetch-reindex/BUILD">cmd/livegrep-fetch-reindex/BUILD</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -2,12 +2,11 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_binary&quot;, &quot;go_library&quot;)
</a> 
 go_library(
     name = &quot;go_default_library&quot;,
<a href="#h4-0-3" id="h4-0-3" class="d">-    srcs = [
</a><a href="#h4-0-4" id="h4-0-4" class="d">-        &quot;main.go&quot;,
</a><a href="#h4-0-5" id="h4-0-5" class="d">-    ],
</a><a href="#h4-0-6" id="h4-0-6" class="i">+    srcs = [&quot;main.go&quot;],
</a>     data = [
         &quot;//src/tools:codesearch&quot;,
     ],
<a href="#h4-0-10" id="h4-0-10" class="i">+    importpath = &quot;github.com/livegrep/livegrep/cmd/livegrep-fetch-reindex&quot;,
</a>     visibility = [&quot;//visibility:private&quot;],
     deps = [
         &quot;//src/proto:go_proto&quot;,
<a href="#h4-1" id="h4-1" class="h">@@ -17,6 +16,6 @@ go_library(
</a> 
 go_binary(
     name = &quot;livegrep-fetch-reindex&quot;,
<a href="#h4-1-3" id="h4-1-3" class="d">-    library = &quot;:go_default_library&quot;,
</a><a href="#h4-1-4" id="h4-1-4" class="i">+    embed = [&quot;:go_default_library&quot;],
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h5" href="../file/cmd/livegrep-github-reindex/BUILD">cmd/livegrep-github-reindex/BUILD</a> b/<a href="../file/cmd/livegrep-github-reindex/BUILD">cmd/livegrep-github-reindex/BUILD</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -6,6 +6,7 @@ go_library(
</a>         &quot;flags.go&quot;,
         &quot;main.go&quot;,
     ],
<a href="#h5-0-3" id="h5-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/cmd/livegrep-github-reindex&quot;,
</a>     visibility = [&quot;//visibility:private&quot;],
     deps = [
         &quot;@com_github_google_go_github//github:go_default_library&quot;,
<a href="#h5-1" id="h5-1" class="h">@@ -16,6 +17,6 @@ go_library(
</a> 
 go_binary(
     name = &quot;livegrep-github-reindex&quot;,
<a href="#h5-1-3" id="h5-1-3" class="d">-    library = &quot;:go_default_library&quot;,
</a><a href="#h5-1-4" id="h5-1-4" class="i">+    embed = [&quot;:go_default_library&quot;],
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h6" href="../file/cmd/livegrep-reload/BUILD">cmd/livegrep-reload/BUILD</a> b/<a href="../file/cmd/livegrep-reload/BUILD">cmd/livegrep-reload/BUILD</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -2,12 +2,11 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_binary&quot;, &quot;go_library&quot;)
</a> 
 go_library(
     name = &quot;go_default_library&quot;,
<a href="#h6-0-3" id="h6-0-3" class="d">-    srcs = [
</a><a href="#h6-0-4" id="h6-0-4" class="d">-        &quot;main.go&quot;,
</a><a href="#h6-0-5" id="h6-0-5" class="d">-    ],
</a><a href="#h6-0-6" id="h6-0-6" class="i">+    srcs = [&quot;main.go&quot;],
</a>     data = [
         &quot;//src/tools:codesearch&quot;,
     ],
<a href="#h6-0-10" id="h6-0-10" class="i">+    importpath = &quot;github.com/livegrep/livegrep/cmd/livegrep-reload&quot;,
</a>     visibility = [&quot;//visibility:private&quot;],
     deps = [
         &quot;//src/proto:go_proto&quot;,
<a href="#h6-1" id="h6-1" class="h">@@ -17,6 +16,6 @@ go_library(
</a> 
 go_binary(
     name = &quot;livegrep-reload&quot;,
<a href="#h6-1-3" id="h6-1-3" class="d">-    library = &quot;:go_default_library&quot;,
</a><a href="#h6-1-4" id="h6-1-4" class="i">+    embed = [&quot;:go_default_library&quot;],
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h7" href="../file/cmd/livegrep/BUILD">cmd/livegrep/BUILD</a> b/<a href="../file/cmd/livegrep/BUILD">cmd/livegrep/BUILD</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -3,6 +3,7 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_binary&quot;, &quot;go_library&quot;)
</a> go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;livegrep.go&quot;],
<a href="#h7-0-3" id="h7-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/cmd/livegrep&quot;,
</a>     visibility = [&quot;//visibility:private&quot;],
     deps = [
         &quot;//server:go_default_library&quot;,
<a href="#h7-1" id="h7-1" class="h">@@ -14,6 +15,6 @@ go_library(
</a> 
 go_binary(
     name = &quot;livegrep&quot;,
<a href="#h7-1-3" id="h7-1-3" class="d">-    library = &quot;:go_default_library&quot;,
</a><a href="#h7-1-4" id="h7-1-4" class="i">+    embed = [&quot;:go_default_library&quot;],
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h8" href="../file/jsonframe/BUILD">jsonframe/BUILD</a> b/<a href="../file/jsonframe/BUILD">jsonframe/BUILD</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -6,5 +6,6 @@ load(
</a> go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;jsonframe.go&quot;],
<a href="#h8-0-3" id="h8-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/jsonframe&quot;,
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h9" href="../file/server/BUILD">server/BUILD</a> b/<a href="../file/server/BUILD">server/BUILD</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -17,6 +17,7 @@ go_library(
</a>         &quot;//web:templates&quot;,
         &quot;//web:webpack_build&quot;,
     ],
<a href="#h9-0-3" id="h9-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/server&quot;,
</a>     visibility = [&quot;//visibility:public&quot;],
     deps = [
         &quot;//server/api:go_default_library&quot;,
<a href="#h9-1" id="h9-1" class="h">@@ -36,7 +37,10 @@ go_library(
</a> 
 go_test(
     name = &quot;go_default_test&quot;,
<a href="#h9-1-3" id="h9-1-3" class="d">-    srcs = [&quot;query_test.go&quot;, &quot;server_test.go&quot;],
</a><a href="#h9-1-4" id="h9-1-4" class="d">-    library = &quot;:go_default_library&quot;,
</a><a href="#h9-1-5" id="h9-1-5" class="i">+    srcs = [
</a><a href="#h9-1-6" id="h9-1-6" class="i">+        &quot;query_test.go&quot;,
</a><a href="#h9-1-7" id="h9-1-7" class="i">+        &quot;server_test.go&quot;,
</a><a href="#h9-1-8" id="h9-1-8" class="i">+    ],
</a><a href="#h9-1-9" id="h9-1-9" class="i">+    embed = [&quot;:go_default_library&quot;],
</a>     deps = [&quot;//src/proto:go_proto&quot;],
 )
<b>diff --git a/<a id="h10" href="../file/server/api/BUILD">server/api/BUILD</a> b/<a href="../file/server/api/BUILD">server/api/BUILD</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -3,5 +3,6 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;types.go&quot;],
<a href="#h10-0-3" id="h10-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/server/api&quot;,
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h11" href="../file/server/config/BUILD">server/config/BUILD</a> b/<a href="../file/server/config/BUILD">server/config/BUILD</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -3,5 +3,6 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;config.go&quot;],
<a href="#h11-0-3" id="h11-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/server/config&quot;,
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h12" href="../file/server/log/BUILD">server/log/BUILD</a> b/<a href="../file/server/log/BUILD">server/log/BUILD</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -3,6 +3,7 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;log.go&quot;],
<a href="#h12-0-3" id="h12-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/server/log&quot;,
</a>     visibility = [&quot;//visibility:public&quot;],
     deps = [
         &quot;//server/reqid:go_default_library&quot;,
<b>diff --git a/<a id="h13" href="../file/server/middleware/BUILD">server/middleware/BUILD</a> b/<a href="../file/server/middleware/BUILD">server/middleware/BUILD</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -3,5 +3,6 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;reverse_proxy.go&quot;],
<a href="#h13-0-3" id="h13-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/server/middleware&quot;,
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h14" href="../file/server/reqid/BUILD">server/reqid/BUILD</a> b/<a href="../file/server/reqid/BUILD">server/reqid/BUILD</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -3,6 +3,7 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;reqid.go&quot;],
<a href="#h14-0-3" id="h14-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/server/reqid&quot;,
</a>     visibility = [&quot;//visibility:public&quot;],
     deps = [&quot;@org_golang_x_net//context:go_default_library&quot;],
 )
<b>diff --git a/<a id="h15" href="../file/server/templates/BUILD">server/templates/BUILD</a> b/<a href="../file/server/templates/BUILD">server/templates/BUILD</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -3,5 +3,6 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> go_library(
     name = &quot;go_default_library&quot;,
     srcs = [&quot;templates.go&quot;],
<a href="#h15-0-3" id="h15-0-3" class="i">+    importpath = &quot;github.com/livegrep/livegrep/server/templates&quot;,
</a>     visibility = [&quot;//visibility:public&quot;],
 )
<b>diff --git a/<a id="h16" href="../file/src/proto/BUILD">src/proto/BUILD</a> b/<a href="../file/src/proto/BUILD">src/proto/BUILD</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -1,12 +1,19 @@
</a> package(default_visibility = [&quot;//visibility:public&quot;])
 
<a href="#h16-0-2" id="h16-0-2" class="d">-load(&quot;@org_pubref_rules_protobuf//go:rules.bzl&quot;, &quot;go_proto_library&quot;)
</a><a href="#h16-0-3" id="h16-0-3" class="i">+load(&quot;@io_bazel_rules_go//proto:def.bzl&quot;, &quot;go_proto_library&quot;)
</a> load(&quot;@org_pubref_rules_protobuf//cpp:rules.bzl&quot;, &quot;cc_proto_library&quot;)
 
<a href="#h16-0-6" id="h16-0-6" class="i">+proto_library(
</a><a href="#h16-0-7" id="h16-0-7" class="i">+    name = &quot;livegrep_proto&quot;,
</a><a href="#h16-0-8" id="h16-0-8" class="i">+    srcs = [&quot;livegrep.proto&quot;],
</a><a href="#h16-0-9" id="h16-0-9" class="i">+)
</a><a href="#h16-0-10" id="h16-0-10" class="i">+
</a> go_proto_library(
     name = &quot;go_proto&quot;,
<a href="#h16-0-13" id="h16-0-13" class="d">-    protos = [&quot;livegrep.proto&quot;],
</a><a href="#h16-0-14" id="h16-0-14" class="d">-    with_grpc = True,
</a><a href="#h16-0-15" id="h16-0-15" class="i">+    compilers = [&quot;@io_bazel_rules_go//proto:go_grpc&quot;],
</a><a href="#h16-0-16" id="h16-0-16" class="i">+    importpath = &quot;github.com/livegrep/livegrep/src/proto/go_proto&quot;,
</a><a href="#h16-0-17" id="h16-0-17" class="i">+    proto = &quot;:livegrep_proto&quot;,
</a><a href="#h16-0-18" id="h16-0-18" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a> )
 
 cc_proto_library(
<b>diff --git a/<a id="h17" href="../file/tools/build_defs/go_externals.bzl">tools/build_defs/go_externals.bzl</a> b/<a href="../file/tools/build_defs/go_externals.bzl">tools/build_defs/go_externals.bzl</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -1,23 +1,25 @@
</a> load(
<a href="#h17-0-1" id="h17-0-1" class="d">-    &quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h17-0-2" id="h17-0-2" class="i">+    &quot;@bazel_gazelle//:deps.bzl&quot;,
</a>     &quot;go_repository&quot;,
 )
 
 def _github(repo, commit):
<a href="#h17-0-7" id="h17-0-7" class="d">-  name = &quot;com_github_&quot; + repo.replace(&quot;/&quot;, &quot;_&quot;).replace(&quot;-&quot;, &quot;_&quot;).replace(&quot;.&quot;, &quot;_&quot;)
</a><a href="#h17-0-8" id="h17-0-8" class="d">-  importpath = &quot;github.com/&quot; + repo
</a><a href="#h17-0-9" id="h17-0-9" class="d">-  return struct(
</a><a href="#h17-0-10" id="h17-0-10" class="d">-    name = name,
</a><a href="#h17-0-11" id="h17-0-11" class="d">-    importpath = importpath,
</a><a href="#h17-0-12" id="h17-0-12" class="d">-    commit = commit)
</a><a href="#h17-0-13" id="h17-0-13" class="i">+    name = &quot;com_github_&quot; + repo.replace(&quot;/&quot;, &quot;_&quot;).replace(&quot;-&quot;, &quot;_&quot;).replace(&quot;.&quot;, &quot;_&quot;)
</a><a href="#h17-0-14" id="h17-0-14" class="i">+    importpath = &quot;github.com/&quot; + repo
</a><a href="#h17-0-15" id="h17-0-15" class="i">+    return struct(
</a><a href="#h17-0-16" id="h17-0-16" class="i">+        name = name,
</a><a href="#h17-0-17" id="h17-0-17" class="i">+        commit = commit,
</a><a href="#h17-0-18" id="h17-0-18" class="i">+        importpath = importpath,
</a><a href="#h17-0-19" id="h17-0-19" class="i">+    )
</a> 
 def _golang_x(pkg, commit):
<a href="#h17-0-22" id="h17-0-22" class="d">-  name = &quot;org_golang_x_&quot; + pkg
</a><a href="#h17-0-23" id="h17-0-23" class="d">-  importpath = &quot;golang.org/x/&quot; + pkg
</a><a href="#h17-0-24" id="h17-0-24" class="d">-  return struct(
</a><a href="#h17-0-25" id="h17-0-25" class="d">-    name = name,
</a><a href="#h17-0-26" id="h17-0-26" class="d">-    importpath = importpath,
</a><a href="#h17-0-27" id="h17-0-27" class="d">-    commit = commit)
</a><a href="#h17-0-28" id="h17-0-28" class="i">+    name = &quot;org_golang_x_&quot; + pkg
</a><a href="#h17-0-29" id="h17-0-29" class="i">+    importpath = &quot;golang.org/x/&quot; + pkg
</a><a href="#h17-0-30" id="h17-0-30" class="i">+    return struct(
</a><a href="#h17-0-31" id="h17-0-31" class="i">+        name = name,
</a><a href="#h17-0-32" id="h17-0-32" class="i">+        commit = commit,
</a><a href="#h17-0-33" id="h17-0-33" class="i">+        importpath = importpath,
</a><a href="#h17-0-34" id="h17-0-34" class="i">+    )
</a> 
 _externals = [
     _golang_x(&quot;net&quot;, &quot;d212a1ef2de2f5d441c327b8f26cf3ea3ea9f265&quot;),
<a href="#h17-1" id="h17-1" class="h">@@ -51,16 +53,18 @@ _externals = [
</a> ]
 
 def go_externals():
<a href="#h17-1-3" id="h17-1-3" class="d">-  for ext in _externals:
</a><a href="#h17-1-4" id="h17-1-4" class="d">-    if hasattr(ext, &#39;vcs&#39;):
</a><a href="#h17-1-5" id="h17-1-5" class="d">-      go_repository(
</a><a href="#h17-1-6" id="h17-1-6" class="d">-        name = ext.name,
</a><a href="#h17-1-7" id="h17-1-7" class="d">-        importpath = ext.importpath,
</a><a href="#h17-1-8" id="h17-1-8" class="d">-        commit = ext.commit,
</a><a href="#h17-1-9" id="h17-1-9" class="d">-        vcs = ext.vcs,
</a><a href="#h17-1-10" id="h17-1-10" class="d">-        remote = ext.remote)
</a><a href="#h17-1-11" id="h17-1-11" class="d">-    else:
</a><a href="#h17-1-12" id="h17-1-12" class="d">-      go_repository(
</a><a href="#h17-1-13" id="h17-1-13" class="d">-        name = ext.name,
</a><a href="#h17-1-14" id="h17-1-14" class="d">-        importpath = ext.importpath,
</a><a href="#h17-1-15" id="h17-1-15" class="d">-        commit = ext.commit)
</a><a href="#h17-1-16" id="h17-1-16" class="i">+    for ext in _externals:
</a><a href="#h17-1-17" id="h17-1-17" class="i">+        if hasattr(ext, &quot;vcs&quot;):
</a><a href="#h17-1-18" id="h17-1-18" class="i">+            go_repository(
</a><a href="#h17-1-19" id="h17-1-19" class="i">+                name = ext.name,
</a><a href="#h17-1-20" id="h17-1-20" class="i">+                commit = ext.commit,
</a><a href="#h17-1-21" id="h17-1-21" class="i">+                importpath = ext.importpath,
</a><a href="#h17-1-22" id="h17-1-22" class="i">+                remote = ext.remote,
</a><a href="#h17-1-23" id="h17-1-23" class="i">+                vcs = ext.vcs,
</a><a href="#h17-1-24" id="h17-1-24" class="i">+            )
</a><a href="#h17-1-25" id="h17-1-25" class="i">+        else:
</a><a href="#h17-1-26" id="h17-1-26" class="i">+            go_repository(
</a><a href="#h17-1-27" id="h17-1-27" class="i">+                name = ext.name,
</a><a href="#h17-1-28" id="h17-1-28" class="i">+                commit = ext.commit,
</a><a href="#h17-1-29" id="h17-1-29" class="i">+                importpath = ext.importpath,
</a><a href="#h17-1-30" id="h17-1-30" class="i">+            )
</a></pre>
</div>
</body>
</html>
