<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Merge pull request #106 from dropbox/repo-selector - livegrep - Fast, regular expression code search service</title>
<meta name="description" content="Fast, regular expression code search service" />
<meta name="author" content="Kevin Lin" />
<link rel="icon" type="image/png" href="https://static.kevinlin.info/favicon.png" />
<link rel="alternate" type="application/atom+xml" title="livegrep Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="livegrep Atom Feed (tags)" href="../tags.xml" />
<style type="text/css">
body{color:#000;background-color:#fff;font-family:monospace}h1,h2,h3,h4,h5,h6{font-size:1em;margin:0}img,h1,h2{vertical-align:middle}img{border:0}a:target{background-color:#ccc}a.d,a.h,a.i{text-decoration:none}a.line{text-decoration:none;user-select:none}#blob a{color:#555}#blob a:hover{color:blue;text-decoration:none}table thead td{font-weight:bold}table td{padding:0 .4em}#content table td{vertical-align:top;white-space:nowrap}#branches tr:hover td,#tags tr:hover td,#index tr:hover td,#log tr:hover td,#files tr:hover td{background-color:#eee}#index tr td:nth-child(2),#tags tr td:nth-child(3),#branches tr td:nth-child(3),#log tr td:nth-child(2){white-space:normal}td.num{text-align:right}.desc{color:#555}hr{border:0;border-top:1px solid #555;height:1px}pre{font-family:monospace}pre a.h{color:#00a}.A,span.i,pre a.i{color:#070}.D,span.d,pre a.d{color:#e00}pre a.h:hover,pre a.i:hover,pre a.d:hover{text-decoration:none}
</style>
</head>
<body>
<table><tr><td><a href="/"><img src="https://static.kevinlin.info/favicon.png" alt="" width="32" height="32" /></a></td><td><h1>livegrep</h1><span class="desc">Fast, regular expression code search service</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://source.static.kevinlin.info/external/livegrep.git">https://source.static.kevinlin.info/external/livegrep.git</a></td></tr><tr><td></td><td>
<a href="../log">Log</a> | <a href="../files">Files</a> | <a href="../refs">Refs</a> | <a href="../file/README.md">README</a> | <a href="../file/COPYING">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/c7fb61dfb162526df0107e2e06eed3335bfaa298">c7fb61dfb162526df0107e2e06eed3335bfaa298</a>
<b>parent</b> <a href="../commit/7ee7b3eaab680b7c3bd84d1baa6a628d5eea54a8">7ee7b3eaab680b7c3bd84d1baa6a628d5eea54a8</a>
<b>Author:</b> Nelson Elhage &lt;<a href="mailto:nelhage@nelhage.com">nelhage@nelhage.com</a>&gt;
<b>Date:</b>   Sat, 30 Sep 2017 16:10:04 -0700

Merge pull request #106 from dropbox/repo-selector

Add repo selection UI
<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">server/api.go</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">server/config/config.go</a></td><td> | </td><td class="num">2</td><td><span class="i">++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">server/server.go</a></td><td> | </td><td class="num">7</td><td><span class="i">++++</span><span class="d">---</span></td></tr>
<tr><td class="A">A</td><td><a href="#h3">web/htdocs/assets/3d/README.bootstrap</a></td><td> | </td><td class="num">6</td><td><span class="i">++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h4">web/htdocs/assets/3d/bootstrap.min.css</a></td><td> | </td><td class="num">15</td><td><span class="i">+++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">web/htdocs/assets/css/codesearch.css</a></td><td> | </td><td class="num">30</td><td><span class="i">+++++++++++++++++++++++</span><span class="d">-------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">web/src/codesearch/codesearch.js</a></td><td> | </td><td class="num">3</td><td><span class="i">++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">web/src/codesearch/codesearch_ui.js</a></td><td> | </td><td class="num">96</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d">---------------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h8">web/src/codesearch/repo_selector.js</a></td><td> | </td><td class="num">55</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">web/templates/index.html</a></td><td> | </td><td class="num">5</td><td><span class="i">+++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">web/templates/layout.html</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++</span><span class="d">--</span></td></tr>
</table></pre><pre>11 files changed, 207 insertions(+), 31 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/server/api.go">server/api.go</a> b/<a href="../file/server/api.go">server/api.go</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -76,6 +76,17 @@ func extractQuery(ctx context.Context, r *http.Request) (pb.Query, error) {
</a> 		query.File = regexp.QuoteMeta(query.File)
 		query.Repo = regexp.QuoteMeta(query.Repo)
 	}
<a href="#h0-0-3" id="h0-0-3" class="i">+
</a><a href="#h0-0-4" id="h0-0-4" class="i">+	// New-style repo multiselect, only if &quot;repo:&quot; is not in the query.
</a><a href="#h0-0-5" id="h0-0-5" class="i">+	if query.Repo == &quot;&quot; {
</a><a href="#h0-0-6" id="h0-0-6" class="i">+		if newRepos, ok := params[&quot;repo[]&quot;]; ok {
</a><a href="#h0-0-7" id="h0-0-7" class="i">+			for i := range newRepos {
</a><a href="#h0-0-8" id="h0-0-8" class="i">+				newRepos[i] = &quot;^&quot; + regexp.QuoteMeta(newRepos[i]) + &quot;$&quot;
</a><a href="#h0-0-9" id="h0-0-9" class="i">+			}
</a><a href="#h0-0-10" id="h0-0-10" class="i">+			query.Repo = strings.Join(newRepos, &quot;|&quot;)
</a><a href="#h0-0-11" id="h0-0-11" class="i">+		}
</a><a href="#h0-0-12" id="h0-0-12" class="i">+	}
</a><a href="#h0-0-13" id="h0-0-13" class="i">+
</a> 	if fc, ok := params[&quot;fold_case&quot;]; ok {
 		if fc[0] == &quot;false&quot; {
 			query.FoldCase = false
<b>diff --git a/<a id="h1" href="../file/server/config/config.go">server/config/config.go</a> b/<a href="../file/server/config/config.go">server/config/config.go</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -55,6 +55,8 @@ type Config struct {
</a> 	// Same json config structure that the backend uses when building indexes;
 	// used here for repository browsing.
 	IndexConfig IndexConfig `json:&quot;index_config&quot;`
<a href="#h1-0-3" id="h1-0-3" class="i">+
</a><a href="#h1-0-4" id="h1-0-4" class="i">+	DefaultSearchRepos []string `json:&quot;default_search_repos&quot;`
</a> }
 
 type IndexConfig struct {
<b>diff --git a/<a id="h2" href="../file/server/server.go">server/server.go</a> b/<a href="../file/server/server.go">server/server.go</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -77,9 +77,10 @@ func (s *server) ServeSearch(ctx context.Context, w http.ResponseWriter, r *http
</a> 		SampleRepo string
 	}{backends, sampleRepo}
 	script_data := &amp;struct {
<a href="#h2-0-3" id="h2-0-3" class="d">-		RepoUrls          map[string]map[string]string `json:&quot;repo_urls&quot;`
</a><a href="#h2-0-4" id="h2-0-4" class="d">-		InternalViewRepos map[string]config.RepoConfig `json:&quot;internal_view_repos&quot;`
</a><a href="#h2-0-5" id="h2-0-5" class="d">-	}{urls, s.repos}
</a><a href="#h2-0-6" id="h2-0-6" class="i">+		RepoUrls           map[string]map[string]string `json:&quot;repo_urls&quot;`
</a><a href="#h2-0-7" id="h2-0-7" class="i">+		InternalViewRepos  map[string]config.RepoConfig `json:&quot;internal_view_repos&quot;`
</a><a href="#h2-0-8" id="h2-0-8" class="i">+		DefaultSearchRepos []string                     `json:&quot;default_search_repos&quot;`
</a><a href="#h2-0-9" id="h2-0-9" class="i">+	}{urls, s.repos, s.config.DefaultSearchRepos}
</a> 
 	body, err := executeTemplate(s.T.Index, page_data)
 	if err != nil {
<b>diff --git a/<a id="h3" href="../file/web/htdocs/assets/3d/README.bootstrap">web/htdocs/assets/3d/README.bootstrap</a> b/<a href="../file/web/htdocs/assets/3d/README.bootstrap">web/htdocs/assets/3d/README.bootstrap</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -0,0 +1,6 @@
</a><a href="#h3-0-0" id="h3-0-0" class="i">+bootstrap.min.css was generated with the boostrap customizer. We commit the
</a><a href="#h3-0-1" id="h3-0-1" class="i">+customized CSS, but still load the (standard) JS and fonts from cdnjs. Note
</a><a href="#h3-0-2" id="h3-0-2" class="i">+that the CSS is customized to refer explicitly to the fonts hosted on cdnjs.
</a><a href="#h3-0-3" id="h3-0-3" class="i">+
</a><a href="#h3-0-4" id="h3-0-4" class="i">+https://getbootstrap.com/docs/3.3/customize/?id=2af5b28271904f20b716d93bf37253e0
</a><a href="#h3-0-5" id="h3-0-5" class="i">+https://gist.github.com/anonymous/2af5b28271904f20b716d93bf37253e0
</a><b>diff --git a/<a id="h4" href="../file/web/htdocs/assets/3d/bootstrap.min.css">web/htdocs/assets/3d/bootstrap.min.css</a> b/<a href="../file/web/htdocs/assets/3d/bootstrap.min.css">web/htdocs/assets/3d/bootstrap.min.css</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -0,0 +1,14 @@
</a><a href="#h4-0-0" id="h4-0-0" class="i">+/*!
</a><a href="#h4-0-1" id="h4-0-1" class="i">+ * Bootstrap v3.3.7 (http://getbootstrap.com)
</a><a href="#h4-0-2" id="h4-0-2" class="i">+ * Copyright 2011-2017 Twitter, Inc.
</a><a href="#h4-0-3" id="h4-0-3" class="i">+ * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
</a><a href="#h4-0-4" id="h4-0-4" class="i">+ */
</a><a href="#h4-0-5" id="h4-0-5" class="i">+
</a><a href="#h4-0-6" id="h4-0-6" class="i">+/*!
</a><a href="#h4-0-7" id="h4-0-7" class="i">+ * Generated using the Bootstrap Customizer (https://getbootstrap.com/docs/3.3/customize/?id=2af5b28271904f20b716d93bf37253e0)
</a><a href="#h4-0-8" id="h4-0-8" class="i">+ * Config saved to config.json and https://gist.github.com/2af5b28271904f20b716d93bf37253e0
</a><a href="#h4-0-9" id="h4-0-9" class="i">+ *//*!
</a><a href="#h4-0-10" id="h4-0-10" class="i">+ * Bootstrap v3.3.7 (http://getbootstrap.com)
</a><a href="#h4-0-11" id="h4-0-11" class="i">+ * Copyright 2011-2016 Twitter, Inc.
</a><a href="#h4-0-12" id="h4-0-12" class="i">+ * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
</a><a href="#h4-0-13" id="h4-0-13" class="i">+ *//*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:0.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace, monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=&quot;button&quot;],input[type=&quot;reset&quot;],input[type=&quot;submit&quot;]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=&quot;checkbox&quot;],input[type=&quot;radio&quot;]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type=&quot;number&quot;]::-webkit-inner-spin-button,input[type=&quot;number&quot;]::-webkit-outer-spin-button{height:auto}input[type=&quot;search&quot;]{-webkit-appearance:textfield;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}input[type=&quot;search&quot;]::-webkit-search-cancel-button,input[type=&quot;search&quot;]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:0.35em 0.625em 0.75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}@font-face{font-family:&#39;Glyphicons Halflings&#39;;src:url(&#39;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot&#39;);src:url(&#39;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.eot?#iefix&#39;) format(&#39;embedded-opentype&#39;),url(&#39;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.woff2&#39;) format(&#39;woff2&#39;),url(&#39;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.woff&#39;) format(&#39;woff&#39;),url(&#39;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.ttf&#39;) format(&#39;truetype&#39;),url(&#39;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular&#39;) format(&#39;svg&#39;)}.glyphicon{position:relative;top:1px;display:inline-block;font-family:&#39;Glyphicons Halflings&#39;;font-style:normal;font-weight:normal;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:&quot;\002a&quot;}.glyphicon-plus:before{content:&quot;\002b&quot;}.glyphicon-euro:before,.glyphicon-eur:before{content:&quot;\20ac&quot;}.glyphicon-minus:before{content:&quot;\2212&quot;}.glyphicon-cloud:before{content:&quot;\2601&quot;}.glyphicon-envelope:before{content:&quot;\2709&quot;}.glyphicon-pencil:before{content:&quot;\270f&quot;}.glyphicon-glass:before{content:&quot;\e001&quot;}.glyphicon-music:before{content:&quot;\e002&quot;}.glyphicon-search:before{content:&quot;\e003&quot;}.glyphicon-heart:before{content:&quot;\e005&quot;}.glyphicon-star:before{content:&quot;\e006&quot;}.glyphicon-star-empty:before{content:&quot;\e007&quot;}.glyphicon-user:before{content:&quot;\e008&quot;}.glyphicon-film:before{content:&quot;\e009&quot;}.glyphicon-th-large:before{content:&quot;\e010&quot;}.glyphicon-th:before{content:&quot;\e011&quot;}.glyphicon-th-list:before{content:&quot;\e012&quot;}.glyphicon-ok:before{content:&quot;\e013&quot;}.glyphicon-remove:before{content:&quot;\e014&quot;}.glyphicon-zoom-in:before{content:&quot;\e015&quot;}.glyphicon-zoom-out:before{content:&quot;\e016&quot;}.glyphicon-off:before{content:&quot;\e017&quot;}.glyphicon-signal:before{content:&quot;\e018&quot;}.glyphicon-cog:before{content:&quot;\e019&quot;}.glyphicon-trash:before{content:&quot;\e020&quot;}.glyphicon-home:before{content:&quot;\e021&quot;}.glyphicon-file:before{content:&quot;\e022&quot;}.glyphicon-time:before{content:&quot;\e023&quot;}.glyphicon-road:before{content:&quot;\e024&quot;}.glyphicon-download-alt:before{content:&quot;\e025&quot;}.glyphicon-download:before{content:&quot;\e026&quot;}.glyphicon-upload:before{content:&quot;\e027&quot;}.glyphicon-inbox:before{content:&quot;\e028&quot;}.glyphicon-play-circle:before{content:&quot;\e029&quot;}.glyphicon-repeat:before{content:&quot;\e030&quot;}.glyphicon-refresh:before{content:&quot;\e031&quot;}.glyphicon-list-alt:before{content:&quot;\e032&quot;}.glyphicon-lock:before{content:&quot;\e033&quot;}.glyphicon-flag:before{content:&quot;\e034&quot;}.glyphicon-headphones:before{content:&quot;\e035&quot;}.glyphicon-volume-off:before{content:&quot;\e036&quot;}.glyphicon-volume-down:before{content:&quot;\e037&quot;}.glyphicon-volume-up:before{content:&quot;\e038&quot;}.glyphicon-qrcode:before{content:&quot;\e039&quot;}.glyphicon-barcode:before{content:&quot;\e040&quot;}.glyphicon-tag:before{content:&quot;\e041&quot;}.glyphicon-tags:before{content:&quot;\e042&quot;}.glyphicon-book:before{content:&quot;\e043&quot;}.glyphicon-bookmark:before{content:&quot;\e044&quot;}.glyphicon-print:before{content:&quot;\e045&quot;}.glyphicon-camera:before{content:&quot;\e046&quot;}.glyphicon-font:before{content:&quot;\e047&quot;}.glyphicon-bold:before{content:&quot;\e048&quot;}.glyphicon-italic:before{content:&quot;\e049&quot;}.glyphicon-text-height:before{content:&quot;\e050&quot;}.glyphicon-text-width:before{content:&quot;\e051&quot;}.glyphicon-align-left:before{content:&quot;\e052&quot;}.glyphicon-align-center:before{content:&quot;\e053&quot;}.glyphicon-align-right:before{content:&quot;\e054&quot;}.glyphicon-align-justify:before{content:&quot;\e055&quot;}.glyphicon-list:before{content:&quot;\e056&quot;}.glyphicon-indent-left:before{content:&quot;\e057&quot;}.glyphicon-indent-right:before{content:&quot;\e058&quot;}.glyphicon-facetime-video:before{content:&quot;\e059&quot;}.glyphicon-picture:before{content:&quot;\e060&quot;}.glyphicon-map-marker:before{content:&quot;\e062&quot;}.glyphicon-adjust:before{content:&quot;\e063&quot;}.glyphicon-tint:before{content:&quot;\e064&quot;}.glyphicon-edit:before{content:&quot;\e065&quot;}.glyphicon-share:before{content:&quot;\e066&quot;}.glyphicon-check:before{content:&quot;\e067&quot;}.glyphicon-move:before{content:&quot;\e068&quot;}.glyphicon-step-backward:before{content:&quot;\e069&quot;}.glyphicon-fast-backward:before{content:&quot;\e070&quot;}.glyphicon-backward:before{content:&quot;\e071&quot;}.glyphicon-play:before{content:&quot;\e072&quot;}.glyphicon-pause:before{content:&quot;\e073&quot;}.glyphicon-stop:before{content:&quot;\e074&quot;}.glyphicon-forward:before{content:&quot;\e075&quot;}.glyphicon-fast-forward:before{content:&quot;\e076&quot;}.glyphicon-step-forward:before{content:&quot;\e077&quot;}.glyphicon-eject:before{content:&quot;\e078&quot;}.glyphicon-chevron-left:before{content:&quot;\e079&quot;}.glyphicon-chevron-right:before{content:&quot;\e080&quot;}.glyphicon-plus-sign:before{content:&quot;\e081&quot;}.glyphicon-minus-sign:before{content:&quot;\e082&quot;}.glyphicon-remove-sign:before{content:&quot;\e083&quot;}.glyphicon-ok-sign:before{content:&quot;\e084&quot;}.glyphicon-question-sign:before{content:&quot;\e085&quot;}.glyphicon-info-sign:before{content:&quot;\e086&quot;}.glyphicon-screenshot:before{content:&quot;\e087&quot;}.glyphicon-remove-circle:before{content:&quot;\e088&quot;}.glyphicon-ok-circle:before{content:&quot;\e089&quot;}.glyphicon-ban-circle:before{content:&quot;\e090&quot;}.glyphicon-arrow-left:before{content:&quot;\e091&quot;}.glyphicon-arrow-right:before{content:&quot;\e092&quot;}.glyphicon-arrow-up:before{content:&quot;\e093&quot;}.glyphicon-arrow-down:before{content:&quot;\e094&quot;}.glyphicon-share-alt:before{content:&quot;\e095&quot;}.glyphicon-resize-full:before{content:&quot;\e096&quot;}.glyphicon-resize-small:before{content:&quot;\e097&quot;}.glyphicon-exclamation-sign:before{content:&quot;\e101&quot;}.glyphicon-gift:before{content:&quot;\e102&quot;}.glyphicon-leaf:before{content:&quot;\e103&quot;}.glyphicon-fire:before{content:&quot;\e104&quot;}.glyphicon-eye-open:before{content:&quot;\e105&quot;}.glyphicon-eye-close:before{content:&quot;\e106&quot;}.glyphicon-warning-sign:before{content:&quot;\e107&quot;}.glyphicon-plane:before{content:&quot;\e108&quot;}.glyphicon-calendar:before{content:&quot;\e109&quot;}.glyphicon-random:before{content:&quot;\e110&quot;}.glyphicon-comment:before{content:&quot;\e111&quot;}.glyphicon-magnet:before{content:&quot;\e112&quot;}.glyphicon-chevron-up:before{content:&quot;\e113&quot;}.glyphicon-chevron-down:before{content:&quot;\e114&quot;}.glyphicon-retweet:before{content:&quot;\e115&quot;}.glyphicon-shopping-cart:before{content:&quot;\e116&quot;}.glyphicon-folder-close:before{content:&quot;\e117&quot;}.glyphicon-folder-open:before{content:&quot;\e118&quot;}.glyphicon-resize-vertical:before{content:&quot;\e119&quot;}.glyphicon-resize-horizontal:before{content:&quot;\e120&quot;}.glyphicon-hdd:before{content:&quot;\e121&quot;}.glyphicon-bullhorn:before{content:&quot;\e122&quot;}.glyphicon-bell:before{content:&quot;\e123&quot;}.glyphicon-certificate:before{content:&quot;\e124&quot;}.glyphicon-thumbs-up:before{content:&quot;\e125&quot;}.glyphicon-thumbs-down:before{content:&quot;\e126&quot;}.glyphicon-hand-right:before{content:&quot;\e127&quot;}.glyphicon-hand-left:before{content:&quot;\e128&quot;}.glyphicon-hand-up:before{content:&quot;\e129&quot;}.glyphicon-hand-down:before{content:&quot;\e130&quot;}.glyphicon-circle-arrow-right:before{content:&quot;\e131&quot;}.glyphicon-circle-arrow-left:before{content:&quot;\e132&quot;}.glyphicon-circle-arrow-up:before{content:&quot;\e133&quot;}.glyphicon-circle-arrow-down:before{content:&quot;\e134&quot;}.glyphicon-globe:before{content:&quot;\e135&quot;}.glyphicon-wrench:before{content:&quot;\e136&quot;}.glyphicon-tasks:before{content:&quot;\e137&quot;}.glyphicon-filter:before{content:&quot;\e138&quot;}.glyphicon-briefcase:before{content:&quot;\e139&quot;}.glyphicon-fullscreen:before{content:&quot;\e140&quot;}.glyphicon-dashboard:before{content:&quot;\e141&quot;}.glyphicon-paperclip:before{content:&quot;\e142&quot;}.glyphicon-heart-empty:before{content:&quot;\e143&quot;}.glyphicon-link:before{content:&quot;\e144&quot;}.glyphicon-phone:before{content:&quot;\e145&quot;}.glyphicon-pushpin:before{content:&quot;\e146&quot;}.glyphicon-usd:before{content:&quot;\e148&quot;}.glyphicon-gbp:before{content:&quot;\e149&quot;}.glyphicon-sort:before{content:&quot;\e150&quot;}.glyphicon-sort-by-alphabet:before{content:&quot;\e151&quot;}.glyphicon-sort-by-alphabet-alt:before{content:&quot;\e152&quot;}.glyphicon-sort-by-order:before{content:&quot;\e153&quot;}.glyphicon-sort-by-order-alt:before{content:&quot;\e154&quot;}.glyphicon-sort-by-attributes:before{content:&quot;\e155&quot;}.glyphicon-sort-by-attributes-alt:before{content:&quot;\e156&quot;}.glyphicon-unchecked:before{content:&quot;\e157&quot;}.glyphicon-expand:before{content:&quot;\e158&quot;}.glyphicon-collapse-down:before{content:&quot;\e159&quot;}.glyphicon-collapse-up:before{content:&quot;\e160&quot;}.glyphicon-log-in:before{content:&quot;\e161&quot;}.glyphicon-flash:before{content:&quot;\e162&quot;}.glyphicon-log-out:before{content:&quot;\e163&quot;}.glyphicon-new-window:before{content:&quot;\e164&quot;}.glyphicon-record:before{content:&quot;\e165&quot;}.glyphicon-save:before{content:&quot;\e166&quot;}.glyphicon-open:before{content:&quot;\e167&quot;}.glyphicon-saved:before{content:&quot;\e168&quot;}.glyphicon-import:before{content:&quot;\e169&quot;}.glyphicon-export:before{content:&quot;\e170&quot;}.glyphicon-send:before{content:&quot;\e171&quot;}.glyphicon-floppy-disk:before{content:&quot;\e172&quot;}.glyphicon-floppy-saved:before{content:&quot;\e173&quot;}.glyphicon-floppy-remove:before{content:&quot;\e174&quot;}.glyphicon-floppy-save:before{content:&quot;\e175&quot;}.glyphicon-floppy-open:before{content:&quot;\e176&quot;}.glyphicon-credit-card:before{content:&quot;\e177&quot;}.glyphicon-transfer:before{content:&quot;\e178&quot;}.glyphicon-cutlery:before{content:&quot;\e179&quot;}.glyphicon-header:before{content:&quot;\e180&quot;}.glyphicon-compressed:before{content:&quot;\e181&quot;}.glyphicon-earphone:before{content:&quot;\e182&quot;}.glyphicon-phone-alt:before{content:&quot;\e183&quot;}.glyphicon-tower:before{content:&quot;\e184&quot;}.glyphicon-stats:before{content:&quot;\e185&quot;}.glyphicon-sd-video:before{content:&quot;\e186&quot;}.glyphicon-hd-video:before{content:&quot;\e187&quot;}.glyphicon-subtitles:before{content:&quot;\e188&quot;}.glyphicon-sound-stereo:before{content:&quot;\e189&quot;}.glyphicon-sound-dolby:before{content:&quot;\e190&quot;}.glyphicon-sound-5-1:before{content:&quot;\e191&quot;}.glyphicon-sound-6-1:before{content:&quot;\e192&quot;}.glyphicon-sound-7-1:before{content:&quot;\e193&quot;}.glyphicon-copyright-mark:before{content:&quot;\e194&quot;}.glyphicon-registration-mark:before{content:&quot;\e195&quot;}.glyphicon-cloud-download:before{content:&quot;\e197&quot;}.glyphicon-cloud-upload:before{content:&quot;\e198&quot;}.glyphicon-tree-conifer:before{content:&quot;\e199&quot;}.glyphicon-tree-deciduous:before{content:&quot;\e200&quot;}.glyphicon-cd:before{content:&quot;\e201&quot;}.glyphicon-save-file:before{content:&quot;\e202&quot;}.glyphicon-open-file:before{content:&quot;\e203&quot;}.glyphicon-level-up:before{content:&quot;\e204&quot;}.glyphicon-copy:before{content:&quot;\e205&quot;}.glyphicon-paste:before{content:&quot;\e206&quot;}.glyphicon-alert:before{content:&quot;\e209&quot;}.glyphicon-equalizer:before{content:&quot;\e210&quot;}.glyphicon-king:before{content:&quot;\e211&quot;}.glyphicon-queen:before{content:&quot;\e212&quot;}.glyphicon-pawn:before{content:&quot;\e213&quot;}.glyphicon-bishop:before{content:&quot;\e214&quot;}.glyphicon-knight:before{content:&quot;\e215&quot;}.glyphicon-baby-formula:before{content:&quot;\e216&quot;}.glyphicon-tent:before{content:&quot;\26fa&quot;}.glyphicon-blackboard:before{content:&quot;\e218&quot;}.glyphicon-bed:before{content:&quot;\e219&quot;}.glyphicon-apple:before{content:&quot;\f8ff&quot;}.glyphicon-erase:before{content:&quot;\e221&quot;}.glyphicon-hourglass:before{content:&quot;\231b&quot;}.glyphicon-lamp:before{content:&quot;\e223&quot;}.glyphicon-duplicate:before{content:&quot;\e224&quot;}.glyphicon-piggy-bank:before{content:&quot;\e225&quot;}.glyphicon-scissors:before{content:&quot;\e226&quot;}.glyphicon-bitcoin:before{content:&quot;\e227&quot;}.glyphicon-btc:before{content:&quot;\e227&quot;}.glyphicon-xbt:before{content:&quot;\e227&quot;}.glyphicon-yen:before{content:&quot;\00a5&quot;}.glyphicon-jpy:before{content:&quot;\00a5&quot;}.glyphicon-ruble:before{content:&quot;\20bd&quot;}.glyphicon-rub:before{content:&quot;\20bd&quot;}.glyphicon-scale:before{content:&quot;\e230&quot;}.glyphicon-ice-lolly:before{content:&quot;\e231&quot;}.glyphicon-ice-lolly-tasted:before{content:&quot;\e232&quot;}.glyphicon-education:before{content:&quot;\e233&quot;}.glyphicon-option-horizontal:before{content:&quot;\e234&quot;}.glyphicon-option-vertical:before{content:&quot;\e235&quot;}.glyphicon-menu-hamburger:before{content:&quot;\e236&quot;}.glyphicon-modal-window:before{content:&quot;\e237&quot;}.glyphicon-oil:before{content:&quot;\e238&quot;}.glyphicon-grain:before{content:&quot;\e239&quot;}.glyphicon-sunglasses:before{content:&quot;\e240&quot;}.glyphicon-text-size:before{content:&quot;\e241&quot;}.glyphicon-text-color:before{content:&quot;\e242&quot;}.glyphicon-text-background:before{content:&quot;\e243&quot;}.glyphicon-object-align-top:before{content:&quot;\e244&quot;}.glyphicon-object-align-bottom:before{content:&quot;\e245&quot;}.glyphicon-object-align-horizontal:before{content:&quot;\e246&quot;}.glyphicon-object-align-left:before{content:&quot;\e247&quot;}.glyphicon-object-align-vertical:before{content:&quot;\e248&quot;}.glyphicon-object-align-right:before{content:&quot;\e249&quot;}.glyphicon-triangle-right:before{content:&quot;\e250&quot;}.glyphicon-triangle-left:before{content:&quot;\e251&quot;}.glyphicon-triangle-bottom:before{content:&quot;\e252&quot;}.glyphicon-triangle-top:before{content:&quot;\e253&quot;}.glyphicon-console:before{content:&quot;\e254&quot;}.glyphicon-superscript:before{content:&quot;\e255&quot;}.glyphicon-subscript:before{content:&quot;\e256&quot;}.glyphicon-menu-left:before{content:&quot;\e257&quot;}.glyphicon-menu-right:before{content:&quot;\e258&quot;}.glyphicon-menu-down:before{content:&quot;\e259&quot;}.glyphicon-menu-up:before{content:&quot;\e260&quot;}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*:before,*:after{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px;-webkit-tap-highlight-color:rgba(0,0,0,0)}body{font-family:&quot;Helvetica Neue&quot;,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.42857143;color:#333;background-color:#fff}input,button,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:hover,a:focus{color:#23527c;text-decoration:underline}a:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}figure{margin:0}img{vertical-align:middle}.img-responsive{display:block;max-width:100%;height:auto}.img-rounded{border-radius:6px}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:4px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:20px;margin-bottom:20px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=&quot;button&quot;]{cursor:pointer}.btn{display:inline-block;margin-bottom:0;font-weight:normal;text-align:center;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:6px 12px;font-size:14px;line-height:1.42857143;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn:focus,.btn:active:focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn.active.focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn:hover,.btn:focus,.btn.focus{color:#333;text-decoration:none}.btn:active,.btn.active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}a.btn.disabled,fieldset[disabled] a.btn{pointer-events:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default:focus,.btn-default.focus{color:#333;background-color:#e6e6e6;border-color:#8c8c8c}.btn-default:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active,.btn-default.active,.open&gt;.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default:active:hover,.btn-default.active:hover,.open&gt;.dropdown-toggle.btn-default:hover,.btn-default:active:focus,.btn-default.active:focus,.open&gt;.dropdown-toggle.btn-default:focus,.btn-default:active.focus,.btn-default.active.focus,.open&gt;.dropdown-toggle.btn-default.focus{color:#333;background-color:#d4d4d4;border-color:#8c8c8c}.btn-default:active,.btn-default.active,.open&gt;.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled:hover,.btn-default[disabled]:hover,fieldset[disabled] .btn-default:hover,.btn-default.disabled:focus,.btn-default[disabled]:focus,fieldset[disabled] .btn-default:focus,.btn-default.disabled.focus,.btn-default[disabled].focus,fieldset[disabled] .btn-default.focus{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary:focus,.btn-primary.focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary:hover{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary:active,.btn-primary.active,.open&gt;.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary:active:hover,.btn-primary.active:hover,.open&gt;.dropdown-toggle.btn-primary:hover,.btn-primary:active:focus,.btn-primary.active:focus,.open&gt;.dropdown-toggle.btn-primary:focus,.btn-primary:active.focus,.btn-primary.active.focus,.open&gt;.dropdown-toggle.btn-primary.focus{color:#fff;background-color:#204d74;border-color:#122b40}.btn-primary:active,.btn-primary.active,.open&gt;.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled:hover,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary:hover,.btn-primary.disabled:focus,.btn-primary[disabled]:focus,fieldset[disabled] .btn-primary:focus,.btn-primary.disabled.focus,.btn-primary[disabled].focus,fieldset[disabled] .btn-primary.focus{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success:focus,.btn-success.focus{color:#fff;background-color:#449d44;border-color:#255625}.btn-success:hover{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active,.btn-success.active,.open&gt;.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success:active:hover,.btn-success.active:hover,.open&gt;.dropdown-toggle.btn-success:hover,.btn-success:active:focus,.btn-success.active:focus,.open&gt;.dropdown-toggle.btn-success:focus,.btn-success:active.focus,.btn-success.active.focus,.open&gt;.dropdown-toggle.btn-success.focus{color:#fff;background-color:#398439;border-color:#255625}.btn-success:active,.btn-success.active,.open&gt;.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled:hover,.btn-success[disabled]:hover,fieldset[disabled] .btn-success:hover,.btn-success.disabled:focus,.btn-success[disabled]:focus,fieldset[disabled] .btn-success:focus,.btn-success.disabled.focus,.btn-success[disabled].focus,fieldset[disabled] .btn-success.focus{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info:focus,.btn-info.focus{color:#fff;background-color:#31b0d5;border-color:#1b6d85}.btn-info:hover{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active,.btn-info.active,.open&gt;.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info:active:hover,.btn-info.active:hover,.open&gt;.dropdown-toggle.btn-info:hover,.btn-info:active:focus,.btn-info.active:focus,.open&gt;.dropdown-toggle.btn-info:focus,.btn-info:active.focus,.btn-info.active.focus,.open&gt;.dropdown-toggle.btn-info.focus{color:#fff;background-color:#269abc;border-color:#1b6d85}.btn-info:active,.btn-info.active,.open&gt;.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled:hover,.btn-info[disabled]:hover,fieldset[disabled] .btn-info:hover,.btn-info.disabled:focus,.btn-info[disabled]:focus,fieldset[disabled] .btn-info:focus,.btn-info.disabled.focus,.btn-info[disabled].focus,fieldset[disabled] .btn-info.focus{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning:focus,.btn-warning.focus{color:#fff;background-color:#ec971f;border-color:#985f0d}.btn-warning:hover{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active,.btn-warning.active,.open&gt;.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning:active:hover,.btn-warning.active:hover,.open&gt;.dropdown-toggle.btn-warning:hover,.btn-warning:active:focus,.btn-warning.active:focus,.open&gt;.dropdown-toggle.btn-warning:focus,.btn-warning:active.focus,.btn-warning.active.focus,.open&gt;.dropdown-toggle.btn-warning.focus{color:#fff;background-color:#d58512;border-color:#985f0d}.btn-warning:active,.btn-warning.active,.open&gt;.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled:hover,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning:hover,.btn-warning.disabled:focus,.btn-warning[disabled]:focus,fieldset[disabled] .btn-warning:focus,.btn-warning.disabled.focus,.btn-warning[disabled].focus,fieldset[disabled] .btn-warning.focus{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger:focus,.btn-danger.focus{color:#fff;background-color:#c9302c;border-color:#761c19}.btn-danger:hover{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active,.btn-danger.active,.open&gt;.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger:active:hover,.btn-danger.active:hover,.open&gt;.dropdown-toggle.btn-danger:hover,.btn-danger:active:focus,.btn-danger.active:focus,.open&gt;.dropdown-toggle.btn-danger:focus,.btn-danger:active.focus,.btn-danger.active.focus,.open&gt;.dropdown-toggle.btn-danger.focus{color:#fff;background-color:#ac2925;border-color:#761c19}.btn-danger:active,.btn-danger.active,.open&gt;.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled:hover,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger:hover,.btn-danger.disabled:focus,.btn-danger[disabled]:focus,fieldset[disabled] .btn-danger:focus,.btn-danger.disabled.focus,.btn-danger[disabled].focus,fieldset[disabled] .btn-danger.focus{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#337ab7;font-weight:normal;border-radius:0}.btn-link,.btn-link:active,.btn-link.active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:hover,.btn-link:focus,.btn-link:active{border-color:transparent}.btn-link:hover,.btn-link:focus{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:hover,fieldset[disabled] .btn-link:hover,.btn-link[disabled]:focus,fieldset[disabled] .btn-link:focus{color:#777;text-decoration:none}.btn-lg,.btn-group-lg&gt;.btn{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}.btn-sm,.btn-group-sm&gt;.btn{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.btn-xs,.btn-group-xs&gt;.btn{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:3px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=&quot;submit&quot;].btn-block,input[type=&quot;reset&quot;].btn-block,input[type=&quot;button&quot;].btn-block{width:100%}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-top:4px solid \9;border-right:4px solid transparent;border-left:4px solid transparent}.dropup,.dropdown{position:relative}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:14px;text-align:left;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,0.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,0.175);box-shadow:0 6px 12px rgba(0,0,0,0.175);-webkit-background-clip:padding-box;background-clip:padding-box}.dropdown-menu.pull-right{right:0;left:auto}.dropdown-menu .divider{height:1px;margin:9px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu&gt;li&gt;a{display:block;padding:3px 20px;clear:both;font-weight:normal;line-height:1.42857143;color:#333;white-space:nowrap}.dropdown-menu&gt;li&gt;a:hover,.dropdown-menu&gt;li&gt;a:focus{text-decoration:none;color:#262626;background-color:#f5f5f5}.dropdown-menu&gt;.active&gt;a,.dropdown-menu&gt;.active&gt;a:hover,.dropdown-menu&gt;.active&gt;a:focus{color:#fff;text-decoration:none;outline:0;background-color:#337ab7}.dropdown-menu&gt;.disabled&gt;a,.dropdown-menu&gt;.disabled&gt;a:hover,.dropdown-menu&gt;.disabled&gt;a:focus{color:#777}.dropdown-menu&gt;.disabled&gt;a:hover,.dropdown-menu&gt;.disabled&gt;a:focus{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:not-allowed}.open&gt;.dropdown-menu{display:block}.open&gt;a{outline:0}.dropdown-menu-right{left:auto;right:0}.dropdown-menu-left{left:0;right:auto}.dropdown-header{display:block;padding:3px 20px;font-size:12px;line-height:1.42857143;color:#777;white-space:nowrap}.dropdown-backdrop{position:fixed;left:0;right:0;bottom:0;top:0;z-index:990}.pull-right&gt;.dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{border-top:0;border-bottom:4px dashed;border-bottom:4px solid \9;content:&quot;&quot;}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:768px){.navbar-right .dropdown-menu{left:auto;right:0}.navbar-right .dropdown-menu-left{left:0;right:auto}}.btn-group,.btn-group-vertical{position:relative;display:inline-block;vertical-align:middle}.btn-group&gt;.btn,.btn-group-vertical&gt;.btn{position:relative;float:left}.btn-group&gt;.btn:hover,.btn-group-vertical&gt;.btn:hover,.btn-group&gt;.btn:focus,.btn-group-vertical&gt;.btn:focus,.btn-group&gt;.btn:active,.btn-group-vertical&gt;.btn:active,.btn-group&gt;.btn.active,.btn-group-vertical&gt;.btn.active{z-index:2}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{margin-left:-5px}.btn-toolbar .btn,.btn-toolbar .btn-group,.btn-toolbar .input-group{float:left}.btn-toolbar&gt;.btn,.btn-toolbar&gt;.btn-group,.btn-toolbar&gt;.input-group{margin-left:5px}.btn-group&gt;.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.btn-group&gt;.btn:first-child{margin-left:0}.btn-group&gt;.btn:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.btn-group&gt;.btn:last-child:not(:first-child),.btn-group&gt;.dropdown-toggle:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.btn-group&gt;.btn-group{float:left}.btn-group&gt;.btn-group:not(:first-child):not(:last-child)&gt;.btn{border-radius:0}.btn-group&gt;.btn-group:first-child:not(:last-child)&gt;.btn:last-child,.btn-group&gt;.btn-group:first-child:not(:last-child)&gt;.dropdown-toggle{border-bottom-right-radius:0;border-top-right-radius:0}.btn-group&gt;.btn-group:last-child:not(:first-child)&gt;.btn:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}.btn-group&gt;.btn+.dropdown-toggle{padding-left:8px;padding-right:8px}.btn-group&gt;.btn-lg+.dropdown-toggle{padding-left:12px;padding-right:12px}.btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,0.125);box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}.btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none}.btn .caret{margin-left:0}.btn-lg .caret{border-width:5px 5px 0;border-bottom-width:0}.dropup .btn-lg .caret{border-width:0 5px 5px}.btn-group-vertical&gt;.btn,.btn-group-vertical&gt;.btn-group,.btn-group-vertical&gt;.btn-group&gt;.btn{display:block;float:none;width:100%;max-width:100%}.btn-group-vertical&gt;.btn-group&gt;.btn{float:none}.btn-group-vertical&gt;.btn+.btn,.btn-group-vertical&gt;.btn+.btn-group,.btn-group-vertical&gt;.btn-group+.btn,.btn-group-vertical&gt;.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical&gt;.btn:not(:first-child):not(:last-child){border-radius:0}.btn-group-vertical&gt;.btn:first-child:not(:last-child){border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical&gt;.btn:last-child:not(:first-child){border-top-right-radius:0;border-top-left-radius:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.btn-group-vertical&gt;.btn-group:not(:first-child):not(:last-child)&gt;.btn{border-radius:0}.btn-group-vertical&gt;.btn-group:first-child:not(:last-child)&gt;.btn:last-child,.btn-group-vertical&gt;.btn-group:first-child:not(:last-child)&gt;.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical&gt;.btn-group:last-child:not(:first-child)&gt;.btn:first-child{border-top-right-radius:0;border-top-left-radius:0}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.btn-group-justified&gt;.btn,.btn-group-justified&gt;.btn-group{float:none;display:table-cell;width:1%}.btn-group-justified&gt;.btn-group .btn{width:100%}.btn-group-justified&gt;.btn-group .dropdown-menu{left:auto}[data-toggle=&quot;buttons&quot;]&gt;.btn input[type=&quot;radio&quot;],[data-toggle=&quot;buttons&quot;]&gt;.btn-group&gt;.btn input[type=&quot;radio&quot;],[data-toggle=&quot;buttons&quot;]&gt;.btn input[type=&quot;checkbox&quot;],[data-toggle=&quot;buttons&quot;]&gt;.btn-group&gt;.btn input[type=&quot;checkbox&quot;]{position:absolute;clip:rect(0, 0, 0, 0);pointer-events:none}.clearfix:before,.clearfix:after,.btn-toolbar:before,.btn-toolbar:after,.btn-group-vertical&gt;.btn-group:before,.btn-group-vertical&gt;.btn-group:after{content:&quot; &quot;;display:table}.clearfix:after,.btn-toolbar:after,.btn-group-vertical&gt;.btn-group:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right !important}.pull-left{float:left !important}.hide{display:none !important}.show{display:block !important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none !important}.affix{position:fixed}
</a><a href="#h4-0-14" id="h4-0-14" class="i">+\ No newline at end of file
</a><b>diff --git a/<a id="h5" href="../file/web/htdocs/assets/css/codesearch.css">web/htdocs/assets/css/codesearch.css</a> b/<a href="../file/web/htdocs/assets/css/codesearch.css">web/htdocs/assets/css/codesearch.css</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -31,7 +31,7 @@ a:hover {
</a>     flex: 1 1 auto;
 }
 
<a href="#h5-0-3" id="h5-0-3" class="d">-#searcharea input[type=text] {
</a><a href="#h5-0-4" id="h5-0-4" class="i">+.prefixed-input input[type=text] {
</a>     vertical-align: bottom;
     border: none;
     border-bottom: solid 2px rgba(0, 0, 0, 0.1);
<a href="#h5-1" id="h5-1" class="h">@@ -40,25 +40,25 @@ a:hover {
</a>     width: 100%;
 }
 
<a href="#h5-1-3" id="h5-1-3" class="d">-#searcharea input[type=text]:hover {
</a><a href="#h5-1-4" id="h5-1-4" class="i">+.prefixed-input input[type=text]:hover {
</a>     outline: none;
     border-color: rgba(0, 126, 229, 0.1);
 }
 
<a href="#h5-1-9" id="h5-1-9" class="d">-#searcharea input[type=text]:focus {
</a><a href="#h5-1-10" id="h5-1-10" class="i">+.prefixed-input input[type=text]:focus {
</a>     outline: none;
     border-color: rgba(0, 126, 229, 0.25);
 }
 
<a href="#h5-1-15" id="h5-1-15" class="d">-#searcharea input[type=text]:valid {
</a><a href="#h5-1-16" id="h5-1-16" class="i">+.prefixed-input input[type=text]:valid {
</a>     border-color: rgba(0, 0, 0, 0.4);
 }
 
<a href="#h5-1-20" id="h5-1-20" class="d">-#searcharea input[type=text]:valid:hover {
</a><a href="#h5-1-21" id="h5-1-21" class="i">+.prefixed-input input[type=text]:valid:hover {
</a>     border-color: rgba(0, 126, 229, 0.45);
 }
 
<a href="#h5-1-25" id="h5-1-25" class="d">-#searcharea input[type=text]:valid:focus {
</a><a href="#h5-1-26" id="h5-1-26" class="i">+.prefixed-input input[type=text]:valid:focus {
</a>     border-color: rgba(0, 126, 229, 0.75);
 }
 
<a href="#h5-2" id="h5-2" class="h">@@ -331,7 +331,7 @@ a:hover {
</a> #header .first {}
 
 #header {
<a href="#h5-2-3" id="h5-2-3" class="d">-    font-size: 80%;
</a><a href="#h5-2-4" id="h5-2-4" class="i">+    font-size: 12px;
</a>     color: #999;
     margin: 1em auto;
     width: 40em;
<a href="#h5-3" id="h5-3" class="h">@@ -489,6 +489,7 @@ a:hover {
</a> 
 /* Header actions */
 .header-actions {
<a href="#h5-3-3" id="h5-3-3" class="i">+    font-size: 13px;
</a>     margin: 0;
     padding: 0 0 0 5px;
     color: rgba(0, 0, 0, 0.5);
<a href="#h5-4" id="h5-4" class="h">@@ -615,3 +616,18 @@ div.example {
</a>     font-size: 80%;
     float: right;
 }
<a href="#h5-4-3" id="h5-4-3" class="i">+
</a><a href="#h5-4-4" id="h5-4-4" class="i">+/* limit the damage bootstrap does to our styling */
</a><a href="#h5-4-5" id="h5-4-5" class="i">+
</a><a href="#h5-4-6" id="h5-4-6" class="i">+.btn, .dropdown-menu {
</a><a href="#h5-4-7" id="h5-4-7" class="i">+    font-size: 12px;
</a><a href="#h5-4-8" id="h5-4-8" class="i">+}
</a><a href="#h5-4-9" id="h5-4-9" class="i">+
</a><a href="#h5-4-10" id="h5-4-10" class="i">+#searcharea, #results {
</a><a href="#h5-4-11" id="h5-4-11" class="i">+    line-height: normal;
</a><a href="#h5-4-12" id="h5-4-12" class="i">+    font-size: 13px;
</a><a href="#h5-4-13" id="h5-4-13" class="i">+}
</a><a href="#h5-4-14" id="h5-4-14" class="i">+
</a><a href="#h5-4-15" id="h5-4-15" class="i">+.file-content code, .file-content .line-numbers {
</a><a href="#h5-4-16" id="h5-4-16" class="i">+    font-size: 12px;
</a><a href="#h5-4-17" id="h5-4-17" class="i">+}
</a><b>diff --git a/<a id="h6" href="../file/web/src/codesearch/codesearch.js">web/src/codesearch/codesearch.js</a> b/<a href="../file/web/src/codesearch/codesearch.js">web/src/codesearch/codesearch.js</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -34,7 +34,8 @@ var Codesearch = function() {
</a>       var q = {
         q: opts.q,
         fold_case: opts.fold_case,
<a href="#h6-0-3" id="h6-0-3" class="d">-        regex: opts.regex
</a><a href="#h6-0-4" id="h6-0-4" class="i">+        regex: opts.regex,
</a><a href="#h6-0-5" id="h6-0-5" class="i">+        repo: opts.repo
</a>       };
 
       url = url + &quot;?&quot; + $.param(q);
<b>diff --git a/<a id="h7" href="../file/web/src/codesearch/codesearch_ui.js">web/src/codesearch/codesearch_ui.js</a> b/<a href="../file/web/src/codesearch/codesearch_ui.js">web/src/codesearch/codesearch_ui.js</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -1,7 +1,8 @@
</a><a href="#h7-0-0" id="h7-0-0" class="d">-html = require(&#39;html&#39;);
</a><a href="#h7-0-1" id="h7-0-1" class="d">-Backbone = require(&#39;backbone&#39;);
</a><a href="#h7-0-2" id="h7-0-2" class="i">+var html = require(&#39;html&#39;);
</a><a href="#h7-0-3" id="h7-0-3" class="i">+var Backbone = require(&#39;backbone&#39;);
</a> 
<a href="#h7-0-5" id="h7-0-5" class="d">-Codesearch = require(&#39;codesearch/codesearch.js&#39;).Codesearch;
</a><a href="#h7-0-6" id="h7-0-6" class="i">+var Codesearch = require(&#39;codesearch/codesearch.js&#39;).Codesearch;
</a><a href="#h7-0-7" id="h7-0-7" class="i">+var RepoSelector = require(&#39;codesearch/repo_selector.js&#39;);
</a> 
 function init(initData) {
 &quot;use strict&quot;;
<a href="#h7-1" id="h7-1" class="h">@@ -360,7 +361,8 @@ var SearchState = Backbone.Model.extend({
</a>         cur.q === search.q &amp;&amp;
         cur.fold_case === search.fold_case &amp;&amp;
         cur.regex === search.regex &amp;&amp;
<a href="#h7-1-3" id="h7-1-3" class="d">-        cur.backend === search.backend) {
</a><a href="#h7-1-4" id="h7-1-4" class="i">+        cur.backend === search.backend &amp;&amp;
</a><a href="#h7-1-5" id="h7-1-5" class="i">+        _.isEqual(cur.repo, search.repo)) {
</a>       return false;
     }
     var id = this.next_id();
<a href="#h7-2" id="h7-2" class="h">@@ -369,7 +371,8 @@ var SearchState = Backbone.Model.extend({
</a>       q: search.q,
       fold_case: search.fold_case,
       regex: search.regex,
<a href="#h7-2-3" id="h7-2-3" class="d">-      backend: search.backend
</a><a href="#h7-2-4" id="h7-2-4" class="i">+      backend: search.backend,
</a><a href="#h7-2-5" id="h7-2-5" class="i">+      repo: search.repo
</a>     };
     if (!search.q.length) {
       this.set(&#39;displaying&#39;, id);
<a href="#h7-3" id="h7-3" class="h">@@ -390,6 +393,7 @@ var SearchState = Backbone.Model.extend({
</a>       q.fold_case = current.fold_case;
       q.regex = current.regex;
       q.context = this.get(&#39;context&#39;);
<a href="#h7-3-3" id="h7-3-3" class="i">+      q.repo = current.repo;
</a>     }
 
     if (current.backend) {
<a href="#h7-4" id="h7-4" class="h">@@ -591,6 +595,7 @@ var CodesearchUI = function() {
</a>       CodesearchUI.view = new ResultView({model: CodesearchUI.state});
 
       CodesearchUI.input      = $(&#39;#searchbox&#39;);
<a href="#h7-4-3" id="h7-4-3" class="i">+      CodesearchUI.input_repos = $(&#39;#repos&#39;);
</a>       CodesearchUI.input_backend = $(&#39;#backend&#39;);
       if (CodesearchUI.input_backend.length == 0)
         CodesearchUI.input_backend = null;
<a href="#h7-5" id="h7-5" class="h">@@ -602,7 +607,10 @@ var CodesearchUI = function() {
</a>           CodesearchUI.inputs_case.filter(&#39;[value=auto]&#39;).attr(&#39;checked&#39;, true);
       }
 
<a href="#h7-5-3" id="h7-5-3" class="d">-      CodesearchUI.parse_url();
</a><a href="#h7-5-4" id="h7-5-4" class="i">+      RepoSelector.init();
</a><a href="#h7-5-5" id="h7-5-5" class="i">+      CodesearchUI.update_repo_options();
</a><a href="#h7-5-6" id="h7-5-6" class="i">+
</a><a href="#h7-5-7" id="h7-5-7" class="i">+      CodesearchUI.init_query();
</a> 
       CodesearchUI.input.keydown(CodesearchUI.keypress);
       CodesearchUI.input.bind(&#39;paste&#39;, CodesearchUI.keypress);
<a href="#h7-6" id="h7-6" class="h">@@ -612,6 +620,7 @@ var CodesearchUI = function() {
</a> 
       CodesearchUI.inputs_case.change(CodesearchUI.keypress);
       CodesearchUI.input_regex.change(CodesearchUI.keypress);
<a href="#h7-6-3" id="h7-6-3" class="i">+      CodesearchUI.input_repos.change(CodesearchUI.keypress);
</a>       CodesearchUI.input_context.change(CodesearchUI.toggle_context);
       CodesearchUI.toggle_context();
 
<a href="#h7-7" id="h7-7" class="h">@@ -620,26 +629,38 @@ var CodesearchUI = function() {
</a>     toggle_context: function(){
         CodesearchUI.state.set(&#39;context&#39;, CodesearchUI.input_context.attr(&#39;checked&#39;) == &#39;checked&#39;);
     },
<a href="#h7-7-3" id="h7-7-3" class="d">-    parse_url: function() {
</a><a href="#h7-7-4" id="h7-7-4" class="i">+    // Initialize query from URL or user&#39;s saved preferences
</a><a href="#h7-7-5" id="h7-7-5" class="i">+    init_query: function() {
</a>       var parms = CodesearchUI.parse_query_params();
 
<a href="#h7-7-8" id="h7-7-8" class="i">+      var hasParms = false;
</a><a href="#h7-7-9" id="h7-7-9" class="i">+      for (var p in parms) {
</a><a href="#h7-7-10" id="h7-7-10" class="i">+        hasParms = true;
</a><a href="#h7-7-11" id="h7-7-11" class="i">+        break;
</a><a href="#h7-7-12" id="h7-7-12" class="i">+      }
</a><a href="#h7-7-13" id="h7-7-13" class="i">+
</a><a href="#h7-7-14" id="h7-7-14" class="i">+      if (hasParms) {
</a><a href="#h7-7-15" id="h7-7-15" class="i">+        CodesearchUI.init_query_from_parms(parms);
</a><a href="#h7-7-16" id="h7-7-16" class="i">+      } else {
</a><a href="#h7-7-17" id="h7-7-17" class="i">+        CodesearchUI.init_query_from_prefs();
</a><a href="#h7-7-18" id="h7-7-18" class="i">+      }
</a><a href="#h7-7-19" id="h7-7-19" class="i">+    },
</a><a href="#h7-7-20" id="h7-7-20" class="i">+    init_query_from_parms: function(parms) {
</a>       var q = [];
       if (parms.q)
<a href="#h7-7-23" id="h7-7-23" class="d">-        q.push(parms.q);
</a><a href="#h7-7-24" id="h7-7-24" class="i">+        q.push(parms.q[0]);
</a>       if (parms.file)
<a href="#h7-7-26" id="h7-7-26" class="d">-        q.push(&quot;file:&quot; + parms.file);
</a><a href="#h7-7-27" id="h7-7-27" class="d">-      if (parms.repo)
</a><a href="#h7-7-28" id="h7-7-28" class="d">-        q.push(&quot;repo:&quot; + parms.repo);
</a><a href="#h7-7-29" id="h7-7-29" class="i">+        q.push(&quot;file:&quot; + parms.file[0]);
</a>       CodesearchUI.input.val(q.join(&#39; &#39;));
 
       if (parms.fold_case) {
<a href="#h7-7-33" id="h7-7-33" class="d">-        CodesearchUI.inputs_case.filter(&#39;[value=&#39;+parms.fold_case+&#39;]&#39;).attr(&#39;checked&#39;, true);
</a><a href="#h7-7-34" id="h7-7-34" class="i">+        CodesearchUI.inputs_case.filter(&#39;[value=&#39;+parms.fold_case[0]+&#39;]&#39;).attr(&#39;checked&#39;, true);
</a>       }
<a href="#h7-7-36" id="h7-7-36" class="d">-      if (parms.regex === &quot;true&quot;) {
</a><a href="#h7-7-37" id="h7-7-37" class="i">+      if (parms.regex &amp;&amp; parms.regex[0] === &quot;true&quot;) {
</a>         CodesearchUI.input_regex.prop(&#39;checked&#39;, true);
       }
       if (parms.context) {
<a href="#h7-7-41" id="h7-7-41" class="d">-        CodesearchUI.input_context.prop(&#39;checked&#39;, parms.context === &#39;true&#39;);
</a><a href="#h7-7-42" id="h7-7-42" class="i">+        CodesearchUI.input_context.prop(&#39;checked&#39;, parms.context[0] === &#39;true&#39;);
</a>       }
 
       var backend = null;
<a href="#h7-8" id="h7-8" class="h">@@ -649,10 +670,36 @@ var CodesearchUI = function() {
</a>       if (m = (new RegExp(&quot;/search/([^\/]+)/?&quot;).exec(window.location.pathname))) {
         backend = m[1];
       }
<a href="#h7-8-3" id="h7-8-3" class="d">-      if (backend &amp;&amp; CodesearchUI.input_backend)
</a><a href="#h7-8-4" id="h7-8-4" class="i">+      if (backend &amp;&amp; CodesearchUI.input_backend) {
</a><a href="#h7-8-5" id="h7-8-5" class="i">+        var old_backend = CodesearchUI.input_backend.val();
</a>         CodesearchUI.input_backend.val(backend);
<a href="#h7-8-7" id="h7-8-7" class="i">+
</a><a href="#h7-8-8" id="h7-8-8" class="i">+        // Something (bootstrap-select?) messes with the behaviour of val() on
</a><a href="#h7-8-9" id="h7-8-9" class="i">+        // normal select elements, so that trying to set an invalid value sets
</a><a href="#h7-8-10" id="h7-8-10" class="i">+        // null, rather than leaving the value unchanged. We manually check and
</a><a href="#h7-8-11" id="h7-8-11" class="i">+        // roll back if that happens (e.g. because someone navigated to a URL
</a><a href="#h7-8-12" id="h7-8-12" class="i">+        // like &quot;/search/bogus?q=foo&quot;).
</a><a href="#h7-8-13" id="h7-8-13" class="i">+        if (CodesearchUI.input_backend.val() === null) {
</a><a href="#h7-8-14" id="h7-8-14" class="i">+            CodesearchUI.input_backend.val(old_backend);
</a><a href="#h7-8-15" id="h7-8-15" class="i">+        }
</a><a href="#h7-8-16" id="h7-8-16" class="i">+      }
</a><a href="#h7-8-17" id="h7-8-17" class="i">+
</a><a href="#h7-8-18" id="h7-8-18" class="i">+      var repos = [];
</a><a href="#h7-8-19" id="h7-8-19" class="i">+      if (parms.repo)
</a><a href="#h7-8-20" id="h7-8-20" class="i">+        repos = repos.concat(parms.repo);
</a><a href="#h7-8-21" id="h7-8-21" class="i">+      if (parms[&#39;repo[]&#39;])
</a><a href="#h7-8-22" id="h7-8-22" class="i">+        repos = repos.concat(parms[&#39;repo[]&#39;]);
</a><a href="#h7-8-23" id="h7-8-23" class="i">+      RepoSelector.updateSelected(repos);
</a><a href="#h7-8-24" id="h7-8-24" class="i">+
</a>       setTimeout(CodesearchUI.select_backend, 0);
     },
<a href="#h7-8-27" id="h7-8-27" class="i">+    init_query_from_prefs: function() {
</a><a href="#h7-8-28" id="h7-8-28" class="i">+      // TODO: store/load using cookies
</a><a href="#h7-8-29" id="h7-8-29" class="i">+
</a><a href="#h7-8-30" id="h7-8-30" class="i">+      if (CodesearchUI.defaultSearchRepos !== undefined) {
</a><a href="#h7-8-31" id="h7-8-31" class="i">+        RepoSelector.updateSelected(CodesearchUI.defaultSearchRepos);
</a><a href="#h7-8-32" id="h7-8-32" class="i">+      }
</a><a href="#h7-8-33" id="h7-8-33" class="i">+    },
</a>     parse_query_params: function() {
       var urlParams = {};
       var e,
<a href="#h7-9" id="h7-9" class="h">@@ -661,8 +708,13 @@ var CodesearchUI = function() {
</a>           d = function (s) { return decodeURIComponent(s.replace(a, &quot; &quot;)); },
           q = window.location.search.substring(1);
 
<a href="#h7-9-3" id="h7-9-3" class="d">-      while (e = r.exec(q))
</a><a href="#h7-9-4" id="h7-9-4" class="d">-        urlParams[d(e[1])] = d(e[2]);
</a><a href="#h7-9-5" id="h7-9-5" class="i">+      while (e = r.exec(q)) {
</a><a href="#h7-9-6" id="h7-9-6" class="i">+        if (urlParams[d(e[1])]) {
</a><a href="#h7-9-7" id="h7-9-7" class="i">+           urlParams[d(e[1])].push(d(e[2]));
</a><a href="#h7-9-8" id="h7-9-8" class="i">+        } else {
</a><a href="#h7-9-9" id="h7-9-9" class="i">+           urlParams[d(e[1])] = [d(e[2])];
</a><a href="#h7-9-10" id="h7-9-10" class="i">+        }
</a><a href="#h7-9-11" id="h7-9-11" class="i">+      }
</a>       return urlParams;
     },
     on_connect: function() {
<a href="#h7-10" id="h7-10" class="h">@@ -671,9 +723,15 @@ var CodesearchUI = function() {
</a>     select_backend: function() {
       if (!CodesearchUI.input_backend)
         return;
<a href="#h7-10-3" id="h7-10-3" class="d">-      var backend = CodesearchUI.input_backend.val();
</a><a href="#h7-10-4" id="h7-10-4" class="i">+      CodesearchUI.update_repo_options();
</a>       CodesearchUI.keypress();
     },
<a href="#h7-10-7" id="h7-10-7" class="i">+    update_repo_options: function(repos) {
</a><a href="#h7-10-8" id="h7-10-8" class="i">+      if (!CodesearchUI.input_backend)
</a><a href="#h7-10-9" id="h7-10-9" class="i">+        return;
</a><a href="#h7-10-10" id="h7-10-10" class="i">+      var backend = CodesearchUI.input_backend.val();
</a><a href="#h7-10-11" id="h7-10-11" class="i">+      RepoSelector.updateOptions(_.keys(CodesearchUI.repo_urls[backend]));
</a><a href="#h7-10-12" id="h7-10-12" class="i">+    },
</a>     keypress: function() {
       CodesearchUI.clear_timer();
       CodesearchUI.timer = setTimeout(CodesearchUI.newsearch, 100);
<a href="#h7-11" id="h7-11" class="h">@@ -684,6 +742,7 @@ var CodesearchUI = function() {
</a>         q: CodesearchUI.input.val(),
         fold_case: CodesearchUI.inputs_case.filter(&#39;:checked&#39;).val(),
         regex: CodesearchUI.input_regex.is(&#39;:checked&#39;),
<a href="#h7-11-3" id="h7-11-3" class="i">+        repo: CodesearchUI.input_repos.val()
</a>       };
       if (CodesearchUI.input_backend)
         search.backend = CodesearchUI.input_backend.val();
<a href="#h7-12" id="h7-12" class="h">@@ -714,6 +773,7 @@ var CodesearchUI = function() {
</a> 
 CodesearchUI.repo_urls = initData.repo_urls;
 CodesearchUI.internalViewRepos = initData.internal_view_repos;
<a href="#h7-12-3" id="h7-12-3" class="i">+CodesearchUI.defaultSearchRepos = initData.default_search_repos;
</a> CodesearchUI.onload();
 }
 
<b>diff --git a/<a id="h8" href="../file/web/src/codesearch/repo_selector.js">web/src/codesearch/repo_selector.js</a> b/<a href="../file/web/src/codesearch/repo_selector.js">web/src/codesearch/repo_selector.js</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -0,0 +1,55 @@
</a><a href="#h8-0-0" id="h8-0-0" class="i">+var $ = require(&#39;jquery&#39;);
</a><a href="#h8-0-1" id="h8-0-1" class="i">+var _ = require(&#39;underscore&#39;);
</a><a href="#h8-0-2" id="h8-0-2" class="i">+
</a><a href="#h8-0-3" id="h8-0-3" class="i">+function init() {
</a><a href="#h8-0-4" id="h8-0-4" class="i">+    $(&#39;#repos&#39;).selectpicker({
</a><a href="#h8-0-5" id="h8-0-5" class="i">+        actionsBox: true,
</a><a href="#h8-0-6" id="h8-0-6" class="i">+        selectedTextFormat: &#39;count &gt; 4&#39;,
</a><a href="#h8-0-7" id="h8-0-7" class="i">+        countSelectedText: &#39;({0} repositories)&#39;,
</a><a href="#h8-0-8" id="h8-0-8" class="i">+        noneSelectedText: &#39;(all repositories)&#39;,
</a><a href="#h8-0-9" id="h8-0-9" class="i">+        liveSearch: true,
</a><a href="#h8-0-10" id="h8-0-10" class="i">+        width: &#39;20em&#39;
</a><a href="#h8-0-11" id="h8-0-11" class="i">+    });
</a><a href="#h8-0-12" id="h8-0-12" class="i">+    $(window).on(&#39;keyup&#39;, &#39;.bootstrap-select .bs-searchbox input&#39;, function(event) {
</a><a href="#h8-0-13" id="h8-0-13" class="i">+        var keycode = (event.keyCode ? event.keyCode : event.which);
</a><a href="#h8-0-14" id="h8-0-14" class="i">+        if(keycode == &#39;13&#39;){
</a><a href="#h8-0-15" id="h8-0-15" class="i">+            $(this).val(&quot;&quot;);
</a><a href="#h8-0-16" id="h8-0-16" class="i">+            $(&quot;#repos&quot;).selectpicker(&#39;refresh&#39;);
</a><a href="#h8-0-17" id="h8-0-17" class="i">+        }
</a><a href="#h8-0-18" id="h8-0-18" class="i">+    });
</a><a href="#h8-0-19" id="h8-0-19" class="i">+    $(window).keyup(function (keyevent) {
</a><a href="#h8-0-20" id="h8-0-20" class="i">+        var code = (keyevent.keyCode ? keyevent.keyCode : keyevent.which);
</a><a href="#h8-0-21" id="h8-0-21" class="i">+        if (code == 9 &amp;&amp; $(&#39;.bootstrap-select button:focus&#39;).length) {
</a><a href="#h8-0-22" id="h8-0-22" class="i">+            $(&quot;#repos&quot;).selectpicker(&#39;toggle&#39;);
</a><a href="#h8-0-23" id="h8-0-23" class="i">+            $(&#39;.bootstrap-select .bs-searchbox input&#39;).focus();
</a><a href="#h8-0-24" id="h8-0-24" class="i">+        }
</a><a href="#h8-0-25" id="h8-0-25" class="i">+    });
</a><a href="#h8-0-26" id="h8-0-26" class="i">+}
</a><a href="#h8-0-27" id="h8-0-27" class="i">+
</a><a href="#h8-0-28" id="h8-0-28" class="i">+function updateOptions(newOptions) {
</a><a href="#h8-0-29" id="h8-0-29" class="i">+    // Skip update if the options are the same, to avoid losing selected state.
</a><a href="#h8-0-30" id="h8-0-30" class="i">+    var currentOptions = [];
</a><a href="#h8-0-31" id="h8-0-31" class="i">+    $(&#39;#repos&#39;).find(&#39;option&#39;).each(function(){
</a><a href="#h8-0-32" id="h8-0-32" class="i">+        currentOptions.push($(this).attr(&#39;value&#39;));
</a><a href="#h8-0-33" id="h8-0-33" class="i">+    });
</a><a href="#h8-0-34" id="h8-0-34" class="i">+    if (_.isEqual(currentOptions, newOptions)) {
</a><a href="#h8-0-35" id="h8-0-35" class="i">+        return;
</a><a href="#h8-0-36" id="h8-0-36" class="i">+    }
</a><a href="#h8-0-37" id="h8-0-37" class="i">+
</a><a href="#h8-0-38" id="h8-0-38" class="i">+    $(&#39;#repos&#39;).empty();
</a><a href="#h8-0-39" id="h8-0-39" class="i">+    for (var i = 0; i &lt; newOptions.length; i++) {
</a><a href="#h8-0-40" id="h8-0-40" class="i">+        var option = newOptions[i];
</a><a href="#h8-0-41" id="h8-0-41" class="i">+        $(&#39;#repos&#39;).append($(&#39;&lt;option&gt;&#39;).attr(&#39;value&#39;, option).text(option));
</a><a href="#h8-0-42" id="h8-0-42" class="i">+    }
</a><a href="#h8-0-43" id="h8-0-43" class="i">+    $(&#39;#repos&#39;).selectpicker(&#39;refresh&#39;);
</a><a href="#h8-0-44" id="h8-0-44" class="i">+}
</a><a href="#h8-0-45" id="h8-0-45" class="i">+
</a><a href="#h8-0-46" id="h8-0-46" class="i">+function updateSelected(newSelected) {
</a><a href="#h8-0-47" id="h8-0-47" class="i">+    $(&#39;#repos&#39;).selectpicker(&#39;val&#39;, newSelected);
</a><a href="#h8-0-48" id="h8-0-48" class="i">+}
</a><a href="#h8-0-49" id="h8-0-49" class="i">+
</a><a href="#h8-0-50" id="h8-0-50" class="i">+module.exports = {
</a><a href="#h8-0-51" id="h8-0-51" class="i">+    init: init,
</a><a href="#h8-0-52" id="h8-0-52" class="i">+    updateOptions: updateOptions,
</a><a href="#h8-0-53" id="h8-0-53" class="i">+    updateSelected: updateSelected
</a><a href="#h8-0-54" id="h8-0-54" class="i">+}
</a><b>diff --git a/<a id="h9" href="../file/web/templates/index.html">web/templates/index.html</a> b/<a href="../file/web/templates/index.html">web/templates/index.html</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -62,6 +62,11 @@
</a>     {{end}}
 
     &lt;div class=&quot;search-option&quot;&gt;
<a href="#h9-0-3" id="h9-0-3" class="i">+      &lt;span class=&quot;label&quot;&gt;Repo:&lt;/span&gt;
</a><a href="#h9-0-4" id="h9-0-4" class="i">+      &lt;select id=&quot;repos&quot; multiple&gt;&lt;/select&gt;
</a><a href="#h9-0-5" id="h9-0-5" class="i">+    &lt;/div&gt;
</a><a href="#h9-0-6" id="h9-0-6" class="i">+
</a><a href="#h9-0-7" id="h9-0-7" class="i">+    &lt;div class=&quot;search-option&quot;&gt;
</a>       &lt;span class=&quot;label&quot;&gt;Context:&lt;/span&gt;
       &lt;input type=&#39;checkbox&#39; name=&#39;context&#39; id=&#39;context&#39; tabindex=&quot;8&quot; checked=&quot;CHECKED&quot; /&gt;
       &lt;label for=&#39;context&#39;&gt;on&lt;/label&gt;
<b>diff --git a/<a id="h10" href="../file/web/templates/layout.html">web/templates/layout.html</a> b/<a href="../file/web/templates/layout.html">web/templates/layout.html</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -4,12 +4,16 @@
</a>   &lt;head&gt;
     &lt;title&gt;{{.Title}}&lt;/title&gt;
     &lt;link rel=&quot;shortcut icon&quot; href=&quot;/assets/img/favicon.ico&quot; /&gt;
<a href="#h10-0-3" id="h10-0-3" class="d">-    &lt;link rel=&quot;stylesheet&quot; href=&#39;/assets/css/codesearch.css&#39; /&gt;
</a><a href="#h10-0-4" id="h10-0-4" class="d">-    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.1/jquery.min.js&quot; integrity=&quot;sha256-iBcUE/x23aI6syuqF7EeT/+JFBxjPs5zeFJEXxumwb0=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
</a><a href="#h10-0-5" id="h10-0-5" class="i">+    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js&quot; integrity=&quot;sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
</a>     &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.1/underscore-min.js&quot; integrity=&quot;sha256-Qtj60TvCj8cmd1GW7Jq5U/6/m94XXFhFEoNhyVP6F/Q=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
     &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js&quot; integrity=&quot;sha256-tQjdUhE0MTzHcOzRUuotgnMrURWIamfdqwv1QWB57uk=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
     &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js&quot; integrity=&quot;sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
<a href="#h10-0-9" id="h10-0-9" class="i">+    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js&quot; integrity=&quot;sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
</a><a href="#h10-0-10" id="h10-0-10" class="i">+    &lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/3d/bootstrap.min.css&quot; /&gt;
</a><a href="#h10-0-11" id="h10-0-11" class="i">+    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js&quot; integrity=&quot;sha256-19J3rT3tQdidgtqqdQ3xNu++Gd7EoP/ag/0x1lHi0xY=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
</a><a href="#h10-0-12" id="h10-0-12" class="i">+    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css&quot; integrity=&quot;sha256-/us3egi2cVp0mEkVR8cnqLsuDY6BmrDuvTPUuEr1HJQ=&quot; crossorigin=&quot;anonymous&quot; /&gt;
</a>     &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/googlecode.min.css&quot; integrity=&quot;sha256-arq4LfC7imzesljdi/Th/9Sws1lwfF/iq5a+A7oycTg=&quot; crossorigin=&quot;anonymous&quot; /&gt;
<a href="#h10-0-14" id="h10-0-14" class="i">+    &lt;link rel=&quot;stylesheet&quot; href=&#39;/assets/css/codesearch.css&#39; /&gt;
</a>     {{if .ScriptData}}
     &lt;script&gt;
       window.scriptData = {{.ScriptData}};
</pre>
</div>
</body>
</html>
