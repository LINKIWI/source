<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Switch to bazel externals for Go deps. - livegrep - Fast, regular expression code search service</title>
<meta name="description" content="Fast, regular expression code search service" />
<meta name="author" content="Kevin Lin" />
<link rel="icon" type="image/png" href="https://static.kevinlin.info/favicon.png" />
<link rel="alternate" type="application/atom+xml" title="livegrep Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="livegrep Atom Feed (tags)" href="../tags.xml" />
<style type="text/css">
body{color:#000;background-color:#fff;font-family:monospace}h1,h2,h3,h4,h5,h6{font-size:1em;margin:0}img,h1,h2{vertical-align:middle}img{border:0}a:target{background-color:#ccc}a.d,a.h,a.i{text-decoration:none}a.line{text-decoration:none;user-select:none}#blob a{color:#555}#blob a:hover{color:blue;text-decoration:none}table thead td{font-weight:bold}table td{padding:0 .4em}#content table td{vertical-align:top;white-space:nowrap}#branches tr:hover td,#tags tr:hover td,#index tr:hover td,#log tr:hover td,#files tr:hover td{background-color:#eee}#index tr td:nth-child(2),#tags tr td:nth-child(3),#branches tr td:nth-child(3),#log tr td:nth-child(2){white-space:normal}td.num{text-align:right}.desc{color:#555}hr{border:0;border-top:1px solid #555;height:1px}pre{font-family:monospace}pre a.h{color:#00a}.A,span.i,pre a.i{color:#070}.D,span.d,pre a.d{color:#e00}pre a.h:hover,pre a.i:hover,pre a.d:hover{text-decoration:none}/*# sourceMappingURL=style.css.min.map */
</style>
</head>
<body>
<table><tr><td><a href="/"><img src="https://static.kevinlin.info/favicon.png" alt="" width="32" height="32" /></a></td><td><h1>livegrep</h1><span class="desc">Fast, regular expression code search service</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://source.static.kevinlin.info/external/livegrep.git">https://source.static.kevinlin.info/external/livegrep.git</a></td></tr><tr><td></td><td>
<a href="../log">Log</a> | <a href="../files">Files</a> | <a href="../refs">Refs</a> | <a href="../file/README.md">README</a> | <a href="../file/COPYING">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/5d8449007d5ca9abfa4212ce48ed8daf4123e1ab">5d8449007d5ca9abfa4212ce48ed8daf4123e1ab</a>
<b>parent</b> <a href="../commit/def2943abccceac9df4c421525259ad30b768362">def2943abccceac9df4c421525259ad30b768362</a>
<b>Author:</b> Nelson Elhage &lt;<a href="mailto:nelhage@nelhage.com">nelhage@nelhage.com</a>&gt;
<b>Date:</b>   Tue, 25 Apr 2017 11:31:24 -0700

Switch to bazel externals for Go deps.

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">WORKSPACE</a></td><td> | </td><td class="num">25</td><td><span class="i">+++</span><span class="d">----------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">client/test/BUILD</a></td><td> | </td><td class="num">48</td><td><span class="i">++++++++++++++++++</span><span class="d">------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">cmd/lg/BUILD</a></td><td> | </td><td class="num">27</td><td><span class="i">++++++++++++</span><span class="d">---------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">cmd/livegrep-github-reindex/BUILD</a></td><td> | </td><td class="num">32</td><td><span class="i">++++++++++++++++</span><span class="d">----------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">cmd/livegrep/BUILD</a></td><td> | </td><td class="num">31</td><td><span class="i">++++++++++++++</span><span class="d">-----------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">jsonframe/BUILD</a></td><td> | </td><td class="num">20</td><td><span class="i">++++++</span><span class="d">--------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">server/BUILD</a></td><td> | </td><td class="num">68</td><td><span class="i">++++++++++++++++++++++++++++++</span><span class="d">--------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">server/api/BUILD</a></td><td> | </td><td class="num">17</td><td><span class="i">++++</span><span class="d">-------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h8">server/config/BUILD</a></td><td> | </td><td class="num">19</td><td><span class="i">++++</span><span class="d">---------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">server/log/BUILD</a></td><td> | </td><td class="num">23</td><td><span class="i">++++++++</span><span class="d">---------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">server/middleware/BUILD</a></td><td> | </td><td class="num">19</td><td><span class="i">++++</span><span class="d">---------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">server/reqid/BUILD</a></td><td> | </td><td class="num">19</td><td><span class="i">+++++</span><span class="d">--------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h12">server/templates/BUILD</a></td><td> | </td><td class="num">19</td><td><span class="i">++++</span><span class="d">---------------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h13">tools/build_defs/go_externals.bzl</a></td><td> | </td><td class="num">59</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="D">D</td><td><a href="#h14">tools/gen_build.go</a></td><td> | </td><td class="num">201</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h15">vendor/github.com/bmizerany/pat/BUILD</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h16">vendor/github.com/bmizerany/pat/README.md</a></td><td> | </td><td class="num">82</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h17">vendor/github.com/bmizerany/pat/mux.go</a></td><td> | </td><td class="num">310</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h18">vendor/github.com/facebookgo/clock/BUILD</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h19">vendor/github.com/facebookgo/clock/LICENSE</a></td><td> | </td><td class="num">21</td><td><span class="i"></span><span class="d">---------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h20">vendor/github.com/facebookgo/clock/README.md</a></td><td> | </td><td class="num">104</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h21">vendor/github.com/facebookgo/clock/clock.go</a></td><td> | </td><td class="num">363</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h22">vendor/github.com/facebookgo/limitgroup/BUILD</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h23">vendor/github.com/facebookgo/limitgroup/license</a></td><td> | </td><td class="num">30</td><td><span class="i"></span><span class="d">------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h24">vendor/github.com/facebookgo/limitgroup/limitgroup.go</a></td><td> | </td><td class="num">65</td><td><span class="i"></span><span class="d">-----------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h25">vendor/github.com/facebookgo/limitgroup/patents</a></td><td> | </td><td class="num">33</td><td><span class="i"></span><span class="d">---------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h26">vendor/github.com/facebookgo/limitgroup/readme.md</a></td><td> | </td><td class="num">4</td><td><span class="i"></span><span class="d">----</span></td></tr>
<tr><td class="D">D</td><td><a href="#h27">vendor/github.com/facebookgo/muster/BUILD</a></td><td> | </td><td class="num">20</td><td><span class="i"></span><span class="d">--------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h28">vendor/github.com/facebookgo/muster/license</a></td><td> | </td><td class="num">30</td><td><span class="i"></span><span class="d">------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h29">vendor/github.com/facebookgo/muster/muster.go</a></td><td> | </td><td class="num">175</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h30">vendor/github.com/facebookgo/muster/patents</a></td><td> | </td><td class="num">33</td><td><span class="i"></span><span class="d">---------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h31">vendor/github.com/facebookgo/muster/readme.md</a></td><td> | </td><td class="num">4</td><td><span class="i"></span><span class="d">----</span></td></tr>
<tr><td class="D">D</td><td><a href="#h32">vendor/github.com/golang/protobuf/LICENSE</a></td><td> | </td><td class="num">31</td><td><span class="i"></span><span class="d">-------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h33">vendor/github.com/golang/protobuf/proto/BUILD</a></td><td> | </td><td class="num">28</td><td><span class="i"></span><span class="d">----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h34">vendor/github.com/golang/protobuf/proto/Makefile</a></td><td> | </td><td class="num">43</td><td><span class="i"></span><span class="d">-------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h35">vendor/github.com/golang/protobuf/proto/clone.go</a></td><td> | </td><td class="num">229</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h36">vendor/github.com/golang/protobuf/proto/decode.go</a></td><td> | </td><td class="num">874</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h37">vendor/github.com/golang/protobuf/proto/encode.go</a></td><td> | </td><td class="num">1363</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h38">vendor/github.com/golang/protobuf/proto/equal.go</a></td><td> | </td><td class="num">296</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h39">vendor/github.com/golang/protobuf/proto/extensions.go</a></td><td> | </td><td class="num">586</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h40">vendor/github.com/golang/protobuf/proto/lib.go</a></td><td> | </td><td class="num">898</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h41">vendor/github.com/golang/protobuf/proto/message_set.go</a></td><td> | </td><td class="num">311</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h42">vendor/github.com/golang/protobuf/proto/pointer_reflect.go</a></td><td> | </td><td class="num">484</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h43">vendor/github.com/golang/protobuf/proto/pointer_unsafe.go</a></td><td> | </td><td class="num">270</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h44">vendor/github.com/golang/protobuf/proto/properties.go</a></td><td> | </td><td class="num">864</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h45">vendor/github.com/golang/protobuf/proto/text.go</a></td><td> | </td><td class="num">854</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h46">vendor/github.com/golang/protobuf/proto/text_parser.go</a></td><td> | </td><td class="num">891</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h47">vendor/github.com/google/go-github/LICENSE</a></td><td> | </td><td class="num">341</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h48">vendor/github.com/google/go-github/github/BUILD</a></td><td> | </td><td class="num">73</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h49">vendor/github.com/google/go-github/github/activity.go</a></td><td> | </td><td class="num">69</td><td><span class="i"></span><span class="d">---------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h50">vendor/github.com/google/go-github/github/activity_events.go</a></td><td> | </td><td class="num">245</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h51">vendor/github.com/google/go-github/github/activity_notifications.go</a></td><td> | </td><td class="num">225</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h52">vendor/github.com/google/go-github/github/activity_star.go</a></td><td> | </td><td class="num">123</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h53">vendor/github.com/google/go-github/github/activity_watching.go</a></td><td> | </td><td class="num">136</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h54">vendor/github.com/google/go-github/github/authorizations.go</a></td><td> | </td><td class="num">320</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h55">vendor/github.com/google/go-github/github/doc.go</a></td><td> | </td><td class="num">133</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h56">vendor/github.com/google/go-github/github/event_types.go</a></td><td> | </td><td class="num">444</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h57">vendor/github.com/google/go-github/github/gists.go</a></td><td> | </td><td class="num">281</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h58">vendor/github.com/google/go-github/github/gists_comments.go</a></td><td> | </td><td class="num">118</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h59">vendor/github.com/google/go-github/github/git.go</a></td><td> | </td><td class="num">14</td><td><span class="i"></span><span class="d">--------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h60">vendor/github.com/google/go-github/github/git_blobs.go</a></td><td> | </td><td class="num">47</td><td><span class="i"></span><span class="d">-----------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h61">vendor/github.com/google/go-github/github/git_commits.go</a></td><td> | </td><td class="num">115</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h62">vendor/github.com/google/go-github/github/git_refs.go</a></td><td> | </td><td class="num">162</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h63">vendor/github.com/google/go-github/github/git_tags.go</a></td><td> | </td><td class="num">73</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h64">vendor/github.com/google/go-github/github/git_trees.go</a></td><td> | </td><td class="num">89</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h65">vendor/github.com/google/go-github/github/github.go</a></td><td> | </td><td class="num">712</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h66">vendor/github.com/google/go-github/github/gitignore.go</a></td><td> | </td><td class="num">63</td><td><span class="i"></span><span class="d">---------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h67">vendor/github.com/google/go-github/github/issues.go</a></td><td> | </td><td class="num">294</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h68">vendor/github.com/google/go-github/github/issues_assignees.go</a></td><td> | </td><td class="num">46</td><td><span class="i"></span><span class="d">----------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h69">vendor/github.com/google/go-github/github/issues_comments.go</a></td><td> | </td><td class="num">138</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h70">vendor/github.com/google/go-github/github/issues_events.go</a></td><td> | </td><td class="num">149</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h71">vendor/github.com/google/go-github/github/issues_labels.go</a></td><td> | </td><td class="num">222</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h72">vendor/github.com/google/go-github/github/issues_milestones.go</a></td><td> | </td><td class="num">144</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h73">vendor/github.com/google/go-github/github/licenses.go</a></td><td> | </td><td class="num">81</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h74">vendor/github.com/google/go-github/github/migrations.go</a></td><td> | </td><td class="num">225</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h75">vendor/github.com/google/go-github/github/misc.go</a></td><td> | </td><td class="num">197</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h76">vendor/github.com/google/go-github/github/orgs.go</a></td><td> | </td><td class="num">170</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h77">vendor/github.com/google/go-github/github/orgs_hooks.go</a></td><td> | </td><td class="num">104</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h78">vendor/github.com/google/go-github/github/orgs_members.go</a></td><td> | </td><td class="num">276</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h79">vendor/github.com/google/go-github/github/orgs_teams.go</a></td><td> | </td><td class="num">399</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h80">vendor/github.com/google/go-github/github/pulls.go</a></td><td> | </td><td class="num">275</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h81">vendor/github.com/google/go-github/github/pulls_comments.go</a></td><td> | </td><td class="num">149</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h82">vendor/github.com/google/go-github/github/repos.go</a></td><td> | </td><td class="num">559</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h83">vendor/github.com/google/go-github/github/repos_collaborators.go</a></td><td> | </td><td class="num">95</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h84">vendor/github.com/google/go-github/github/repos_comments.go</a></td><td> | </td><td class="num">150</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h85">vendor/github.com/google/go-github/github/repos_commits.go</a></td><td> | </td><td class="num">196</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h86">vendor/github.com/google/go-github/github/repos_contents.go</a></td><td> | </td><td class="num">248</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h87">vendor/github.com/google/go-github/github/repos_deployments.go</a></td><td> | </td><td class="num">168</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h88">vendor/github.com/google/go-github/github/repos_forks.go</a></td><td> | </td><td class="num">73</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h89">vendor/github.com/google/go-github/github/repos_hooks.go</a></td><td> | </td><td class="num">196</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h90">vendor/github.com/google/go-github/github/repos_keys.go</a></td><td> | </td><td class="num">108</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h91">vendor/github.com/google/go-github/github/repos_merging.go</a></td><td> | </td><td class="num">37</td><td><span class="i"></span><span class="d">-------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h92">vendor/github.com/google/go-github/github/repos_pages.go</a></td><td> | </td><td class="num">90</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h93">vendor/github.com/google/go-github/github/repos_releases.go</a></td><td> | </td><td class="num">320</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h94">vendor/github.com/google/go-github/github/repos_stats.go</a></td><td> | </td><td class="num">214</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h95">vendor/github.com/google/go-github/github/repos_statuses.go</a></td><td> | </td><td class="num">128</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h96">vendor/github.com/google/go-github/github/search.go</a></td><td> | </td><td class="num">158</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h97">vendor/github.com/google/go-github/github/strings.go</a></td><td> | </td><td class="num">93</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h98">vendor/github.com/google/go-github/github/timestamp.go</a></td><td> | </td><td class="num">41</td><td><span class="i"></span><span class="d">-----------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h99">vendor/github.com/google/go-github/github/users.go</a></td><td> | </td><td class="num">145</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h100">vendor/github.com/google/go-github/github/users_administration.go</a></td><td> | </td><td class="num">64</td><td><span class="i"></span><span class="d">----------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h101">vendor/github.com/google/go-github/github/users_emails.go</a></td><td> | </td><td class="num">69</td><td><span class="i"></span><span class="d">---------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h102">vendor/github.com/google/go-github/github/users_followers.go</a></td><td> | </td><td class="num">116</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h103">vendor/github.com/google/go-github/github/users_keys.go</a></td><td> | </td><td class="num">104</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h104">vendor/github.com/google/go-querystring/LICENSE</a></td><td> | </td><td class="num">27</td><td><span class="i"></span><span class="d">---------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h105">vendor/github.com/google/go-querystring/query/BUILD</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h106">vendor/github.com/google/go-querystring/query/encode.go</a></td><td> | </td><td class="num">311</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h107">vendor/github.com/honeycombio/libhoney-go/BUILD</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h108">vendor/github.com/honeycombio/libhoney-go/CONTRIBUTORS</a></td><td> | </td><td class="num">8</td><td><span class="i"></span><span class="d">--------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h109">vendor/github.com/honeycombio/libhoney-go/LICENSE</a></td><td> | </td><td class="num">201</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h110">vendor/github.com/honeycombio/libhoney-go/README.md</a></td><td> | </td><td class="num">29</td><td><span class="i"></span><span class="d">-----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h111">vendor/github.com/honeycombio/libhoney-go/doc.go</a></td><td> | </td><td class="num">13</td><td><span class="i"></span><span class="d">-------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h112">vendor/github.com/honeycombio/libhoney-go/libhoney.go</a></td><td> | </td><td class="num">528</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h113">vendor/github.com/honeycombio/libhoney-go/response.go</a></td><td> | </td><td class="num">32</td><td><span class="i"></span><span class="d">--------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h114">vendor/github.com/honeycombio/libhoney-go/test_helpers.go</a></td><td> | </td><td class="num">114</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h115">vendor/github.com/honeycombio/libhoney-go/transmission.go</a></td><td> | </td><td class="num">222</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h116">vendor/github.com/nelhage/go.cli/LICENSE</a></td><td> | </td><td class="num">26</td><td><span class="i"></span><span class="d">--------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h117">vendor/github.com/nelhage/go.cli/config/BUILD</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h118">vendor/github.com/nelhage/go.cli/config/README.md</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h119">vendor/github.com/nelhage/go.cli/config/config.go</a></td><td> | </td><td class="num">71</td><td><span class="i"></span><span class="d">-----------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h120">vendor/gopkg.in/alexcesaro/statsd.v2/BUILD</a></td><td> | </td><td class="num">21</td><td><span class="i"></span><span class="d">---------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h121">vendor/gopkg.in/alexcesaro/statsd.v2/CHANGELOG.md</a></td><td> | </td><td class="num">64</td><td><span class="i"></span><span class="d">----------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h122">vendor/gopkg.in/alexcesaro/statsd.v2/LICENSE</a></td><td> | </td><td class="num">20</td><td><span class="i"></span><span class="d">--------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h123">vendor/gopkg.in/alexcesaro/statsd.v2/README.md</a></td><td> | </td><td class="num">50</td><td><span class="i"></span><span class="d">--------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h124">vendor/gopkg.in/alexcesaro/statsd.v2/conn.go</a></td><td> | </td><td class="num">270</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h125">vendor/gopkg.in/alexcesaro/statsd.v2/doc.go</a></td><td> | </td><td class="num">29</td><td><span class="i"></span><span class="d">-----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h126">vendor/gopkg.in/alexcesaro/statsd.v2/options.go</a></td><td> | </td><td class="num">250</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h127">vendor/gopkg.in/alexcesaro/statsd.v2/statsd.go</a></td><td> | </td><td class="num">169</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h128">vendor/gopkg.in/check.v1/BUILD</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h129">vendor/gopkg.in/check.v1/LICENSE</a></td><td> | </td><td class="num">25</td><td><span class="i"></span><span class="d">-------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h130">vendor/gopkg.in/check.v1/README.md</a></td><td> | </td><td class="num">20</td><td><span class="i"></span><span class="d">--------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h131">vendor/gopkg.in/check.v1/TODO</a></td><td> | </td><td class="num">2</td><td><span class="i"></span><span class="d">--</span></td></tr>
<tr><td class="D">D</td><td><a href="#h132">vendor/gopkg.in/check.v1/benchmark.go</a></td><td> | </td><td class="num">187</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h133">vendor/gopkg.in/check.v1/check.go</a></td><td> | </td><td class="num">873</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h134">vendor/gopkg.in/check.v1/checkers.go</a></td><td> | </td><td class="num">458</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h135">vendor/gopkg.in/check.v1/helpers.go</a></td><td> | </td><td class="num">231</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h136">vendor/gopkg.in/check.v1/printer.go</a></td><td> | </td><td class="num">168</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h137">vendor/gopkg.in/check.v1/reporter.go</a></td><td> | </td><td class="num">88</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h138">vendor/gopkg.in/check.v1/run.go</a></td><td> | </td><td class="num">175</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h139">vendor/vendor.json</a></td><td> | </td><td class="num">149</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
</table></pre><pre>140 files changed, 187 insertions(+), 24747 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/WORKSPACE">WORKSPACE</a> b/<a href="../file/WORKSPACE">WORKSPACE</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -75,30 +75,11 @@ load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a>      &quot;go_repositories&quot;, &quot;new_go_repository&quot;)
 
 go_repositories()
<a href="#h0-0-3" id="h0-0-3" class="d">-new_go_repository(
</a><a href="#h0-0-4" id="h0-0-4" class="d">-  name = &quot;org_golang_x_net&quot;,
</a><a href="#h0-0-5" id="h0-0-5" class="d">-  importpath = &quot;golang.org/x/net&quot;,
</a><a href="#h0-0-6" id="h0-0-6" class="d">-  commit = &quot;d212a1ef2de2f5d441c327b8f26cf3ea3ea9f265&quot;,
</a><a href="#h0-0-7" id="h0-0-7" class="d">-)
</a><a href="#h0-0-8" id="h0-0-8" class="d">-new_go_repository(
</a><a href="#h0-0-9" id="h0-0-9" class="d">-  name = &quot;org_golang_x_text&quot;,
</a><a href="#h0-0-10" id="h0-0-10" class="d">-  importpath = &quot;golang.org/x/text&quot;,
</a><a href="#h0-0-11" id="h0-0-11" class="d">-  commit = &quot;a9a820217f98f7c8a207ec1e45a874e1fe12c478&quot;,
</a><a href="#h0-0-12" id="h0-0-12" class="d">-)
</a> 
<a href="#h0-0-14" id="h0-0-14" class="d">-new_go_repository(
</a><a href="#h0-0-15" id="h0-0-15" class="d">-  name = &quot;org_golang_google_appengine&quot;,
</a><a href="#h0-0-16" id="h0-0-16" class="d">-  importpath = &quot;google.golang.org/appengine/&quot;,
</a><a href="#h0-0-17" id="h0-0-17" class="d">-  commit = &quot;170382fa85b10b94728989dfcf6cc818b335c952&quot;,
</a><a href="#h0-0-18" id="h0-0-18" class="d">-  remote = &quot;https://github.com/golang/appengine&quot;,
</a><a href="#h0-0-19" id="h0-0-19" class="d">-  vcs = &quot;git&quot;,
</a><a href="#h0-0-20" id="h0-0-20" class="d">-)
</a><a href="#h0-0-21" id="h0-0-21" class="i">+load(&quot;//tools/build_defs:go_externals.bzl&quot;,
</a><a href="#h0-0-22" id="h0-0-22" class="i">+     &quot;go_externals&quot;)
</a> 
<a href="#h0-0-24" id="h0-0-24" class="d">-new_go_repository(
</a><a href="#h0-0-25" id="h0-0-25" class="d">-  name = &quot;org_golang_x_oauth2&quot;,
</a><a href="#h0-0-26" id="h0-0-26" class="d">-  importpath = &quot;golang.org/x/oauth2&quot;,
</a><a href="#h0-0-27" id="h0-0-27" class="d">-  commit = &quot;a6bd8cefa1811bd24b86f8902872e4e8225f74c4&quot;,
</a><a href="#h0-0-28" id="h0-0-28" class="d">-)
</a><a href="#h0-0-29" id="h0-0-29" class="i">+go_externals()
</a> 
 load(&quot;//tools/build_defs:libgit2.bzl&quot;,
      &quot;new_libgit2_archive&quot;,
<b>diff --git a/<a id="h1" href="../file/client/test/BUILD">client/test/BUILD</a> b/<a href="../file/client/test/BUILD">client/test/BUILD</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -1,36 +1,24 @@
</a><a href="#h1-0-0" id="h1-0-0" class="d">-
</a><a href="#h1-0-1" id="h1-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h1-0-2" id="h1-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h1-0-3" id="h1-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h1-0-4" id="h1-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h1-0-5" id="h1-0-5" class="d">-)
</a><a href="#h1-0-6" id="h1-0-6" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;, &quot;go_test&quot;)
</a> 
 go_library(
<a href="#h1-0-9" id="h1-0-9" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h1-0-10" id="h1-0-10" class="d">-  srcs = [
</a><a href="#h1-0-11" id="h1-0-11" class="d">-    &quot;testutil.go&quot;,
</a><a href="#h1-0-12" id="h1-0-12" class="d">-  ],
</a><a href="#h1-0-13" id="h1-0-13" class="d">-  deps = [
</a><a href="#h1-0-14" id="h1-0-14" class="d">-    &quot;//src/proto:go_proto&quot;,
</a><a href="#h1-0-15" id="h1-0-15" class="d">-
</a><a href="#h1-0-16" id="h1-0-16" class="d">-    &quot;@org_golang_x_net//context:go_default_library&quot;,
</a><a href="#h1-0-17" id="h1-0-17" class="d">-    &quot;@org_golang_google_grpc//:go_default_library&quot;,
</a><a href="#h1-0-18" id="h1-0-18" class="d">-  ],
</a><a href="#h1-0-19" id="h1-0-19" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h1-0-20" id="h1-0-20" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h1-0-21" id="h1-0-21" class="i">+    srcs = [&quot;testutil.go&quot;],
</a><a href="#h1-0-22" id="h1-0-22" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a><a href="#h1-0-23" id="h1-0-23" class="i">+    deps = [
</a><a href="#h1-0-24" id="h1-0-24" class="i">+        &quot;//src/proto/go_proto:go_default_library&quot;,
</a><a href="#h1-0-25" id="h1-0-25" class="i">+        &quot;@org_golang_google_grpc//:go_default_library&quot;,
</a><a href="#h1-0-26" id="h1-0-26" class="i">+    ],
</a> )
 
<a href="#h1-0-29" id="h1-0-29" class="d">-
</a> go_test(
<a href="#h1-0-31" id="h1-0-31" class="d">-  name = &quot;go_default_test&quot;,
</a><a href="#h1-0-32" id="h1-0-32" class="d">-  srcs = [
</a><a href="#h1-0-33" id="h1-0-33" class="d">-    &quot;bench_test.go&quot;,
</a><a href="#h1-0-34" id="h1-0-34" class="d">-    &quot;integration_test.go&quot;,
</a><a href="#h1-0-35" id="h1-0-35" class="d">-  ],
</a><a href="#h1-0-36" id="h1-0-36" class="d">-  deps = [
</a><a href="#h1-0-37" id="h1-0-37" class="d">-    &quot;//vendor/gopkg.in/check.v1:go_default_library&quot;,
</a><a href="#h1-0-38" id="h1-0-38" class="d">-  ],
</a><a href="#h1-0-39" id="h1-0-39" class="d">-  data = [
</a><a href="#h1-0-40" id="h1-0-40" class="d">-    &quot;//src/tools:codesearch&quot;,
</a><a href="#h1-0-41" id="h1-0-41" class="d">-  ],
</a><a href="#h1-0-42" id="h1-0-42" class="d">-  library = &quot;:go_default_library&quot;,
</a><a href="#h1-0-43" id="h1-0-43" class="i">+    name = &quot;go_default_test&quot;,
</a><a href="#h1-0-44" id="h1-0-44" class="i">+    srcs = [
</a><a href="#h1-0-45" id="h1-0-45" class="i">+        &quot;bench_test.go&quot;,
</a><a href="#h1-0-46" id="h1-0-46" class="i">+        &quot;integration_test.go&quot;,
</a><a href="#h1-0-47" id="h1-0-47" class="i">+    ],
</a><a href="#h1-0-48" id="h1-0-48" class="i">+    library = &quot;:go_default_library&quot;,
</a><a href="#h1-0-49" id="h1-0-49" class="i">+    deps = [
</a><a href="#h1-0-50" id="h1-0-50" class="i">+        &quot;//src/proto/go_proto:go_default_library&quot;,
</a><a href="#h1-0-51" id="h1-0-51" class="i">+        &quot;@in_gopkg_check_v1//:go_default_library&quot;,
</a><a href="#h1-0-52" id="h1-0-52" class="i">+    ],
</a> )
<b>diff --git a/<a id="h2" href="../file/cmd/lg/BUILD">cmd/lg/BUILD</a> b/<a href="../file/cmd/lg/BUILD">cmd/lg/BUILD</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -1,20 +1,17 @@
</a><a href="#h2-0-0" id="h2-0-0" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_binary&quot;, &quot;go_library&quot;)
</a> 
<a href="#h2-0-2" id="h2-0-2" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h2-0-3" id="h2-0-3" class="d">-  &quot;go_binary&quot;,
</a><a href="#h2-0-4" id="h2-0-4" class="d">-  &quot;go_library&quot;,
</a><a href="#h2-0-5" id="h2-0-5" class="d">-  &quot;go_test&quot;,
</a><a href="#h2-0-6" id="h2-0-6" class="i">+go_library(
</a><a href="#h2-0-7" id="h2-0-7" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h2-0-8" id="h2-0-8" class="i">+    srcs = [&quot;main.go&quot;],
</a><a href="#h2-0-9" id="h2-0-9" class="i">+    visibility = [&quot;//visibility:private&quot;],
</a><a href="#h2-0-10" id="h2-0-10" class="i">+    deps = [
</a><a href="#h2-0-11" id="h2-0-11" class="i">+        &quot;//server/api:go_default_library&quot;,
</a><a href="#h2-0-12" id="h2-0-12" class="i">+        &quot;@com_github_nelhage_go_cli//config:go_default_library&quot;,
</a><a href="#h2-0-13" id="h2-0-13" class="i">+    ],
</a> )
 
 go_binary(
<a href="#h2-0-17" id="h2-0-17" class="d">-name = &quot;lg&quot;,
</a><a href="#h2-0-18" id="h2-0-18" class="d">-  srcs = [
</a><a href="#h2-0-19" id="h2-0-19" class="d">-    &quot;main.go&quot;,
</a><a href="#h2-0-20" id="h2-0-20" class="d">-  ],
</a><a href="#h2-0-21" id="h2-0-21" class="d">-  deps = [
</a><a href="#h2-0-22" id="h2-0-22" class="d">-    &quot;//server/api:go_default_library&quot;,
</a><a href="#h2-0-23" id="h2-0-23" class="d">-    &quot;//vendor/github.com/nelhage/go.cli/config:go_default_library&quot;,
</a><a href="#h2-0-24" id="h2-0-24" class="d">-  ],
</a><a href="#h2-0-25" id="h2-0-25" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h2-0-26" id="h2-0-26" class="i">+    name = &quot;lg&quot;,
</a><a href="#h2-0-27" id="h2-0-27" class="i">+    library = &quot;:go_default_library&quot;,
</a><a href="#h2-0-28" id="h2-0-28" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a> )
<a href="#h2-0-30" id="h2-0-30" class="d">-
</a><a href="#h2-0-31" id="h2-0-31" class="d">-
</a><b>diff --git a/<a id="h3" href="../file/cmd/livegrep-github-reindex/BUILD">cmd/livegrep-github-reindex/BUILD</a> b/<a href="../file/cmd/livegrep-github-reindex/BUILD">cmd/livegrep-github-reindex/BUILD</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -1,21 +1,21 @@
</a><a href="#h3-0-0" id="h3-0-0" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_binary&quot;, &quot;go_library&quot;)
</a> 
<a href="#h3-0-2" id="h3-0-2" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h3-0-3" id="h3-0-3" class="d">-  &quot;go_binary&quot;,
</a><a href="#h3-0-4" id="h3-0-4" class="d">-  &quot;go_library&quot;,
</a><a href="#h3-0-5" id="h3-0-5" class="d">-  &quot;go_test&quot;,
</a><a href="#h3-0-6" id="h3-0-6" class="i">+go_library(
</a><a href="#h3-0-7" id="h3-0-7" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h3-0-8" id="h3-0-8" class="i">+    srcs = [
</a><a href="#h3-0-9" id="h3-0-9" class="i">+        &quot;flags.go&quot;,
</a><a href="#h3-0-10" id="h3-0-10" class="i">+        &quot;main.go&quot;,
</a><a href="#h3-0-11" id="h3-0-11" class="i">+    ],
</a><a href="#h3-0-12" id="h3-0-12" class="i">+    visibility = [&quot;//visibility:private&quot;],
</a><a href="#h3-0-13" id="h3-0-13" class="i">+    deps = [
</a><a href="#h3-0-14" id="h3-0-14" class="i">+        &quot;@com_github_google_go_github//github:go_default_library&quot;,
</a><a href="#h3-0-15" id="h3-0-15" class="i">+        &quot;@org_golang_x_net//context:go_default_library&quot;,
</a><a href="#h3-0-16" id="h3-0-16" class="i">+        &quot;@org_golang_x_oauth2//:go_default_library&quot;,
</a><a href="#h3-0-17" id="h3-0-17" class="i">+    ],
</a> )
 
 go_binary(
<a href="#h3-0-21" id="h3-0-21" class="d">-name = &quot;livegrep-github-reindex&quot;,
</a><a href="#h3-0-22" id="h3-0-22" class="d">-  srcs = [
</a><a href="#h3-0-23" id="h3-0-23" class="d">-    &quot;flags.go&quot;,
</a><a href="#h3-0-24" id="h3-0-24" class="d">-    &quot;main.go&quot;,
</a><a href="#h3-0-25" id="h3-0-25" class="d">-  ],
</a><a href="#h3-0-26" id="h3-0-26" class="d">-  deps = [
</a><a href="#h3-0-27" id="h3-0-27" class="d">-    &quot;//vendor/github.com/google/go-github/github:go_default_library&quot;,
</a><a href="#h3-0-28" id="h3-0-28" class="d">-
</a><a href="#h3-0-29" id="h3-0-29" class="d">-    &quot;@org_golang_x_oauth2//:go_default_library&quot;,
</a><a href="#h3-0-30" id="h3-0-30" class="d">-    &quot;@org_golang_x_net//context:go_default_library&quot;,
</a><a href="#h3-0-31" id="h3-0-31" class="d">-  ],
</a><a href="#h3-0-32" id="h3-0-32" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h3-0-33" id="h3-0-33" class="i">+    name = &quot;livegrep-github-reindex&quot;,
</a><a href="#h3-0-34" id="h3-0-34" class="i">+    library = &quot;:go_default_library&quot;,
</a><a href="#h3-0-35" id="h3-0-35" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a> )
<b>diff --git a/<a id="h4" href="../file/cmd/livegrep/BUILD">cmd/livegrep/BUILD</a> b/<a href="../file/cmd/livegrep/BUILD">cmd/livegrep/BUILD</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -1,22 +1,19 @@
</a><a href="#h4-0-0" id="h4-0-0" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_binary&quot;, &quot;go_library&quot;)
</a> 
<a href="#h4-0-2" id="h4-0-2" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h4-0-3" id="h4-0-3" class="d">-  &quot;go_binary&quot;,
</a><a href="#h4-0-4" id="h4-0-4" class="d">-  &quot;go_library&quot;,
</a><a href="#h4-0-5" id="h4-0-5" class="d">-  &quot;go_test&quot;,
</a><a href="#h4-0-6" id="h4-0-6" class="i">+go_library(
</a><a href="#h4-0-7" id="h4-0-7" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h4-0-8" id="h4-0-8" class="i">+    srcs = [&quot;livegrep.go&quot;],
</a><a href="#h4-0-9" id="h4-0-9" class="i">+    visibility = [&quot;//visibility:private&quot;],
</a><a href="#h4-0-10" id="h4-0-10" class="i">+    deps = [
</a><a href="#h4-0-11" id="h4-0-11" class="i">+        &quot;//server:go_default_library&quot;,
</a><a href="#h4-0-12" id="h4-0-12" class="i">+        &quot;//server/config:go_default_library&quot;,
</a><a href="#h4-0-13" id="h4-0-13" class="i">+        &quot;//server/middleware:go_default_library&quot;,
</a><a href="#h4-0-14" id="h4-0-14" class="i">+        &quot;@com_github_honeycombio_libhoney_go//:go_default_library&quot;,
</a><a href="#h4-0-15" id="h4-0-15" class="i">+    ],
</a> )
 
 go_binary(
<a href="#h4-0-19" id="h4-0-19" class="d">-name = &quot;livegrep&quot;,
</a><a href="#h4-0-20" id="h4-0-20" class="d">-  srcs = [
</a><a href="#h4-0-21" id="h4-0-21" class="d">-    &quot;livegrep.go&quot;,
</a><a href="#h4-0-22" id="h4-0-22" class="d">-  ],
</a><a href="#h4-0-23" id="h4-0-23" class="d">-  deps = [
</a><a href="#h4-0-24" id="h4-0-24" class="d">-    &quot;//server/config:go_default_library&quot;,
</a><a href="#h4-0-25" id="h4-0-25" class="d">-    &quot;//server/middleware:go_default_library&quot;,
</a><a href="#h4-0-26" id="h4-0-26" class="d">-    &quot;//server:go_default_library&quot;,
</a><a href="#h4-0-27" id="h4-0-27" class="d">-    &quot;//vendor/github.com/honeycombio/libhoney-go:go_default_library&quot;,
</a><a href="#h4-0-28" id="h4-0-28" class="d">-  ],
</a><a href="#h4-0-29" id="h4-0-29" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h4-0-30" id="h4-0-30" class="i">+    name = &quot;livegrep&quot;,
</a><a href="#h4-0-31" id="h4-0-31" class="i">+    library = &quot;:go_default_library&quot;,
</a><a href="#h4-0-32" id="h4-0-32" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a> )
<a href="#h4-0-34" id="h4-0-34" class="d">-
</a><a href="#h4-0-35" id="h4-0-35" class="d">-
</a><b>diff --git a/<a id="h5" href="../file/jsonframe/BUILD">jsonframe/BUILD</a> b/<a href="../file/jsonframe/BUILD">jsonframe/BUILD</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -1,18 +1,10 @@
</a><a href="#h5-0-0" id="h5-0-0" class="d">-
</a><a href="#h5-0-1" id="h5-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h5-0-2" id="h5-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h5-0-3" id="h5-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h5-0-4" id="h5-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h5-0-5" id="h5-0-5" class="i">+load(
</a><a href="#h5-0-6" id="h5-0-6" class="i">+    &quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h5-0-7" id="h5-0-7" class="i">+    &quot;go_library&quot;,
</a> )
 
 go_library(
<a href="#h5-0-11" id="h5-0-11" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h5-0-12" id="h5-0-12" class="d">-  srcs = [
</a><a href="#h5-0-13" id="h5-0-13" class="d">-    &quot;jsonframe.go&quot;,
</a><a href="#h5-0-14" id="h5-0-14" class="d">-  ],
</a><a href="#h5-0-15" id="h5-0-15" class="d">-  deps = [
</a><a href="#h5-0-16" id="h5-0-16" class="d">-  ],
</a><a href="#h5-0-17" id="h5-0-17" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h5-0-18" id="h5-0-18" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h5-0-19" id="h5-0-19" class="i">+    srcs = [&quot;jsonframe.go&quot;],
</a><a href="#h5-0-20" id="h5-0-20" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a> )
<a href="#h5-0-22" id="h5-0-22" class="d">-
</a><a href="#h5-0-23" id="h5-0-23" class="d">-
</a><b>diff --git a/<a id="h6" href="../file/server/BUILD">server/BUILD</a> b/<a href="../file/server/BUILD">server/BUILD</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -1,44 +1,36 @@
</a><a href="#h6-0-0" id="h6-0-0" class="d">-
</a><a href="#h6-0-1" id="h6-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h6-0-2" id="h6-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h6-0-3" id="h6-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h6-0-4" id="h6-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h6-0-5" id="h6-0-5" class="d">-)
</a><a href="#h6-0-6" id="h6-0-6" class="i">+# gazelle:ignore
</a><a href="#h6-0-7" id="h6-0-7" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;, &quot;go_test&quot;)
</a> 
 go_library(
<a href="#h6-0-10" id="h6-0-10" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h6-0-11" id="h6-0-11" class="d">-  srcs = [
</a><a href="#h6-0-12" id="h6-0-12" class="d">-    &quot;api.go&quot;,
</a><a href="#h6-0-13" id="h6-0-13" class="d">-    &quot;backend.go&quot;,
</a><a href="#h6-0-14" id="h6-0-14" class="d">-    &quot;json.go&quot;,
</a><a href="#h6-0-15" id="h6-0-15" class="d">-    &quot;query.go&quot;,
</a><a href="#h6-0-16" id="h6-0-16" class="d">-    &quot;server.go&quot;,
</a><a href="#h6-0-17" id="h6-0-17" class="d">-    &quot;templates.go&quot;,
</a><a href="#h6-0-18" id="h6-0-18" class="d">-  ],
</a><a href="#h6-0-19" id="h6-0-19" class="d">-  deps = [
</a><a href="#h6-0-20" id="h6-0-20" class="d">-    &quot;//server/api:go_default_library&quot;,
</a><a href="#h6-0-21" id="h6-0-21" class="d">-    &quot;//server/config:go_default_library&quot;,
</a><a href="#h6-0-22" id="h6-0-22" class="d">-    &quot;//server/log:go_default_library&quot;,
</a><a href="#h6-0-23" id="h6-0-23" class="d">-    &quot;//server/reqid:go_default_library&quot;,
</a><a href="#h6-0-24" id="h6-0-24" class="d">-    &quot;//server/templates:go_default_library&quot;,
</a><a href="#h6-0-25" id="h6-0-25" class="d">-    &quot;//src/proto:go_proto&quot;,
</a><a href="#h6-0-26" id="h6-0-26" class="d">-    &quot;//vendor/github.com/bmizerany/pat:go_default_library&quot;,
</a><a href="#h6-0-27" id="h6-0-27" class="d">-    &quot;//vendor/github.com/honeycombio/libhoney-go:go_default_library&quot;,
</a><a href="#h6-0-28" id="h6-0-28" class="d">-    &quot;@org_golang_google_grpc//:go_default_library&quot;,
</a><a href="#h6-0-29" id="h6-0-29" class="d">-    &quot;@org_golang_google_grpc//metadata:go_default_library&quot;,
</a><a href="#h6-0-30" id="h6-0-30" class="d">-    &quot;@org_golang_google_grpc//codes:go_default_library&quot;,
</a><a href="#h6-0-31" id="h6-0-31" class="d">-    &quot;@org_golang_x_net//context:go_default_library&quot;,
</a><a href="#h6-0-32" id="h6-0-32" class="d">-  ],
</a><a href="#h6-0-33" id="h6-0-33" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h6-0-34" id="h6-0-34" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h6-0-35" id="h6-0-35" class="i">+    srcs = [
</a><a href="#h6-0-36" id="h6-0-36" class="i">+        &quot;api.go&quot;,
</a><a href="#h6-0-37" id="h6-0-37" class="i">+        &quot;backend.go&quot;,
</a><a href="#h6-0-38" id="h6-0-38" class="i">+        &quot;json.go&quot;,
</a><a href="#h6-0-39" id="h6-0-39" class="i">+        &quot;query.go&quot;,
</a><a href="#h6-0-40" id="h6-0-40" class="i">+        &quot;server.go&quot;,
</a><a href="#h6-0-41" id="h6-0-41" class="i">+        &quot;templates.go&quot;,
</a><a href="#h6-0-42" id="h6-0-42" class="i">+    ],
</a><a href="#h6-0-43" id="h6-0-43" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a><a href="#h6-0-44" id="h6-0-44" class="i">+    deps = [
</a><a href="#h6-0-45" id="h6-0-45" class="i">+        &quot;//server/api:go_default_library&quot;,
</a><a href="#h6-0-46" id="h6-0-46" class="i">+        &quot;//server/config:go_default_library&quot;,
</a><a href="#h6-0-47" id="h6-0-47" class="i">+        &quot;//server/log:go_default_library&quot;,
</a><a href="#h6-0-48" id="h6-0-48" class="i">+        &quot;//server/reqid:go_default_library&quot;,
</a><a href="#h6-0-49" id="h6-0-49" class="i">+        &quot;//server/templates:go_default_library&quot;,
</a><a href="#h6-0-50" id="h6-0-50" class="i">+        &quot;//src/proto:go_proto&quot;,
</a><a href="#h6-0-51" id="h6-0-51" class="i">+        &quot;@com_github_bmizerany_pat//:go_default_library&quot;,
</a><a href="#h6-0-52" id="h6-0-52" class="i">+        &quot;@com_github_honeycombio_libhoney_go//:go_default_library&quot;,
</a><a href="#h6-0-53" id="h6-0-53" class="i">+        &quot;@org_golang_google_grpc//:go_default_library&quot;,
</a><a href="#h6-0-54" id="h6-0-54" class="i">+        &quot;@org_golang_google_grpc//codes:go_default_library&quot;,
</a><a href="#h6-0-55" id="h6-0-55" class="i">+        &quot;@org_golang_google_grpc//metadata:go_default_library&quot;,
</a><a href="#h6-0-56" id="h6-0-56" class="i">+        &quot;@org_golang_x_net//context:go_default_library&quot;,
</a><a href="#h6-0-57" id="h6-0-57" class="i">+    ],
</a> )
 
<a href="#h6-0-60" id="h6-0-60" class="d">-
</a> go_test(
<a href="#h6-0-62" id="h6-0-62" class="d">-  name = &quot;go_default_test&quot;,
</a><a href="#h6-0-63" id="h6-0-63" class="d">-  srcs = [
</a><a href="#h6-0-64" id="h6-0-64" class="d">-    &quot;query_test.go&quot;,
</a><a href="#h6-0-65" id="h6-0-65" class="d">-  ],
</a><a href="#h6-0-66" id="h6-0-66" class="d">-  deps = [
</a><a href="#h6-0-67" id="h6-0-67" class="d">-  ],
</a><a href="#h6-0-68" id="h6-0-68" class="d">-  library = &quot;:go_default_library&quot;,
</a><a href="#h6-0-69" id="h6-0-69" class="i">+    name = &quot;go_default_test&quot;,
</a><a href="#h6-0-70" id="h6-0-70" class="i">+    srcs = [&quot;query_test.go&quot;],
</a><a href="#h6-0-71" id="h6-0-71" class="i">+    library = &quot;:go_default_library&quot;,
</a><a href="#h6-0-72" id="h6-0-72" class="i">+    deps = [&quot;//src/proto:go_proto&quot;],
</a> )
<b>diff --git a/<a id="h7" href="../file/server/api/BUILD">server/api/BUILD</a> b/<a href="../file/server/api/BUILD">server/api/BUILD</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -1,16 +1,7 @@
</a><a href="#h7-0-0" id="h7-0-0" class="d">-
</a><a href="#h7-0-1" id="h7-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h7-0-2" id="h7-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h7-0-3" id="h7-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h7-0-4" id="h7-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h7-0-5" id="h7-0-5" class="d">-)
</a><a href="#h7-0-6" id="h7-0-6" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> 
 go_library(
<a href="#h7-0-9" id="h7-0-9" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h7-0-10" id="h7-0-10" class="d">-  srcs = [
</a><a href="#h7-0-11" id="h7-0-11" class="d">-    &quot;types.go&quot;,
</a><a href="#h7-0-12" id="h7-0-12" class="d">-  ],
</a><a href="#h7-0-13" id="h7-0-13" class="d">-  deps = [
</a><a href="#h7-0-14" id="h7-0-14" class="d">-  ],
</a><a href="#h7-0-15" id="h7-0-15" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h7-0-16" id="h7-0-16" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h7-0-17" id="h7-0-17" class="i">+    srcs = [&quot;types.go&quot;],
</a><a href="#h7-0-18" id="h7-0-18" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a> )
<b>diff --git a/<a id="h8" href="../file/server/config/BUILD">server/config/BUILD</a> b/<a href="../file/server/config/BUILD">server/config/BUILD</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -1,18 +1,7 @@
</a><a href="#h8-0-0" id="h8-0-0" class="d">-
</a><a href="#h8-0-1" id="h8-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h8-0-2" id="h8-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h8-0-3" id="h8-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h8-0-4" id="h8-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h8-0-5" id="h8-0-5" class="d">-)
</a><a href="#h8-0-6" id="h8-0-6" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> 
 go_library(
<a href="#h8-0-9" id="h8-0-9" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h8-0-10" id="h8-0-10" class="d">-  srcs = [
</a><a href="#h8-0-11" id="h8-0-11" class="d">-    &quot;config.go&quot;,
</a><a href="#h8-0-12" id="h8-0-12" class="d">-  ],
</a><a href="#h8-0-13" id="h8-0-13" class="d">-  deps = [
</a><a href="#h8-0-14" id="h8-0-14" class="d">-  ],
</a><a href="#h8-0-15" id="h8-0-15" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h8-0-16" id="h8-0-16" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h8-0-17" id="h8-0-17" class="i">+    srcs = [&quot;config.go&quot;],
</a><a href="#h8-0-18" id="h8-0-18" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a> )
<a href="#h8-0-20" id="h8-0-20" class="d">-
</a><a href="#h8-0-21" id="h8-0-21" class="d">-
</a><b>diff --git a/<a id="h9" href="../file/server/log/BUILD">server/log/BUILD</a> b/<a href="../file/server/log/BUILD">server/log/BUILD</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -1,18 +1,11 @@
</a><a href="#h9-0-0" id="h9-0-0" class="d">-
</a><a href="#h9-0-1" id="h9-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h9-0-2" id="h9-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h9-0-3" id="h9-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h9-0-4" id="h9-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h9-0-5" id="h9-0-5" class="d">-)
</a><a href="#h9-0-6" id="h9-0-6" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> 
 go_library(
<a href="#h9-0-9" id="h9-0-9" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h9-0-10" id="h9-0-10" class="d">-  srcs = [
</a><a href="#h9-0-11" id="h9-0-11" class="d">-    &quot;log.go&quot;,
</a><a href="#h9-0-12" id="h9-0-12" class="d">-  ],
</a><a href="#h9-0-13" id="h9-0-13" class="d">-  deps = [
</a><a href="#h9-0-14" id="h9-0-14" class="d">-    &quot;//server/reqid:go_default_library&quot;,
</a><a href="#h9-0-15" id="h9-0-15" class="d">-    &quot;@org_golang_x_net//context:go_default_library&quot;,
</a><a href="#h9-0-16" id="h9-0-16" class="d">-  ],
</a><a href="#h9-0-17" id="h9-0-17" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h9-0-18" id="h9-0-18" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h9-0-19" id="h9-0-19" class="i">+    srcs = [&quot;log.go&quot;],
</a><a href="#h9-0-20" id="h9-0-20" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a><a href="#h9-0-21" id="h9-0-21" class="i">+    deps = [
</a><a href="#h9-0-22" id="h9-0-22" class="i">+        &quot;//server/reqid:go_default_library&quot;,
</a><a href="#h9-0-23" id="h9-0-23" class="i">+        &quot;@org_golang_x_net//context:go_default_library&quot;,
</a><a href="#h9-0-24" id="h9-0-24" class="i">+    ],
</a> )
<b>diff --git a/<a id="h10" href="../file/server/middleware/BUILD">server/middleware/BUILD</a> b/<a href="../file/server/middleware/BUILD">server/middleware/BUILD</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -1,18 +1,7 @@
</a><a href="#h10-0-0" id="h10-0-0" class="d">-
</a><a href="#h10-0-1" id="h10-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h10-0-2" id="h10-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h10-0-3" id="h10-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h10-0-4" id="h10-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h10-0-5" id="h10-0-5" class="d">-)
</a><a href="#h10-0-6" id="h10-0-6" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> 
 go_library(
<a href="#h10-0-9" id="h10-0-9" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h10-0-10" id="h10-0-10" class="d">-  srcs = [
</a><a href="#h10-0-11" id="h10-0-11" class="d">-    &quot;reverse_proxy.go&quot;,
</a><a href="#h10-0-12" id="h10-0-12" class="d">-  ],
</a><a href="#h10-0-13" id="h10-0-13" class="d">-  deps = [
</a><a href="#h10-0-14" id="h10-0-14" class="d">-  ],
</a><a href="#h10-0-15" id="h10-0-15" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h10-0-16" id="h10-0-16" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h10-0-17" id="h10-0-17" class="i">+    srcs = [&quot;reverse_proxy.go&quot;],
</a><a href="#h10-0-18" id="h10-0-18" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a> )
<a href="#h10-0-20" id="h10-0-20" class="d">-
</a><a href="#h10-0-21" id="h10-0-21" class="d">-
</a><b>diff --git a/<a id="h11" href="../file/server/reqid/BUILD">server/reqid/BUILD</a> b/<a href="../file/server/reqid/BUILD">server/reqid/BUILD</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -1,17 +1,8 @@
</a><a href="#h11-0-0" id="h11-0-0" class="d">-
</a><a href="#h11-0-1" id="h11-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h11-0-2" id="h11-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h11-0-3" id="h11-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h11-0-4" id="h11-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h11-0-5" id="h11-0-5" class="d">-)
</a><a href="#h11-0-6" id="h11-0-6" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> 
 go_library(
<a href="#h11-0-9" id="h11-0-9" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h11-0-10" id="h11-0-10" class="d">-  srcs = [
</a><a href="#h11-0-11" id="h11-0-11" class="d">-    &quot;reqid.go&quot;,
</a><a href="#h11-0-12" id="h11-0-12" class="d">-  ],
</a><a href="#h11-0-13" id="h11-0-13" class="d">-  deps = [
</a><a href="#h11-0-14" id="h11-0-14" class="d">-    &quot;@org_golang_x_net//context:go_default_library&quot;,
</a><a href="#h11-0-15" id="h11-0-15" class="d">-  ],
</a><a href="#h11-0-16" id="h11-0-16" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h11-0-17" id="h11-0-17" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h11-0-18" id="h11-0-18" class="i">+    srcs = [&quot;reqid.go&quot;],
</a><a href="#h11-0-19" id="h11-0-19" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a><a href="#h11-0-20" id="h11-0-20" class="i">+    deps = [&quot;@org_golang_x_net//context:go_default_library&quot;],
</a> )
<b>diff --git a/<a id="h12" href="../file/server/templates/BUILD">server/templates/BUILD</a> b/<a href="../file/server/templates/BUILD">server/templates/BUILD</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -1,18 +1,7 @@
</a><a href="#h12-0-0" id="h12-0-0" class="d">-
</a><a href="#h12-0-1" id="h12-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h12-0-2" id="h12-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h12-0-3" id="h12-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h12-0-4" id="h12-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h12-0-5" id="h12-0-5" class="d">-)
</a><a href="#h12-0-6" id="h12-0-6" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;, &quot;go_library&quot;)
</a> 
 go_library(
<a href="#h12-0-9" id="h12-0-9" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h12-0-10" id="h12-0-10" class="d">-  srcs = [
</a><a href="#h12-0-11" id="h12-0-11" class="d">-    &quot;templates.go&quot;,
</a><a href="#h12-0-12" id="h12-0-12" class="d">-  ],
</a><a href="#h12-0-13" id="h12-0-13" class="d">-  deps = [
</a><a href="#h12-0-14" id="h12-0-14" class="d">-  ],
</a><a href="#h12-0-15" id="h12-0-15" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h12-0-16" id="h12-0-16" class="i">+    name = &quot;go_default_library&quot;,
</a><a href="#h12-0-17" id="h12-0-17" class="i">+    srcs = [&quot;templates.go&quot;],
</a><a href="#h12-0-18" id="h12-0-18" class="i">+    visibility = [&quot;//visibility:public&quot;],
</a> )
<a href="#h12-0-20" id="h12-0-20" class="d">-
</a><a href="#h12-0-21" id="h12-0-21" class="d">-
</a><b>diff --git a/<a id="h13" href="../file/tools/build_defs/go_externals.bzl">tools/build_defs/go_externals.bzl</a> b/<a href="../file/tools/build_defs/go_externals.bzl">tools/build_defs/go_externals.bzl</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -0,0 +1,59 @@
</a><a href="#h13-0-0" id="h13-0-0" class="i">+load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h13-0-1" id="h13-0-1" class="i">+     &quot;new_go_repository&quot;)
</a><a href="#h13-0-2" id="h13-0-2" class="i">+
</a><a href="#h13-0-3" id="h13-0-3" class="i">+def _github(repo, commit):
</a><a href="#h13-0-4" id="h13-0-4" class="i">+  name = &quot;com_github_&quot; + repo.replace(&quot;/&quot;, &quot;_&quot;).replace(&quot;-&quot;, &quot;_&quot;).replace(&quot;.&quot;, &quot;_&quot;)
</a><a href="#h13-0-5" id="h13-0-5" class="i">+  importpath = &quot;github.com/&quot; + repo
</a><a href="#h13-0-6" id="h13-0-6" class="i">+  return struct(
</a><a href="#h13-0-7" id="h13-0-7" class="i">+    name = name,
</a><a href="#h13-0-8" id="h13-0-8" class="i">+    importpath = importpath,
</a><a href="#h13-0-9" id="h13-0-9" class="i">+    commit = commit)
</a><a href="#h13-0-10" id="h13-0-10" class="i">+
</a><a href="#h13-0-11" id="h13-0-11" class="i">+def _golang_x(pkg, commit):
</a><a href="#h13-0-12" id="h13-0-12" class="i">+  name = &quot;org_golang_x_&quot; + pkg
</a><a href="#h13-0-13" id="h13-0-13" class="i">+  importpath = &quot;golang.org/x/&quot; + pkg
</a><a href="#h13-0-14" id="h13-0-14" class="i">+  return struct(
</a><a href="#h13-0-15" id="h13-0-15" class="i">+    name = name,
</a><a href="#h13-0-16" id="h13-0-16" class="i">+    importpath = importpath,
</a><a href="#h13-0-17" id="h13-0-17" class="i">+    commit = commit)
</a><a href="#h13-0-18" id="h13-0-18" class="i">+
</a><a href="#h13-0-19" id="h13-0-19" class="i">+_externals = [
</a><a href="#h13-0-20" id="h13-0-20" class="i">+  _golang_x(&quot;net&quot;, &quot;d212a1ef2de2f5d441c327b8f26cf3ea3ea9f265&quot;),
</a><a href="#h13-0-21" id="h13-0-21" class="i">+  _golang_x(&quot;text&quot;, &quot;a9a820217f98f7c8a207ec1e45a874e1fe12c478&quot;),
</a><a href="#h13-0-22" id="h13-0-22" class="i">+  _golang_x(&quot;oauth2&quot;, &quot;a6bd8cefa1811bd24b86f8902872e4e8225f74c4&quot;),
</a><a href="#h13-0-23" id="h13-0-23" class="i">+  struct(
</a><a href="#h13-0-24" id="h13-0-24" class="i">+    name = &quot;org_golang_google_appengine&quot;,
</a><a href="#h13-0-25" id="h13-0-25" class="i">+    importpath = &quot;google.golang.org/appengine/&quot;,
</a><a href="#h13-0-26" id="h13-0-26" class="i">+    commit = &quot;170382fa85b10b94728989dfcf6cc818b335c952&quot;,
</a><a href="#h13-0-27" id="h13-0-27" class="i">+    remote = &quot;https://github.com/golang/appengine&quot;,
</a><a href="#h13-0-28" id="h13-0-28" class="i">+    vcs = &quot;git&quot;,
</a><a href="#h13-0-29" id="h13-0-29" class="i">+  ),
</a><a href="#h13-0-30" id="h13-0-30" class="i">+  _github(&quot;google/go-github&quot;, &quot;63f6986f05c3e857d0bd9d7245b24c12a6c11147&quot;),
</a><a href="#h13-0-31" id="h13-0-31" class="i">+  _github(&quot;honeycombio/libhoney-go&quot;, &quot;a8716c5861ae19c1e2baaad52dd59ba64b902bde&quot;),
</a><a href="#h13-0-32" id="h13-0-32" class="i">+  _github(&quot;nelhage/go.cli&quot;, &quot;2aeb96ef8025f3646befae8353b90f95e9e79bdc&quot;),
</a><a href="#h13-0-33" id="h13-0-33" class="i">+  _github(&quot;bmizerany/pat&quot;, &quot;c068ca2f0aacee5ac3681d68e4d0a003b7d1fd2c&quot;),
</a><a href="#h13-0-34" id="h13-0-34" class="i">+  _github(&quot;google/go-querystring&quot;, &quot;53e6ce116135b80d037921a7fdd5138cf32d7a8a&quot;),
</a><a href="#h13-0-35" id="h13-0-35" class="i">+  _github(&quot;facebookgo/muster&quot;, &quot;fd3d7953fd52354a74b9f6b3d70d0c9650c4ec2a&quot;),
</a><a href="#h13-0-36" id="h13-0-36" class="i">+  _github(&quot;facebookgo/limitgroup&quot;, &quot;6abd8d71ec01451d7f1929eacaa263bbe2935d05&quot;),
</a><a href="#h13-0-37" id="h13-0-37" class="i">+  _github(&quot;facebookgo/clock&quot;, &quot;600d898af40aa09a7a93ecb9265d87b0504b6f03&quot;),
</a><a href="#h13-0-38" id="h13-0-38" class="i">+  struct(
</a><a href="#h13-0-39" id="h13-0-39" class="i">+    name = &quot;in_gopkg_alexcesaro_statsd_v2&quot;,
</a><a href="#h13-0-40" id="h13-0-40" class="i">+    importpath = &quot;gopkg.in/alexcesaro/statsd.v2&quot;,
</a><a href="#h13-0-41" id="h13-0-41" class="i">+    commit = &quot;7fea3f0d2fab1ad973e641e51dba45443a311a90&quot;,
</a><a href="#h13-0-42" id="h13-0-42" class="i">+  )
</a><a href="#h13-0-43" id="h13-0-43" class="i">+]
</a><a href="#h13-0-44" id="h13-0-44" class="i">+
</a><a href="#h13-0-45" id="h13-0-45" class="i">+def go_externals():
</a><a href="#h13-0-46" id="h13-0-46" class="i">+  for ext in _externals:
</a><a href="#h13-0-47" id="h13-0-47" class="i">+    if hasattr(ext, &#39;vcs&#39;):
</a><a href="#h13-0-48" id="h13-0-48" class="i">+      new_go_repository(
</a><a href="#h13-0-49" id="h13-0-49" class="i">+        name = ext.name,
</a><a href="#h13-0-50" id="h13-0-50" class="i">+        importpath = ext.importpath,
</a><a href="#h13-0-51" id="h13-0-51" class="i">+        commit = ext.commit,
</a><a href="#h13-0-52" id="h13-0-52" class="i">+        vcs = ext.vcs,
</a><a href="#h13-0-53" id="h13-0-53" class="i">+        remote = ext.remote)
</a><a href="#h13-0-54" id="h13-0-54" class="i">+    else:
</a><a href="#h13-0-55" id="h13-0-55" class="i">+      new_go_repository(
</a><a href="#h13-0-56" id="h13-0-56" class="i">+        name = ext.name,
</a><a href="#h13-0-57" id="h13-0-57" class="i">+        importpath = ext.importpath,
</a><a href="#h13-0-58" id="h13-0-58" class="i">+        commit = ext.commit)
</a><b>diff --git a/<a id="h14" href="../file/tools/gen_build.go">tools/gen_build.go</a> b/<a href="../file/tools/gen_build.go">tools/gen_build.go</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -1,201 +0,0 @@
</a><a href="#h14-0-0" id="h14-0-0" class="d">-package main
</a><a href="#h14-0-1" id="h14-0-1" class="d">-
</a><a href="#h14-0-2" id="h14-0-2" class="d">-import (
</a><a href="#h14-0-3" id="h14-0-3" class="d">-	&quot;bytes&quot;
</a><a href="#h14-0-4" id="h14-0-4" class="d">-	&quot;flag&quot;
</a><a href="#h14-0-5" id="h14-0-5" class="d">-	&quot;fmt&quot;
</a><a href="#h14-0-6" id="h14-0-6" class="d">-	&quot;go/build&quot;
</a><a href="#h14-0-7" id="h14-0-7" class="d">-	&quot;html/template&quot;
</a><a href="#h14-0-8" id="h14-0-8" class="d">-	&quot;io/ioutil&quot;
</a><a href="#h14-0-9" id="h14-0-9" class="d">-	&quot;log&quot;
</a><a href="#h14-0-10" id="h14-0-10" class="d">-	&quot;os&quot;
</a><a href="#h14-0-11" id="h14-0-11" class="d">-	&quot;path/filepath&quot;
</a><a href="#h14-0-12" id="h14-0-12" class="d">-	&quot;sort&quot;
</a><a href="#h14-0-13" id="h14-0-13" class="d">-	&quot;strings&quot;
</a><a href="#h14-0-14" id="h14-0-14" class="d">-)
</a><a href="#h14-0-15" id="h14-0-15" class="d">-
</a><a href="#h14-0-16" id="h14-0-16" class="d">-var tpl *template.Template
</a><a href="#h14-0-17" id="h14-0-17" class="d">-
</a><a href="#h14-0-18" id="h14-0-18" class="d">-var (
</a><a href="#h14-0-19" id="h14-0-19" class="d">-	packagePrefix = flag.String(&quot;prefix&quot;,
</a><a href="#h14-0-20" id="h14-0-20" class="d">-		&quot;github.com/livegrep/livegrep&quot;,
</a><a href="#h14-0-21" id="h14-0-21" class="d">-		&quot;workspace root package&quot;)
</a><a href="#h14-0-22" id="h14-0-22" class="d">-)
</a><a href="#h14-0-23" id="h14-0-23" class="d">-
</a><a href="#h14-0-24" id="h14-0-24" class="d">-func init() {
</a><a href="#h14-0-25" id="h14-0-25" class="d">-	tpl = template.New(&quot;build&quot;)
</a><a href="#h14-0-26" id="h14-0-26" class="d">-	/*
</a><a href="#h14-0-27" id="h14-0-27" class="d">-		tpl.Funcs(map[string]interface{}{
</a><a href="#h14-0-28" id="h14-0-28" class="d">-			&quot;wantPackage&quot;: func(pkg string) bool {
</a><a href="#h14-0-29" id="h14-0-29" class="d">-				return strings.HasPrefix(pkg, *packagePrefix)
</a><a href="#h14-0-30" id="h14-0-30" class="d">-			},
</a><a href="#h14-0-31" id="h14-0-31" class="d">-			&quot;toBazel&quot;: func(pkg string) string {
</a><a href="#h14-0-32" id="h14-0-32" class="d">-				return fmt.Sprintf(&quot;/%s:go_default_library&quot;,
</a><a href="#h14-0-33" id="h14-0-33" class="d">-					strings.TrimPrefix(pkg, *packagePrefix))
</a><a href="#h14-0-34" id="h14-0-34" class="d">-			},
</a><a href="#h14-0-35" id="h14-0-35" class="d">-		})
</a><a href="#h14-0-36" id="h14-0-36" class="d">-	*/
</a><a href="#h14-0-37" id="h14-0-37" class="d">-	template.Must(tpl.Parse(BuildTemplate))
</a><a href="#h14-0-38" id="h14-0-38" class="d">-}
</a><a href="#h14-0-39" id="h14-0-39" class="d">-
</a><a href="#h14-0-40" id="h14-0-40" class="d">-func main() {
</a><a href="#h14-0-41" id="h14-0-41" class="d">-	flag.Parse()
</a><a href="#h14-0-42" id="h14-0-42" class="d">-	if len(flag.Args()) &lt; 1 {
</a><a href="#h14-0-43" id="h14-0-43" class="d">-		log.Fatalf(&quot;usage: %s ROOT&quot;, os.Args[0])
</a><a href="#h14-0-44" id="h14-0-44" class="d">-	}
</a><a href="#h14-0-45" id="h14-0-45" class="d">-	dirs, err := collectDirs(flag.Args()[0])
</a><a href="#h14-0-46" id="h14-0-46" class="d">-	if err != nil {
</a><a href="#h14-0-47" id="h14-0-47" class="d">-		log.Fatal(&quot;collect:&quot;, err)
</a><a href="#h14-0-48" id="h14-0-48" class="d">-	}
</a><a href="#h14-0-49" id="h14-0-49" class="d">-	for _, d := range dirs {
</a><a href="#h14-0-50" id="h14-0-50" class="d">-		fmt.Printf(&quot;%s...\n&quot;, d)
</a><a href="#h14-0-51" id="h14-0-51" class="d">-	}
</a><a href="#h14-0-52" id="h14-0-52" class="d">-
</a><a href="#h14-0-53" id="h14-0-53" class="d">-	ctx := build.Default
</a><a href="#h14-0-54" id="h14-0-54" class="d">-
</a><a href="#h14-0-55" id="h14-0-55" class="d">-	for _, d := range dirs {
</a><a href="#h14-0-56" id="h14-0-56" class="d">-		if e := genBuild(&amp;ctx, d); e != nil {
</a><a href="#h14-0-57" id="h14-0-57" class="d">-			fmt.Printf(&quot;[%s]: %v&quot;, d, e)
</a><a href="#h14-0-58" id="h14-0-58" class="d">-		}
</a><a href="#h14-0-59" id="h14-0-59" class="d">-	}
</a><a href="#h14-0-60" id="h14-0-60" class="d">-}
</a><a href="#h14-0-61" id="h14-0-61" class="d">-
</a><a href="#h14-0-62" id="h14-0-62" class="d">-func extractDeps(ctx *build.Context, srcDir string, imports []string) ([]string, error) {
</a><a href="#h14-0-63" id="h14-0-63" class="d">-	var want []string
</a><a href="#h14-0-64" id="h14-0-64" class="d">-	for _, i := range imports {
</a><a href="#h14-0-65" id="h14-0-65" class="d">-		if strings.HasPrefix(i, *packagePrefix) {
</a><a href="#h14-0-66" id="h14-0-66" class="d">-			want = append(want, i)
</a><a href="#h14-0-67" id="h14-0-67" class="d">-			continue
</a><a href="#h14-0-68" id="h14-0-68" class="d">-		}
</a><a href="#h14-0-69" id="h14-0-69" class="d">-		imported, e := ctx.Import(i, srcDir, 0)
</a><a href="#h14-0-70" id="h14-0-70" class="d">-		if e != nil {
</a><a href="#h14-0-71" id="h14-0-71" class="d">-			return nil, fmt.Errorf(&quot;import %s: %v&quot;, i, e)
</a><a href="#h14-0-72" id="h14-0-72" class="d">-		}
</a><a href="#h14-0-73" id="h14-0-73" class="d">-		if strings.HasPrefix(imported.ImportPath, *packagePrefix) {
</a><a href="#h14-0-74" id="h14-0-74" class="d">-			want = append(want, imported.ImportPath)
</a><a href="#h14-0-75" id="h14-0-75" class="d">-			continue
</a><a href="#h14-0-76" id="h14-0-76" class="d">-		}
</a><a href="#h14-0-77" id="h14-0-77" class="d">-	}
</a><a href="#h14-0-78" id="h14-0-78" class="d">-	var deps []string
</a><a href="#h14-0-79" id="h14-0-79" class="d">-	for _, pkg := range want {
</a><a href="#h14-0-80" id="h14-0-80" class="d">-		deps = append(deps,
</a><a href="#h14-0-81" id="h14-0-81" class="d">-			fmt.Sprintf(&quot;/%s:go_default_library&quot;,
</a><a href="#h14-0-82" id="h14-0-82" class="d">-				strings.TrimPrefix(pkg, *packagePrefix)))
</a><a href="#h14-0-83" id="h14-0-83" class="d">-	}
</a><a href="#h14-0-84" id="h14-0-84" class="d">-	sort.Strings(deps)
</a><a href="#h14-0-85" id="h14-0-85" class="d">-	return deps, nil
</a><a href="#h14-0-86" id="h14-0-86" class="d">-}
</a><a href="#h14-0-87" id="h14-0-87" class="d">-
</a><a href="#h14-0-88" id="h14-0-88" class="d">-func genBuild(ctx *build.Context, d string) error {
</a><a href="#h14-0-89" id="h14-0-89" class="d">-	pkg, e := ctx.ImportDir(d, 0)
</a><a href="#h14-0-90" id="h14-0-90" class="d">-	if e != nil {
</a><a href="#h14-0-91" id="h14-0-91" class="d">-		return e
</a><a href="#h14-0-92" id="h14-0-92" class="d">-	}
</a><a href="#h14-0-93" id="h14-0-93" class="d">-	root, e := filepath.Abs(pkg.Dir)
</a><a href="#h14-0-94" id="h14-0-94" class="d">-	if e != nil {
</a><a href="#h14-0-95" id="h14-0-95" class="d">-		return e
</a><a href="#h14-0-96" id="h14-0-96" class="d">-	}
</a><a href="#h14-0-97" id="h14-0-97" class="d">-	deps, e := extractDeps(ctx, root, pkg.Imports)
</a><a href="#h14-0-98" id="h14-0-98" class="d">-	if e != nil {
</a><a href="#h14-0-99" id="h14-0-99" class="d">-		return e
</a><a href="#h14-0-100" id="h14-0-100" class="d">-	}
</a><a href="#h14-0-101" id="h14-0-101" class="d">-	testDeps, e := extractDeps(ctx, root, pkg.TestImports)
</a><a href="#h14-0-102" id="h14-0-102" class="d">-	if e != nil {
</a><a href="#h14-0-103" id="h14-0-103" class="d">-		return e
</a><a href="#h14-0-104" id="h14-0-104" class="d">-	}
</a><a href="#h14-0-105" id="h14-0-105" class="d">-	context := Context{
</a><a href="#h14-0-106" id="h14-0-106" class="d">-		GoFiles:     pkg.GoFiles,
</a><a href="#h14-0-107" id="h14-0-107" class="d">-		TestGoFiles: pkg.TestGoFiles,
</a><a href="#h14-0-108" id="h14-0-108" class="d">-
</a><a href="#h14-0-109" id="h14-0-109" class="d">-		Deps:     deps,
</a><a href="#h14-0-110" id="h14-0-110" class="d">-		TestDeps: testDeps,
</a><a href="#h14-0-111" id="h14-0-111" class="d">-
</a><a href="#h14-0-112" id="h14-0-112" class="d">-		IsBinary: pkg.IsCommand(),
</a><a href="#h14-0-113" id="h14-0-113" class="d">-		Package:  pkg.Name,
</a><a href="#h14-0-114" id="h14-0-114" class="d">-		DirName:  filepath.Base(pkg.Dir),
</a><a href="#h14-0-115" id="h14-0-115" class="d">-	}
</a><a href="#h14-0-116" id="h14-0-116" class="d">-
</a><a href="#h14-0-117" id="h14-0-117" class="d">-	var buf bytes.Buffer
</a><a href="#h14-0-118" id="h14-0-118" class="d">-	e = tpl.Execute(&amp;buf, &amp;context)
</a><a href="#h14-0-119" id="h14-0-119" class="d">-	if e != nil {
</a><a href="#h14-0-120" id="h14-0-120" class="d">-		return e
</a><a href="#h14-0-121" id="h14-0-121" class="d">-	}
</a><a href="#h14-0-122" id="h14-0-122" class="d">-	return ioutil.WriteFile(filepath.Join(d, &quot;BUILD&quot;), buf.Bytes(), 0644)
</a><a href="#h14-0-123" id="h14-0-123" class="d">-}
</a><a href="#h14-0-124" id="h14-0-124" class="d">-
</a><a href="#h14-0-125" id="h14-0-125" class="d">-func collectDirs(root string) ([]string, error) {
</a><a href="#h14-0-126" id="h14-0-126" class="d">-	out := make(map[string]struct{})
</a><a href="#h14-0-127" id="h14-0-127" class="d">-	e := filepath.Walk(root, func(path string, info os.FileInfo, err error) error {
</a><a href="#h14-0-128" id="h14-0-128" class="d">-		if !info.IsDir() &amp;&amp; strings.HasSuffix(path, &quot;.go&quot;) {
</a><a href="#h14-0-129" id="h14-0-129" class="d">-			out[filepath.Dir(path)] = struct{}{}
</a><a href="#h14-0-130" id="h14-0-130" class="d">-		}
</a><a href="#h14-0-131" id="h14-0-131" class="d">-		return nil
</a><a href="#h14-0-132" id="h14-0-132" class="d">-	})
</a><a href="#h14-0-133" id="h14-0-133" class="d">-	if e != nil {
</a><a href="#h14-0-134" id="h14-0-134" class="d">-		return nil, e
</a><a href="#h14-0-135" id="h14-0-135" class="d">-	}
</a><a href="#h14-0-136" id="h14-0-136" class="d">-	var dirs []string
</a><a href="#h14-0-137" id="h14-0-137" class="d">-	for d := range out {
</a><a href="#h14-0-138" id="h14-0-138" class="d">-		if d == &quot;tools&quot; {
</a><a href="#h14-0-139" id="h14-0-139" class="d">-			continue
</a><a href="#h14-0-140" id="h14-0-140" class="d">-		}
</a><a href="#h14-0-141" id="h14-0-141" class="d">-		dirs = append(dirs, d)
</a><a href="#h14-0-142" id="h14-0-142" class="d">-	}
</a><a href="#h14-0-143" id="h14-0-143" class="d">-	return dirs, nil
</a><a href="#h14-0-144" id="h14-0-144" class="d">-}
</a><a href="#h14-0-145" id="h14-0-145" class="d">-
</a><a href="#h14-0-146" id="h14-0-146" class="d">-type Context struct {
</a><a href="#h14-0-147" id="h14-0-147" class="d">-	IsBinary bool
</a><a href="#h14-0-148" id="h14-0-148" class="d">-	Package  string
</a><a href="#h14-0-149" id="h14-0-149" class="d">-	DirName  string
</a><a href="#h14-0-150" id="h14-0-150" class="d">-
</a><a href="#h14-0-151" id="h14-0-151" class="d">-	GoFiles     []string
</a><a href="#h14-0-152" id="h14-0-152" class="d">-	TestGoFiles []string
</a><a href="#h14-0-153" id="h14-0-153" class="d">-
</a><a href="#h14-0-154" id="h14-0-154" class="d">-	Deps     []string
</a><a href="#h14-0-155" id="h14-0-155" class="d">-	TestDeps []string
</a><a href="#h14-0-156" id="h14-0-156" class="d">-}
</a><a href="#h14-0-157" id="h14-0-157" class="d">-
</a><a href="#h14-0-158" id="h14-0-158" class="d">-const BuildTemplate = `
</a><a href="#h14-0-159" id="h14-0-159" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h14-0-160" id="h14-0-160" class="d">-  &quot;go_binary&quot;,
</a><a href="#h14-0-161" id="h14-0-161" class="d">-  &quot;go_library&quot;,
</a><a href="#h14-0-162" id="h14-0-162" class="d">-  &quot;go_test&quot;,
</a><a href="#h14-0-163" id="h14-0-163" class="d">-)
</a><a href="#h14-0-164" id="h14-0-164" class="d">-
</a><a href="#h14-0-165" id="h14-0-165" class="d">-{{if .IsBinary -}}
</a><a href="#h14-0-166" id="h14-0-166" class="d">-go_binary(
</a><a href="#h14-0-167" id="h14-0-167" class="d">-{{else -}}
</a><a href="#h14-0-168" id="h14-0-168" class="d">-go_library(
</a><a href="#h14-0-169" id="h14-0-169" class="d">-{{end -}}
</a><a href="#h14-0-170" id="h14-0-170" class="d">-  name = &quot;{{if .IsBinary }}{{.DirName}}{{else}}go_default_library{{end}}&quot;,
</a><a href="#h14-0-171" id="h14-0-171" class="d">-  srcs = [
</a><a href="#h14-0-172" id="h14-0-172" class="d">-{{- range .GoFiles }}
</a><a href="#h14-0-173" id="h14-0-173" class="d">-    &quot;{{.}}&quot;,
</a><a href="#h14-0-174" id="h14-0-174" class="d">-{{- end}}
</a><a href="#h14-0-175" id="h14-0-175" class="d">-  ],
</a><a href="#h14-0-176" id="h14-0-176" class="d">-  deps = [
</a><a href="#h14-0-177" id="h14-0-177" class="d">-{{- range .Deps }}
</a><a href="#h14-0-178" id="h14-0-178" class="d">-    &quot;{{.}}&quot;,
</a><a href="#h14-0-179" id="h14-0-179" class="d">-{{- end }}
</a><a href="#h14-0-180" id="h14-0-180" class="d">-  ],
</a><a href="#h14-0-181" id="h14-0-181" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h14-0-182" id="h14-0-182" class="d">-)
</a><a href="#h14-0-183" id="h14-0-183" class="d">-
</a><a href="#h14-0-184" id="h14-0-184" class="d">-{{if .TestGoFiles}}
</a><a href="#h14-0-185" id="h14-0-185" class="d">-go_test(
</a><a href="#h14-0-186" id="h14-0-186" class="d">-  name = &quot;go_default_test&quot;,
</a><a href="#h14-0-187" id="h14-0-187" class="d">-  srcs = [
</a><a href="#h14-0-188" id="h14-0-188" class="d">-  {{- range .TestGoFiles}}
</a><a href="#h14-0-189" id="h14-0-189" class="d">-    &quot;{{.}}&quot;,
</a><a href="#h14-0-190" id="h14-0-190" class="d">-  {{- end}}
</a><a href="#h14-0-191" id="h14-0-191" class="d">-  ],
</a><a href="#h14-0-192" id="h14-0-192" class="d">-  deps = [
</a><a href="#h14-0-193" id="h14-0-193" class="d">-{{- range .TestDeps }}
</a><a href="#h14-0-194" id="h14-0-194" class="d">-    &quot;{{.}}&quot;,
</a><a href="#h14-0-195" id="h14-0-195" class="d">-{{- end }}
</a><a href="#h14-0-196" id="h14-0-196" class="d">-  ],
</a><a href="#h14-0-197" id="h14-0-197" class="d">-  library = &quot;:go_default_library&quot;,
</a><a href="#h14-0-198" id="h14-0-198" class="d">-)
</a><a href="#h14-0-199" id="h14-0-199" class="d">-{{end}}
</a><a href="#h14-0-200" id="h14-0-200" class="d">-`
</a><b>diff --git a/<a id="h15" href="../file/vendor/github.com/bmizerany/pat/BUILD">vendor/github.com/bmizerany/pat/BUILD</a> b/<a href="../file/vendor/github.com/bmizerany/pat/BUILD">vendor/github.com/bmizerany/pat/BUILD</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h15-0-0" id="h15-0-0" class="d">-
</a><a href="#h15-0-1" id="h15-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h15-0-2" id="h15-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h15-0-3" id="h15-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h15-0-4" id="h15-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h15-0-5" id="h15-0-5" class="d">-)
</a><a href="#h15-0-6" id="h15-0-6" class="d">-
</a><a href="#h15-0-7" id="h15-0-7" class="d">-go_library(
</a><a href="#h15-0-8" id="h15-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h15-0-9" id="h15-0-9" class="d">-  srcs = [
</a><a href="#h15-0-10" id="h15-0-10" class="d">-    &quot;mux.go&quot;,
</a><a href="#h15-0-11" id="h15-0-11" class="d">-  ],
</a><a href="#h15-0-12" id="h15-0-12" class="d">-  deps = [
</a><a href="#h15-0-13" id="h15-0-13" class="d">-  ],
</a><a href="#h15-0-14" id="h15-0-14" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h15-0-15" id="h15-0-15" class="d">-)
</a><a href="#h15-0-16" id="h15-0-16" class="d">-
</a><a href="#h15-0-17" id="h15-0-17" class="d">-
</a><b>diff --git a/<a id="h16" href="../file/vendor/github.com/bmizerany/pat/README.md">vendor/github.com/bmizerany/pat/README.md</a> b/<a href="../file/vendor/github.com/bmizerany/pat/README.md">vendor/github.com/bmizerany/pat/README.md</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -1,82 +0,0 @@
</a><a href="#h16-0-0" id="h16-0-0" class="d">-# pat (formerly pat.go) - A Sinatra style pattern muxer for Go&#39;s net/http library
</a><a href="#h16-0-1" id="h16-0-1" class="d">-
</a><a href="#h16-0-2" id="h16-0-2" class="d">-[![GoDoc](https://godoc.org/github.com/bmizerany/pat?status.svg)](https://godoc.org/github.com/bmizerany/pat) 
</a><a href="#h16-0-3" id="h16-0-3" class="d">-
</a><a href="#h16-0-4" id="h16-0-4" class="d">-## INSTALL
</a><a href="#h16-0-5" id="h16-0-5" class="d">-
</a><a href="#h16-0-6" id="h16-0-6" class="d">-	$ go get github.com/bmizerany/pat
</a><a href="#h16-0-7" id="h16-0-7" class="d">-
</a><a href="#h16-0-8" id="h16-0-8" class="d">-## USE
</a><a href="#h16-0-9" id="h16-0-9" class="d">-
</a><a href="#h16-0-10" id="h16-0-10" class="d">-```go
</a><a href="#h16-0-11" id="h16-0-11" class="d">-package main
</a><a href="#h16-0-12" id="h16-0-12" class="d">-
</a><a href="#h16-0-13" id="h16-0-13" class="d">-import (
</a><a href="#h16-0-14" id="h16-0-14" class="d">-	&quot;io&quot;
</a><a href="#h16-0-15" id="h16-0-15" class="d">-	&quot;net/http&quot;
</a><a href="#h16-0-16" id="h16-0-16" class="d">-	&quot;github.com/bmizerany/pat&quot;
</a><a href="#h16-0-17" id="h16-0-17" class="d">-	&quot;log&quot;
</a><a href="#h16-0-18" id="h16-0-18" class="d">-)
</a><a href="#h16-0-19" id="h16-0-19" class="d">-
</a><a href="#h16-0-20" id="h16-0-20" class="d">-// hello world, the web server
</a><a href="#h16-0-21" id="h16-0-21" class="d">-func HelloServer(w http.ResponseWriter, req *http.Request) {
</a><a href="#h16-0-22" id="h16-0-22" class="d">-	io.WriteString(w, &quot;hello, &quot;+req.URL.Query().Get(&quot;:name&quot;)+&quot;!\n&quot;)
</a><a href="#h16-0-23" id="h16-0-23" class="d">-}
</a><a href="#h16-0-24" id="h16-0-24" class="d">-
</a><a href="#h16-0-25" id="h16-0-25" class="d">-func main() {
</a><a href="#h16-0-26" id="h16-0-26" class="d">-	m := pat.New()
</a><a href="#h16-0-27" id="h16-0-27" class="d">-	m.Get(&quot;/hello/:name&quot;, http.HandlerFunc(HelloServer))
</a><a href="#h16-0-28" id="h16-0-28" class="d">-
</a><a href="#h16-0-29" id="h16-0-29" class="d">-	// Register this pat with the default serve mux so that other packages
</a><a href="#h16-0-30" id="h16-0-30" class="d">-	// may also be exported. (i.e. /debug/pprof/*)
</a><a href="#h16-0-31" id="h16-0-31" class="d">-	http.Handle(&quot;/&quot;, m)
</a><a href="#h16-0-32" id="h16-0-32" class="d">-	err := http.ListenAndServe(&quot;:12345&quot;, nil)
</a><a href="#h16-0-33" id="h16-0-33" class="d">-	if err != nil {
</a><a href="#h16-0-34" id="h16-0-34" class="d">-		log.Fatal(&quot;ListenAndServe: &quot;, err)
</a><a href="#h16-0-35" id="h16-0-35" class="d">-	}
</a><a href="#h16-0-36" id="h16-0-36" class="d">-}
</a><a href="#h16-0-37" id="h16-0-37" class="d">-```
</a><a href="#h16-0-38" id="h16-0-38" class="d">-
</a><a href="#h16-0-39" id="h16-0-39" class="d">-It&#39;s that simple.
</a><a href="#h16-0-40" id="h16-0-40" class="d">-
</a><a href="#h16-0-41" id="h16-0-41" class="d">-For more information, see:
</a><a href="#h16-0-42" id="h16-0-42" class="d">-http://godoc.org/github.com/bmizerany/pat
</a><a href="#h16-0-43" id="h16-0-43" class="d">-
</a><a href="#h16-0-44" id="h16-0-44" class="d">-## CONTRIBUTORS
</a><a href="#h16-0-45" id="h16-0-45" class="d">-
</a><a href="#h16-0-46" id="h16-0-46" class="d">-* Alexis Svinartchouk (@zvin)
</a><a href="#h16-0-47" id="h16-0-47" class="d">-* Blake Mizerany (@bmizerany)
</a><a href="#h16-0-48" id="h16-0-48" class="d">-* Brian Ketelsen (@bketelsen)
</a><a href="#h16-0-49" id="h16-0-49" class="d">-* Bryan Matsuo (@bmatsuo)
</a><a href="#h16-0-50" id="h16-0-50" class="d">-* Caleb Spare (@cespare)
</a><a href="#h16-0-51" id="h16-0-51" class="d">-* Evan Shaw (@edsrzf)
</a><a href="#h16-0-52" id="h16-0-52" class="d">-* Gary Burd (@garyburd)
</a><a href="#h16-0-53" id="h16-0-53" class="d">-* George Rogers (@georgerogers42)
</a><a href="#h16-0-54" id="h16-0-54" class="d">-* Keith Rarick (@kr)
</a><a href="#h16-0-55" id="h16-0-55" class="d">-* Matt Williams (@mattyw)
</a><a href="#h16-0-56" id="h16-0-56" class="d">-* Mike Stipicevic (@wickedchicken)
</a><a href="#h16-0-57" id="h16-0-57" class="d">-* Nick Saika (@nesv)
</a><a href="#h16-0-58" id="h16-0-58" class="d">-* Timothy Cyrus (@tcyrus)
</a><a href="#h16-0-59" id="h16-0-59" class="d">-* binqin (@binku87)
</a><a href="#h16-0-60" id="h16-0-60" class="d">-
</a><a href="#h16-0-61" id="h16-0-61" class="d">-## LICENSE
</a><a href="#h16-0-62" id="h16-0-62" class="d">-
</a><a href="#h16-0-63" id="h16-0-63" class="d">-Copyright (C) 2012 by Keith Rarick, Blake Mizerany
</a><a href="#h16-0-64" id="h16-0-64" class="d">-
</a><a href="#h16-0-65" id="h16-0-65" class="d">-Permission is hereby granted, free of charge, to any person obtaining a copy
</a><a href="#h16-0-66" id="h16-0-66" class="d">-of this software and associated documentation files (the &quot;Software&quot;), to deal
</a><a href="#h16-0-67" id="h16-0-67" class="d">-in the Software without restriction, including without limitation the rights
</a><a href="#h16-0-68" id="h16-0-68" class="d">-to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
</a><a href="#h16-0-69" id="h16-0-69" class="d">-copies of the Software, and to permit persons to whom the Software is
</a><a href="#h16-0-70" id="h16-0-70" class="d">-furnished to do so, subject to the following conditions:
</a><a href="#h16-0-71" id="h16-0-71" class="d">-
</a><a href="#h16-0-72" id="h16-0-72" class="d">-The above copyright notice and this permission notice shall be included in
</a><a href="#h16-0-73" id="h16-0-73" class="d">-all copies or substantial portions of the Software.
</a><a href="#h16-0-74" id="h16-0-74" class="d">-
</a><a href="#h16-0-75" id="h16-0-75" class="d">-THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</a><a href="#h16-0-76" id="h16-0-76" class="d">-IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
</a><a href="#h16-0-77" id="h16-0-77" class="d">-FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
</a><a href="#h16-0-78" id="h16-0-78" class="d">-AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
</a><a href="#h16-0-79" id="h16-0-79" class="d">-LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
</a><a href="#h16-0-80" id="h16-0-80" class="d">-OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
</a><a href="#h16-0-81" id="h16-0-81" class="d">-THE SOFTWARE.
</a><b>diff --git a/<a id="h17" href="../file/vendor/github.com/bmizerany/pat/mux.go">vendor/github.com/bmizerany/pat/mux.go</a> b/<a href="../file/vendor/github.com/bmizerany/pat/mux.go">vendor/github.com/bmizerany/pat/mux.go</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -1,310 +0,0 @@
</a><a href="#h17-0-0" id="h17-0-0" class="d">-// Package pat implements a simple URL pattern muxer
</a><a href="#h17-0-1" id="h17-0-1" class="d">-package pat
</a><a href="#h17-0-2" id="h17-0-2" class="d">-
</a><a href="#h17-0-3" id="h17-0-3" class="d">-import (
</a><a href="#h17-0-4" id="h17-0-4" class="d">-	&quot;net/http&quot;
</a><a href="#h17-0-5" id="h17-0-5" class="d">-	&quot;net/url&quot;
</a><a href="#h17-0-6" id="h17-0-6" class="d">-	&quot;strings&quot;
</a><a href="#h17-0-7" id="h17-0-7" class="d">-)
</a><a href="#h17-0-8" id="h17-0-8" class="d">-
</a><a href="#h17-0-9" id="h17-0-9" class="d">-// PatternServeMux is an HTTP request multiplexer. It matches the URL of each
</a><a href="#h17-0-10" id="h17-0-10" class="d">-// incoming request against a list of registered patterns with their associated
</a><a href="#h17-0-11" id="h17-0-11" class="d">-// methods and calls the handler for the pattern that most closely matches the
</a><a href="#h17-0-12" id="h17-0-12" class="d">-// URL.
</a><a href="#h17-0-13" id="h17-0-13" class="d">-//
</a><a href="#h17-0-14" id="h17-0-14" class="d">-// Pattern matching attempts each pattern in the order in which they were
</a><a href="#h17-0-15" id="h17-0-15" class="d">-// registered.
</a><a href="#h17-0-16" id="h17-0-16" class="d">-//
</a><a href="#h17-0-17" id="h17-0-17" class="d">-// Patterns may contain literals or captures. Capture names start with a colon
</a><a href="#h17-0-18" id="h17-0-18" class="d">-// and consist of letters A-Z, a-z, _, and 0-9. The rest of the pattern
</a><a href="#h17-0-19" id="h17-0-19" class="d">-// matches literally. The portion of the URL matching each name ends with an
</a><a href="#h17-0-20" id="h17-0-20" class="d">-// occurrence of the character in the pattern immediately following the name,
</a><a href="#h17-0-21" id="h17-0-21" class="d">-// or a /, whichever comes first. It is possible for a name to match the empty
</a><a href="#h17-0-22" id="h17-0-22" class="d">-// string.
</a><a href="#h17-0-23" id="h17-0-23" class="d">-//
</a><a href="#h17-0-24" id="h17-0-24" class="d">-// Example pattern with one capture:
</a><a href="#h17-0-25" id="h17-0-25" class="d">-//   /hello/:name
</a><a href="#h17-0-26" id="h17-0-26" class="d">-// Will match:
</a><a href="#h17-0-27" id="h17-0-27" class="d">-//   /hello/blake
</a><a href="#h17-0-28" id="h17-0-28" class="d">-//   /hello/keith
</a><a href="#h17-0-29" id="h17-0-29" class="d">-// Will not match:
</a><a href="#h17-0-30" id="h17-0-30" class="d">-//   /hello/blake/
</a><a href="#h17-0-31" id="h17-0-31" class="d">-//   /hello/blake/foo
</a><a href="#h17-0-32" id="h17-0-32" class="d">-//   /foo
</a><a href="#h17-0-33" id="h17-0-33" class="d">-//   /foo/bar
</a><a href="#h17-0-34" id="h17-0-34" class="d">-//
</a><a href="#h17-0-35" id="h17-0-35" class="d">-// Example 2:
</a><a href="#h17-0-36" id="h17-0-36" class="d">-//    /hello/:name/
</a><a href="#h17-0-37" id="h17-0-37" class="d">-// Will match:
</a><a href="#h17-0-38" id="h17-0-38" class="d">-//   /hello/blake/
</a><a href="#h17-0-39" id="h17-0-39" class="d">-//   /hello/keith/foo
</a><a href="#h17-0-40" id="h17-0-40" class="d">-//   /hello/blake
</a><a href="#h17-0-41" id="h17-0-41" class="d">-//   /hello/keith
</a><a href="#h17-0-42" id="h17-0-42" class="d">-// Will not match:
</a><a href="#h17-0-43" id="h17-0-43" class="d">-//   /foo
</a><a href="#h17-0-44" id="h17-0-44" class="d">-//   /foo/bar
</a><a href="#h17-0-45" id="h17-0-45" class="d">-//
</a><a href="#h17-0-46" id="h17-0-46" class="d">-// A pattern ending with a slash will add an implicit redirect for its non-slash
</a><a href="#h17-0-47" id="h17-0-47" class="d">-// version. For example: Get(&quot;/foo/&quot;, handler) also registers
</a><a href="#h17-0-48" id="h17-0-48" class="d">-// Get(&quot;/foo&quot;, handler) as a redirect. You may override it by registering
</a><a href="#h17-0-49" id="h17-0-49" class="d">-// Get(&quot;/foo&quot;, anotherhandler) before the slash version.
</a><a href="#h17-0-50" id="h17-0-50" class="d">-//
</a><a href="#h17-0-51" id="h17-0-51" class="d">-// Retrieve the capture from the r.URL.Query().Get(&quot;:name&quot;) in a handler (note
</a><a href="#h17-0-52" id="h17-0-52" class="d">-// the colon). If a capture name appears more than once, the additional values
</a><a href="#h17-0-53" id="h17-0-53" class="d">-// are appended to the previous values (see
</a><a href="#h17-0-54" id="h17-0-54" class="d">-// http://golang.org/pkg/net/url/#Values)
</a><a href="#h17-0-55" id="h17-0-55" class="d">-//
</a><a href="#h17-0-56" id="h17-0-56" class="d">-// A trivial example server is:
</a><a href="#h17-0-57" id="h17-0-57" class="d">-//
</a><a href="#h17-0-58" id="h17-0-58" class="d">-//	package main
</a><a href="#h17-0-59" id="h17-0-59" class="d">-//
</a><a href="#h17-0-60" id="h17-0-60" class="d">-//	import (
</a><a href="#h17-0-61" id="h17-0-61" class="d">-//		&quot;io&quot;
</a><a href="#h17-0-62" id="h17-0-62" class="d">-//		&quot;net/http&quot;
</a><a href="#h17-0-63" id="h17-0-63" class="d">-//		&quot;github.com/bmizerany/pat&quot;
</a><a href="#h17-0-64" id="h17-0-64" class="d">-//		&quot;log&quot;
</a><a href="#h17-0-65" id="h17-0-65" class="d">-//	)
</a><a href="#h17-0-66" id="h17-0-66" class="d">-//
</a><a href="#h17-0-67" id="h17-0-67" class="d">-//	// hello world, the web server
</a><a href="#h17-0-68" id="h17-0-68" class="d">-//	func HelloServer(w http.ResponseWriter, req *http.Request) {
</a><a href="#h17-0-69" id="h17-0-69" class="d">-//		io.WriteString(w, &quot;hello, &quot;+req.URL.Query().Get(&quot;:name&quot;)+&quot;!\n&quot;)
</a><a href="#h17-0-70" id="h17-0-70" class="d">-//	}
</a><a href="#h17-0-71" id="h17-0-71" class="d">-//
</a><a href="#h17-0-72" id="h17-0-72" class="d">-//	func main() {
</a><a href="#h17-0-73" id="h17-0-73" class="d">-//		m := pat.New()
</a><a href="#h17-0-74" id="h17-0-74" class="d">-//		m.Get(&quot;/hello/:name&quot;, http.HandlerFunc(HelloServer))
</a><a href="#h17-0-75" id="h17-0-75" class="d">-//
</a><a href="#h17-0-76" id="h17-0-76" class="d">-//		// Register this pat with the default serve mux so that other packages
</a><a href="#h17-0-77" id="h17-0-77" class="d">-//		// may also be exported. (i.e. /debug/pprof/*)
</a><a href="#h17-0-78" id="h17-0-78" class="d">-//		http.Handle(&quot;/&quot;, m)
</a><a href="#h17-0-79" id="h17-0-79" class="d">-//		err := http.ListenAndServe(&quot;:12345&quot;, nil)
</a><a href="#h17-0-80" id="h17-0-80" class="d">-//		if err != nil {
</a><a href="#h17-0-81" id="h17-0-81" class="d">-//			log.Fatal(&quot;ListenAndServe: &quot;, err)
</a><a href="#h17-0-82" id="h17-0-82" class="d">-//		}
</a><a href="#h17-0-83" id="h17-0-83" class="d">-//	}
</a><a href="#h17-0-84" id="h17-0-84" class="d">-//
</a><a href="#h17-0-85" id="h17-0-85" class="d">-// When &quot;Method Not Allowed&quot;:
</a><a href="#h17-0-86" id="h17-0-86" class="d">-//
</a><a href="#h17-0-87" id="h17-0-87" class="d">-// Pat knows what methods are allowed given a pattern and a URI. For
</a><a href="#h17-0-88" id="h17-0-88" class="d">-// convenience, PatternServeMux will add the Allow header for requests that
</a><a href="#h17-0-89" id="h17-0-89" class="d">-// match a pattern for a method other than the method requested and set the
</a><a href="#h17-0-90" id="h17-0-90" class="d">-// Status to &quot;405 Method Not Allowed&quot;.
</a><a href="#h17-0-91" id="h17-0-91" class="d">-//
</a><a href="#h17-0-92" id="h17-0-92" class="d">-// If the NotFound handler is set, then it is used whenever the pattern doesn&#39;t
</a><a href="#h17-0-93" id="h17-0-93" class="d">-// match the request path for the current method (and the Allow header is not
</a><a href="#h17-0-94" id="h17-0-94" class="d">-// altered).
</a><a href="#h17-0-95" id="h17-0-95" class="d">-type PatternServeMux struct {
</a><a href="#h17-0-96" id="h17-0-96" class="d">-	// NotFound, if set, is used whenever the request doesn&#39;t match any
</a><a href="#h17-0-97" id="h17-0-97" class="d">-	// pattern for its method. NotFound should be set before serving any
</a><a href="#h17-0-98" id="h17-0-98" class="d">-	// requests.
</a><a href="#h17-0-99" id="h17-0-99" class="d">-	NotFound http.Handler
</a><a href="#h17-0-100" id="h17-0-100" class="d">-	handlers map[string][]*patHandler
</a><a href="#h17-0-101" id="h17-0-101" class="d">-}
</a><a href="#h17-0-102" id="h17-0-102" class="d">-
</a><a href="#h17-0-103" id="h17-0-103" class="d">-// New returns a new PatternServeMux.
</a><a href="#h17-0-104" id="h17-0-104" class="d">-func New() *PatternServeMux {
</a><a href="#h17-0-105" id="h17-0-105" class="d">-	return &amp;PatternServeMux{handlers: make(map[string][]*patHandler)}
</a><a href="#h17-0-106" id="h17-0-106" class="d">-}
</a><a href="#h17-0-107" id="h17-0-107" class="d">-
</a><a href="#h17-0-108" id="h17-0-108" class="d">-// ServeHTTP matches r.URL.Path against its routing table using the rules
</a><a href="#h17-0-109" id="h17-0-109" class="d">-// described above.
</a><a href="#h17-0-110" id="h17-0-110" class="d">-func (p *PatternServeMux) ServeHTTP(w http.ResponseWriter, r *http.Request) {
</a><a href="#h17-0-111" id="h17-0-111" class="d">-	for _, ph := range p.handlers[r.Method] {
</a><a href="#h17-0-112" id="h17-0-112" class="d">-		if params, ok := ph.try(r.URL.Path); ok {
</a><a href="#h17-0-113" id="h17-0-113" class="d">-			if len(params) &gt; 0 &amp;&amp; !ph.redirect {
</a><a href="#h17-0-114" id="h17-0-114" class="d">-				r.URL.RawQuery = url.Values(params).Encode() + &quot;&amp;&quot; + r.URL.RawQuery
</a><a href="#h17-0-115" id="h17-0-115" class="d">-			}
</a><a href="#h17-0-116" id="h17-0-116" class="d">-			ph.ServeHTTP(w, r)
</a><a href="#h17-0-117" id="h17-0-117" class="d">-			return
</a><a href="#h17-0-118" id="h17-0-118" class="d">-		}
</a><a href="#h17-0-119" id="h17-0-119" class="d">-	}
</a><a href="#h17-0-120" id="h17-0-120" class="d">-
</a><a href="#h17-0-121" id="h17-0-121" class="d">-	if p.NotFound != nil {
</a><a href="#h17-0-122" id="h17-0-122" class="d">-		p.NotFound.ServeHTTP(w, r)
</a><a href="#h17-0-123" id="h17-0-123" class="d">-		return
</a><a href="#h17-0-124" id="h17-0-124" class="d">-	}
</a><a href="#h17-0-125" id="h17-0-125" class="d">-
</a><a href="#h17-0-126" id="h17-0-126" class="d">-	allowed := make([]string, 0, len(p.handlers))
</a><a href="#h17-0-127" id="h17-0-127" class="d">-	for meth, handlers := range p.handlers {
</a><a href="#h17-0-128" id="h17-0-128" class="d">-		if meth == r.Method {
</a><a href="#h17-0-129" id="h17-0-129" class="d">-			continue
</a><a href="#h17-0-130" id="h17-0-130" class="d">-		}
</a><a href="#h17-0-131" id="h17-0-131" class="d">-
</a><a href="#h17-0-132" id="h17-0-132" class="d">-		for _, ph := range handlers {
</a><a href="#h17-0-133" id="h17-0-133" class="d">-			if _, ok := ph.try(r.URL.Path); ok {
</a><a href="#h17-0-134" id="h17-0-134" class="d">-				allowed = append(allowed, meth)
</a><a href="#h17-0-135" id="h17-0-135" class="d">-			}
</a><a href="#h17-0-136" id="h17-0-136" class="d">-		}
</a><a href="#h17-0-137" id="h17-0-137" class="d">-	}
</a><a href="#h17-0-138" id="h17-0-138" class="d">-
</a><a href="#h17-0-139" id="h17-0-139" class="d">-	if len(allowed) == 0 {
</a><a href="#h17-0-140" id="h17-0-140" class="d">-		http.NotFound(w, r)
</a><a href="#h17-0-141" id="h17-0-141" class="d">-		return
</a><a href="#h17-0-142" id="h17-0-142" class="d">-	}
</a><a href="#h17-0-143" id="h17-0-143" class="d">-
</a><a href="#h17-0-144" id="h17-0-144" class="d">-	w.Header().Add(&quot;Allow&quot;, strings.Join(allowed, &quot;, &quot;))
</a><a href="#h17-0-145" id="h17-0-145" class="d">-	http.Error(w, &quot;Method Not Allowed&quot;, 405)
</a><a href="#h17-0-146" id="h17-0-146" class="d">-}
</a><a href="#h17-0-147" id="h17-0-147" class="d">-
</a><a href="#h17-0-148" id="h17-0-148" class="d">-// Head will register a pattern with a handler for HEAD requests.
</a><a href="#h17-0-149" id="h17-0-149" class="d">-func (p *PatternServeMux) Head(pat string, h http.Handler) {
</a><a href="#h17-0-150" id="h17-0-150" class="d">-	p.Add(&quot;HEAD&quot;, pat, h)
</a><a href="#h17-0-151" id="h17-0-151" class="d">-}
</a><a href="#h17-0-152" id="h17-0-152" class="d">-
</a><a href="#h17-0-153" id="h17-0-153" class="d">-// Get will register a pattern with a handler for GET requests.
</a><a href="#h17-0-154" id="h17-0-154" class="d">-// It also registers pat for HEAD requests. If this needs to be overridden, use
</a><a href="#h17-0-155" id="h17-0-155" class="d">-// Head before Get with pat.
</a><a href="#h17-0-156" id="h17-0-156" class="d">-func (p *PatternServeMux) Get(pat string, h http.Handler) {
</a><a href="#h17-0-157" id="h17-0-157" class="d">-	p.Add(&quot;HEAD&quot;, pat, h)
</a><a href="#h17-0-158" id="h17-0-158" class="d">-	p.Add(&quot;GET&quot;, pat, h)
</a><a href="#h17-0-159" id="h17-0-159" class="d">-}
</a><a href="#h17-0-160" id="h17-0-160" class="d">-
</a><a href="#h17-0-161" id="h17-0-161" class="d">-// Post will register a pattern with a handler for POST requests.
</a><a href="#h17-0-162" id="h17-0-162" class="d">-func (p *PatternServeMux) Post(pat string, h http.Handler) {
</a><a href="#h17-0-163" id="h17-0-163" class="d">-	p.Add(&quot;POST&quot;, pat, h)
</a><a href="#h17-0-164" id="h17-0-164" class="d">-}
</a><a href="#h17-0-165" id="h17-0-165" class="d">-
</a><a href="#h17-0-166" id="h17-0-166" class="d">-// Put will register a pattern with a handler for PUT requests.
</a><a href="#h17-0-167" id="h17-0-167" class="d">-func (p *PatternServeMux) Put(pat string, h http.Handler) {
</a><a href="#h17-0-168" id="h17-0-168" class="d">-	p.Add(&quot;PUT&quot;, pat, h)
</a><a href="#h17-0-169" id="h17-0-169" class="d">-}
</a><a href="#h17-0-170" id="h17-0-170" class="d">-
</a><a href="#h17-0-171" id="h17-0-171" class="d">-// Del will register a pattern with a handler for DELETE requests.
</a><a href="#h17-0-172" id="h17-0-172" class="d">-func (p *PatternServeMux) Del(pat string, h http.Handler) {
</a><a href="#h17-0-173" id="h17-0-173" class="d">-	p.Add(&quot;DELETE&quot;, pat, h)
</a><a href="#h17-0-174" id="h17-0-174" class="d">-}
</a><a href="#h17-0-175" id="h17-0-175" class="d">-
</a><a href="#h17-0-176" id="h17-0-176" class="d">-// Options will register a pattern with a handler for OPTIONS requests.
</a><a href="#h17-0-177" id="h17-0-177" class="d">-func (p *PatternServeMux) Options(pat string, h http.Handler) {
</a><a href="#h17-0-178" id="h17-0-178" class="d">-	p.Add(&quot;OPTIONS&quot;, pat, h)
</a><a href="#h17-0-179" id="h17-0-179" class="d">-}
</a><a href="#h17-0-180" id="h17-0-180" class="d">-
</a><a href="#h17-0-181" id="h17-0-181" class="d">-// Patch will register a pattern with a handler for PATCH requests.
</a><a href="#h17-0-182" id="h17-0-182" class="d">-func (p *PatternServeMux) Patch(pat string, h http.Handler) {
</a><a href="#h17-0-183" id="h17-0-183" class="d">-	p.Add(&quot;PATCH&quot;, pat, h)
</a><a href="#h17-0-184" id="h17-0-184" class="d">-}
</a><a href="#h17-0-185" id="h17-0-185" class="d">-
</a><a href="#h17-0-186" id="h17-0-186" class="d">-// Add will register a pattern with a handler for meth requests.
</a><a href="#h17-0-187" id="h17-0-187" class="d">-func (p *PatternServeMux) Add(meth, pat string, h http.Handler) {
</a><a href="#h17-0-188" id="h17-0-188" class="d">-	p.add(meth, pat, h, false)
</a><a href="#h17-0-189" id="h17-0-189" class="d">-}
</a><a href="#h17-0-190" id="h17-0-190" class="d">-
</a><a href="#h17-0-191" id="h17-0-191" class="d">-func (p *PatternServeMux) add(meth, pat string, h http.Handler, redirect bool) {
</a><a href="#h17-0-192" id="h17-0-192" class="d">-	handlers := p.handlers[meth]
</a><a href="#h17-0-193" id="h17-0-193" class="d">-	for _, p1 := range handlers {
</a><a href="#h17-0-194" id="h17-0-194" class="d">-		if p1.pat == pat {
</a><a href="#h17-0-195" id="h17-0-195" class="d">-			return // found existing pattern; do nothing
</a><a href="#h17-0-196" id="h17-0-196" class="d">-		}
</a><a href="#h17-0-197" id="h17-0-197" class="d">-	}
</a><a href="#h17-0-198" id="h17-0-198" class="d">-	handler := &amp;patHandler{
</a><a href="#h17-0-199" id="h17-0-199" class="d">-		pat:      pat,
</a><a href="#h17-0-200" id="h17-0-200" class="d">-		Handler:  h,
</a><a href="#h17-0-201" id="h17-0-201" class="d">-		redirect: redirect,
</a><a href="#h17-0-202" id="h17-0-202" class="d">-	}
</a><a href="#h17-0-203" id="h17-0-203" class="d">-	p.handlers[meth] = append(handlers, handler)
</a><a href="#h17-0-204" id="h17-0-204" class="d">-
</a><a href="#h17-0-205" id="h17-0-205" class="d">-	n := len(pat)
</a><a href="#h17-0-206" id="h17-0-206" class="d">-	if n &gt; 0 &amp;&amp; pat[n-1] == &#39;/&#39; {
</a><a href="#h17-0-207" id="h17-0-207" class="d">-		p.add(meth, pat[:n-1], http.HandlerFunc(addSlashRedirect), true)
</a><a href="#h17-0-208" id="h17-0-208" class="d">-	}
</a><a href="#h17-0-209" id="h17-0-209" class="d">-}
</a><a href="#h17-0-210" id="h17-0-210" class="d">-
</a><a href="#h17-0-211" id="h17-0-211" class="d">-func addSlashRedirect(w http.ResponseWriter, r *http.Request) {
</a><a href="#h17-0-212" id="h17-0-212" class="d">-	u := *r.URL
</a><a href="#h17-0-213" id="h17-0-213" class="d">-	u.Path += &quot;/&quot;
</a><a href="#h17-0-214" id="h17-0-214" class="d">-	http.Redirect(w, r, u.String(), http.StatusMovedPermanently)
</a><a href="#h17-0-215" id="h17-0-215" class="d">-}
</a><a href="#h17-0-216" id="h17-0-216" class="d">-
</a><a href="#h17-0-217" id="h17-0-217" class="d">-// Tail returns the trailing string in path after the final slash for a pat ending with a slash.
</a><a href="#h17-0-218" id="h17-0-218" class="d">-//
</a><a href="#h17-0-219" id="h17-0-219" class="d">-// Examples:
</a><a href="#h17-0-220" id="h17-0-220" class="d">-//
</a><a href="#h17-0-221" id="h17-0-221" class="d">-//	Tail(&quot;/hello/:title/&quot;, &quot;/hello/mr/mizerany&quot;) == &quot;mizerany&quot;
</a><a href="#h17-0-222" id="h17-0-222" class="d">-//	Tail(&quot;/:a/&quot;, &quot;/x/y/z&quot;)                       == &quot;y/z&quot;
</a><a href="#h17-0-223" id="h17-0-223" class="d">-//
</a><a href="#h17-0-224" id="h17-0-224" class="d">-func Tail(pat, path string) string {
</a><a href="#h17-0-225" id="h17-0-225" class="d">-	var i, j int
</a><a href="#h17-0-226" id="h17-0-226" class="d">-	for i &lt; len(path) {
</a><a href="#h17-0-227" id="h17-0-227" class="d">-		switch {
</a><a href="#h17-0-228" id="h17-0-228" class="d">-		case j &gt;= len(pat):
</a><a href="#h17-0-229" id="h17-0-229" class="d">-			if pat[len(pat)-1] == &#39;/&#39; {
</a><a href="#h17-0-230" id="h17-0-230" class="d">-				return path[i:]
</a><a href="#h17-0-231" id="h17-0-231" class="d">-			}
</a><a href="#h17-0-232" id="h17-0-232" class="d">-			return &quot;&quot;
</a><a href="#h17-0-233" id="h17-0-233" class="d">-		case pat[j] == &#39;:&#39;:
</a><a href="#h17-0-234" id="h17-0-234" class="d">-			var nextc byte
</a><a href="#h17-0-235" id="h17-0-235" class="d">-			_, nextc, j = match(pat, isAlnum, j+1)
</a><a href="#h17-0-236" id="h17-0-236" class="d">-			_, _, i = match(path, matchPart(nextc), i)
</a><a href="#h17-0-237" id="h17-0-237" class="d">-		case path[i] == pat[j]:
</a><a href="#h17-0-238" id="h17-0-238" class="d">-			i++
</a><a href="#h17-0-239" id="h17-0-239" class="d">-			j++
</a><a href="#h17-0-240" id="h17-0-240" class="d">-		default:
</a><a href="#h17-0-241" id="h17-0-241" class="d">-			return &quot;&quot;
</a><a href="#h17-0-242" id="h17-0-242" class="d">-		}
</a><a href="#h17-0-243" id="h17-0-243" class="d">-	}
</a><a href="#h17-0-244" id="h17-0-244" class="d">-	return &quot;&quot;
</a><a href="#h17-0-245" id="h17-0-245" class="d">-}
</a><a href="#h17-0-246" id="h17-0-246" class="d">-
</a><a href="#h17-0-247" id="h17-0-247" class="d">-type patHandler struct {
</a><a href="#h17-0-248" id="h17-0-248" class="d">-	pat string
</a><a href="#h17-0-249" id="h17-0-249" class="d">-	http.Handler
</a><a href="#h17-0-250" id="h17-0-250" class="d">-	redirect bool
</a><a href="#h17-0-251" id="h17-0-251" class="d">-}
</a><a href="#h17-0-252" id="h17-0-252" class="d">-
</a><a href="#h17-0-253" id="h17-0-253" class="d">-func (ph *patHandler) try(path string) (url.Values, bool) {
</a><a href="#h17-0-254" id="h17-0-254" class="d">-	p := make(url.Values)
</a><a href="#h17-0-255" id="h17-0-255" class="d">-	var i, j int
</a><a href="#h17-0-256" id="h17-0-256" class="d">-	for i &lt; len(path) {
</a><a href="#h17-0-257" id="h17-0-257" class="d">-		switch {
</a><a href="#h17-0-258" id="h17-0-258" class="d">-		case j &gt;= len(ph.pat):
</a><a href="#h17-0-259" id="h17-0-259" class="d">-			if ph.pat != &quot;/&quot; &amp;&amp; len(ph.pat) &gt; 0 &amp;&amp; ph.pat[len(ph.pat)-1] == &#39;/&#39; {
</a><a href="#h17-0-260" id="h17-0-260" class="d">-				return p, true
</a><a href="#h17-0-261" id="h17-0-261" class="d">-			}
</a><a href="#h17-0-262" id="h17-0-262" class="d">-			return nil, false
</a><a href="#h17-0-263" id="h17-0-263" class="d">-		case ph.pat[j] == &#39;:&#39;:
</a><a href="#h17-0-264" id="h17-0-264" class="d">-			var name, val string
</a><a href="#h17-0-265" id="h17-0-265" class="d">-			var nextc byte
</a><a href="#h17-0-266" id="h17-0-266" class="d">-			name, nextc, j = match(ph.pat, isAlnum, j+1)
</a><a href="#h17-0-267" id="h17-0-267" class="d">-			val, _, i = match(path, matchPart(nextc), i)
</a><a href="#h17-0-268" id="h17-0-268" class="d">-			p.Add(&quot;:&quot;+name, val)
</a><a href="#h17-0-269" id="h17-0-269" class="d">-		case path[i] == ph.pat[j]:
</a><a href="#h17-0-270" id="h17-0-270" class="d">-			i++
</a><a href="#h17-0-271" id="h17-0-271" class="d">-			j++
</a><a href="#h17-0-272" id="h17-0-272" class="d">-		default:
</a><a href="#h17-0-273" id="h17-0-273" class="d">-			return nil, false
</a><a href="#h17-0-274" id="h17-0-274" class="d">-		}
</a><a href="#h17-0-275" id="h17-0-275" class="d">-	}
</a><a href="#h17-0-276" id="h17-0-276" class="d">-	if j != len(ph.pat) {
</a><a href="#h17-0-277" id="h17-0-277" class="d">-		return nil, false
</a><a href="#h17-0-278" id="h17-0-278" class="d">-	}
</a><a href="#h17-0-279" id="h17-0-279" class="d">-	return p, true
</a><a href="#h17-0-280" id="h17-0-280" class="d">-}
</a><a href="#h17-0-281" id="h17-0-281" class="d">-
</a><a href="#h17-0-282" id="h17-0-282" class="d">-func matchPart(b byte) func(byte) bool {
</a><a href="#h17-0-283" id="h17-0-283" class="d">-	return func(c byte) bool {
</a><a href="#h17-0-284" id="h17-0-284" class="d">-		return c != b &amp;&amp; c != &#39;/&#39;
</a><a href="#h17-0-285" id="h17-0-285" class="d">-	}
</a><a href="#h17-0-286" id="h17-0-286" class="d">-}
</a><a href="#h17-0-287" id="h17-0-287" class="d">-
</a><a href="#h17-0-288" id="h17-0-288" class="d">-func match(s string, f func(byte) bool, i int) (matched string, next byte, j int) {
</a><a href="#h17-0-289" id="h17-0-289" class="d">-	j = i
</a><a href="#h17-0-290" id="h17-0-290" class="d">-	for j &lt; len(s) &amp;&amp; f(s[j]) {
</a><a href="#h17-0-291" id="h17-0-291" class="d">-		j++
</a><a href="#h17-0-292" id="h17-0-292" class="d">-	}
</a><a href="#h17-0-293" id="h17-0-293" class="d">-	if j &lt; len(s) {
</a><a href="#h17-0-294" id="h17-0-294" class="d">-		next = s[j]
</a><a href="#h17-0-295" id="h17-0-295" class="d">-	}
</a><a href="#h17-0-296" id="h17-0-296" class="d">-	return s[i:j], next, j
</a><a href="#h17-0-297" id="h17-0-297" class="d">-}
</a><a href="#h17-0-298" id="h17-0-298" class="d">-
</a><a href="#h17-0-299" id="h17-0-299" class="d">-func isAlpha(ch byte) bool {
</a><a href="#h17-0-300" id="h17-0-300" class="d">-	return &#39;a&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;z&#39; || &#39;A&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;Z&#39; || ch == &#39;_&#39;
</a><a href="#h17-0-301" id="h17-0-301" class="d">-}
</a><a href="#h17-0-302" id="h17-0-302" class="d">-
</a><a href="#h17-0-303" id="h17-0-303" class="d">-func isDigit(ch byte) bool {
</a><a href="#h17-0-304" id="h17-0-304" class="d">-	return &#39;0&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;9&#39;
</a><a href="#h17-0-305" id="h17-0-305" class="d">-}
</a><a href="#h17-0-306" id="h17-0-306" class="d">-
</a><a href="#h17-0-307" id="h17-0-307" class="d">-func isAlnum(ch byte) bool {
</a><a href="#h17-0-308" id="h17-0-308" class="d">-	return isAlpha(ch) || isDigit(ch)
</a><a href="#h17-0-309" id="h17-0-309" class="d">-}
</a><b>diff --git a/<a id="h18" href="../file/vendor/github.com/facebookgo/clock/BUILD">vendor/github.com/facebookgo/clock/BUILD</a> b/<a href="../file/vendor/github.com/facebookgo/clock/BUILD">vendor/github.com/facebookgo/clock/BUILD</a></b>
<a href="#h18-0" id="h18-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h18-0-0" id="h18-0-0" class="d">-
</a><a href="#h18-0-1" id="h18-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h18-0-2" id="h18-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h18-0-3" id="h18-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h18-0-4" id="h18-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h18-0-5" id="h18-0-5" class="d">-)
</a><a href="#h18-0-6" id="h18-0-6" class="d">-
</a><a href="#h18-0-7" id="h18-0-7" class="d">-go_library(
</a><a href="#h18-0-8" id="h18-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h18-0-9" id="h18-0-9" class="d">-  srcs = [
</a><a href="#h18-0-10" id="h18-0-10" class="d">-    &quot;clock.go&quot;,
</a><a href="#h18-0-11" id="h18-0-11" class="d">-  ],
</a><a href="#h18-0-12" id="h18-0-12" class="d">-  deps = [
</a><a href="#h18-0-13" id="h18-0-13" class="d">-  ],
</a><a href="#h18-0-14" id="h18-0-14" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h18-0-15" id="h18-0-15" class="d">-)
</a><a href="#h18-0-16" id="h18-0-16" class="d">-
</a><a href="#h18-0-17" id="h18-0-17" class="d">-
</a><b>diff --git a/<a id="h19" href="../file/vendor/github.com/facebookgo/clock/LICENSE">vendor/github.com/facebookgo/clock/LICENSE</a> b/<a href="../file/vendor/github.com/facebookgo/clock/LICENSE">vendor/github.com/facebookgo/clock/LICENSE</a></b>
<a href="#h19-0" id="h19-0" class="h">@@ -1,21 +0,0 @@
</a><a href="#h19-0-0" id="h19-0-0" class="d">-The MIT License (MIT)
</a><a href="#h19-0-1" id="h19-0-1" class="d">-
</a><a href="#h19-0-2" id="h19-0-2" class="d">-Copyright (c) 2014 Ben Johnson
</a><a href="#h19-0-3" id="h19-0-3" class="d">-
</a><a href="#h19-0-4" id="h19-0-4" class="d">-Permission is hereby granted, free of charge, to any person obtaining a copy
</a><a href="#h19-0-5" id="h19-0-5" class="d">-of this software and associated documentation files (the &quot;Software&quot;), to deal
</a><a href="#h19-0-6" id="h19-0-6" class="d">-in the Software without restriction, including without limitation the rights
</a><a href="#h19-0-7" id="h19-0-7" class="d">-to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
</a><a href="#h19-0-8" id="h19-0-8" class="d">-copies of the Software, and to permit persons to whom the Software is
</a><a href="#h19-0-9" id="h19-0-9" class="d">-furnished to do so, subject to the following conditions:
</a><a href="#h19-0-10" id="h19-0-10" class="d">-
</a><a href="#h19-0-11" id="h19-0-11" class="d">-The above copyright notice and this permission notice shall be included in all
</a><a href="#h19-0-12" id="h19-0-12" class="d">-copies or substantial portions of the Software.
</a><a href="#h19-0-13" id="h19-0-13" class="d">-
</a><a href="#h19-0-14" id="h19-0-14" class="d">-THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</a><a href="#h19-0-15" id="h19-0-15" class="d">-IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
</a><a href="#h19-0-16" id="h19-0-16" class="d">-FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
</a><a href="#h19-0-17" id="h19-0-17" class="d">-AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
</a><a href="#h19-0-18" id="h19-0-18" class="d">-LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
</a><a href="#h19-0-19" id="h19-0-19" class="d">-OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
</a><a href="#h19-0-20" id="h19-0-20" class="d">-SOFTWARE.
</a><b>diff --git a/<a id="h20" href="../file/vendor/github.com/facebookgo/clock/README.md">vendor/github.com/facebookgo/clock/README.md</a> b/<a href="../file/vendor/github.com/facebookgo/clock/README.md">vendor/github.com/facebookgo/clock/README.md</a></b>
<a href="#h20-0" id="h20-0" class="h">@@ -1,104 +0,0 @@
</a><a href="#h20-0-0" id="h20-0-0" class="d">-clock [![Build Status](https://drone.io/github.com/benbjohnson/clock/status.png)](https://drone.io/github.com/benbjohnson/clock/latest) [![Coverage Status](https://coveralls.io/repos/benbjohnson/clock/badge.png?branch=master)](https://coveralls.io/r/benbjohnson/clock?branch=master) [![GoDoc](https://godoc.org/github.com/benbjohnson/clock?status.png)](https://godoc.org/github.com/benbjohnson/clock) ![Project status](http://img.shields.io/status/experimental.png?color=red)
</a><a href="#h20-0-1" id="h20-0-1" class="d">-=====
</a><a href="#h20-0-2" id="h20-0-2" class="d">-
</a><a href="#h20-0-3" id="h20-0-3" class="d">-Clock is a small library for mocking time in Go. It provides an interface
</a><a href="#h20-0-4" id="h20-0-4" class="d">-around the standard library&#39;s [`time`][time] package so that the application
</a><a href="#h20-0-5" id="h20-0-5" class="d">-can use the realtime clock while tests can use the mock clock.
</a><a href="#h20-0-6" id="h20-0-6" class="d">-
</a><a href="#h20-0-7" id="h20-0-7" class="d">-[time]: http://golang.org/pkg/time/
</a><a href="#h20-0-8" id="h20-0-8" class="d">-
</a><a href="#h20-0-9" id="h20-0-9" class="d">-
</a><a href="#h20-0-10" id="h20-0-10" class="d">-## Usage
</a><a href="#h20-0-11" id="h20-0-11" class="d">-
</a><a href="#h20-0-12" id="h20-0-12" class="d">-### Realtime Clock
</a><a href="#h20-0-13" id="h20-0-13" class="d">-
</a><a href="#h20-0-14" id="h20-0-14" class="d">-Your application can maintain a `Clock` variable that will allow realtime and
</a><a href="#h20-0-15" id="h20-0-15" class="d">-mock clocks to be interchangable. For example, if you had an `Application` type:
</a><a href="#h20-0-16" id="h20-0-16" class="d">-
</a><a href="#h20-0-17" id="h20-0-17" class="d">-```go
</a><a href="#h20-0-18" id="h20-0-18" class="d">-import &quot;github.com/benbjohnson/clock&quot;
</a><a href="#h20-0-19" id="h20-0-19" class="d">-
</a><a href="#h20-0-20" id="h20-0-20" class="d">-type Application struct {
</a><a href="#h20-0-21" id="h20-0-21" class="d">-	Clock clock.Clock
</a><a href="#h20-0-22" id="h20-0-22" class="d">-}
</a><a href="#h20-0-23" id="h20-0-23" class="d">-```
</a><a href="#h20-0-24" id="h20-0-24" class="d">-
</a><a href="#h20-0-25" id="h20-0-25" class="d">-You could initialize it to use the realtime clock like this:
</a><a href="#h20-0-26" id="h20-0-26" class="d">-
</a><a href="#h20-0-27" id="h20-0-27" class="d">-```go
</a><a href="#h20-0-28" id="h20-0-28" class="d">-var app Application
</a><a href="#h20-0-29" id="h20-0-29" class="d">-app.Clock = clock.New()
</a><a href="#h20-0-30" id="h20-0-30" class="d">-...
</a><a href="#h20-0-31" id="h20-0-31" class="d">-```
</a><a href="#h20-0-32" id="h20-0-32" class="d">-
</a><a href="#h20-0-33" id="h20-0-33" class="d">-Then all timers and time-related functionality should be performed from the
</a><a href="#h20-0-34" id="h20-0-34" class="d">-`Clock` variable.
</a><a href="#h20-0-35" id="h20-0-35" class="d">-
</a><a href="#h20-0-36" id="h20-0-36" class="d">-
</a><a href="#h20-0-37" id="h20-0-37" class="d">-### Mocking time
</a><a href="#h20-0-38" id="h20-0-38" class="d">-
</a><a href="#h20-0-39" id="h20-0-39" class="d">-In your tests, you will want to use a `Mock` clock:
</a><a href="#h20-0-40" id="h20-0-40" class="d">-
</a><a href="#h20-0-41" id="h20-0-41" class="d">-```go
</a><a href="#h20-0-42" id="h20-0-42" class="d">-import (
</a><a href="#h20-0-43" id="h20-0-43" class="d">-	&quot;testing&quot;
</a><a href="#h20-0-44" id="h20-0-44" class="d">-
</a><a href="#h20-0-45" id="h20-0-45" class="d">-	&quot;github.com/benbjohnson/clock&quot;
</a><a href="#h20-0-46" id="h20-0-46" class="d">-)
</a><a href="#h20-0-47" id="h20-0-47" class="d">-
</a><a href="#h20-0-48" id="h20-0-48" class="d">-func TestApplication_DoSomething(t *testing.T) {
</a><a href="#h20-0-49" id="h20-0-49" class="d">-	mock := clock.NewMock()
</a><a href="#h20-0-50" id="h20-0-50" class="d">-	app := Application{Clock: mock}
</a><a href="#h20-0-51" id="h20-0-51" class="d">-	...
</a><a href="#h20-0-52" id="h20-0-52" class="d">-}
</a><a href="#h20-0-53" id="h20-0-53" class="d">-```
</a><a href="#h20-0-54" id="h20-0-54" class="d">-
</a><a href="#h20-0-55" id="h20-0-55" class="d">-Now that you&#39;ve initialized your application to use the mock clock, you can
</a><a href="#h20-0-56" id="h20-0-56" class="d">-adjust the time programmatically. The mock clock always starts from the Unix
</a><a href="#h20-0-57" id="h20-0-57" class="d">-epoch (midnight, Jan 1, 1970 UTC).
</a><a href="#h20-0-58" id="h20-0-58" class="d">-
</a><a href="#h20-0-59" id="h20-0-59" class="d">-
</a><a href="#h20-0-60" id="h20-0-60" class="d">-### Controlling time
</a><a href="#h20-0-61" id="h20-0-61" class="d">-
</a><a href="#h20-0-62" id="h20-0-62" class="d">-The mock clock provides the same functions that the standard library&#39;s `time`
</a><a href="#h20-0-63" id="h20-0-63" class="d">-package provides. For example, to find the current time, you use the `Now()`
</a><a href="#h20-0-64" id="h20-0-64" class="d">-function:
</a><a href="#h20-0-65" id="h20-0-65" class="d">-
</a><a href="#h20-0-66" id="h20-0-66" class="d">-```go
</a><a href="#h20-0-67" id="h20-0-67" class="d">-mock := clock.NewMock()
</a><a href="#h20-0-68" id="h20-0-68" class="d">-
</a><a href="#h20-0-69" id="h20-0-69" class="d">-// Find the current time.
</a><a href="#h20-0-70" id="h20-0-70" class="d">-mock.Now().UTC() // 1970-01-01 00:00:00 +0000 UTC
</a><a href="#h20-0-71" id="h20-0-71" class="d">-
</a><a href="#h20-0-72" id="h20-0-72" class="d">-// Move the clock forward.
</a><a href="#h20-0-73" id="h20-0-73" class="d">-mock.Add(2 * time.Hour)
</a><a href="#h20-0-74" id="h20-0-74" class="d">-
</a><a href="#h20-0-75" id="h20-0-75" class="d">-// Check the time again. It&#39;s 2 hours later!
</a><a href="#h20-0-76" id="h20-0-76" class="d">-mock.Now().UTC() // 1970-01-01 02:00:00 +0000 UTC
</a><a href="#h20-0-77" id="h20-0-77" class="d">-```
</a><a href="#h20-0-78" id="h20-0-78" class="d">-
</a><a href="#h20-0-79" id="h20-0-79" class="d">-Timers and Tickers are also controlled by this same mock clock. They will only
</a><a href="#h20-0-80" id="h20-0-80" class="d">-execute when the clock is moved forward:
</a><a href="#h20-0-81" id="h20-0-81" class="d">-
</a><a href="#h20-0-82" id="h20-0-82" class="d">-```
</a><a href="#h20-0-83" id="h20-0-83" class="d">-mock := clock.NewMock()
</a><a href="#h20-0-84" id="h20-0-84" class="d">-count := 0
</a><a href="#h20-0-85" id="h20-0-85" class="d">-
</a><a href="#h20-0-86" id="h20-0-86" class="d">-// Kick off a timer to increment every 1 mock second.
</a><a href="#h20-0-87" id="h20-0-87" class="d">-go func() {
</a><a href="#h20-0-88" id="h20-0-88" class="d">-    ticker := clock.Ticker(1 * time.Second)
</a><a href="#h20-0-89" id="h20-0-89" class="d">-    for {
</a><a href="#h20-0-90" id="h20-0-90" class="d">-        &lt;-ticker.C
</a><a href="#h20-0-91" id="h20-0-91" class="d">-        count++
</a><a href="#h20-0-92" id="h20-0-92" class="d">-    }
</a><a href="#h20-0-93" id="h20-0-93" class="d">-}()
</a><a href="#h20-0-94" id="h20-0-94" class="d">-runtime.Gosched()
</a><a href="#h20-0-95" id="h20-0-95" class="d">-
</a><a href="#h20-0-96" id="h20-0-96" class="d">-// Move the clock forward 10 second.
</a><a href="#h20-0-97" id="h20-0-97" class="d">-mock.Add(10 * time.Second)
</a><a href="#h20-0-98" id="h20-0-98" class="d">-
</a><a href="#h20-0-99" id="h20-0-99" class="d">-// This prints 10.
</a><a href="#h20-0-100" id="h20-0-100" class="d">-fmt.Println(count)
</a><a href="#h20-0-101" id="h20-0-101" class="d">-```
</a><a href="#h20-0-102" id="h20-0-102" class="d">-
</a><a href="#h20-0-103" id="h20-0-103" class="d">-
</a><b>diff --git a/<a id="h21" href="../file/vendor/github.com/facebookgo/clock/clock.go">vendor/github.com/facebookgo/clock/clock.go</a> b/<a href="../file/vendor/github.com/facebookgo/clock/clock.go">vendor/github.com/facebookgo/clock/clock.go</a></b>
<a href="#h21-0" id="h21-0" class="h">@@ -1,363 +0,0 @@
</a><a href="#h21-0-0" id="h21-0-0" class="d">-package clock
</a><a href="#h21-0-1" id="h21-0-1" class="d">-
</a><a href="#h21-0-2" id="h21-0-2" class="d">-import (
</a><a href="#h21-0-3" id="h21-0-3" class="d">-	&quot;runtime&quot;
</a><a href="#h21-0-4" id="h21-0-4" class="d">-	&quot;sort&quot;
</a><a href="#h21-0-5" id="h21-0-5" class="d">-	&quot;sync&quot;
</a><a href="#h21-0-6" id="h21-0-6" class="d">-	&quot;time&quot;
</a><a href="#h21-0-7" id="h21-0-7" class="d">-)
</a><a href="#h21-0-8" id="h21-0-8" class="d">-
</a><a href="#h21-0-9" id="h21-0-9" class="d">-// Clock represents an interface to the functions in the standard library time
</a><a href="#h21-0-10" id="h21-0-10" class="d">-// package. Two implementations are available in the clock package. The first
</a><a href="#h21-0-11" id="h21-0-11" class="d">-// is a real-time clock which simply wraps the time package&#39;s functions. The
</a><a href="#h21-0-12" id="h21-0-12" class="d">-// second is a mock clock which will only make forward progress when
</a><a href="#h21-0-13" id="h21-0-13" class="d">-// programmatically adjusted.
</a><a href="#h21-0-14" id="h21-0-14" class="d">-type Clock interface {
</a><a href="#h21-0-15" id="h21-0-15" class="d">-	After(d time.Duration) &lt;-chan time.Time
</a><a href="#h21-0-16" id="h21-0-16" class="d">-	AfterFunc(d time.Duration, f func()) *Timer
</a><a href="#h21-0-17" id="h21-0-17" class="d">-	Now() time.Time
</a><a href="#h21-0-18" id="h21-0-18" class="d">-	Sleep(d time.Duration)
</a><a href="#h21-0-19" id="h21-0-19" class="d">-	Tick(d time.Duration) &lt;-chan time.Time
</a><a href="#h21-0-20" id="h21-0-20" class="d">-	Ticker(d time.Duration) *Ticker
</a><a href="#h21-0-21" id="h21-0-21" class="d">-	Timer(d time.Duration) *Timer
</a><a href="#h21-0-22" id="h21-0-22" class="d">-}
</a><a href="#h21-0-23" id="h21-0-23" class="d">-
</a><a href="#h21-0-24" id="h21-0-24" class="d">-// New returns an instance of a real-time clock.
</a><a href="#h21-0-25" id="h21-0-25" class="d">-func New() Clock {
</a><a href="#h21-0-26" id="h21-0-26" class="d">-	return &amp;clock{}
</a><a href="#h21-0-27" id="h21-0-27" class="d">-}
</a><a href="#h21-0-28" id="h21-0-28" class="d">-
</a><a href="#h21-0-29" id="h21-0-29" class="d">-// clock implements a real-time clock by simply wrapping the time package functions.
</a><a href="#h21-0-30" id="h21-0-30" class="d">-type clock struct{}
</a><a href="#h21-0-31" id="h21-0-31" class="d">-
</a><a href="#h21-0-32" id="h21-0-32" class="d">-func (c *clock) After(d time.Duration) &lt;-chan time.Time { return time.After(d) }
</a><a href="#h21-0-33" id="h21-0-33" class="d">-
</a><a href="#h21-0-34" id="h21-0-34" class="d">-func (c *clock) AfterFunc(d time.Duration, f func()) *Timer {
</a><a href="#h21-0-35" id="h21-0-35" class="d">-	return &amp;Timer{timer: time.AfterFunc(d, f)}
</a><a href="#h21-0-36" id="h21-0-36" class="d">-}
</a><a href="#h21-0-37" id="h21-0-37" class="d">-
</a><a href="#h21-0-38" id="h21-0-38" class="d">-func (c *clock) Now() time.Time { return time.Now() }
</a><a href="#h21-0-39" id="h21-0-39" class="d">-
</a><a href="#h21-0-40" id="h21-0-40" class="d">-func (c *clock) Sleep(d time.Duration) { time.Sleep(d) }
</a><a href="#h21-0-41" id="h21-0-41" class="d">-
</a><a href="#h21-0-42" id="h21-0-42" class="d">-func (c *clock) Tick(d time.Duration) &lt;-chan time.Time { return time.Tick(d) }
</a><a href="#h21-0-43" id="h21-0-43" class="d">-
</a><a href="#h21-0-44" id="h21-0-44" class="d">-func (c *clock) Ticker(d time.Duration) *Ticker {
</a><a href="#h21-0-45" id="h21-0-45" class="d">-	t := time.NewTicker(d)
</a><a href="#h21-0-46" id="h21-0-46" class="d">-	return &amp;Ticker{C: t.C, ticker: t}
</a><a href="#h21-0-47" id="h21-0-47" class="d">-}
</a><a href="#h21-0-48" id="h21-0-48" class="d">-
</a><a href="#h21-0-49" id="h21-0-49" class="d">-func (c *clock) Timer(d time.Duration) *Timer {
</a><a href="#h21-0-50" id="h21-0-50" class="d">-	t := time.NewTimer(d)
</a><a href="#h21-0-51" id="h21-0-51" class="d">-	return &amp;Timer{C: t.C, timer: t}
</a><a href="#h21-0-52" id="h21-0-52" class="d">-}
</a><a href="#h21-0-53" id="h21-0-53" class="d">-
</a><a href="#h21-0-54" id="h21-0-54" class="d">-// Mock represents a mock clock that only moves forward programmically.
</a><a href="#h21-0-55" id="h21-0-55" class="d">-// It can be preferable to a real-time clock when testing time-based functionality.
</a><a href="#h21-0-56" id="h21-0-56" class="d">-type Mock struct {
</a><a href="#h21-0-57" id="h21-0-57" class="d">-	mu     sync.Mutex
</a><a href="#h21-0-58" id="h21-0-58" class="d">-	now    time.Time   // current time
</a><a href="#h21-0-59" id="h21-0-59" class="d">-	timers clockTimers // tickers &amp; timers
</a><a href="#h21-0-60" id="h21-0-60" class="d">-
</a><a href="#h21-0-61" id="h21-0-61" class="d">-	calls      Calls
</a><a href="#h21-0-62" id="h21-0-62" class="d">-	waiting    []waiting
</a><a href="#h21-0-63" id="h21-0-63" class="d">-	callsMutex sync.Mutex
</a><a href="#h21-0-64" id="h21-0-64" class="d">-}
</a><a href="#h21-0-65" id="h21-0-65" class="d">-
</a><a href="#h21-0-66" id="h21-0-66" class="d">-// NewMock returns an instance of a mock clock.
</a><a href="#h21-0-67" id="h21-0-67" class="d">-// The current time of the mock clock on initialization is the Unix epoch.
</a><a href="#h21-0-68" id="h21-0-68" class="d">-func NewMock() *Mock {
</a><a href="#h21-0-69" id="h21-0-69" class="d">-	return &amp;Mock{now: time.Unix(0, 0)}
</a><a href="#h21-0-70" id="h21-0-70" class="d">-}
</a><a href="#h21-0-71" id="h21-0-71" class="d">-
</a><a href="#h21-0-72" id="h21-0-72" class="d">-// Add moves the current time of the mock clock forward by the duration.
</a><a href="#h21-0-73" id="h21-0-73" class="d">-// This should only be called from a single goroutine at a time.
</a><a href="#h21-0-74" id="h21-0-74" class="d">-func (m *Mock) Add(d time.Duration) {
</a><a href="#h21-0-75" id="h21-0-75" class="d">-	// Calculate the final current time.
</a><a href="#h21-0-76" id="h21-0-76" class="d">-	t := m.now.Add(d)
</a><a href="#h21-0-77" id="h21-0-77" class="d">-
</a><a href="#h21-0-78" id="h21-0-78" class="d">-	// Continue to execute timers until there are no more before the new time.
</a><a href="#h21-0-79" id="h21-0-79" class="d">-	for {
</a><a href="#h21-0-80" id="h21-0-80" class="d">-		if !m.runNextTimer(t) {
</a><a href="#h21-0-81" id="h21-0-81" class="d">-			break
</a><a href="#h21-0-82" id="h21-0-82" class="d">-		}
</a><a href="#h21-0-83" id="h21-0-83" class="d">-	}
</a><a href="#h21-0-84" id="h21-0-84" class="d">-
</a><a href="#h21-0-85" id="h21-0-85" class="d">-	// Ensure that we end with the new time.
</a><a href="#h21-0-86" id="h21-0-86" class="d">-	m.mu.Lock()
</a><a href="#h21-0-87" id="h21-0-87" class="d">-	m.now = t
</a><a href="#h21-0-88" id="h21-0-88" class="d">-	m.mu.Unlock()
</a><a href="#h21-0-89" id="h21-0-89" class="d">-
</a><a href="#h21-0-90" id="h21-0-90" class="d">-	// Give a small buffer to make sure the other goroutines get handled.
</a><a href="#h21-0-91" id="h21-0-91" class="d">-	gosched()
</a><a href="#h21-0-92" id="h21-0-92" class="d">-}
</a><a href="#h21-0-93" id="h21-0-93" class="d">-
</a><a href="#h21-0-94" id="h21-0-94" class="d">-// runNextTimer executes the next timer in chronological order and moves the
</a><a href="#h21-0-95" id="h21-0-95" class="d">-// current time to the timer&#39;s next tick time. The next time is not executed if
</a><a href="#h21-0-96" id="h21-0-96" class="d">-// it&#39;s next time if after the max time. Returns true if a timer is executed.
</a><a href="#h21-0-97" id="h21-0-97" class="d">-func (m *Mock) runNextTimer(max time.Time) bool {
</a><a href="#h21-0-98" id="h21-0-98" class="d">-	m.mu.Lock()
</a><a href="#h21-0-99" id="h21-0-99" class="d">-
</a><a href="#h21-0-100" id="h21-0-100" class="d">-	// Sort timers by time.
</a><a href="#h21-0-101" id="h21-0-101" class="d">-	sort.Sort(m.timers)
</a><a href="#h21-0-102" id="h21-0-102" class="d">-
</a><a href="#h21-0-103" id="h21-0-103" class="d">-	// If we have no more timers then exit.
</a><a href="#h21-0-104" id="h21-0-104" class="d">-	if len(m.timers) == 0 {
</a><a href="#h21-0-105" id="h21-0-105" class="d">-		m.mu.Unlock()
</a><a href="#h21-0-106" id="h21-0-106" class="d">-		return false
</a><a href="#h21-0-107" id="h21-0-107" class="d">-	}
</a><a href="#h21-0-108" id="h21-0-108" class="d">-
</a><a href="#h21-0-109" id="h21-0-109" class="d">-	// Retrieve next timer. Exit if next tick is after new time.
</a><a href="#h21-0-110" id="h21-0-110" class="d">-	t := m.timers[0]
</a><a href="#h21-0-111" id="h21-0-111" class="d">-	if t.Next().After(max) {
</a><a href="#h21-0-112" id="h21-0-112" class="d">-		m.mu.Unlock()
</a><a href="#h21-0-113" id="h21-0-113" class="d">-		return false
</a><a href="#h21-0-114" id="h21-0-114" class="d">-	}
</a><a href="#h21-0-115" id="h21-0-115" class="d">-
</a><a href="#h21-0-116" id="h21-0-116" class="d">-	// Move &quot;now&quot; forward and unlock clock.
</a><a href="#h21-0-117" id="h21-0-117" class="d">-	m.now = t.Next()
</a><a href="#h21-0-118" id="h21-0-118" class="d">-	m.mu.Unlock()
</a><a href="#h21-0-119" id="h21-0-119" class="d">-
</a><a href="#h21-0-120" id="h21-0-120" class="d">-	// Execute timer.
</a><a href="#h21-0-121" id="h21-0-121" class="d">-	t.Tick(m.now)
</a><a href="#h21-0-122" id="h21-0-122" class="d">-	return true
</a><a href="#h21-0-123" id="h21-0-123" class="d">-}
</a><a href="#h21-0-124" id="h21-0-124" class="d">-
</a><a href="#h21-0-125" id="h21-0-125" class="d">-// After waits for the duration to elapse and then sends the current time on the returned channel.
</a><a href="#h21-0-126" id="h21-0-126" class="d">-func (m *Mock) After(d time.Duration) &lt;-chan time.Time {
</a><a href="#h21-0-127" id="h21-0-127" class="d">-	defer m.inc(&amp;m.calls.After)
</a><a href="#h21-0-128" id="h21-0-128" class="d">-	return m.Timer(d).C
</a><a href="#h21-0-129" id="h21-0-129" class="d">-}
</a><a href="#h21-0-130" id="h21-0-130" class="d">-
</a><a href="#h21-0-131" id="h21-0-131" class="d">-// AfterFunc waits for the duration to elapse and then executes a function.
</a><a href="#h21-0-132" id="h21-0-132" class="d">-// A Timer is returned that can be stopped.
</a><a href="#h21-0-133" id="h21-0-133" class="d">-func (m *Mock) AfterFunc(d time.Duration, f func()) *Timer {
</a><a href="#h21-0-134" id="h21-0-134" class="d">-	defer m.inc(&amp;m.calls.AfterFunc)
</a><a href="#h21-0-135" id="h21-0-135" class="d">-	t := m.Timer(d)
</a><a href="#h21-0-136" id="h21-0-136" class="d">-	t.C = nil
</a><a href="#h21-0-137" id="h21-0-137" class="d">-	t.fn = f
</a><a href="#h21-0-138" id="h21-0-138" class="d">-	return t
</a><a href="#h21-0-139" id="h21-0-139" class="d">-}
</a><a href="#h21-0-140" id="h21-0-140" class="d">-
</a><a href="#h21-0-141" id="h21-0-141" class="d">-// Now returns the current wall time on the mock clock.
</a><a href="#h21-0-142" id="h21-0-142" class="d">-func (m *Mock) Now() time.Time {
</a><a href="#h21-0-143" id="h21-0-143" class="d">-	defer m.inc(&amp;m.calls.Now)
</a><a href="#h21-0-144" id="h21-0-144" class="d">-	m.mu.Lock()
</a><a href="#h21-0-145" id="h21-0-145" class="d">-	defer m.mu.Unlock()
</a><a href="#h21-0-146" id="h21-0-146" class="d">-	return m.now
</a><a href="#h21-0-147" id="h21-0-147" class="d">-}
</a><a href="#h21-0-148" id="h21-0-148" class="d">-
</a><a href="#h21-0-149" id="h21-0-149" class="d">-// Sleep pauses the goroutine for the given duration on the mock clock.
</a><a href="#h21-0-150" id="h21-0-150" class="d">-// The clock must be moved forward in a separate goroutine.
</a><a href="#h21-0-151" id="h21-0-151" class="d">-func (m *Mock) Sleep(d time.Duration) {
</a><a href="#h21-0-152" id="h21-0-152" class="d">-	defer m.inc(&amp;m.calls.Sleep)
</a><a href="#h21-0-153" id="h21-0-153" class="d">-	&lt;-m.After(d)
</a><a href="#h21-0-154" id="h21-0-154" class="d">-}
</a><a href="#h21-0-155" id="h21-0-155" class="d">-
</a><a href="#h21-0-156" id="h21-0-156" class="d">-// Tick is a convenience function for Ticker().
</a><a href="#h21-0-157" id="h21-0-157" class="d">-// It will return a ticker channel that cannot be stopped.
</a><a href="#h21-0-158" id="h21-0-158" class="d">-func (m *Mock) Tick(d time.Duration) &lt;-chan time.Time {
</a><a href="#h21-0-159" id="h21-0-159" class="d">-	defer m.inc(&amp;m.calls.Tick)
</a><a href="#h21-0-160" id="h21-0-160" class="d">-	return m.Ticker(d).C
</a><a href="#h21-0-161" id="h21-0-161" class="d">-}
</a><a href="#h21-0-162" id="h21-0-162" class="d">-
</a><a href="#h21-0-163" id="h21-0-163" class="d">-// Ticker creates a new instance of Ticker.
</a><a href="#h21-0-164" id="h21-0-164" class="d">-func (m *Mock) Ticker(d time.Duration) *Ticker {
</a><a href="#h21-0-165" id="h21-0-165" class="d">-	defer m.inc(&amp;m.calls.Ticker)
</a><a href="#h21-0-166" id="h21-0-166" class="d">-	m.mu.Lock()
</a><a href="#h21-0-167" id="h21-0-167" class="d">-	defer m.mu.Unlock()
</a><a href="#h21-0-168" id="h21-0-168" class="d">-	ch := make(chan time.Time)
</a><a href="#h21-0-169" id="h21-0-169" class="d">-	t := &amp;Ticker{
</a><a href="#h21-0-170" id="h21-0-170" class="d">-		C:    ch,
</a><a href="#h21-0-171" id="h21-0-171" class="d">-		c:    ch,
</a><a href="#h21-0-172" id="h21-0-172" class="d">-		mock: m,
</a><a href="#h21-0-173" id="h21-0-173" class="d">-		d:    d,
</a><a href="#h21-0-174" id="h21-0-174" class="d">-		next: m.now.Add(d),
</a><a href="#h21-0-175" id="h21-0-175" class="d">-	}
</a><a href="#h21-0-176" id="h21-0-176" class="d">-	m.timers = append(m.timers, (*internalTicker)(t))
</a><a href="#h21-0-177" id="h21-0-177" class="d">-	return t
</a><a href="#h21-0-178" id="h21-0-178" class="d">-}
</a><a href="#h21-0-179" id="h21-0-179" class="d">-
</a><a href="#h21-0-180" id="h21-0-180" class="d">-// Timer creates a new instance of Timer.
</a><a href="#h21-0-181" id="h21-0-181" class="d">-func (m *Mock) Timer(d time.Duration) *Timer {
</a><a href="#h21-0-182" id="h21-0-182" class="d">-	defer m.inc(&amp;m.calls.Timer)
</a><a href="#h21-0-183" id="h21-0-183" class="d">-	m.mu.Lock()
</a><a href="#h21-0-184" id="h21-0-184" class="d">-	defer m.mu.Unlock()
</a><a href="#h21-0-185" id="h21-0-185" class="d">-	ch := make(chan time.Time)
</a><a href="#h21-0-186" id="h21-0-186" class="d">-	t := &amp;Timer{
</a><a href="#h21-0-187" id="h21-0-187" class="d">-		C:    ch,
</a><a href="#h21-0-188" id="h21-0-188" class="d">-		c:    ch,
</a><a href="#h21-0-189" id="h21-0-189" class="d">-		mock: m,
</a><a href="#h21-0-190" id="h21-0-190" class="d">-		next: m.now.Add(d),
</a><a href="#h21-0-191" id="h21-0-191" class="d">-	}
</a><a href="#h21-0-192" id="h21-0-192" class="d">-	m.timers = append(m.timers, (*internalTimer)(t))
</a><a href="#h21-0-193" id="h21-0-193" class="d">-	return t
</a><a href="#h21-0-194" id="h21-0-194" class="d">-}
</a><a href="#h21-0-195" id="h21-0-195" class="d">-
</a><a href="#h21-0-196" id="h21-0-196" class="d">-func (m *Mock) removeClockTimer(t clockTimer) {
</a><a href="#h21-0-197" id="h21-0-197" class="d">-	m.mu.Lock()
</a><a href="#h21-0-198" id="h21-0-198" class="d">-	defer m.mu.Unlock()
</a><a href="#h21-0-199" id="h21-0-199" class="d">-	for i, timer := range m.timers {
</a><a href="#h21-0-200" id="h21-0-200" class="d">-		if timer == t {
</a><a href="#h21-0-201" id="h21-0-201" class="d">-			copy(m.timers[i:], m.timers[i+1:])
</a><a href="#h21-0-202" id="h21-0-202" class="d">-			m.timers[len(m.timers)-1] = nil
</a><a href="#h21-0-203" id="h21-0-203" class="d">-			m.timers = m.timers[:len(m.timers)-1]
</a><a href="#h21-0-204" id="h21-0-204" class="d">-			break
</a><a href="#h21-0-205" id="h21-0-205" class="d">-		}
</a><a href="#h21-0-206" id="h21-0-206" class="d">-	}
</a><a href="#h21-0-207" id="h21-0-207" class="d">-	sort.Sort(m.timers)
</a><a href="#h21-0-208" id="h21-0-208" class="d">-}
</a><a href="#h21-0-209" id="h21-0-209" class="d">-
</a><a href="#h21-0-210" id="h21-0-210" class="d">-func (m *Mock) inc(addr *uint32) {
</a><a href="#h21-0-211" id="h21-0-211" class="d">-	m.callsMutex.Lock()
</a><a href="#h21-0-212" id="h21-0-212" class="d">-	defer m.callsMutex.Unlock()
</a><a href="#h21-0-213" id="h21-0-213" class="d">-	*addr++
</a><a href="#h21-0-214" id="h21-0-214" class="d">-	var newWaiting []waiting
</a><a href="#h21-0-215" id="h21-0-215" class="d">-	for _, w := range m.waiting {
</a><a href="#h21-0-216" id="h21-0-216" class="d">-		if m.calls.atLeast(w.expected) {
</a><a href="#h21-0-217" id="h21-0-217" class="d">-			close(w.done)
</a><a href="#h21-0-218" id="h21-0-218" class="d">-			continue
</a><a href="#h21-0-219" id="h21-0-219" class="d">-		}
</a><a href="#h21-0-220" id="h21-0-220" class="d">-		newWaiting = append(newWaiting, w)
</a><a href="#h21-0-221" id="h21-0-221" class="d">-	}
</a><a href="#h21-0-222" id="h21-0-222" class="d">-	m.waiting = newWaiting
</a><a href="#h21-0-223" id="h21-0-223" class="d">-}
</a><a href="#h21-0-224" id="h21-0-224" class="d">-
</a><a href="#h21-0-225" id="h21-0-225" class="d">-// Wait waits for at least the relevant calls before returning. The expected
</a><a href="#h21-0-226" id="h21-0-226" class="d">-// Calls are always over the lifetime of the Mock. Values in the Calls struct
</a><a href="#h21-0-227" id="h21-0-227" class="d">-// are used as the minimum number of calls, this allows you to wait for only
</a><a href="#h21-0-228" id="h21-0-228" class="d">-// the calls you care about.
</a><a href="#h21-0-229" id="h21-0-229" class="d">-func (m *Mock) Wait(s Calls) {
</a><a href="#h21-0-230" id="h21-0-230" class="d">-	m.callsMutex.Lock()
</a><a href="#h21-0-231" id="h21-0-231" class="d">-	if m.calls.atLeast(s) {
</a><a href="#h21-0-232" id="h21-0-232" class="d">-		m.callsMutex.Unlock()
</a><a href="#h21-0-233" id="h21-0-233" class="d">-		return
</a><a href="#h21-0-234" id="h21-0-234" class="d">-	}
</a><a href="#h21-0-235" id="h21-0-235" class="d">-	done := make(chan struct{})
</a><a href="#h21-0-236" id="h21-0-236" class="d">-	m.waiting = append(m.waiting, waiting{expected: s, done: done})
</a><a href="#h21-0-237" id="h21-0-237" class="d">-	m.callsMutex.Unlock()
</a><a href="#h21-0-238" id="h21-0-238" class="d">-	&lt;-done
</a><a href="#h21-0-239" id="h21-0-239" class="d">-}
</a><a href="#h21-0-240" id="h21-0-240" class="d">-
</a><a href="#h21-0-241" id="h21-0-241" class="d">-// clockTimer represents an object with an associated start time.
</a><a href="#h21-0-242" id="h21-0-242" class="d">-type clockTimer interface {
</a><a href="#h21-0-243" id="h21-0-243" class="d">-	Next() time.Time
</a><a href="#h21-0-244" id="h21-0-244" class="d">-	Tick(time.Time)
</a><a href="#h21-0-245" id="h21-0-245" class="d">-}
</a><a href="#h21-0-246" id="h21-0-246" class="d">-
</a><a href="#h21-0-247" id="h21-0-247" class="d">-// clockTimers represents a list of sortable timers.
</a><a href="#h21-0-248" id="h21-0-248" class="d">-type clockTimers []clockTimer
</a><a href="#h21-0-249" id="h21-0-249" class="d">-
</a><a href="#h21-0-250" id="h21-0-250" class="d">-func (a clockTimers) Len() int           { return len(a) }
</a><a href="#h21-0-251" id="h21-0-251" class="d">-func (a clockTimers) Swap(i, j int)      { a[i], a[j] = a[j], a[i] }
</a><a href="#h21-0-252" id="h21-0-252" class="d">-func (a clockTimers) Less(i, j int) bool { return a[i].Next().Before(a[j].Next()) }
</a><a href="#h21-0-253" id="h21-0-253" class="d">-
</a><a href="#h21-0-254" id="h21-0-254" class="d">-// Timer represents a single event.
</a><a href="#h21-0-255" id="h21-0-255" class="d">-// The current time will be sent on C, unless the timer was created by AfterFunc.
</a><a href="#h21-0-256" id="h21-0-256" class="d">-type Timer struct {
</a><a href="#h21-0-257" id="h21-0-257" class="d">-	C     &lt;-chan time.Time
</a><a href="#h21-0-258" id="h21-0-258" class="d">-	c     chan time.Time
</a><a href="#h21-0-259" id="h21-0-259" class="d">-	timer *time.Timer // realtime impl, if set
</a><a href="#h21-0-260" id="h21-0-260" class="d">-	next  time.Time   // next tick time
</a><a href="#h21-0-261" id="h21-0-261" class="d">-	mock  *Mock       // mock clock, if set
</a><a href="#h21-0-262" id="h21-0-262" class="d">-	fn    func()      // AfterFunc function, if set
</a><a href="#h21-0-263" id="h21-0-263" class="d">-}
</a><a href="#h21-0-264" id="h21-0-264" class="d">-
</a><a href="#h21-0-265" id="h21-0-265" class="d">-// Stop turns off the ticker.
</a><a href="#h21-0-266" id="h21-0-266" class="d">-func (t *Timer) Stop() {
</a><a href="#h21-0-267" id="h21-0-267" class="d">-	if t.timer != nil {
</a><a href="#h21-0-268" id="h21-0-268" class="d">-		t.timer.Stop()
</a><a href="#h21-0-269" id="h21-0-269" class="d">-	} else {
</a><a href="#h21-0-270" id="h21-0-270" class="d">-		t.mock.removeClockTimer((*internalTimer)(t))
</a><a href="#h21-0-271" id="h21-0-271" class="d">-	}
</a><a href="#h21-0-272" id="h21-0-272" class="d">-}
</a><a href="#h21-0-273" id="h21-0-273" class="d">-
</a><a href="#h21-0-274" id="h21-0-274" class="d">-type internalTimer Timer
</a><a href="#h21-0-275" id="h21-0-275" class="d">-
</a><a href="#h21-0-276" id="h21-0-276" class="d">-func (t *internalTimer) Next() time.Time { return t.next }
</a><a href="#h21-0-277" id="h21-0-277" class="d">-func (t *internalTimer) Tick(now time.Time) {
</a><a href="#h21-0-278" id="h21-0-278" class="d">-	if t.fn != nil {
</a><a href="#h21-0-279" id="h21-0-279" class="d">-		t.fn()
</a><a href="#h21-0-280" id="h21-0-280" class="d">-	} else {
</a><a href="#h21-0-281" id="h21-0-281" class="d">-		t.c &lt;- now
</a><a href="#h21-0-282" id="h21-0-282" class="d">-	}
</a><a href="#h21-0-283" id="h21-0-283" class="d">-	t.mock.removeClockTimer((*internalTimer)(t))
</a><a href="#h21-0-284" id="h21-0-284" class="d">-	gosched()
</a><a href="#h21-0-285" id="h21-0-285" class="d">-}
</a><a href="#h21-0-286" id="h21-0-286" class="d">-
</a><a href="#h21-0-287" id="h21-0-287" class="d">-// Ticker holds a channel that receives &quot;ticks&quot; at regular intervals.
</a><a href="#h21-0-288" id="h21-0-288" class="d">-type Ticker struct {
</a><a href="#h21-0-289" id="h21-0-289" class="d">-	C      &lt;-chan time.Time
</a><a href="#h21-0-290" id="h21-0-290" class="d">-	c      chan time.Time
</a><a href="#h21-0-291" id="h21-0-291" class="d">-	ticker *time.Ticker  // realtime impl, if set
</a><a href="#h21-0-292" id="h21-0-292" class="d">-	next   time.Time     // next tick time
</a><a href="#h21-0-293" id="h21-0-293" class="d">-	mock   *Mock         // mock clock, if set
</a><a href="#h21-0-294" id="h21-0-294" class="d">-	d      time.Duration // time between ticks
</a><a href="#h21-0-295" id="h21-0-295" class="d">-}
</a><a href="#h21-0-296" id="h21-0-296" class="d">-
</a><a href="#h21-0-297" id="h21-0-297" class="d">-// Stop turns off the ticker.
</a><a href="#h21-0-298" id="h21-0-298" class="d">-func (t *Ticker) Stop() {
</a><a href="#h21-0-299" id="h21-0-299" class="d">-	if t.ticker != nil {
</a><a href="#h21-0-300" id="h21-0-300" class="d">-		t.ticker.Stop()
</a><a href="#h21-0-301" id="h21-0-301" class="d">-	} else {
</a><a href="#h21-0-302" id="h21-0-302" class="d">-		t.mock.removeClockTimer((*internalTicker)(t))
</a><a href="#h21-0-303" id="h21-0-303" class="d">-	}
</a><a href="#h21-0-304" id="h21-0-304" class="d">-}
</a><a href="#h21-0-305" id="h21-0-305" class="d">-
</a><a href="#h21-0-306" id="h21-0-306" class="d">-type internalTicker Ticker
</a><a href="#h21-0-307" id="h21-0-307" class="d">-
</a><a href="#h21-0-308" id="h21-0-308" class="d">-func (t *internalTicker) Next() time.Time { return t.next }
</a><a href="#h21-0-309" id="h21-0-309" class="d">-func (t *internalTicker) Tick(now time.Time) {
</a><a href="#h21-0-310" id="h21-0-310" class="d">-	select {
</a><a href="#h21-0-311" id="h21-0-311" class="d">-	case t.c &lt;- now:
</a><a href="#h21-0-312" id="h21-0-312" class="d">-	case &lt;-time.After(1 * time.Millisecond):
</a><a href="#h21-0-313" id="h21-0-313" class="d">-	}
</a><a href="#h21-0-314" id="h21-0-314" class="d">-	t.next = now.Add(t.d)
</a><a href="#h21-0-315" id="h21-0-315" class="d">-	gosched()
</a><a href="#h21-0-316" id="h21-0-316" class="d">-}
</a><a href="#h21-0-317" id="h21-0-317" class="d">-
</a><a href="#h21-0-318" id="h21-0-318" class="d">-// Sleep momentarily so that other goroutines can process.
</a><a href="#h21-0-319" id="h21-0-319" class="d">-func gosched() { runtime.Gosched() }
</a><a href="#h21-0-320" id="h21-0-320" class="d">-
</a><a href="#h21-0-321" id="h21-0-321" class="d">-// Calls keeps track of the count of calls for each of the methods on the Clock
</a><a href="#h21-0-322" id="h21-0-322" class="d">-// interface.
</a><a href="#h21-0-323" id="h21-0-323" class="d">-type Calls struct {
</a><a href="#h21-0-324" id="h21-0-324" class="d">-	After     uint32
</a><a href="#h21-0-325" id="h21-0-325" class="d">-	AfterFunc uint32
</a><a href="#h21-0-326" id="h21-0-326" class="d">-	Now       uint32
</a><a href="#h21-0-327" id="h21-0-327" class="d">-	Sleep     uint32
</a><a href="#h21-0-328" id="h21-0-328" class="d">-	Tick      uint32
</a><a href="#h21-0-329" id="h21-0-329" class="d">-	Ticker    uint32
</a><a href="#h21-0-330" id="h21-0-330" class="d">-	Timer     uint32
</a><a href="#h21-0-331" id="h21-0-331" class="d">-}
</a><a href="#h21-0-332" id="h21-0-332" class="d">-
</a><a href="#h21-0-333" id="h21-0-333" class="d">-// atLeast returns true if at least the number of calls in o have been made.
</a><a href="#h21-0-334" id="h21-0-334" class="d">-func (c Calls) atLeast(o Calls) bool {
</a><a href="#h21-0-335" id="h21-0-335" class="d">-	if c.After &lt; o.After {
</a><a href="#h21-0-336" id="h21-0-336" class="d">-		return false
</a><a href="#h21-0-337" id="h21-0-337" class="d">-	}
</a><a href="#h21-0-338" id="h21-0-338" class="d">-	if c.AfterFunc &lt; o.AfterFunc {
</a><a href="#h21-0-339" id="h21-0-339" class="d">-		return false
</a><a href="#h21-0-340" id="h21-0-340" class="d">-	}
</a><a href="#h21-0-341" id="h21-0-341" class="d">-	if c.Now &lt; o.Now {
</a><a href="#h21-0-342" id="h21-0-342" class="d">-		return false
</a><a href="#h21-0-343" id="h21-0-343" class="d">-	}
</a><a href="#h21-0-344" id="h21-0-344" class="d">-	if c.Sleep &lt; o.Sleep {
</a><a href="#h21-0-345" id="h21-0-345" class="d">-		return false
</a><a href="#h21-0-346" id="h21-0-346" class="d">-	}
</a><a href="#h21-0-347" id="h21-0-347" class="d">-	if c.Tick &lt; o.Tick {
</a><a href="#h21-0-348" id="h21-0-348" class="d">-		return false
</a><a href="#h21-0-349" id="h21-0-349" class="d">-	}
</a><a href="#h21-0-350" id="h21-0-350" class="d">-	if c.Ticker &lt; o.Ticker {
</a><a href="#h21-0-351" id="h21-0-351" class="d">-		return false
</a><a href="#h21-0-352" id="h21-0-352" class="d">-	}
</a><a href="#h21-0-353" id="h21-0-353" class="d">-	if c.Timer &lt; o.Timer {
</a><a href="#h21-0-354" id="h21-0-354" class="d">-		return false
</a><a href="#h21-0-355" id="h21-0-355" class="d">-	}
</a><a href="#h21-0-356" id="h21-0-356" class="d">-	return true
</a><a href="#h21-0-357" id="h21-0-357" class="d">-}
</a><a href="#h21-0-358" id="h21-0-358" class="d">-
</a><a href="#h21-0-359" id="h21-0-359" class="d">-type waiting struct {
</a><a href="#h21-0-360" id="h21-0-360" class="d">-	expected Calls
</a><a href="#h21-0-361" id="h21-0-361" class="d">-	done     chan struct{}
</a><a href="#h21-0-362" id="h21-0-362" class="d">-}
</a><b>diff --git a/<a id="h22" href="../file/vendor/github.com/facebookgo/limitgroup/BUILD">vendor/github.com/facebookgo/limitgroup/BUILD</a> b/<a href="../file/vendor/github.com/facebookgo/limitgroup/BUILD">vendor/github.com/facebookgo/limitgroup/BUILD</a></b>
<a href="#h22-0" id="h22-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h22-0-0" id="h22-0-0" class="d">-
</a><a href="#h22-0-1" id="h22-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h22-0-2" id="h22-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h22-0-3" id="h22-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h22-0-4" id="h22-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h22-0-5" id="h22-0-5" class="d">-)
</a><a href="#h22-0-6" id="h22-0-6" class="d">-
</a><a href="#h22-0-7" id="h22-0-7" class="d">-go_library(
</a><a href="#h22-0-8" id="h22-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h22-0-9" id="h22-0-9" class="d">-  srcs = [
</a><a href="#h22-0-10" id="h22-0-10" class="d">-    &quot;limitgroup.go&quot;,
</a><a href="#h22-0-11" id="h22-0-11" class="d">-  ],
</a><a href="#h22-0-12" id="h22-0-12" class="d">-  deps = [
</a><a href="#h22-0-13" id="h22-0-13" class="d">-  ],
</a><a href="#h22-0-14" id="h22-0-14" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h22-0-15" id="h22-0-15" class="d">-)
</a><a href="#h22-0-16" id="h22-0-16" class="d">-
</a><a href="#h22-0-17" id="h22-0-17" class="d">-
</a><b>diff --git a/<a id="h23" href="../file/vendor/github.com/facebookgo/limitgroup/license">vendor/github.com/facebookgo/limitgroup/license</a> b/<a href="../file/vendor/github.com/facebookgo/limitgroup/license">vendor/github.com/facebookgo/limitgroup/license</a></b>
<a href="#h23-0" id="h23-0" class="h">@@ -1,30 +0,0 @@
</a><a href="#h23-0-0" id="h23-0-0" class="d">-BSD License
</a><a href="#h23-0-1" id="h23-0-1" class="d">-
</a><a href="#h23-0-2" id="h23-0-2" class="d">-For limitgroup software
</a><a href="#h23-0-3" id="h23-0-3" class="d">-
</a><a href="#h23-0-4" id="h23-0-4" class="d">-Copyright (c) 2015, Facebook, Inc. All rights reserved.
</a><a href="#h23-0-5" id="h23-0-5" class="d">-
</a><a href="#h23-0-6" id="h23-0-6" class="d">-Redistribution and use in source and binary forms, with or without modification,
</a><a href="#h23-0-7" id="h23-0-7" class="d">-are permitted provided that the following conditions are met:
</a><a href="#h23-0-8" id="h23-0-8" class="d">-
</a><a href="#h23-0-9" id="h23-0-9" class="d">- * Redistributions of source code must retain the above copyright notice, this
</a><a href="#h23-0-10" id="h23-0-10" class="d">-   list of conditions and the following disclaimer.
</a><a href="#h23-0-11" id="h23-0-11" class="d">-
</a><a href="#h23-0-12" id="h23-0-12" class="d">- * Redistributions in binary form must reproduce the above copyright notice,
</a><a href="#h23-0-13" id="h23-0-13" class="d">-   this list of conditions and the following disclaimer in the documentation
</a><a href="#h23-0-14" id="h23-0-14" class="d">-   and/or other materials provided with the distribution.
</a><a href="#h23-0-15" id="h23-0-15" class="d">-
</a><a href="#h23-0-16" id="h23-0-16" class="d">- * Neither the name Facebook nor the names of its contributors may be used to
</a><a href="#h23-0-17" id="h23-0-17" class="d">-   endorse or promote products derived from this software without specific
</a><a href="#h23-0-18" id="h23-0-18" class="d">-   prior written permission.
</a><a href="#h23-0-19" id="h23-0-19" class="d">-
</a><a href="#h23-0-20" id="h23-0-20" class="d">-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND
</a><a href="#h23-0-21" id="h23-0-21" class="d">-ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
</a><a href="#h23-0-22" id="h23-0-22" class="d">-WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
</a><a href="#h23-0-23" id="h23-0-23" class="d">-DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
</a><a href="#h23-0-24" id="h23-0-24" class="d">-ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
</a><a href="#h23-0-25" id="h23-0-25" class="d">-(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
</a><a href="#h23-0-26" id="h23-0-26" class="d">-LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
</a><a href="#h23-0-27" id="h23-0-27" class="d">-ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h23-0-28" id="h23-0-28" class="d">-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
</a><a href="#h23-0-29" id="h23-0-29" class="d">-SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><b>diff --git a/<a id="h24" href="../file/vendor/github.com/facebookgo/limitgroup/limitgroup.go">vendor/github.com/facebookgo/limitgroup/limitgroup.go</a> b/<a href="../file/vendor/github.com/facebookgo/limitgroup/limitgroup.go">vendor/github.com/facebookgo/limitgroup/limitgroup.go</a></b>
<a href="#h24-0" id="h24-0" class="h">@@ -1,65 +0,0 @@
</a><a href="#h24-0-0" id="h24-0-0" class="d">-// Package limitgroup provides a sync.WaitGroup equivalent with a
</a><a href="#h24-0-1" id="h24-0-1" class="d">-// configurable upper bound. This is implemented by having Add() block as well
</a><a href="#h24-0-2" id="h24-0-2" class="d">-// if necessary.
</a><a href="#h24-0-3" id="h24-0-3" class="d">-package limitgroup
</a><a href="#h24-0-4" id="h24-0-4" class="d">-
</a><a href="#h24-0-5" id="h24-0-5" class="d">-import (
</a><a href="#h24-0-6" id="h24-0-6" class="d">-	&quot;sync&quot;
</a><a href="#h24-0-7" id="h24-0-7" class="d">-)
</a><a href="#h24-0-8" id="h24-0-8" class="d">-
</a><a href="#h24-0-9" id="h24-0-9" class="d">-var sentinel = struct{}{}
</a><a href="#h24-0-10" id="h24-0-10" class="d">-
</a><a href="#h24-0-11" id="h24-0-11" class="d">-// LimitGroup provides a WaitGroup with a limited upper bound. Once the limit
</a><a href="#h24-0-12" id="h24-0-12" class="d">-// is hit, Add will block until sufficient deltas are returned.
</a><a href="#h24-0-13" id="h24-0-13" class="d">-type LimitGroup struct {
</a><a href="#h24-0-14" id="h24-0-14" class="d">-	sync.WaitGroup
</a><a href="#h24-0-15" id="h24-0-15" class="d">-	slots chan struct{}
</a><a href="#h24-0-16" id="h24-0-16" class="d">-}
</a><a href="#h24-0-17" id="h24-0-17" class="d">-
</a><a href="#h24-0-18" id="h24-0-18" class="d">-// NewLimitGroup creates a new LimitGroup with the configured limit.
</a><a href="#h24-0-19" id="h24-0-19" class="d">-func NewLimitGroup(limit uint) *LimitGroup {
</a><a href="#h24-0-20" id="h24-0-20" class="d">-	if limit == 0 {
</a><a href="#h24-0-21" id="h24-0-21" class="d">-		panic(&quot;zero is not a valid limit&quot;)
</a><a href="#h24-0-22" id="h24-0-22" class="d">-	}
</a><a href="#h24-0-23" id="h24-0-23" class="d">-	slots := make(chan struct{}, limit)
</a><a href="#h24-0-24" id="h24-0-24" class="d">-	return &amp;LimitGroup{slots: slots}
</a><a href="#h24-0-25" id="h24-0-25" class="d">-}
</a><a href="#h24-0-26" id="h24-0-26" class="d">-
</a><a href="#h24-0-27" id="h24-0-27" class="d">-// Add adds delta, which may be negative. It will block if we have hit the
</a><a href="#h24-0-28" id="h24-0-28" class="d">-// limit, and will unblock as Done is called.
</a><a href="#h24-0-29" id="h24-0-29" class="d">-func (l *LimitGroup) Add(delta int) {
</a><a href="#h24-0-30" id="h24-0-30" class="d">-	if delta &gt; cap(l.slots) {
</a><a href="#h24-0-31" id="h24-0-31" class="d">-		panic(&quot;delta greater than limit&quot;)
</a><a href="#h24-0-32" id="h24-0-32" class="d">-	}
</a><a href="#h24-0-33" id="h24-0-33" class="d">-	if delta == 0 {
</a><a href="#h24-0-34" id="h24-0-34" class="d">-		return
</a><a href="#h24-0-35" id="h24-0-35" class="d">-	}
</a><a href="#h24-0-36" id="h24-0-36" class="d">-
</a><a href="#h24-0-37" id="h24-0-37" class="d">-	// If we&#39;re adding, we need to accquire slots, if we&#39;re subtracting, we need
</a><a href="#h24-0-38" id="h24-0-38" class="d">-	// to return slots.
</a><a href="#h24-0-39" id="h24-0-39" class="d">-	if delta &gt; 0 {
</a><a href="#h24-0-40" id="h24-0-40" class="d">-		l.WaitGroup.Add(delta)
</a><a href="#h24-0-41" id="h24-0-41" class="d">-		for i := 0; i &lt; delta; i++ {
</a><a href="#h24-0-42" id="h24-0-42" class="d">-			l.slots &lt;- sentinel
</a><a href="#h24-0-43" id="h24-0-43" class="d">-		}
</a><a href="#h24-0-44" id="h24-0-44" class="d">-	} else {
</a><a href="#h24-0-45" id="h24-0-45" class="d">-		for i := 0; i &gt; delta; i-- {
</a><a href="#h24-0-46" id="h24-0-46" class="d">-			select {
</a><a href="#h24-0-47" id="h24-0-47" class="d">-			case &lt;-l.slots:
</a><a href="#h24-0-48" id="h24-0-48" class="d">-			default:
</a><a href="#h24-0-49" id="h24-0-49" class="d">-				panic(&quot;trying to return more slots than acquired&quot;)
</a><a href="#h24-0-50" id="h24-0-50" class="d">-			}
</a><a href="#h24-0-51" id="h24-0-51" class="d">-		}
</a><a href="#h24-0-52" id="h24-0-52" class="d">-		l.WaitGroup.Add(delta)
</a><a href="#h24-0-53" id="h24-0-53" class="d">-	}
</a><a href="#h24-0-54" id="h24-0-54" class="d">-}
</a><a href="#h24-0-55" id="h24-0-55" class="d">-
</a><a href="#h24-0-56" id="h24-0-56" class="d">-// Done decrements the counter.
</a><a href="#h24-0-57" id="h24-0-57" class="d">-func (l *LimitGroup) Done() {
</a><a href="#h24-0-58" id="h24-0-58" class="d">-	select {
</a><a href="#h24-0-59" id="h24-0-59" class="d">-	case &lt;-l.slots:
</a><a href="#h24-0-60" id="h24-0-60" class="d">-	default:
</a><a href="#h24-0-61" id="h24-0-61" class="d">-		panic(&quot;trying to return more slots than acquired&quot;)
</a><a href="#h24-0-62" id="h24-0-62" class="d">-	}
</a><a href="#h24-0-63" id="h24-0-63" class="d">-	l.WaitGroup.Done()
</a><a href="#h24-0-64" id="h24-0-64" class="d">-}
</a><b>diff --git a/<a id="h25" href="../file/vendor/github.com/facebookgo/limitgroup/patents">vendor/github.com/facebookgo/limitgroup/patents</a> b/<a href="../file/vendor/github.com/facebookgo/limitgroup/patents">vendor/github.com/facebookgo/limitgroup/patents</a></b>
<a href="#h25-0" id="h25-0" class="h">@@ -1,33 +0,0 @@
</a><a href="#h25-0-0" id="h25-0-0" class="d">-Additional Grant of Patent Rights Version 2
</a><a href="#h25-0-1" id="h25-0-1" class="d">-
</a><a href="#h25-0-2" id="h25-0-2" class="d">-&quot;Software&quot; means the limitgroup software distributed by Facebook, Inc.
</a><a href="#h25-0-3" id="h25-0-3" class="d">-
</a><a href="#h25-0-4" id="h25-0-4" class="d">-Facebook, Inc. (&quot;Facebook&quot;) hereby grants to each recipient of the Software
</a><a href="#h25-0-5" id="h25-0-5" class="d">-(&quot;you&quot;) a perpetual, worldwide, royalty-free, non-exclusive, irrevocable
</a><a href="#h25-0-6" id="h25-0-6" class="d">-(subject to the termination provision below) license under any Necessary
</a><a href="#h25-0-7" id="h25-0-7" class="d">-Claims, to make, have made, use, sell, offer to sell, import, and otherwise
</a><a href="#h25-0-8" id="h25-0-8" class="d">-transfer the Software. For avoidance of doubt, no license is granted under
</a><a href="#h25-0-9" id="h25-0-9" class="d">-Facebooks rights in any patent claims that are infringed by (i) modifications
</a><a href="#h25-0-10" id="h25-0-10" class="d">-to the Software made by you or any third party or (ii) the Software in
</a><a href="#h25-0-11" id="h25-0-11" class="d">-combination with any software or other technology.
</a><a href="#h25-0-12" id="h25-0-12" class="d">-
</a><a href="#h25-0-13" id="h25-0-13" class="d">-The license granted hereunder will terminate, automatically and without notice,
</a><a href="#h25-0-14" id="h25-0-14" class="d">-if you (or any of your subsidiaries, corporate affiliates or agents) initiate
</a><a href="#h25-0-15" id="h25-0-15" class="d">-directly or indirectly, or take a direct financial interest in, any Patent
</a><a href="#h25-0-16" id="h25-0-16" class="d">-Assertion: (i) against Facebook or any of its subsidiaries or corporate
</a><a href="#h25-0-17" id="h25-0-17" class="d">-affiliates, (ii) against any party if such Patent Assertion arises in whole or
</a><a href="#h25-0-18" id="h25-0-18" class="d">-in part from any software, technology, product or service of Facebook or any of
</a><a href="#h25-0-19" id="h25-0-19" class="d">-its subsidiaries or corporate affiliates, or (iii) against any party relating
</a><a href="#h25-0-20" id="h25-0-20" class="d">-to the Software. Notwithstanding the foregoing, if Facebook or any of its
</a><a href="#h25-0-21" id="h25-0-21" class="d">-subsidiaries or corporate affiliates files a lawsuit alleging patent
</a><a href="#h25-0-22" id="h25-0-22" class="d">-infringement against you in the first instance, and you respond by filing a
</a><a href="#h25-0-23" id="h25-0-23" class="d">-patent infringement counterclaim in that lawsuit against that party that is
</a><a href="#h25-0-24" id="h25-0-24" class="d">-unrelated to the Software, the license granted hereunder will not terminate
</a><a href="#h25-0-25" id="h25-0-25" class="d">-under section (i) of this paragraph due to such counterclaim.
</a><a href="#h25-0-26" id="h25-0-26" class="d">-
</a><a href="#h25-0-27" id="h25-0-27" class="d">-A &quot;Necessary Claim&quot; is a claim of a patent owned by Facebook that is
</a><a href="#h25-0-28" id="h25-0-28" class="d">-necessarily infringed by the Software standing alone.
</a><a href="#h25-0-29" id="h25-0-29" class="d">-
</a><a href="#h25-0-30" id="h25-0-30" class="d">-A &quot;Patent Assertion&quot; is any lawsuit or other action alleging direct, indirect,
</a><a href="#h25-0-31" id="h25-0-31" class="d">-or contributory infringement or inducement to infringe any patent, including a
</a><a href="#h25-0-32" id="h25-0-32" class="d">-cross-claim or counterclaim.
</a><b>diff --git a/<a id="h26" href="../file/vendor/github.com/facebookgo/limitgroup/readme.md">vendor/github.com/facebookgo/limitgroup/readme.md</a> b/<a href="../file/vendor/github.com/facebookgo/limitgroup/readme.md">vendor/github.com/facebookgo/limitgroup/readme.md</a></b>
<a href="#h26-0" id="h26-0" class="h">@@ -1,4 +0,0 @@
</a><a href="#h26-0-0" id="h26-0-0" class="d">-limitgroup [![Build Status](https://secure.travis-ci.org/facebookgo/limitgroup.png)](https://travis-ci.org/facebookgo/limitgroup)
</a><a href="#h26-0-1" id="h26-0-1" class="d">-==========
</a><a href="#h26-0-2" id="h26-0-2" class="d">-
</a><a href="#h26-0-3" id="h26-0-3" class="d">-Documentation: https://godoc.org/github.com/facebookgo/limitgroup
</a><b>diff --git a/<a id="h27" href="../file/vendor/github.com/facebookgo/muster/BUILD">vendor/github.com/facebookgo/muster/BUILD</a> b/<a href="../file/vendor/github.com/facebookgo/muster/BUILD">vendor/github.com/facebookgo/muster/BUILD</a></b>
<a href="#h27-0" id="h27-0" class="h">@@ -1,20 +0,0 @@
</a><a href="#h27-0-0" id="h27-0-0" class="d">-
</a><a href="#h27-0-1" id="h27-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h27-0-2" id="h27-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h27-0-3" id="h27-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h27-0-4" id="h27-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h27-0-5" id="h27-0-5" class="d">-)
</a><a href="#h27-0-6" id="h27-0-6" class="d">-
</a><a href="#h27-0-7" id="h27-0-7" class="d">-go_library(
</a><a href="#h27-0-8" id="h27-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h27-0-9" id="h27-0-9" class="d">-  srcs = [
</a><a href="#h27-0-10" id="h27-0-10" class="d">-    &quot;muster.go&quot;,
</a><a href="#h27-0-11" id="h27-0-11" class="d">-  ],
</a><a href="#h27-0-12" id="h27-0-12" class="d">-  deps = [
</a><a href="#h27-0-13" id="h27-0-13" class="d">-    &quot;//vendor/github.com/facebookgo/clock:go_default_library&quot;,
</a><a href="#h27-0-14" id="h27-0-14" class="d">-    &quot;//vendor/github.com/facebookgo/limitgroup:go_default_library&quot;,
</a><a href="#h27-0-15" id="h27-0-15" class="d">-  ],
</a><a href="#h27-0-16" id="h27-0-16" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h27-0-17" id="h27-0-17" class="d">-)
</a><a href="#h27-0-18" id="h27-0-18" class="d">-
</a><a href="#h27-0-19" id="h27-0-19" class="d">-
</a><b>diff --git a/<a id="h28" href="../file/vendor/github.com/facebookgo/muster/license">vendor/github.com/facebookgo/muster/license</a> b/<a href="../file/vendor/github.com/facebookgo/muster/license">vendor/github.com/facebookgo/muster/license</a></b>
<a href="#h28-0" id="h28-0" class="h">@@ -1,30 +0,0 @@
</a><a href="#h28-0-0" id="h28-0-0" class="d">-BSD License
</a><a href="#h28-0-1" id="h28-0-1" class="d">-
</a><a href="#h28-0-2" id="h28-0-2" class="d">-For muster software
</a><a href="#h28-0-3" id="h28-0-3" class="d">-
</a><a href="#h28-0-4" id="h28-0-4" class="d">-Copyright (c) 2015, Facebook, Inc. All rights reserved.
</a><a href="#h28-0-5" id="h28-0-5" class="d">-
</a><a href="#h28-0-6" id="h28-0-6" class="d">-Redistribution and use in source and binary forms, with or without modification,
</a><a href="#h28-0-7" id="h28-0-7" class="d">-are permitted provided that the following conditions are met:
</a><a href="#h28-0-8" id="h28-0-8" class="d">-
</a><a href="#h28-0-9" id="h28-0-9" class="d">- * Redistributions of source code must retain the above copyright notice, this
</a><a href="#h28-0-10" id="h28-0-10" class="d">-   list of conditions and the following disclaimer.
</a><a href="#h28-0-11" id="h28-0-11" class="d">-
</a><a href="#h28-0-12" id="h28-0-12" class="d">- * Redistributions in binary form must reproduce the above copyright notice,
</a><a href="#h28-0-13" id="h28-0-13" class="d">-   this list of conditions and the following disclaimer in the documentation
</a><a href="#h28-0-14" id="h28-0-14" class="d">-   and/or other materials provided with the distribution.
</a><a href="#h28-0-15" id="h28-0-15" class="d">-
</a><a href="#h28-0-16" id="h28-0-16" class="d">- * Neither the name Facebook nor the names of its contributors may be used to
</a><a href="#h28-0-17" id="h28-0-17" class="d">-   endorse or promote products derived from this software without specific
</a><a href="#h28-0-18" id="h28-0-18" class="d">-   prior written permission.
</a><a href="#h28-0-19" id="h28-0-19" class="d">-
</a><a href="#h28-0-20" id="h28-0-20" class="d">-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND
</a><a href="#h28-0-21" id="h28-0-21" class="d">-ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
</a><a href="#h28-0-22" id="h28-0-22" class="d">-WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
</a><a href="#h28-0-23" id="h28-0-23" class="d">-DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
</a><a href="#h28-0-24" id="h28-0-24" class="d">-ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
</a><a href="#h28-0-25" id="h28-0-25" class="d">-(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
</a><a href="#h28-0-26" id="h28-0-26" class="d">-LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
</a><a href="#h28-0-27" id="h28-0-27" class="d">-ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h28-0-28" id="h28-0-28" class="d">-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
</a><a href="#h28-0-29" id="h28-0-29" class="d">-SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><b>diff --git a/<a id="h29" href="../file/vendor/github.com/facebookgo/muster/muster.go">vendor/github.com/facebookgo/muster/muster.go</a> b/<a href="../file/vendor/github.com/facebookgo/muster/muster.go">vendor/github.com/facebookgo/muster/muster.go</a></b>
<a href="#h29-0" id="h29-0" class="h">@@ -1,175 +0,0 @@
</a><a href="#h29-0-0" id="h29-0-0" class="d">-// Package muster provides a framework for writing libraries that internally
</a><a href="#h29-0-1" id="h29-0-1" class="d">-// batch operations.
</a><a href="#h29-0-2" id="h29-0-2" class="d">-//
</a><a href="#h29-0-3" id="h29-0-3" class="d">-// It will be useful to you if you&#39;re building an API that benefits from
</a><a href="#h29-0-4" id="h29-0-4" class="d">-// performing work in batches for whatever reason. Batching is triggered based
</a><a href="#h29-0-5" id="h29-0-5" class="d">-// on a maximum number of items in a batch, and/or based on a timeout for how
</a><a href="#h29-0-6" id="h29-0-6" class="d">-// long a batch waits before it is dispatched. For example if you&#39;re willing to
</a><a href="#h29-0-7" id="h29-0-7" class="d">-// wait for a maximum of a 1m duration, you can just set BatchTimeout and keep
</a><a href="#h29-0-8" id="h29-0-8" class="d">-// adding things. Or if you want batches of 50 just set MaxBatchSize and it
</a><a href="#h29-0-9" id="h29-0-9" class="d">-// will only fire when the batch is filled. For best results set both.
</a><a href="#h29-0-10" id="h29-0-10" class="d">-//
</a><a href="#h29-0-11" id="h29-0-11" class="d">-// It would be in your best interest to use this library in a hidden fashion in
</a><a href="#h29-0-12" id="h29-0-12" class="d">-// order to avoid unnecessary coupling. You will typically achieve this by
</a><a href="#h29-0-13" id="h29-0-13" class="d">-// ensuring your implementation of muster.Batch and the use of muster.Client
</a><a href="#h29-0-14" id="h29-0-14" class="d">-// are private.
</a><a href="#h29-0-15" id="h29-0-15" class="d">-package muster
</a><a href="#h29-0-16" id="h29-0-16" class="d">-
</a><a href="#h29-0-17" id="h29-0-17" class="d">-import (
</a><a href="#h29-0-18" id="h29-0-18" class="d">-	&quot;errors&quot;
</a><a href="#h29-0-19" id="h29-0-19" class="d">-	&quot;sync&quot;
</a><a href="#h29-0-20" id="h29-0-20" class="d">-	&quot;time&quot;
</a><a href="#h29-0-21" id="h29-0-21" class="d">-
</a><a href="#h29-0-22" id="h29-0-22" class="d">-	&quot;github.com/facebookgo/clock&quot;
</a><a href="#h29-0-23" id="h29-0-23" class="d">-	&quot;github.com/facebookgo/limitgroup&quot;
</a><a href="#h29-0-24" id="h29-0-24" class="d">-)
</a><a href="#h29-0-25" id="h29-0-25" class="d">-
</a><a href="#h29-0-26" id="h29-0-26" class="d">-var errZeroBoth = errors.New(
</a><a href="#h29-0-27" id="h29-0-27" class="d">-	&quot;muster: MaxBatchSize and BatchTimeout can&#39;t both be zero&quot;,
</a><a href="#h29-0-28" id="h29-0-28" class="d">-)
</a><a href="#h29-0-29" id="h29-0-29" class="d">-
</a><a href="#h29-0-30" id="h29-0-30" class="d">-type waitGroup interface {
</a><a href="#h29-0-31" id="h29-0-31" class="d">-	Add(delta int)
</a><a href="#h29-0-32" id="h29-0-32" class="d">-	Done()
</a><a href="#h29-0-33" id="h29-0-33" class="d">-	Wait()
</a><a href="#h29-0-34" id="h29-0-34" class="d">-}
</a><a href="#h29-0-35" id="h29-0-35" class="d">-
</a><a href="#h29-0-36" id="h29-0-36" class="d">-// Notifier is used to indicate to the Client when a batch has finished
</a><a href="#h29-0-37" id="h29-0-37" class="d">-// processing.
</a><a href="#h29-0-38" id="h29-0-38" class="d">-type Notifier interface {
</a><a href="#h29-0-39" id="h29-0-39" class="d">-	// Calling Done will indicate the batch has finished processing.
</a><a href="#h29-0-40" id="h29-0-40" class="d">-	Done()
</a><a href="#h29-0-41" id="h29-0-41" class="d">-}
</a><a href="#h29-0-42" id="h29-0-42" class="d">-
</a><a href="#h29-0-43" id="h29-0-43" class="d">-// Batch collects added items. Fire will be called exactly once. The Batch does
</a><a href="#h29-0-44" id="h29-0-44" class="d">-// not need to be safe for concurrent access; synchronization will be handled
</a><a href="#h29-0-45" id="h29-0-45" class="d">-// by the Client.
</a><a href="#h29-0-46" id="h29-0-46" class="d">-type Batch interface {
</a><a href="#h29-0-47" id="h29-0-47" class="d">-	// This should add the given single item to the Batch. This is the &quot;other
</a><a href="#h29-0-48" id="h29-0-48" class="d">-	// end&quot; of the Client.Work channel where your application will send items.
</a><a href="#h29-0-49" id="h29-0-49" class="d">-	Add(item interface{})
</a><a href="#h29-0-50" id="h29-0-50" class="d">-
</a><a href="#h29-0-51" id="h29-0-51" class="d">-	// Fire off the Batch. It should call Notifier.Done() when it has finished
</a><a href="#h29-0-52" id="h29-0-52" class="d">-	// processing the Batch.
</a><a href="#h29-0-53" id="h29-0-53" class="d">-	Fire(notifier Notifier)
</a><a href="#h29-0-54" id="h29-0-54" class="d">-}
</a><a href="#h29-0-55" id="h29-0-55" class="d">-
</a><a href="#h29-0-56" id="h29-0-56" class="d">-// The Client manages the background process that makes, populates &amp; fires
</a><a href="#h29-0-57" id="h29-0-57" class="d">-// Batches.
</a><a href="#h29-0-58" id="h29-0-58" class="d">-type Client struct {
</a><a href="#h29-0-59" id="h29-0-59" class="d">-	// Maximum number of items in a batch. If this is zero batches will only be
</a><a href="#h29-0-60" id="h29-0-60" class="d">-	// dispatched upon hitting the BatchTimeout. It is an error for both this and
</a><a href="#h29-0-61" id="h29-0-61" class="d">-	// the BatchTimeout to be zero.
</a><a href="#h29-0-62" id="h29-0-62" class="d">-	MaxBatchSize uint
</a><a href="#h29-0-63" id="h29-0-63" class="d">-
</a><a href="#h29-0-64" id="h29-0-64" class="d">-	// Duration after which to send a pending batch. If this is zero batches will
</a><a href="#h29-0-65" id="h29-0-65" class="d">-	// only be dispatched upon hitting the MaxBatchSize. It is an error for both
</a><a href="#h29-0-66" id="h29-0-66" class="d">-	// this and the MaxBatchSize to be zero.
</a><a href="#h29-0-67" id="h29-0-67" class="d">-	BatchTimeout time.Duration
</a><a href="#h29-0-68" id="h29-0-68" class="d">-
</a><a href="#h29-0-69" id="h29-0-69" class="d">-	// MaxConcurrentBatches determines how many parallel batches we&#39;ll allow to
</a><a href="#h29-0-70" id="h29-0-70" class="d">-	// be &quot;in flight&quot; concurrently. Once these many batches are in flight, the
</a><a href="#h29-0-71" id="h29-0-71" class="d">-	// PendingWorkCapacity determines when sending to the Work channel will start
</a><a href="#h29-0-72" id="h29-0-72" class="d">-	// blocking. In other words, once MaxConcurrentBatches hits, the system
</a><a href="#h29-0-73" id="h29-0-73" class="d">-	// starts blocking. This allows for tighter control over memory utilization.
</a><a href="#h29-0-74" id="h29-0-74" class="d">-	// If not set, the number of parallel batches in-flight will not be limited.
</a><a href="#h29-0-75" id="h29-0-75" class="d">-	MaxConcurrentBatches uint
</a><a href="#h29-0-76" id="h29-0-76" class="d">-
</a><a href="#h29-0-77" id="h29-0-77" class="d">-	// Capacity of work channel. If this is zero, the Work channel will be
</a><a href="#h29-0-78" id="h29-0-78" class="d">-	// blocking.
</a><a href="#h29-0-79" id="h29-0-79" class="d">-	PendingWorkCapacity uint
</a><a href="#h29-0-80" id="h29-0-80" class="d">-
</a><a href="#h29-0-81" id="h29-0-81" class="d">-	// This function should create a new empty Batch on each invocation.
</a><a href="#h29-0-82" id="h29-0-82" class="d">-	BatchMaker func() Batch
</a><a href="#h29-0-83" id="h29-0-83" class="d">-
</a><a href="#h29-0-84" id="h29-0-84" class="d">-	// Once this Client has been started, send work items here to add to batch.
</a><a href="#h29-0-85" id="h29-0-85" class="d">-	Work chan interface{}
</a><a href="#h29-0-86" id="h29-0-86" class="d">-
</a><a href="#h29-0-87" id="h29-0-87" class="d">-	klock     clock.Clock
</a><a href="#h29-0-88" id="h29-0-88" class="d">-	workGroup waitGroup
</a><a href="#h29-0-89" id="h29-0-89" class="d">-}
</a><a href="#h29-0-90" id="h29-0-90" class="d">-
</a><a href="#h29-0-91" id="h29-0-91" class="d">-func (c *Client) clock() clock.Clock {
</a><a href="#h29-0-92" id="h29-0-92" class="d">-	if c.klock == nil {
</a><a href="#h29-0-93" id="h29-0-93" class="d">-		return clock.New()
</a><a href="#h29-0-94" id="h29-0-94" class="d">-	}
</a><a href="#h29-0-95" id="h29-0-95" class="d">-	return c.klock
</a><a href="#h29-0-96" id="h29-0-96" class="d">-}
</a><a href="#h29-0-97" id="h29-0-97" class="d">-
</a><a href="#h29-0-98" id="h29-0-98" class="d">-// Start the background worker goroutines and get ready for accepting requests.
</a><a href="#h29-0-99" id="h29-0-99" class="d">-func (c *Client) Start() error {
</a><a href="#h29-0-100" id="h29-0-100" class="d">-	if int64(c.BatchTimeout) == 0 &amp;&amp; c.MaxBatchSize == 0 {
</a><a href="#h29-0-101" id="h29-0-101" class="d">-		return errZeroBoth
</a><a href="#h29-0-102" id="h29-0-102" class="d">-	}
</a><a href="#h29-0-103" id="h29-0-103" class="d">-
</a><a href="#h29-0-104" id="h29-0-104" class="d">-	if c.MaxConcurrentBatches == 0 {
</a><a href="#h29-0-105" id="h29-0-105" class="d">-		c.workGroup = &amp;sync.WaitGroup{}
</a><a href="#h29-0-106" id="h29-0-106" class="d">-	} else {
</a><a href="#h29-0-107" id="h29-0-107" class="d">-		c.workGroup = limitgroup.NewLimitGroup(c.MaxConcurrentBatches + 1)
</a><a href="#h29-0-108" id="h29-0-108" class="d">-	}
</a><a href="#h29-0-109" id="h29-0-109" class="d">-
</a><a href="#h29-0-110" id="h29-0-110" class="d">-	c.Work = make(chan interface{}, c.PendingWorkCapacity)
</a><a href="#h29-0-111" id="h29-0-111" class="d">-	c.workGroup.Add(1) // this is the worker itself
</a><a href="#h29-0-112" id="h29-0-112" class="d">-	go c.worker()
</a><a href="#h29-0-113" id="h29-0-113" class="d">-	return nil
</a><a href="#h29-0-114" id="h29-0-114" class="d">-}
</a><a href="#h29-0-115" id="h29-0-115" class="d">-
</a><a href="#h29-0-116" id="h29-0-116" class="d">-// Stop gracefully and return once all processing has finished.
</a><a href="#h29-0-117" id="h29-0-117" class="d">-func (c *Client) Stop() error {
</a><a href="#h29-0-118" id="h29-0-118" class="d">-	close(c.Work)
</a><a href="#h29-0-119" id="h29-0-119" class="d">-	c.workGroup.Wait()
</a><a href="#h29-0-120" id="h29-0-120" class="d">-	return nil
</a><a href="#h29-0-121" id="h29-0-121" class="d">-}
</a><a href="#h29-0-122" id="h29-0-122" class="d">-
</a><a href="#h29-0-123" id="h29-0-123" class="d">-// Background process.
</a><a href="#h29-0-124" id="h29-0-124" class="d">-func (c *Client) worker() {
</a><a href="#h29-0-125" id="h29-0-125" class="d">-	defer c.workGroup.Done()
</a><a href="#h29-0-126" id="h29-0-126" class="d">-	var batch = c.BatchMaker()
</a><a href="#h29-0-127" id="h29-0-127" class="d">-	var count uint
</a><a href="#h29-0-128" id="h29-0-128" class="d">-	var batchTimer *clock.Timer
</a><a href="#h29-0-129" id="h29-0-129" class="d">-	var batchTimeout &lt;-chan time.Time
</a><a href="#h29-0-130" id="h29-0-130" class="d">-	send := func() {
</a><a href="#h29-0-131" id="h29-0-131" class="d">-		c.workGroup.Add(1)
</a><a href="#h29-0-132" id="h29-0-132" class="d">-		go batch.Fire(c.workGroup)
</a><a href="#h29-0-133" id="h29-0-133" class="d">-		batch = c.BatchMaker()
</a><a href="#h29-0-134" id="h29-0-134" class="d">-		count = 0
</a><a href="#h29-0-135" id="h29-0-135" class="d">-		if batchTimer != nil {
</a><a href="#h29-0-136" id="h29-0-136" class="d">-			batchTimer.Stop()
</a><a href="#h29-0-137" id="h29-0-137" class="d">-		}
</a><a href="#h29-0-138" id="h29-0-138" class="d">-	}
</a><a href="#h29-0-139" id="h29-0-139" class="d">-	recv := func(item interface{}, open bool) bool {
</a><a href="#h29-0-140" id="h29-0-140" class="d">-		if !open {
</a><a href="#h29-0-141" id="h29-0-141" class="d">-			if count != 0 {
</a><a href="#h29-0-142" id="h29-0-142" class="d">-				send()
</a><a href="#h29-0-143" id="h29-0-143" class="d">-			}
</a><a href="#h29-0-144" id="h29-0-144" class="d">-			return true
</a><a href="#h29-0-145" id="h29-0-145" class="d">-		}
</a><a href="#h29-0-146" id="h29-0-146" class="d">-		batch.Add(item)
</a><a href="#h29-0-147" id="h29-0-147" class="d">-		count++
</a><a href="#h29-0-148" id="h29-0-148" class="d">-		if c.MaxBatchSize != 0 &amp;&amp; count &gt;= c.MaxBatchSize {
</a><a href="#h29-0-149" id="h29-0-149" class="d">-			send()
</a><a href="#h29-0-150" id="h29-0-150" class="d">-		} else if int64(c.BatchTimeout) != 0 &amp;&amp; count == 1 {
</a><a href="#h29-0-151" id="h29-0-151" class="d">-			batchTimer = c.clock().Timer(c.BatchTimeout)
</a><a href="#h29-0-152" id="h29-0-152" class="d">-			batchTimeout = batchTimer.C
</a><a href="#h29-0-153" id="h29-0-153" class="d">-		}
</a><a href="#h29-0-154" id="h29-0-154" class="d">-		return false
</a><a href="#h29-0-155" id="h29-0-155" class="d">-	}
</a><a href="#h29-0-156" id="h29-0-156" class="d">-	for {
</a><a href="#h29-0-157" id="h29-0-157" class="d">-		// We use two selects in order to first prefer draining the work queue.
</a><a href="#h29-0-158" id="h29-0-158" class="d">-		select {
</a><a href="#h29-0-159" id="h29-0-159" class="d">-		case item, open := &lt;-c.Work:
</a><a href="#h29-0-160" id="h29-0-160" class="d">-			if recv(item, open) {
</a><a href="#h29-0-161" id="h29-0-161" class="d">-				return
</a><a href="#h29-0-162" id="h29-0-162" class="d">-			}
</a><a href="#h29-0-163" id="h29-0-163" class="d">-		default:
</a><a href="#h29-0-164" id="h29-0-164" class="d">-			select {
</a><a href="#h29-0-165" id="h29-0-165" class="d">-			case item, open := &lt;-c.Work:
</a><a href="#h29-0-166" id="h29-0-166" class="d">-				if recv(item, open) {
</a><a href="#h29-0-167" id="h29-0-167" class="d">-					return
</a><a href="#h29-0-168" id="h29-0-168" class="d">-				}
</a><a href="#h29-0-169" id="h29-0-169" class="d">-			case &lt;-batchTimeout:
</a><a href="#h29-0-170" id="h29-0-170" class="d">-				send()
</a><a href="#h29-0-171" id="h29-0-171" class="d">-			}
</a><a href="#h29-0-172" id="h29-0-172" class="d">-		}
</a><a href="#h29-0-173" id="h29-0-173" class="d">-	}
</a><a href="#h29-0-174" id="h29-0-174" class="d">-}
</a><b>diff --git a/<a id="h30" href="../file/vendor/github.com/facebookgo/muster/patents">vendor/github.com/facebookgo/muster/patents</a> b/<a href="../file/vendor/github.com/facebookgo/muster/patents">vendor/github.com/facebookgo/muster/patents</a></b>
<a href="#h30-0" id="h30-0" class="h">@@ -1,33 +0,0 @@
</a><a href="#h30-0-0" id="h30-0-0" class="d">-Additional Grant of Patent Rights Version 2
</a><a href="#h30-0-1" id="h30-0-1" class="d">-
</a><a href="#h30-0-2" id="h30-0-2" class="d">-&quot;Software&quot; means the muster software distributed by Facebook, Inc.
</a><a href="#h30-0-3" id="h30-0-3" class="d">-
</a><a href="#h30-0-4" id="h30-0-4" class="d">-Facebook, Inc. (&quot;Facebook&quot;) hereby grants to each recipient of the Software
</a><a href="#h30-0-5" id="h30-0-5" class="d">-(&quot;you&quot;) a perpetual, worldwide, royalty-free, non-exclusive, irrevocable
</a><a href="#h30-0-6" id="h30-0-6" class="d">-(subject to the termination provision below) license under any Necessary
</a><a href="#h30-0-7" id="h30-0-7" class="d">-Claims, to make, have made, use, sell, offer to sell, import, and otherwise
</a><a href="#h30-0-8" id="h30-0-8" class="d">-transfer the Software. For avoidance of doubt, no license is granted under
</a><a href="#h30-0-9" id="h30-0-9" class="d">-Facebooks rights in any patent claims that are infringed by (i) modifications
</a><a href="#h30-0-10" id="h30-0-10" class="d">-to the Software made by you or any third party or (ii) the Software in
</a><a href="#h30-0-11" id="h30-0-11" class="d">-combination with any software or other technology.
</a><a href="#h30-0-12" id="h30-0-12" class="d">-
</a><a href="#h30-0-13" id="h30-0-13" class="d">-The license granted hereunder will terminate, automatically and without notice,
</a><a href="#h30-0-14" id="h30-0-14" class="d">-if you (or any of your subsidiaries, corporate affiliates or agents) initiate
</a><a href="#h30-0-15" id="h30-0-15" class="d">-directly or indirectly, or take a direct financial interest in, any Patent
</a><a href="#h30-0-16" id="h30-0-16" class="d">-Assertion: (i) against Facebook or any of its subsidiaries or corporate
</a><a href="#h30-0-17" id="h30-0-17" class="d">-affiliates, (ii) against any party if such Patent Assertion arises in whole or
</a><a href="#h30-0-18" id="h30-0-18" class="d">-in part from any software, technology, product or service of Facebook or any of
</a><a href="#h30-0-19" id="h30-0-19" class="d">-its subsidiaries or corporate affiliates, or (iii) against any party relating
</a><a href="#h30-0-20" id="h30-0-20" class="d">-to the Software. Notwithstanding the foregoing, if Facebook or any of its
</a><a href="#h30-0-21" id="h30-0-21" class="d">-subsidiaries or corporate affiliates files a lawsuit alleging patent
</a><a href="#h30-0-22" id="h30-0-22" class="d">-infringement against you in the first instance, and you respond by filing a
</a><a href="#h30-0-23" id="h30-0-23" class="d">-patent infringement counterclaim in that lawsuit against that party that is
</a><a href="#h30-0-24" id="h30-0-24" class="d">-unrelated to the Software, the license granted hereunder will not terminate
</a><a href="#h30-0-25" id="h30-0-25" class="d">-under section (i) of this paragraph due to such counterclaim.
</a><a href="#h30-0-26" id="h30-0-26" class="d">-
</a><a href="#h30-0-27" id="h30-0-27" class="d">-A &quot;Necessary Claim&quot; is a claim of a patent owned by Facebook that is
</a><a href="#h30-0-28" id="h30-0-28" class="d">-necessarily infringed by the Software standing alone.
</a><a href="#h30-0-29" id="h30-0-29" class="d">-
</a><a href="#h30-0-30" id="h30-0-30" class="d">-A &quot;Patent Assertion&quot; is any lawsuit or other action alleging direct, indirect,
</a><a href="#h30-0-31" id="h30-0-31" class="d">-or contributory infringement or inducement to infringe any patent, including a
</a><a href="#h30-0-32" id="h30-0-32" class="d">-cross-claim or counterclaim.
</a><b>diff --git a/<a id="h31" href="../file/vendor/github.com/facebookgo/muster/readme.md">vendor/github.com/facebookgo/muster/readme.md</a> b/<a href="../file/vendor/github.com/facebookgo/muster/readme.md">vendor/github.com/facebookgo/muster/readme.md</a></b>
<a href="#h31-0" id="h31-0" class="h">@@ -1,4 +0,0 @@
</a><a href="#h31-0-0" id="h31-0-0" class="d">-muster [![Build Status](https://secure.travis-ci.org/facebookgo/muster.png)](http://travis-ci.org/facebookgo/muster)
</a><a href="#h31-0-1" id="h31-0-1" class="d">-======
</a><a href="#h31-0-2" id="h31-0-2" class="d">-
</a><a href="#h31-0-3" id="h31-0-3" class="d">-Documentation: http://godoc.org/github.com/facebookgo/muster
</a><b>diff --git a/<a id="h32" href="../file/vendor/github.com/golang/protobuf/LICENSE">vendor/github.com/golang/protobuf/LICENSE</a> b/<a href="../file/vendor/github.com/golang/protobuf/LICENSE">vendor/github.com/golang/protobuf/LICENSE</a></b>
<a href="#h32-0" id="h32-0" class="h">@@ -1,31 +0,0 @@
</a><a href="#h32-0-0" id="h32-0-0" class="d">-Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h32-0-1" id="h32-0-1" class="d">-
</a><a href="#h32-0-2" id="h32-0-2" class="d">-Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h32-0-3" id="h32-0-3" class="d">-https://github.com/golang/protobuf
</a><a href="#h32-0-4" id="h32-0-4" class="d">-
</a><a href="#h32-0-5" id="h32-0-5" class="d">-Redistribution and use in source and binary forms, with or without
</a><a href="#h32-0-6" id="h32-0-6" class="d">-modification, are permitted provided that the following conditions are
</a><a href="#h32-0-7" id="h32-0-7" class="d">-met:
</a><a href="#h32-0-8" id="h32-0-8" class="d">-
</a><a href="#h32-0-9" id="h32-0-9" class="d">-    * Redistributions of source code must retain the above copyright
</a><a href="#h32-0-10" id="h32-0-10" class="d">-notice, this list of conditions and the following disclaimer.
</a><a href="#h32-0-11" id="h32-0-11" class="d">-    * Redistributions in binary form must reproduce the above
</a><a href="#h32-0-12" id="h32-0-12" class="d">-copyright notice, this list of conditions and the following disclaimer
</a><a href="#h32-0-13" id="h32-0-13" class="d">-in the documentation and/or other materials provided with the
</a><a href="#h32-0-14" id="h32-0-14" class="d">-distribution.
</a><a href="#h32-0-15" id="h32-0-15" class="d">-    * Neither the name of Google Inc. nor the names of its
</a><a href="#h32-0-16" id="h32-0-16" class="d">-contributors may be used to endorse or promote products derived from
</a><a href="#h32-0-17" id="h32-0-17" class="d">-this software without specific prior written permission.
</a><a href="#h32-0-18" id="h32-0-18" class="d">-
</a><a href="#h32-0-19" id="h32-0-19" class="d">-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h32-0-20" id="h32-0-20" class="d">-&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h32-0-21" id="h32-0-21" class="d">-LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h32-0-22" id="h32-0-22" class="d">-A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h32-0-23" id="h32-0-23" class="d">-OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h32-0-24" id="h32-0-24" class="d">-SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h32-0-25" id="h32-0-25" class="d">-LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h32-0-26" id="h32-0-26" class="d">-DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h32-0-27" id="h32-0-27" class="d">-THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h32-0-28" id="h32-0-28" class="d">-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h32-0-29" id="h32-0-29" class="d">-OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h32-0-30" id="h32-0-30" class="d">-
</a><b>diff --git a/<a id="h33" href="../file/vendor/github.com/golang/protobuf/proto/BUILD">vendor/github.com/golang/protobuf/proto/BUILD</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/BUILD">vendor/github.com/golang/protobuf/proto/BUILD</a></b>
<a href="#h33-0" id="h33-0" class="h">@@ -1,28 +0,0 @@
</a><a href="#h33-0-0" id="h33-0-0" class="d">-
</a><a href="#h33-0-1" id="h33-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h33-0-2" id="h33-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h33-0-3" id="h33-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h33-0-4" id="h33-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h33-0-5" id="h33-0-5" class="d">-)
</a><a href="#h33-0-6" id="h33-0-6" class="d">-
</a><a href="#h33-0-7" id="h33-0-7" class="d">-go_library(
</a><a href="#h33-0-8" id="h33-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h33-0-9" id="h33-0-9" class="d">-  srcs = [
</a><a href="#h33-0-10" id="h33-0-10" class="d">-    &quot;clone.go&quot;,
</a><a href="#h33-0-11" id="h33-0-11" class="d">-    &quot;decode.go&quot;,
</a><a href="#h33-0-12" id="h33-0-12" class="d">-    &quot;encode.go&quot;,
</a><a href="#h33-0-13" id="h33-0-13" class="d">-    &quot;equal.go&quot;,
</a><a href="#h33-0-14" id="h33-0-14" class="d">-    &quot;extensions.go&quot;,
</a><a href="#h33-0-15" id="h33-0-15" class="d">-    &quot;lib.go&quot;,
</a><a href="#h33-0-16" id="h33-0-16" class="d">-    &quot;message_set.go&quot;,
</a><a href="#h33-0-17" id="h33-0-17" class="d">-    &quot;pointer_unsafe.go&quot;,
</a><a href="#h33-0-18" id="h33-0-18" class="d">-    &quot;properties.go&quot;,
</a><a href="#h33-0-19" id="h33-0-19" class="d">-    &quot;text.go&quot;,
</a><a href="#h33-0-20" id="h33-0-20" class="d">-    &quot;text_parser.go&quot;,
</a><a href="#h33-0-21" id="h33-0-21" class="d">-  ],
</a><a href="#h33-0-22" id="h33-0-22" class="d">-  deps = [
</a><a href="#h33-0-23" id="h33-0-23" class="d">-  ],
</a><a href="#h33-0-24" id="h33-0-24" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h33-0-25" id="h33-0-25" class="d">-)
</a><a href="#h33-0-26" id="h33-0-26" class="d">-
</a><a href="#h33-0-27" id="h33-0-27" class="d">-
</a><b>diff --git a/<a id="h34" href="../file/vendor/github.com/golang/protobuf/proto/Makefile">vendor/github.com/golang/protobuf/proto/Makefile</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/Makefile">vendor/github.com/golang/protobuf/proto/Makefile</a></b>
<a href="#h34-0" id="h34-0" class="h">@@ -1,43 +0,0 @@
</a><a href="#h34-0-0" id="h34-0-0" class="d">-# Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h34-0-1" id="h34-0-1" class="d">-#
</a><a href="#h34-0-2" id="h34-0-2" class="d">-# Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h34-0-3" id="h34-0-3" class="d">-# https://github.com/golang/protobuf
</a><a href="#h34-0-4" id="h34-0-4" class="d">-#
</a><a href="#h34-0-5" id="h34-0-5" class="d">-# Redistribution and use in source and binary forms, with or without
</a><a href="#h34-0-6" id="h34-0-6" class="d">-# modification, are permitted provided that the following conditions are
</a><a href="#h34-0-7" id="h34-0-7" class="d">-# met:
</a><a href="#h34-0-8" id="h34-0-8" class="d">-#
</a><a href="#h34-0-9" id="h34-0-9" class="d">-#     * Redistributions of source code must retain the above copyright
</a><a href="#h34-0-10" id="h34-0-10" class="d">-# notice, this list of conditions and the following disclaimer.
</a><a href="#h34-0-11" id="h34-0-11" class="d">-#     * Redistributions in binary form must reproduce the above
</a><a href="#h34-0-12" id="h34-0-12" class="d">-# copyright notice, this list of conditions and the following disclaimer
</a><a href="#h34-0-13" id="h34-0-13" class="d">-# in the documentation and/or other materials provided with the
</a><a href="#h34-0-14" id="h34-0-14" class="d">-# distribution.
</a><a href="#h34-0-15" id="h34-0-15" class="d">-#     * Neither the name of Google Inc. nor the names of its
</a><a href="#h34-0-16" id="h34-0-16" class="d">-# contributors may be used to endorse or promote products derived from
</a><a href="#h34-0-17" id="h34-0-17" class="d">-# this software without specific prior written permission.
</a><a href="#h34-0-18" id="h34-0-18" class="d">-#
</a><a href="#h34-0-19" id="h34-0-19" class="d">-# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h34-0-20" id="h34-0-20" class="d">-# &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h34-0-21" id="h34-0-21" class="d">-# LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h34-0-22" id="h34-0-22" class="d">-# A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h34-0-23" id="h34-0-23" class="d">-# OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h34-0-24" id="h34-0-24" class="d">-# SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h34-0-25" id="h34-0-25" class="d">-# LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h34-0-26" id="h34-0-26" class="d">-# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h34-0-27" id="h34-0-27" class="d">-# THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h34-0-28" id="h34-0-28" class="d">-# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h34-0-29" id="h34-0-29" class="d">-# OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h34-0-30" id="h34-0-30" class="d">-
</a><a href="#h34-0-31" id="h34-0-31" class="d">-install:
</a><a href="#h34-0-32" id="h34-0-32" class="d">-	go install
</a><a href="#h34-0-33" id="h34-0-33" class="d">-
</a><a href="#h34-0-34" id="h34-0-34" class="d">-test: install generate-test-pbs
</a><a href="#h34-0-35" id="h34-0-35" class="d">-	go test
</a><a href="#h34-0-36" id="h34-0-36" class="d">-
</a><a href="#h34-0-37" id="h34-0-37" class="d">-
</a><a href="#h34-0-38" id="h34-0-38" class="d">-generate-test-pbs:
</a><a href="#h34-0-39" id="h34-0-39" class="d">-	make install
</a><a href="#h34-0-40" id="h34-0-40" class="d">-	make -C testdata
</a><a href="#h34-0-41" id="h34-0-41" class="d">-	protoc --go_out=Mtestdata/test.proto=github.com/golang/protobuf/proto/testdata,Mgoogle/protobuf/any.proto=github.com/golang/protobuf/ptypes/any:. proto3_proto/proto3.proto
</a><a href="#h34-0-42" id="h34-0-42" class="d">-	make
</a><b>diff --git a/<a id="h35" href="../file/vendor/github.com/golang/protobuf/proto/clone.go">vendor/github.com/golang/protobuf/proto/clone.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/clone.go">vendor/github.com/golang/protobuf/proto/clone.go</a></b>
<a href="#h35-0" id="h35-0" class="h">@@ -1,229 +0,0 @@
</a><a href="#h35-0-0" id="h35-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h35-0-1" id="h35-0-1" class="d">-//
</a><a href="#h35-0-2" id="h35-0-2" class="d">-// Copyright 2011 The Go Authors.  All rights reserved.
</a><a href="#h35-0-3" id="h35-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h35-0-4" id="h35-0-4" class="d">-//
</a><a href="#h35-0-5" id="h35-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h35-0-6" id="h35-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h35-0-7" id="h35-0-7" class="d">-// met:
</a><a href="#h35-0-8" id="h35-0-8" class="d">-//
</a><a href="#h35-0-9" id="h35-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h35-0-10" id="h35-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h35-0-11" id="h35-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h35-0-12" id="h35-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h35-0-13" id="h35-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h35-0-14" id="h35-0-14" class="d">-// distribution.
</a><a href="#h35-0-15" id="h35-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h35-0-16" id="h35-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h35-0-17" id="h35-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h35-0-18" id="h35-0-18" class="d">-//
</a><a href="#h35-0-19" id="h35-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h35-0-20" id="h35-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h35-0-21" id="h35-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h35-0-22" id="h35-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h35-0-23" id="h35-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h35-0-24" id="h35-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h35-0-25" id="h35-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h35-0-26" id="h35-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h35-0-27" id="h35-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h35-0-28" id="h35-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h35-0-29" id="h35-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h35-0-30" id="h35-0-30" class="d">-
</a><a href="#h35-0-31" id="h35-0-31" class="d">-// Protocol buffer deep copy and merge.
</a><a href="#h35-0-32" id="h35-0-32" class="d">-// TODO: RawMessage.
</a><a href="#h35-0-33" id="h35-0-33" class="d">-
</a><a href="#h35-0-34" id="h35-0-34" class="d">-package proto
</a><a href="#h35-0-35" id="h35-0-35" class="d">-
</a><a href="#h35-0-36" id="h35-0-36" class="d">-import (
</a><a href="#h35-0-37" id="h35-0-37" class="d">-	&quot;log&quot;
</a><a href="#h35-0-38" id="h35-0-38" class="d">-	&quot;reflect&quot;
</a><a href="#h35-0-39" id="h35-0-39" class="d">-	&quot;strings&quot;
</a><a href="#h35-0-40" id="h35-0-40" class="d">-)
</a><a href="#h35-0-41" id="h35-0-41" class="d">-
</a><a href="#h35-0-42" id="h35-0-42" class="d">-// Clone returns a deep copy of a protocol buffer.
</a><a href="#h35-0-43" id="h35-0-43" class="d">-func Clone(pb Message) Message {
</a><a href="#h35-0-44" id="h35-0-44" class="d">-	in := reflect.ValueOf(pb)
</a><a href="#h35-0-45" id="h35-0-45" class="d">-	if in.IsNil() {
</a><a href="#h35-0-46" id="h35-0-46" class="d">-		return pb
</a><a href="#h35-0-47" id="h35-0-47" class="d">-	}
</a><a href="#h35-0-48" id="h35-0-48" class="d">-
</a><a href="#h35-0-49" id="h35-0-49" class="d">-	out := reflect.New(in.Type().Elem())
</a><a href="#h35-0-50" id="h35-0-50" class="d">-	// out is empty so a merge is a deep copy.
</a><a href="#h35-0-51" id="h35-0-51" class="d">-	mergeStruct(out.Elem(), in.Elem())
</a><a href="#h35-0-52" id="h35-0-52" class="d">-	return out.Interface().(Message)
</a><a href="#h35-0-53" id="h35-0-53" class="d">-}
</a><a href="#h35-0-54" id="h35-0-54" class="d">-
</a><a href="#h35-0-55" id="h35-0-55" class="d">-// Merge merges src into dst.
</a><a href="#h35-0-56" id="h35-0-56" class="d">-// Required and optional fields that are set in src will be set to that value in dst.
</a><a href="#h35-0-57" id="h35-0-57" class="d">-// Elements of repeated fields will be appended.
</a><a href="#h35-0-58" id="h35-0-58" class="d">-// Merge panics if src and dst are not the same type, or if dst is nil.
</a><a href="#h35-0-59" id="h35-0-59" class="d">-func Merge(dst, src Message) {
</a><a href="#h35-0-60" id="h35-0-60" class="d">-	in := reflect.ValueOf(src)
</a><a href="#h35-0-61" id="h35-0-61" class="d">-	out := reflect.ValueOf(dst)
</a><a href="#h35-0-62" id="h35-0-62" class="d">-	if out.IsNil() {
</a><a href="#h35-0-63" id="h35-0-63" class="d">-		panic(&quot;proto: nil destination&quot;)
</a><a href="#h35-0-64" id="h35-0-64" class="d">-	}
</a><a href="#h35-0-65" id="h35-0-65" class="d">-	if in.Type() != out.Type() {
</a><a href="#h35-0-66" id="h35-0-66" class="d">-		// Explicit test prior to mergeStruct so that mistyped nils will fail
</a><a href="#h35-0-67" id="h35-0-67" class="d">-		panic(&quot;proto: type mismatch&quot;)
</a><a href="#h35-0-68" id="h35-0-68" class="d">-	}
</a><a href="#h35-0-69" id="h35-0-69" class="d">-	if in.IsNil() {
</a><a href="#h35-0-70" id="h35-0-70" class="d">-		// Merging nil into non-nil is a quiet no-op
</a><a href="#h35-0-71" id="h35-0-71" class="d">-		return
</a><a href="#h35-0-72" id="h35-0-72" class="d">-	}
</a><a href="#h35-0-73" id="h35-0-73" class="d">-	mergeStruct(out.Elem(), in.Elem())
</a><a href="#h35-0-74" id="h35-0-74" class="d">-}
</a><a href="#h35-0-75" id="h35-0-75" class="d">-
</a><a href="#h35-0-76" id="h35-0-76" class="d">-func mergeStruct(out, in reflect.Value) {
</a><a href="#h35-0-77" id="h35-0-77" class="d">-	sprop := GetProperties(in.Type())
</a><a href="#h35-0-78" id="h35-0-78" class="d">-	for i := 0; i &lt; in.NumField(); i++ {
</a><a href="#h35-0-79" id="h35-0-79" class="d">-		f := in.Type().Field(i)
</a><a href="#h35-0-80" id="h35-0-80" class="d">-		if strings.HasPrefix(f.Name, &quot;XXX_&quot;) {
</a><a href="#h35-0-81" id="h35-0-81" class="d">-			continue
</a><a href="#h35-0-82" id="h35-0-82" class="d">-		}
</a><a href="#h35-0-83" id="h35-0-83" class="d">-		mergeAny(out.Field(i), in.Field(i), false, sprop.Prop[i])
</a><a href="#h35-0-84" id="h35-0-84" class="d">-	}
</a><a href="#h35-0-85" id="h35-0-85" class="d">-
</a><a href="#h35-0-86" id="h35-0-86" class="d">-	if emIn, ok := extendable(in.Addr().Interface()); ok {
</a><a href="#h35-0-87" id="h35-0-87" class="d">-		emOut, _ := extendable(out.Addr().Interface())
</a><a href="#h35-0-88" id="h35-0-88" class="d">-		mIn, muIn := emIn.extensionsRead()
</a><a href="#h35-0-89" id="h35-0-89" class="d">-		if mIn != nil {
</a><a href="#h35-0-90" id="h35-0-90" class="d">-			mOut := emOut.extensionsWrite()
</a><a href="#h35-0-91" id="h35-0-91" class="d">-			muIn.Lock()
</a><a href="#h35-0-92" id="h35-0-92" class="d">-			mergeExtension(mOut, mIn)
</a><a href="#h35-0-93" id="h35-0-93" class="d">-			muIn.Unlock()
</a><a href="#h35-0-94" id="h35-0-94" class="d">-		}
</a><a href="#h35-0-95" id="h35-0-95" class="d">-	}
</a><a href="#h35-0-96" id="h35-0-96" class="d">-
</a><a href="#h35-0-97" id="h35-0-97" class="d">-	uf := in.FieldByName(&quot;XXX_unrecognized&quot;)
</a><a href="#h35-0-98" id="h35-0-98" class="d">-	if !uf.IsValid() {
</a><a href="#h35-0-99" id="h35-0-99" class="d">-		return
</a><a href="#h35-0-100" id="h35-0-100" class="d">-	}
</a><a href="#h35-0-101" id="h35-0-101" class="d">-	uin := uf.Bytes()
</a><a href="#h35-0-102" id="h35-0-102" class="d">-	if len(uin) &gt; 0 {
</a><a href="#h35-0-103" id="h35-0-103" class="d">-		out.FieldByName(&quot;XXX_unrecognized&quot;).SetBytes(append([]byte(nil), uin...))
</a><a href="#h35-0-104" id="h35-0-104" class="d">-	}
</a><a href="#h35-0-105" id="h35-0-105" class="d">-}
</a><a href="#h35-0-106" id="h35-0-106" class="d">-
</a><a href="#h35-0-107" id="h35-0-107" class="d">-// mergeAny performs a merge between two values of the same type.
</a><a href="#h35-0-108" id="h35-0-108" class="d">-// viaPtr indicates whether the values were indirected through a pointer (implying proto2).
</a><a href="#h35-0-109" id="h35-0-109" class="d">-// prop is set if this is a struct field (it may be nil).
</a><a href="#h35-0-110" id="h35-0-110" class="d">-func mergeAny(out, in reflect.Value, viaPtr bool, prop *Properties) {
</a><a href="#h35-0-111" id="h35-0-111" class="d">-	if in.Type() == protoMessageType {
</a><a href="#h35-0-112" id="h35-0-112" class="d">-		if !in.IsNil() {
</a><a href="#h35-0-113" id="h35-0-113" class="d">-			if out.IsNil() {
</a><a href="#h35-0-114" id="h35-0-114" class="d">-				out.Set(reflect.ValueOf(Clone(in.Interface().(Message))))
</a><a href="#h35-0-115" id="h35-0-115" class="d">-			} else {
</a><a href="#h35-0-116" id="h35-0-116" class="d">-				Merge(out.Interface().(Message), in.Interface().(Message))
</a><a href="#h35-0-117" id="h35-0-117" class="d">-			}
</a><a href="#h35-0-118" id="h35-0-118" class="d">-		}
</a><a href="#h35-0-119" id="h35-0-119" class="d">-		return
</a><a href="#h35-0-120" id="h35-0-120" class="d">-	}
</a><a href="#h35-0-121" id="h35-0-121" class="d">-	switch in.Kind() {
</a><a href="#h35-0-122" id="h35-0-122" class="d">-	case reflect.Bool, reflect.Float32, reflect.Float64, reflect.Int32, reflect.Int64,
</a><a href="#h35-0-123" id="h35-0-123" class="d">-		reflect.String, reflect.Uint32, reflect.Uint64:
</a><a href="#h35-0-124" id="h35-0-124" class="d">-		if !viaPtr &amp;&amp; isProto3Zero(in) {
</a><a href="#h35-0-125" id="h35-0-125" class="d">-			return
</a><a href="#h35-0-126" id="h35-0-126" class="d">-		}
</a><a href="#h35-0-127" id="h35-0-127" class="d">-		out.Set(in)
</a><a href="#h35-0-128" id="h35-0-128" class="d">-	case reflect.Interface:
</a><a href="#h35-0-129" id="h35-0-129" class="d">-		// Probably a oneof field; copy non-nil values.
</a><a href="#h35-0-130" id="h35-0-130" class="d">-		if in.IsNil() {
</a><a href="#h35-0-131" id="h35-0-131" class="d">-			return
</a><a href="#h35-0-132" id="h35-0-132" class="d">-		}
</a><a href="#h35-0-133" id="h35-0-133" class="d">-		// Allocate destination if it is not set, or set to a different type.
</a><a href="#h35-0-134" id="h35-0-134" class="d">-		// Otherwise we will merge as normal.
</a><a href="#h35-0-135" id="h35-0-135" class="d">-		if out.IsNil() || out.Elem().Type() != in.Elem().Type() {
</a><a href="#h35-0-136" id="h35-0-136" class="d">-			out.Set(reflect.New(in.Elem().Elem().Type())) // interface -&gt; *T -&gt; T -&gt; new(T)
</a><a href="#h35-0-137" id="h35-0-137" class="d">-		}
</a><a href="#h35-0-138" id="h35-0-138" class="d">-		mergeAny(out.Elem(), in.Elem(), false, nil)
</a><a href="#h35-0-139" id="h35-0-139" class="d">-	case reflect.Map:
</a><a href="#h35-0-140" id="h35-0-140" class="d">-		if in.Len() == 0 {
</a><a href="#h35-0-141" id="h35-0-141" class="d">-			return
</a><a href="#h35-0-142" id="h35-0-142" class="d">-		}
</a><a href="#h35-0-143" id="h35-0-143" class="d">-		if out.IsNil() {
</a><a href="#h35-0-144" id="h35-0-144" class="d">-			out.Set(reflect.MakeMap(in.Type()))
</a><a href="#h35-0-145" id="h35-0-145" class="d">-		}
</a><a href="#h35-0-146" id="h35-0-146" class="d">-		// For maps with value types of *T or []byte we need to deep copy each value.
</a><a href="#h35-0-147" id="h35-0-147" class="d">-		elemKind := in.Type().Elem().Kind()
</a><a href="#h35-0-148" id="h35-0-148" class="d">-		for _, key := range in.MapKeys() {
</a><a href="#h35-0-149" id="h35-0-149" class="d">-			var val reflect.Value
</a><a href="#h35-0-150" id="h35-0-150" class="d">-			switch elemKind {
</a><a href="#h35-0-151" id="h35-0-151" class="d">-			case reflect.Ptr:
</a><a href="#h35-0-152" id="h35-0-152" class="d">-				val = reflect.New(in.Type().Elem().Elem())
</a><a href="#h35-0-153" id="h35-0-153" class="d">-				mergeAny(val, in.MapIndex(key), false, nil)
</a><a href="#h35-0-154" id="h35-0-154" class="d">-			case reflect.Slice:
</a><a href="#h35-0-155" id="h35-0-155" class="d">-				val = in.MapIndex(key)
</a><a href="#h35-0-156" id="h35-0-156" class="d">-				val = reflect.ValueOf(append([]byte{}, val.Bytes()...))
</a><a href="#h35-0-157" id="h35-0-157" class="d">-			default:
</a><a href="#h35-0-158" id="h35-0-158" class="d">-				val = in.MapIndex(key)
</a><a href="#h35-0-159" id="h35-0-159" class="d">-			}
</a><a href="#h35-0-160" id="h35-0-160" class="d">-			out.SetMapIndex(key, val)
</a><a href="#h35-0-161" id="h35-0-161" class="d">-		}
</a><a href="#h35-0-162" id="h35-0-162" class="d">-	case reflect.Ptr:
</a><a href="#h35-0-163" id="h35-0-163" class="d">-		if in.IsNil() {
</a><a href="#h35-0-164" id="h35-0-164" class="d">-			return
</a><a href="#h35-0-165" id="h35-0-165" class="d">-		}
</a><a href="#h35-0-166" id="h35-0-166" class="d">-		if out.IsNil() {
</a><a href="#h35-0-167" id="h35-0-167" class="d">-			out.Set(reflect.New(in.Elem().Type()))
</a><a href="#h35-0-168" id="h35-0-168" class="d">-		}
</a><a href="#h35-0-169" id="h35-0-169" class="d">-		mergeAny(out.Elem(), in.Elem(), true, nil)
</a><a href="#h35-0-170" id="h35-0-170" class="d">-	case reflect.Slice:
</a><a href="#h35-0-171" id="h35-0-171" class="d">-		if in.IsNil() {
</a><a href="#h35-0-172" id="h35-0-172" class="d">-			return
</a><a href="#h35-0-173" id="h35-0-173" class="d">-		}
</a><a href="#h35-0-174" id="h35-0-174" class="d">-		if in.Type().Elem().Kind() == reflect.Uint8 {
</a><a href="#h35-0-175" id="h35-0-175" class="d">-			// []byte is a scalar bytes field, not a repeated field.
</a><a href="#h35-0-176" id="h35-0-176" class="d">-
</a><a href="#h35-0-177" id="h35-0-177" class="d">-			// Edge case: if this is in a proto3 message, a zero length
</a><a href="#h35-0-178" id="h35-0-178" class="d">-			// bytes field is considered the zero value, and should not
</a><a href="#h35-0-179" id="h35-0-179" class="d">-			// be merged.
</a><a href="#h35-0-180" id="h35-0-180" class="d">-			if prop != nil &amp;&amp; prop.proto3 &amp;&amp; in.Len() == 0 {
</a><a href="#h35-0-181" id="h35-0-181" class="d">-				return
</a><a href="#h35-0-182" id="h35-0-182" class="d">-			}
</a><a href="#h35-0-183" id="h35-0-183" class="d">-
</a><a href="#h35-0-184" id="h35-0-184" class="d">-			// Make a deep copy.
</a><a href="#h35-0-185" id="h35-0-185" class="d">-			// Append to []byte{} instead of []byte(nil) so that we never end up
</a><a href="#h35-0-186" id="h35-0-186" class="d">-			// with a nil result.
</a><a href="#h35-0-187" id="h35-0-187" class="d">-			out.SetBytes(append([]byte{}, in.Bytes()...))
</a><a href="#h35-0-188" id="h35-0-188" class="d">-			return
</a><a href="#h35-0-189" id="h35-0-189" class="d">-		}
</a><a href="#h35-0-190" id="h35-0-190" class="d">-		n := in.Len()
</a><a href="#h35-0-191" id="h35-0-191" class="d">-		if out.IsNil() {
</a><a href="#h35-0-192" id="h35-0-192" class="d">-			out.Set(reflect.MakeSlice(in.Type(), 0, n))
</a><a href="#h35-0-193" id="h35-0-193" class="d">-		}
</a><a href="#h35-0-194" id="h35-0-194" class="d">-		switch in.Type().Elem().Kind() {
</a><a href="#h35-0-195" id="h35-0-195" class="d">-		case reflect.Bool, reflect.Float32, reflect.Float64, reflect.Int32, reflect.Int64,
</a><a href="#h35-0-196" id="h35-0-196" class="d">-			reflect.String, reflect.Uint32, reflect.Uint64:
</a><a href="#h35-0-197" id="h35-0-197" class="d">-			out.Set(reflect.AppendSlice(out, in))
</a><a href="#h35-0-198" id="h35-0-198" class="d">-		default:
</a><a href="#h35-0-199" id="h35-0-199" class="d">-			for i := 0; i &lt; n; i++ {
</a><a href="#h35-0-200" id="h35-0-200" class="d">-				x := reflect.Indirect(reflect.New(in.Type().Elem()))
</a><a href="#h35-0-201" id="h35-0-201" class="d">-				mergeAny(x, in.Index(i), false, nil)
</a><a href="#h35-0-202" id="h35-0-202" class="d">-				out.Set(reflect.Append(out, x))
</a><a href="#h35-0-203" id="h35-0-203" class="d">-			}
</a><a href="#h35-0-204" id="h35-0-204" class="d">-		}
</a><a href="#h35-0-205" id="h35-0-205" class="d">-	case reflect.Struct:
</a><a href="#h35-0-206" id="h35-0-206" class="d">-		mergeStruct(out, in)
</a><a href="#h35-0-207" id="h35-0-207" class="d">-	default:
</a><a href="#h35-0-208" id="h35-0-208" class="d">-		// unknown type, so not a protocol buffer
</a><a href="#h35-0-209" id="h35-0-209" class="d">-		log.Printf(&quot;proto: don&#39;t know how to copy %v&quot;, in)
</a><a href="#h35-0-210" id="h35-0-210" class="d">-	}
</a><a href="#h35-0-211" id="h35-0-211" class="d">-}
</a><a href="#h35-0-212" id="h35-0-212" class="d">-
</a><a href="#h35-0-213" id="h35-0-213" class="d">-func mergeExtension(out, in map[int32]Extension) {
</a><a href="#h35-0-214" id="h35-0-214" class="d">-	for extNum, eIn := range in {
</a><a href="#h35-0-215" id="h35-0-215" class="d">-		eOut := Extension{desc: eIn.desc}
</a><a href="#h35-0-216" id="h35-0-216" class="d">-		if eIn.value != nil {
</a><a href="#h35-0-217" id="h35-0-217" class="d">-			v := reflect.New(reflect.TypeOf(eIn.value)).Elem()
</a><a href="#h35-0-218" id="h35-0-218" class="d">-			mergeAny(v, reflect.ValueOf(eIn.value), false, nil)
</a><a href="#h35-0-219" id="h35-0-219" class="d">-			eOut.value = v.Interface()
</a><a href="#h35-0-220" id="h35-0-220" class="d">-		}
</a><a href="#h35-0-221" id="h35-0-221" class="d">-		if eIn.enc != nil {
</a><a href="#h35-0-222" id="h35-0-222" class="d">-			eOut.enc = make([]byte, len(eIn.enc))
</a><a href="#h35-0-223" id="h35-0-223" class="d">-			copy(eOut.enc, eIn.enc)
</a><a href="#h35-0-224" id="h35-0-224" class="d">-		}
</a><a href="#h35-0-225" id="h35-0-225" class="d">-
</a><a href="#h35-0-226" id="h35-0-226" class="d">-		out[extNum] = eOut
</a><a href="#h35-0-227" id="h35-0-227" class="d">-	}
</a><a href="#h35-0-228" id="h35-0-228" class="d">-}
</a><b>diff --git a/<a id="h36" href="../file/vendor/github.com/golang/protobuf/proto/decode.go">vendor/github.com/golang/protobuf/proto/decode.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/decode.go">vendor/github.com/golang/protobuf/proto/decode.go</a></b>
<a href="#h36-0" id="h36-0" class="h">@@ -1,874 +0,0 @@
</a><a href="#h36-0-0" id="h36-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h36-0-1" id="h36-0-1" class="d">-//
</a><a href="#h36-0-2" id="h36-0-2" class="d">-// Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h36-0-3" id="h36-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h36-0-4" id="h36-0-4" class="d">-//
</a><a href="#h36-0-5" id="h36-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h36-0-6" id="h36-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h36-0-7" id="h36-0-7" class="d">-// met:
</a><a href="#h36-0-8" id="h36-0-8" class="d">-//
</a><a href="#h36-0-9" id="h36-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h36-0-10" id="h36-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h36-0-11" id="h36-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h36-0-12" id="h36-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h36-0-13" id="h36-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h36-0-14" id="h36-0-14" class="d">-// distribution.
</a><a href="#h36-0-15" id="h36-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h36-0-16" id="h36-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h36-0-17" id="h36-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h36-0-18" id="h36-0-18" class="d">-//
</a><a href="#h36-0-19" id="h36-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h36-0-20" id="h36-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h36-0-21" id="h36-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h36-0-22" id="h36-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h36-0-23" id="h36-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h36-0-24" id="h36-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h36-0-25" id="h36-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h36-0-26" id="h36-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h36-0-27" id="h36-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h36-0-28" id="h36-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h36-0-29" id="h36-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h36-0-30" id="h36-0-30" class="d">-
</a><a href="#h36-0-31" id="h36-0-31" class="d">-package proto
</a><a href="#h36-0-32" id="h36-0-32" class="d">-
</a><a href="#h36-0-33" id="h36-0-33" class="d">-/*
</a><a href="#h36-0-34" id="h36-0-34" class="d">- * Routines for decoding protocol buffer data to construct in-memory representations.
</a><a href="#h36-0-35" id="h36-0-35" class="d">- */
</a><a href="#h36-0-36" id="h36-0-36" class="d">-
</a><a href="#h36-0-37" id="h36-0-37" class="d">-import (
</a><a href="#h36-0-38" id="h36-0-38" class="d">-	&quot;errors&quot;
</a><a href="#h36-0-39" id="h36-0-39" class="d">-	&quot;fmt&quot;
</a><a href="#h36-0-40" id="h36-0-40" class="d">-	&quot;io&quot;
</a><a href="#h36-0-41" id="h36-0-41" class="d">-	&quot;os&quot;
</a><a href="#h36-0-42" id="h36-0-42" class="d">-	&quot;reflect&quot;
</a><a href="#h36-0-43" id="h36-0-43" class="d">-)
</a><a href="#h36-0-44" id="h36-0-44" class="d">-
</a><a href="#h36-0-45" id="h36-0-45" class="d">-// errOverflow is returned when an integer is too large to be represented.
</a><a href="#h36-0-46" id="h36-0-46" class="d">-var errOverflow = errors.New(&quot;proto: integer overflow&quot;)
</a><a href="#h36-0-47" id="h36-0-47" class="d">-
</a><a href="#h36-0-48" id="h36-0-48" class="d">-// ErrInternalBadWireType is returned by generated code when an incorrect
</a><a href="#h36-0-49" id="h36-0-49" class="d">-// wire type is encountered. It does not get returned to user code.
</a><a href="#h36-0-50" id="h36-0-50" class="d">-var ErrInternalBadWireType = errors.New(&quot;proto: internal error: bad wiretype for oneof&quot;)
</a><a href="#h36-0-51" id="h36-0-51" class="d">-
</a><a href="#h36-0-52" id="h36-0-52" class="d">-// The fundamental decoders that interpret bytes on the wire.
</a><a href="#h36-0-53" id="h36-0-53" class="d">-// Those that take integer types all return uint64 and are
</a><a href="#h36-0-54" id="h36-0-54" class="d">-// therefore of type valueDecoder.
</a><a href="#h36-0-55" id="h36-0-55" class="d">-
</a><a href="#h36-0-56" id="h36-0-56" class="d">-// DecodeVarint reads a varint-encoded integer from the slice.
</a><a href="#h36-0-57" id="h36-0-57" class="d">-// It returns the integer and the number of bytes consumed, or
</a><a href="#h36-0-58" id="h36-0-58" class="d">-// zero if there is not enough.
</a><a href="#h36-0-59" id="h36-0-59" class="d">-// This is the format for the
</a><a href="#h36-0-60" id="h36-0-60" class="d">-// int32, int64, uint32, uint64, bool, and enum
</a><a href="#h36-0-61" id="h36-0-61" class="d">-// protocol buffer types.
</a><a href="#h36-0-62" id="h36-0-62" class="d">-func DecodeVarint(buf []byte) (x uint64, n int) {
</a><a href="#h36-0-63" id="h36-0-63" class="d">-	// x, n already 0
</a><a href="#h36-0-64" id="h36-0-64" class="d">-	for shift := uint(0); shift &lt; 64; shift += 7 {
</a><a href="#h36-0-65" id="h36-0-65" class="d">-		if n &gt;= len(buf) {
</a><a href="#h36-0-66" id="h36-0-66" class="d">-			return 0, 0
</a><a href="#h36-0-67" id="h36-0-67" class="d">-		}
</a><a href="#h36-0-68" id="h36-0-68" class="d">-		b := uint64(buf[n])
</a><a href="#h36-0-69" id="h36-0-69" class="d">-		n++
</a><a href="#h36-0-70" id="h36-0-70" class="d">-		x |= (b &amp; 0x7F) &lt;&lt; shift
</a><a href="#h36-0-71" id="h36-0-71" class="d">-		if (b &amp; 0x80) == 0 {
</a><a href="#h36-0-72" id="h36-0-72" class="d">-			return x, n
</a><a href="#h36-0-73" id="h36-0-73" class="d">-		}
</a><a href="#h36-0-74" id="h36-0-74" class="d">-	}
</a><a href="#h36-0-75" id="h36-0-75" class="d">-
</a><a href="#h36-0-76" id="h36-0-76" class="d">-	// The number is too large to represent in a 64-bit value.
</a><a href="#h36-0-77" id="h36-0-77" class="d">-	return 0, 0
</a><a href="#h36-0-78" id="h36-0-78" class="d">-}
</a><a href="#h36-0-79" id="h36-0-79" class="d">-
</a><a href="#h36-0-80" id="h36-0-80" class="d">-// DecodeVarint reads a varint-encoded integer from the Buffer.
</a><a href="#h36-0-81" id="h36-0-81" class="d">-// This is the format for the
</a><a href="#h36-0-82" id="h36-0-82" class="d">-// int32, int64, uint32, uint64, bool, and enum
</a><a href="#h36-0-83" id="h36-0-83" class="d">-// protocol buffer types.
</a><a href="#h36-0-84" id="h36-0-84" class="d">-func (p *Buffer) DecodeVarint() (x uint64, err error) {
</a><a href="#h36-0-85" id="h36-0-85" class="d">-	// x, err already 0
</a><a href="#h36-0-86" id="h36-0-86" class="d">-
</a><a href="#h36-0-87" id="h36-0-87" class="d">-	i := p.index
</a><a href="#h36-0-88" id="h36-0-88" class="d">-	l := len(p.buf)
</a><a href="#h36-0-89" id="h36-0-89" class="d">-
</a><a href="#h36-0-90" id="h36-0-90" class="d">-	for shift := uint(0); shift &lt; 64; shift += 7 {
</a><a href="#h36-0-91" id="h36-0-91" class="d">-		if i &gt;= l {
</a><a href="#h36-0-92" id="h36-0-92" class="d">-			err = io.ErrUnexpectedEOF
</a><a href="#h36-0-93" id="h36-0-93" class="d">-			return
</a><a href="#h36-0-94" id="h36-0-94" class="d">-		}
</a><a href="#h36-0-95" id="h36-0-95" class="d">-		b := p.buf[i]
</a><a href="#h36-0-96" id="h36-0-96" class="d">-		i++
</a><a href="#h36-0-97" id="h36-0-97" class="d">-		x |= (uint64(b) &amp; 0x7F) &lt;&lt; shift
</a><a href="#h36-0-98" id="h36-0-98" class="d">-		if b &lt; 0x80 {
</a><a href="#h36-0-99" id="h36-0-99" class="d">-			p.index = i
</a><a href="#h36-0-100" id="h36-0-100" class="d">-			return
</a><a href="#h36-0-101" id="h36-0-101" class="d">-		}
</a><a href="#h36-0-102" id="h36-0-102" class="d">-	}
</a><a href="#h36-0-103" id="h36-0-103" class="d">-
</a><a href="#h36-0-104" id="h36-0-104" class="d">-	// The number is too large to represent in a 64-bit value.
</a><a href="#h36-0-105" id="h36-0-105" class="d">-	err = errOverflow
</a><a href="#h36-0-106" id="h36-0-106" class="d">-	return
</a><a href="#h36-0-107" id="h36-0-107" class="d">-}
</a><a href="#h36-0-108" id="h36-0-108" class="d">-
</a><a href="#h36-0-109" id="h36-0-109" class="d">-// DecodeFixed64 reads a 64-bit integer from the Buffer.
</a><a href="#h36-0-110" id="h36-0-110" class="d">-// This is the format for the
</a><a href="#h36-0-111" id="h36-0-111" class="d">-// fixed64, sfixed64, and double protocol buffer types.
</a><a href="#h36-0-112" id="h36-0-112" class="d">-func (p *Buffer) DecodeFixed64() (x uint64, err error) {
</a><a href="#h36-0-113" id="h36-0-113" class="d">-	// x, err already 0
</a><a href="#h36-0-114" id="h36-0-114" class="d">-	i := p.index + 8
</a><a href="#h36-0-115" id="h36-0-115" class="d">-	if i &lt; 0 || i &gt; len(p.buf) {
</a><a href="#h36-0-116" id="h36-0-116" class="d">-		err = io.ErrUnexpectedEOF
</a><a href="#h36-0-117" id="h36-0-117" class="d">-		return
</a><a href="#h36-0-118" id="h36-0-118" class="d">-	}
</a><a href="#h36-0-119" id="h36-0-119" class="d">-	p.index = i
</a><a href="#h36-0-120" id="h36-0-120" class="d">-
</a><a href="#h36-0-121" id="h36-0-121" class="d">-	x = uint64(p.buf[i-8])
</a><a href="#h36-0-122" id="h36-0-122" class="d">-	x |= uint64(p.buf[i-7]) &lt;&lt; 8
</a><a href="#h36-0-123" id="h36-0-123" class="d">-	x |= uint64(p.buf[i-6]) &lt;&lt; 16
</a><a href="#h36-0-124" id="h36-0-124" class="d">-	x |= uint64(p.buf[i-5]) &lt;&lt; 24
</a><a href="#h36-0-125" id="h36-0-125" class="d">-	x |= uint64(p.buf[i-4]) &lt;&lt; 32
</a><a href="#h36-0-126" id="h36-0-126" class="d">-	x |= uint64(p.buf[i-3]) &lt;&lt; 40
</a><a href="#h36-0-127" id="h36-0-127" class="d">-	x |= uint64(p.buf[i-2]) &lt;&lt; 48
</a><a href="#h36-0-128" id="h36-0-128" class="d">-	x |= uint64(p.buf[i-1]) &lt;&lt; 56
</a><a href="#h36-0-129" id="h36-0-129" class="d">-	return
</a><a href="#h36-0-130" id="h36-0-130" class="d">-}
</a><a href="#h36-0-131" id="h36-0-131" class="d">-
</a><a href="#h36-0-132" id="h36-0-132" class="d">-// DecodeFixed32 reads a 32-bit integer from the Buffer.
</a><a href="#h36-0-133" id="h36-0-133" class="d">-// This is the format for the
</a><a href="#h36-0-134" id="h36-0-134" class="d">-// fixed32, sfixed32, and float protocol buffer types.
</a><a href="#h36-0-135" id="h36-0-135" class="d">-func (p *Buffer) DecodeFixed32() (x uint64, err error) {
</a><a href="#h36-0-136" id="h36-0-136" class="d">-	// x, err already 0
</a><a href="#h36-0-137" id="h36-0-137" class="d">-	i := p.index + 4
</a><a href="#h36-0-138" id="h36-0-138" class="d">-	if i &lt; 0 || i &gt; len(p.buf) {
</a><a href="#h36-0-139" id="h36-0-139" class="d">-		err = io.ErrUnexpectedEOF
</a><a href="#h36-0-140" id="h36-0-140" class="d">-		return
</a><a href="#h36-0-141" id="h36-0-141" class="d">-	}
</a><a href="#h36-0-142" id="h36-0-142" class="d">-	p.index = i
</a><a href="#h36-0-143" id="h36-0-143" class="d">-
</a><a href="#h36-0-144" id="h36-0-144" class="d">-	x = uint64(p.buf[i-4])
</a><a href="#h36-0-145" id="h36-0-145" class="d">-	x |= uint64(p.buf[i-3]) &lt;&lt; 8
</a><a href="#h36-0-146" id="h36-0-146" class="d">-	x |= uint64(p.buf[i-2]) &lt;&lt; 16
</a><a href="#h36-0-147" id="h36-0-147" class="d">-	x |= uint64(p.buf[i-1]) &lt;&lt; 24
</a><a href="#h36-0-148" id="h36-0-148" class="d">-	return
</a><a href="#h36-0-149" id="h36-0-149" class="d">-}
</a><a href="#h36-0-150" id="h36-0-150" class="d">-
</a><a href="#h36-0-151" id="h36-0-151" class="d">-// DecodeZigzag64 reads a zigzag-encoded 64-bit integer
</a><a href="#h36-0-152" id="h36-0-152" class="d">-// from the Buffer.
</a><a href="#h36-0-153" id="h36-0-153" class="d">-// This is the format used for the sint64 protocol buffer type.
</a><a href="#h36-0-154" id="h36-0-154" class="d">-func (p *Buffer) DecodeZigzag64() (x uint64, err error) {
</a><a href="#h36-0-155" id="h36-0-155" class="d">-	x, err = p.DecodeVarint()
</a><a href="#h36-0-156" id="h36-0-156" class="d">-	if err != nil {
</a><a href="#h36-0-157" id="h36-0-157" class="d">-		return
</a><a href="#h36-0-158" id="h36-0-158" class="d">-	}
</a><a href="#h36-0-159" id="h36-0-159" class="d">-	x = (x &gt;&gt; 1) ^ uint64((int64(x&amp;1)&lt;&lt;63)&gt;&gt;63)
</a><a href="#h36-0-160" id="h36-0-160" class="d">-	return
</a><a href="#h36-0-161" id="h36-0-161" class="d">-}
</a><a href="#h36-0-162" id="h36-0-162" class="d">-
</a><a href="#h36-0-163" id="h36-0-163" class="d">-// DecodeZigzag32 reads a zigzag-encoded 32-bit integer
</a><a href="#h36-0-164" id="h36-0-164" class="d">-// from  the Buffer.
</a><a href="#h36-0-165" id="h36-0-165" class="d">-// This is the format used for the sint32 protocol buffer type.
</a><a href="#h36-0-166" id="h36-0-166" class="d">-func (p *Buffer) DecodeZigzag32() (x uint64, err error) {
</a><a href="#h36-0-167" id="h36-0-167" class="d">-	x, err = p.DecodeVarint()
</a><a href="#h36-0-168" id="h36-0-168" class="d">-	if err != nil {
</a><a href="#h36-0-169" id="h36-0-169" class="d">-		return
</a><a href="#h36-0-170" id="h36-0-170" class="d">-	}
</a><a href="#h36-0-171" id="h36-0-171" class="d">-	x = uint64((uint32(x) &gt;&gt; 1) ^ uint32((int32(x&amp;1)&lt;&lt;31)&gt;&gt;31))
</a><a href="#h36-0-172" id="h36-0-172" class="d">-	return
</a><a href="#h36-0-173" id="h36-0-173" class="d">-}
</a><a href="#h36-0-174" id="h36-0-174" class="d">-
</a><a href="#h36-0-175" id="h36-0-175" class="d">-// These are not ValueDecoders: they produce an array of bytes or a string.
</a><a href="#h36-0-176" id="h36-0-176" class="d">-// bytes, embedded messages
</a><a href="#h36-0-177" id="h36-0-177" class="d">-
</a><a href="#h36-0-178" id="h36-0-178" class="d">-// DecodeRawBytes reads a count-delimited byte buffer from the Buffer.
</a><a href="#h36-0-179" id="h36-0-179" class="d">-// This is the format used for the bytes protocol buffer
</a><a href="#h36-0-180" id="h36-0-180" class="d">-// type and for embedded messages.
</a><a href="#h36-0-181" id="h36-0-181" class="d">-func (p *Buffer) DecodeRawBytes(alloc bool) (buf []byte, err error) {
</a><a href="#h36-0-182" id="h36-0-182" class="d">-	n, err := p.DecodeVarint()
</a><a href="#h36-0-183" id="h36-0-183" class="d">-	if err != nil {
</a><a href="#h36-0-184" id="h36-0-184" class="d">-		return nil, err
</a><a href="#h36-0-185" id="h36-0-185" class="d">-	}
</a><a href="#h36-0-186" id="h36-0-186" class="d">-
</a><a href="#h36-0-187" id="h36-0-187" class="d">-	nb := int(n)
</a><a href="#h36-0-188" id="h36-0-188" class="d">-	if nb &lt; 0 {
</a><a href="#h36-0-189" id="h36-0-189" class="d">-		return nil, fmt.Errorf(&quot;proto: bad byte length %d&quot;, nb)
</a><a href="#h36-0-190" id="h36-0-190" class="d">-	}
</a><a href="#h36-0-191" id="h36-0-191" class="d">-	end := p.index + nb
</a><a href="#h36-0-192" id="h36-0-192" class="d">-	if end &lt; p.index || end &gt; len(p.buf) {
</a><a href="#h36-0-193" id="h36-0-193" class="d">-		return nil, io.ErrUnexpectedEOF
</a><a href="#h36-0-194" id="h36-0-194" class="d">-	}
</a><a href="#h36-0-195" id="h36-0-195" class="d">-
</a><a href="#h36-0-196" id="h36-0-196" class="d">-	if !alloc {
</a><a href="#h36-0-197" id="h36-0-197" class="d">-		// todo: check if can get more uses of alloc=false
</a><a href="#h36-0-198" id="h36-0-198" class="d">-		buf = p.buf[p.index:end]
</a><a href="#h36-0-199" id="h36-0-199" class="d">-		p.index += nb
</a><a href="#h36-0-200" id="h36-0-200" class="d">-		return
</a><a href="#h36-0-201" id="h36-0-201" class="d">-	}
</a><a href="#h36-0-202" id="h36-0-202" class="d">-
</a><a href="#h36-0-203" id="h36-0-203" class="d">-	buf = make([]byte, nb)
</a><a href="#h36-0-204" id="h36-0-204" class="d">-	copy(buf, p.buf[p.index:])
</a><a href="#h36-0-205" id="h36-0-205" class="d">-	p.index += nb
</a><a href="#h36-0-206" id="h36-0-206" class="d">-	return
</a><a href="#h36-0-207" id="h36-0-207" class="d">-}
</a><a href="#h36-0-208" id="h36-0-208" class="d">-
</a><a href="#h36-0-209" id="h36-0-209" class="d">-// DecodeStringBytes reads an encoded string from the Buffer.
</a><a href="#h36-0-210" id="h36-0-210" class="d">-// This is the format used for the proto2 string type.
</a><a href="#h36-0-211" id="h36-0-211" class="d">-func (p *Buffer) DecodeStringBytes() (s string, err error) {
</a><a href="#h36-0-212" id="h36-0-212" class="d">-	buf, err := p.DecodeRawBytes(false)
</a><a href="#h36-0-213" id="h36-0-213" class="d">-	if err != nil {
</a><a href="#h36-0-214" id="h36-0-214" class="d">-		return
</a><a href="#h36-0-215" id="h36-0-215" class="d">-	}
</a><a href="#h36-0-216" id="h36-0-216" class="d">-	return string(buf), nil
</a><a href="#h36-0-217" id="h36-0-217" class="d">-}
</a><a href="#h36-0-218" id="h36-0-218" class="d">-
</a><a href="#h36-0-219" id="h36-0-219" class="d">-// Skip the next item in the buffer. Its wire type is decoded and presented as an argument.
</a><a href="#h36-0-220" id="h36-0-220" class="d">-// If the protocol buffer has extensions, and the field matches, add it as an extension.
</a><a href="#h36-0-221" id="h36-0-221" class="d">-// Otherwise, if the XXX_unrecognized field exists, append the skipped data there.
</a><a href="#h36-0-222" id="h36-0-222" class="d">-func (o *Buffer) skipAndSave(t reflect.Type, tag, wire int, base structPointer, unrecField field) error {
</a><a href="#h36-0-223" id="h36-0-223" class="d">-	oi := o.index
</a><a href="#h36-0-224" id="h36-0-224" class="d">-
</a><a href="#h36-0-225" id="h36-0-225" class="d">-	err := o.skip(t, tag, wire)
</a><a href="#h36-0-226" id="h36-0-226" class="d">-	if err != nil {
</a><a href="#h36-0-227" id="h36-0-227" class="d">-		return err
</a><a href="#h36-0-228" id="h36-0-228" class="d">-	}
</a><a href="#h36-0-229" id="h36-0-229" class="d">-
</a><a href="#h36-0-230" id="h36-0-230" class="d">-	if !unrecField.IsValid() {
</a><a href="#h36-0-231" id="h36-0-231" class="d">-		return nil
</a><a href="#h36-0-232" id="h36-0-232" class="d">-	}
</a><a href="#h36-0-233" id="h36-0-233" class="d">-
</a><a href="#h36-0-234" id="h36-0-234" class="d">-	ptr := structPointer_Bytes(base, unrecField)
</a><a href="#h36-0-235" id="h36-0-235" class="d">-
</a><a href="#h36-0-236" id="h36-0-236" class="d">-	// Add the skipped field to struct field
</a><a href="#h36-0-237" id="h36-0-237" class="d">-	obuf := o.buf
</a><a href="#h36-0-238" id="h36-0-238" class="d">-
</a><a href="#h36-0-239" id="h36-0-239" class="d">-	o.buf = *ptr
</a><a href="#h36-0-240" id="h36-0-240" class="d">-	o.EncodeVarint(uint64(tag&lt;&lt;3 | wire))
</a><a href="#h36-0-241" id="h36-0-241" class="d">-	*ptr = append(o.buf, obuf[oi:o.index]...)
</a><a href="#h36-0-242" id="h36-0-242" class="d">-
</a><a href="#h36-0-243" id="h36-0-243" class="d">-	o.buf = obuf
</a><a href="#h36-0-244" id="h36-0-244" class="d">-
</a><a href="#h36-0-245" id="h36-0-245" class="d">-	return nil
</a><a href="#h36-0-246" id="h36-0-246" class="d">-}
</a><a href="#h36-0-247" id="h36-0-247" class="d">-
</a><a href="#h36-0-248" id="h36-0-248" class="d">-// Skip the next item in the buffer. Its wire type is decoded and presented as an argument.
</a><a href="#h36-0-249" id="h36-0-249" class="d">-func (o *Buffer) skip(t reflect.Type, tag, wire int) error {
</a><a href="#h36-0-250" id="h36-0-250" class="d">-
</a><a href="#h36-0-251" id="h36-0-251" class="d">-	var u uint64
</a><a href="#h36-0-252" id="h36-0-252" class="d">-	var err error
</a><a href="#h36-0-253" id="h36-0-253" class="d">-
</a><a href="#h36-0-254" id="h36-0-254" class="d">-	switch wire {
</a><a href="#h36-0-255" id="h36-0-255" class="d">-	case WireVarint:
</a><a href="#h36-0-256" id="h36-0-256" class="d">-		_, err = o.DecodeVarint()
</a><a href="#h36-0-257" id="h36-0-257" class="d">-	case WireFixed64:
</a><a href="#h36-0-258" id="h36-0-258" class="d">-		_, err = o.DecodeFixed64()
</a><a href="#h36-0-259" id="h36-0-259" class="d">-	case WireBytes:
</a><a href="#h36-0-260" id="h36-0-260" class="d">-		_, err = o.DecodeRawBytes(false)
</a><a href="#h36-0-261" id="h36-0-261" class="d">-	case WireFixed32:
</a><a href="#h36-0-262" id="h36-0-262" class="d">-		_, err = o.DecodeFixed32()
</a><a href="#h36-0-263" id="h36-0-263" class="d">-	case WireStartGroup:
</a><a href="#h36-0-264" id="h36-0-264" class="d">-		for {
</a><a href="#h36-0-265" id="h36-0-265" class="d">-			u, err = o.DecodeVarint()
</a><a href="#h36-0-266" id="h36-0-266" class="d">-			if err != nil {
</a><a href="#h36-0-267" id="h36-0-267" class="d">-				break
</a><a href="#h36-0-268" id="h36-0-268" class="d">-			}
</a><a href="#h36-0-269" id="h36-0-269" class="d">-			fwire := int(u &amp; 0x7)
</a><a href="#h36-0-270" id="h36-0-270" class="d">-			if fwire == WireEndGroup {
</a><a href="#h36-0-271" id="h36-0-271" class="d">-				break
</a><a href="#h36-0-272" id="h36-0-272" class="d">-			}
</a><a href="#h36-0-273" id="h36-0-273" class="d">-			ftag := int(u &gt;&gt; 3)
</a><a href="#h36-0-274" id="h36-0-274" class="d">-			err = o.skip(t, ftag, fwire)
</a><a href="#h36-0-275" id="h36-0-275" class="d">-			if err != nil {
</a><a href="#h36-0-276" id="h36-0-276" class="d">-				break
</a><a href="#h36-0-277" id="h36-0-277" class="d">-			}
</a><a href="#h36-0-278" id="h36-0-278" class="d">-		}
</a><a href="#h36-0-279" id="h36-0-279" class="d">-	default:
</a><a href="#h36-0-280" id="h36-0-280" class="d">-		err = fmt.Errorf(&quot;proto: can&#39;t skip unknown wire type %d for %s&quot;, wire, t)
</a><a href="#h36-0-281" id="h36-0-281" class="d">-	}
</a><a href="#h36-0-282" id="h36-0-282" class="d">-	return err
</a><a href="#h36-0-283" id="h36-0-283" class="d">-}
</a><a href="#h36-0-284" id="h36-0-284" class="d">-
</a><a href="#h36-0-285" id="h36-0-285" class="d">-// Unmarshaler is the interface representing objects that can
</a><a href="#h36-0-286" id="h36-0-286" class="d">-// unmarshal themselves.  The method should reset the receiver before
</a><a href="#h36-0-287" id="h36-0-287" class="d">-// decoding starts.  The argument points to data that may be
</a><a href="#h36-0-288" id="h36-0-288" class="d">-// overwritten, so implementations should not keep references to the
</a><a href="#h36-0-289" id="h36-0-289" class="d">-// buffer.
</a><a href="#h36-0-290" id="h36-0-290" class="d">-type Unmarshaler interface {
</a><a href="#h36-0-291" id="h36-0-291" class="d">-	Unmarshal([]byte) error
</a><a href="#h36-0-292" id="h36-0-292" class="d">-}
</a><a href="#h36-0-293" id="h36-0-293" class="d">-
</a><a href="#h36-0-294" id="h36-0-294" class="d">-// Unmarshal parses the protocol buffer representation in buf and places the
</a><a href="#h36-0-295" id="h36-0-295" class="d">-// decoded result in pb.  If the struct underlying pb does not match
</a><a href="#h36-0-296" id="h36-0-296" class="d">-// the data in buf, the results can be unpredictable.
</a><a href="#h36-0-297" id="h36-0-297" class="d">-//
</a><a href="#h36-0-298" id="h36-0-298" class="d">-// Unmarshal resets pb before starting to unmarshal, so any
</a><a href="#h36-0-299" id="h36-0-299" class="d">-// existing data in pb is always removed. Use UnmarshalMerge
</a><a href="#h36-0-300" id="h36-0-300" class="d">-// to preserve and append to existing data.
</a><a href="#h36-0-301" id="h36-0-301" class="d">-func Unmarshal(buf []byte, pb Message) error {
</a><a href="#h36-0-302" id="h36-0-302" class="d">-	pb.Reset()
</a><a href="#h36-0-303" id="h36-0-303" class="d">-	return UnmarshalMerge(buf, pb)
</a><a href="#h36-0-304" id="h36-0-304" class="d">-}
</a><a href="#h36-0-305" id="h36-0-305" class="d">-
</a><a href="#h36-0-306" id="h36-0-306" class="d">-// UnmarshalMerge parses the protocol buffer representation in buf and
</a><a href="#h36-0-307" id="h36-0-307" class="d">-// writes the decoded result to pb.  If the struct underlying pb does not match
</a><a href="#h36-0-308" id="h36-0-308" class="d">-// the data in buf, the results can be unpredictable.
</a><a href="#h36-0-309" id="h36-0-309" class="d">-//
</a><a href="#h36-0-310" id="h36-0-310" class="d">-// UnmarshalMerge merges into existing data in pb.
</a><a href="#h36-0-311" id="h36-0-311" class="d">-// Most code should use Unmarshal instead.
</a><a href="#h36-0-312" id="h36-0-312" class="d">-func UnmarshalMerge(buf []byte, pb Message) error {
</a><a href="#h36-0-313" id="h36-0-313" class="d">-	// If the object can unmarshal itself, let it.
</a><a href="#h36-0-314" id="h36-0-314" class="d">-	if u, ok := pb.(Unmarshaler); ok {
</a><a href="#h36-0-315" id="h36-0-315" class="d">-		return u.Unmarshal(buf)
</a><a href="#h36-0-316" id="h36-0-316" class="d">-	}
</a><a href="#h36-0-317" id="h36-0-317" class="d">-	return NewBuffer(buf).Unmarshal(pb)
</a><a href="#h36-0-318" id="h36-0-318" class="d">-}
</a><a href="#h36-0-319" id="h36-0-319" class="d">-
</a><a href="#h36-0-320" id="h36-0-320" class="d">-// DecodeMessage reads a count-delimited message from the Buffer.
</a><a href="#h36-0-321" id="h36-0-321" class="d">-func (p *Buffer) DecodeMessage(pb Message) error {
</a><a href="#h36-0-322" id="h36-0-322" class="d">-	enc, err := p.DecodeRawBytes(false)
</a><a href="#h36-0-323" id="h36-0-323" class="d">-	if err != nil {
</a><a href="#h36-0-324" id="h36-0-324" class="d">-		return err
</a><a href="#h36-0-325" id="h36-0-325" class="d">-	}
</a><a href="#h36-0-326" id="h36-0-326" class="d">-	return NewBuffer(enc).Unmarshal(pb)
</a><a href="#h36-0-327" id="h36-0-327" class="d">-}
</a><a href="#h36-0-328" id="h36-0-328" class="d">-
</a><a href="#h36-0-329" id="h36-0-329" class="d">-// DecodeGroup reads a tag-delimited group from the Buffer.
</a><a href="#h36-0-330" id="h36-0-330" class="d">-func (p *Buffer) DecodeGroup(pb Message) error {
</a><a href="#h36-0-331" id="h36-0-331" class="d">-	typ, base, err := getbase(pb)
</a><a href="#h36-0-332" id="h36-0-332" class="d">-	if err != nil {
</a><a href="#h36-0-333" id="h36-0-333" class="d">-		return err
</a><a href="#h36-0-334" id="h36-0-334" class="d">-	}
</a><a href="#h36-0-335" id="h36-0-335" class="d">-	return p.unmarshalType(typ.Elem(), GetProperties(typ.Elem()), true, base)
</a><a href="#h36-0-336" id="h36-0-336" class="d">-}
</a><a href="#h36-0-337" id="h36-0-337" class="d">-
</a><a href="#h36-0-338" id="h36-0-338" class="d">-// Unmarshal parses the protocol buffer representation in the
</a><a href="#h36-0-339" id="h36-0-339" class="d">-// Buffer and places the decoded result in pb.  If the struct
</a><a href="#h36-0-340" id="h36-0-340" class="d">-// underlying pb does not match the data in the buffer, the results can be
</a><a href="#h36-0-341" id="h36-0-341" class="d">-// unpredictable.
</a><a href="#h36-0-342" id="h36-0-342" class="d">-func (p *Buffer) Unmarshal(pb Message) error {
</a><a href="#h36-0-343" id="h36-0-343" class="d">-	// If the object can unmarshal itself, let it.
</a><a href="#h36-0-344" id="h36-0-344" class="d">-	if u, ok := pb.(Unmarshaler); ok {
</a><a href="#h36-0-345" id="h36-0-345" class="d">-		err := u.Unmarshal(p.buf[p.index:])
</a><a href="#h36-0-346" id="h36-0-346" class="d">-		p.index = len(p.buf)
</a><a href="#h36-0-347" id="h36-0-347" class="d">-		return err
</a><a href="#h36-0-348" id="h36-0-348" class="d">-	}
</a><a href="#h36-0-349" id="h36-0-349" class="d">-
</a><a href="#h36-0-350" id="h36-0-350" class="d">-	typ, base, err := getbase(pb)
</a><a href="#h36-0-351" id="h36-0-351" class="d">-	if err != nil {
</a><a href="#h36-0-352" id="h36-0-352" class="d">-		return err
</a><a href="#h36-0-353" id="h36-0-353" class="d">-	}
</a><a href="#h36-0-354" id="h36-0-354" class="d">-
</a><a href="#h36-0-355" id="h36-0-355" class="d">-	err = p.unmarshalType(typ.Elem(), GetProperties(typ.Elem()), false, base)
</a><a href="#h36-0-356" id="h36-0-356" class="d">-
</a><a href="#h36-0-357" id="h36-0-357" class="d">-	if collectStats {
</a><a href="#h36-0-358" id="h36-0-358" class="d">-		stats.Decode++
</a><a href="#h36-0-359" id="h36-0-359" class="d">-	}
</a><a href="#h36-0-360" id="h36-0-360" class="d">-
</a><a href="#h36-0-361" id="h36-0-361" class="d">-	return err
</a><a href="#h36-0-362" id="h36-0-362" class="d">-}
</a><a href="#h36-0-363" id="h36-0-363" class="d">-
</a><a href="#h36-0-364" id="h36-0-364" class="d">-// unmarshalType does the work of unmarshaling a structure.
</a><a href="#h36-0-365" id="h36-0-365" class="d">-func (o *Buffer) unmarshalType(st reflect.Type, prop *StructProperties, is_group bool, base structPointer) error {
</a><a href="#h36-0-366" id="h36-0-366" class="d">-	var state errorState
</a><a href="#h36-0-367" id="h36-0-367" class="d">-	required, reqFields := prop.reqCount, uint64(0)
</a><a href="#h36-0-368" id="h36-0-368" class="d">-
</a><a href="#h36-0-369" id="h36-0-369" class="d">-	var err error
</a><a href="#h36-0-370" id="h36-0-370" class="d">-	for err == nil &amp;&amp; o.index &lt; len(o.buf) {
</a><a href="#h36-0-371" id="h36-0-371" class="d">-		oi := o.index
</a><a href="#h36-0-372" id="h36-0-372" class="d">-		var u uint64
</a><a href="#h36-0-373" id="h36-0-373" class="d">-		u, err = o.DecodeVarint()
</a><a href="#h36-0-374" id="h36-0-374" class="d">-		if err != nil {
</a><a href="#h36-0-375" id="h36-0-375" class="d">-			break
</a><a href="#h36-0-376" id="h36-0-376" class="d">-		}
</a><a href="#h36-0-377" id="h36-0-377" class="d">-		wire := int(u &amp; 0x7)
</a><a href="#h36-0-378" id="h36-0-378" class="d">-		if wire == WireEndGroup {
</a><a href="#h36-0-379" id="h36-0-379" class="d">-			if is_group {
</a><a href="#h36-0-380" id="h36-0-380" class="d">-				if required &gt; 0 {
</a><a href="#h36-0-381" id="h36-0-381" class="d">-					// Not enough information to determine the exact field.
</a><a href="#h36-0-382" id="h36-0-382" class="d">-					// (See below.)
</a><a href="#h36-0-383" id="h36-0-383" class="d">-					return &amp;RequiredNotSetError{&quot;{Unknown}&quot;}
</a><a href="#h36-0-384" id="h36-0-384" class="d">-				}
</a><a href="#h36-0-385" id="h36-0-385" class="d">-				return nil // input is satisfied
</a><a href="#h36-0-386" id="h36-0-386" class="d">-			}
</a><a href="#h36-0-387" id="h36-0-387" class="d">-			return fmt.Errorf(&quot;proto: %s: wiretype end group for non-group&quot;, st)
</a><a href="#h36-0-388" id="h36-0-388" class="d">-		}
</a><a href="#h36-0-389" id="h36-0-389" class="d">-		tag := int(u &gt;&gt; 3)
</a><a href="#h36-0-390" id="h36-0-390" class="d">-		if tag &lt;= 0 {
</a><a href="#h36-0-391" id="h36-0-391" class="d">-			return fmt.Errorf(&quot;proto: %s: illegal tag %d (wire type %d)&quot;, st, tag, wire)
</a><a href="#h36-0-392" id="h36-0-392" class="d">-		}
</a><a href="#h36-0-393" id="h36-0-393" class="d">-		fieldnum, ok := prop.decoderTags.get(tag)
</a><a href="#h36-0-394" id="h36-0-394" class="d">-		if !ok {
</a><a href="#h36-0-395" id="h36-0-395" class="d">-			// Maybe it&#39;s an extension?
</a><a href="#h36-0-396" id="h36-0-396" class="d">-			if prop.extendable {
</a><a href="#h36-0-397" id="h36-0-397" class="d">-				if e, _ := extendable(structPointer_Interface(base, st)); isExtensionField(e, int32(tag)) {
</a><a href="#h36-0-398" id="h36-0-398" class="d">-					if err = o.skip(st, tag, wire); err == nil {
</a><a href="#h36-0-399" id="h36-0-399" class="d">-						extmap := e.extensionsWrite()
</a><a href="#h36-0-400" id="h36-0-400" class="d">-						ext := extmap[int32(tag)] // may be missing
</a><a href="#h36-0-401" id="h36-0-401" class="d">-						ext.enc = append(ext.enc, o.buf[oi:o.index]...)
</a><a href="#h36-0-402" id="h36-0-402" class="d">-						extmap[int32(tag)] = ext
</a><a href="#h36-0-403" id="h36-0-403" class="d">-					}
</a><a href="#h36-0-404" id="h36-0-404" class="d">-					continue
</a><a href="#h36-0-405" id="h36-0-405" class="d">-				}
</a><a href="#h36-0-406" id="h36-0-406" class="d">-			}
</a><a href="#h36-0-407" id="h36-0-407" class="d">-			// Maybe it&#39;s a oneof?
</a><a href="#h36-0-408" id="h36-0-408" class="d">-			if prop.oneofUnmarshaler != nil {
</a><a href="#h36-0-409" id="h36-0-409" class="d">-				m := structPointer_Interface(base, st).(Message)
</a><a href="#h36-0-410" id="h36-0-410" class="d">-				// First return value indicates whether tag is a oneof field.
</a><a href="#h36-0-411" id="h36-0-411" class="d">-				ok, err = prop.oneofUnmarshaler(m, tag, wire, o)
</a><a href="#h36-0-412" id="h36-0-412" class="d">-				if err == ErrInternalBadWireType {
</a><a href="#h36-0-413" id="h36-0-413" class="d">-					// Map the error to something more descriptive.
</a><a href="#h36-0-414" id="h36-0-414" class="d">-					// Do the formatting here to save generated code space.
</a><a href="#h36-0-415" id="h36-0-415" class="d">-					err = fmt.Errorf(&quot;bad wiretype for oneof field in %T&quot;, m)
</a><a href="#h36-0-416" id="h36-0-416" class="d">-				}
</a><a href="#h36-0-417" id="h36-0-417" class="d">-				if ok {
</a><a href="#h36-0-418" id="h36-0-418" class="d">-					continue
</a><a href="#h36-0-419" id="h36-0-419" class="d">-				}
</a><a href="#h36-0-420" id="h36-0-420" class="d">-			}
</a><a href="#h36-0-421" id="h36-0-421" class="d">-			err = o.skipAndSave(st, tag, wire, base, prop.unrecField)
</a><a href="#h36-0-422" id="h36-0-422" class="d">-			continue
</a><a href="#h36-0-423" id="h36-0-423" class="d">-		}
</a><a href="#h36-0-424" id="h36-0-424" class="d">-		p := prop.Prop[fieldnum]
</a><a href="#h36-0-425" id="h36-0-425" class="d">-
</a><a href="#h36-0-426" id="h36-0-426" class="d">-		if p.dec == nil {
</a><a href="#h36-0-427" id="h36-0-427" class="d">-			fmt.Fprintf(os.Stderr, &quot;proto: no protobuf decoder for %s.%s\n&quot;, st, st.Field(fieldnum).Name)
</a><a href="#h36-0-428" id="h36-0-428" class="d">-			continue
</a><a href="#h36-0-429" id="h36-0-429" class="d">-		}
</a><a href="#h36-0-430" id="h36-0-430" class="d">-		dec := p.dec
</a><a href="#h36-0-431" id="h36-0-431" class="d">-		if wire != WireStartGroup &amp;&amp; wire != p.WireType {
</a><a href="#h36-0-432" id="h36-0-432" class="d">-			if wire == WireBytes &amp;&amp; p.packedDec != nil {
</a><a href="#h36-0-433" id="h36-0-433" class="d">-				// a packable field
</a><a href="#h36-0-434" id="h36-0-434" class="d">-				dec = p.packedDec
</a><a href="#h36-0-435" id="h36-0-435" class="d">-			} else {
</a><a href="#h36-0-436" id="h36-0-436" class="d">-				err = fmt.Errorf(&quot;proto: bad wiretype for field %s.%s: got wiretype %d, want %d&quot;, st, st.Field(fieldnum).Name, wire, p.WireType)
</a><a href="#h36-0-437" id="h36-0-437" class="d">-				continue
</a><a href="#h36-0-438" id="h36-0-438" class="d">-			}
</a><a href="#h36-0-439" id="h36-0-439" class="d">-		}
</a><a href="#h36-0-440" id="h36-0-440" class="d">-		decErr := dec(o, p, base)
</a><a href="#h36-0-441" id="h36-0-441" class="d">-		if decErr != nil &amp;&amp; !state.shouldContinue(decErr, p) {
</a><a href="#h36-0-442" id="h36-0-442" class="d">-			err = decErr
</a><a href="#h36-0-443" id="h36-0-443" class="d">-		}
</a><a href="#h36-0-444" id="h36-0-444" class="d">-		if err == nil &amp;&amp; p.Required {
</a><a href="#h36-0-445" id="h36-0-445" class="d">-			// Successfully decoded a required field.
</a><a href="#h36-0-446" id="h36-0-446" class="d">-			if tag &lt;= 64 {
</a><a href="#h36-0-447" id="h36-0-447" class="d">-				// use bitmap for fields 1-64 to catch field reuse.
</a><a href="#h36-0-448" id="h36-0-448" class="d">-				var mask uint64 = 1 &lt;&lt; uint64(tag-1)
</a><a href="#h36-0-449" id="h36-0-449" class="d">-				if reqFields&amp;mask == 0 {
</a><a href="#h36-0-450" id="h36-0-450" class="d">-					// new required field
</a><a href="#h36-0-451" id="h36-0-451" class="d">-					reqFields |= mask
</a><a href="#h36-0-452" id="h36-0-452" class="d">-					required--
</a><a href="#h36-0-453" id="h36-0-453" class="d">-				}
</a><a href="#h36-0-454" id="h36-0-454" class="d">-			} else {
</a><a href="#h36-0-455" id="h36-0-455" class="d">-				// This is imprecise. It can be fooled by a required field
</a><a href="#h36-0-456" id="h36-0-456" class="d">-				// with a tag &gt; 64 that is encoded twice; that&#39;s very rare.
</a><a href="#h36-0-457" id="h36-0-457" class="d">-				// A fully correct implementation would require allocating
</a><a href="#h36-0-458" id="h36-0-458" class="d">-				// a data structure, which we would like to avoid.
</a><a href="#h36-0-459" id="h36-0-459" class="d">-				required--
</a><a href="#h36-0-460" id="h36-0-460" class="d">-			}
</a><a href="#h36-0-461" id="h36-0-461" class="d">-		}
</a><a href="#h36-0-462" id="h36-0-462" class="d">-	}
</a><a href="#h36-0-463" id="h36-0-463" class="d">-	if err == nil {
</a><a href="#h36-0-464" id="h36-0-464" class="d">-		if is_group {
</a><a href="#h36-0-465" id="h36-0-465" class="d">-			return io.ErrUnexpectedEOF
</a><a href="#h36-0-466" id="h36-0-466" class="d">-		}
</a><a href="#h36-0-467" id="h36-0-467" class="d">-		if state.err != nil {
</a><a href="#h36-0-468" id="h36-0-468" class="d">-			return state.err
</a><a href="#h36-0-469" id="h36-0-469" class="d">-		}
</a><a href="#h36-0-470" id="h36-0-470" class="d">-		if required &gt; 0 {
</a><a href="#h36-0-471" id="h36-0-471" class="d">-			// Not enough information to determine the exact field. If we use extra
</a><a href="#h36-0-472" id="h36-0-472" class="d">-			// CPU, we could determine the field only if the missing required field
</a><a href="#h36-0-473" id="h36-0-473" class="d">-			// has a tag &lt;= 64 and we check reqFields.
</a><a href="#h36-0-474" id="h36-0-474" class="d">-			return &amp;RequiredNotSetError{&quot;{Unknown}&quot;}
</a><a href="#h36-0-475" id="h36-0-475" class="d">-		}
</a><a href="#h36-0-476" id="h36-0-476" class="d">-	}
</a><a href="#h36-0-477" id="h36-0-477" class="d">-	return err
</a><a href="#h36-0-478" id="h36-0-478" class="d">-}
</a><a href="#h36-0-479" id="h36-0-479" class="d">-
</a><a href="#h36-0-480" id="h36-0-480" class="d">-// Individual type decoders
</a><a href="#h36-0-481" id="h36-0-481" class="d">-// For each,
</a><a href="#h36-0-482" id="h36-0-482" class="d">-//	u is the decoded value,
</a><a href="#h36-0-483" id="h36-0-483" class="d">-//	v is a pointer to the field (pointer) in the struct
</a><a href="#h36-0-484" id="h36-0-484" class="d">-
</a><a href="#h36-0-485" id="h36-0-485" class="d">-// Sizes of the pools to allocate inside the Buffer.
</a><a href="#h36-0-486" id="h36-0-486" class="d">-// The goal is modest amortization and allocation
</a><a href="#h36-0-487" id="h36-0-487" class="d">-// on at least 16-byte boundaries.
</a><a href="#h36-0-488" id="h36-0-488" class="d">-const (
</a><a href="#h36-0-489" id="h36-0-489" class="d">-	boolPoolSize   = 16
</a><a href="#h36-0-490" id="h36-0-490" class="d">-	uint32PoolSize = 8
</a><a href="#h36-0-491" id="h36-0-491" class="d">-	uint64PoolSize = 4
</a><a href="#h36-0-492" id="h36-0-492" class="d">-)
</a><a href="#h36-0-493" id="h36-0-493" class="d">-
</a><a href="#h36-0-494" id="h36-0-494" class="d">-// Decode a bool.
</a><a href="#h36-0-495" id="h36-0-495" class="d">-func (o *Buffer) dec_bool(p *Properties, base structPointer) error {
</a><a href="#h36-0-496" id="h36-0-496" class="d">-	u, err := p.valDec(o)
</a><a href="#h36-0-497" id="h36-0-497" class="d">-	if err != nil {
</a><a href="#h36-0-498" id="h36-0-498" class="d">-		return err
</a><a href="#h36-0-499" id="h36-0-499" class="d">-	}
</a><a href="#h36-0-500" id="h36-0-500" class="d">-	if len(o.bools) == 0 {
</a><a href="#h36-0-501" id="h36-0-501" class="d">-		o.bools = make([]bool, boolPoolSize)
</a><a href="#h36-0-502" id="h36-0-502" class="d">-	}
</a><a href="#h36-0-503" id="h36-0-503" class="d">-	o.bools[0] = u != 0
</a><a href="#h36-0-504" id="h36-0-504" class="d">-	*structPointer_Bool(base, p.field) = &amp;o.bools[0]
</a><a href="#h36-0-505" id="h36-0-505" class="d">-	o.bools = o.bools[1:]
</a><a href="#h36-0-506" id="h36-0-506" class="d">-	return nil
</a><a href="#h36-0-507" id="h36-0-507" class="d">-}
</a><a href="#h36-0-508" id="h36-0-508" class="d">-
</a><a href="#h36-0-509" id="h36-0-509" class="d">-func (o *Buffer) dec_proto3_bool(p *Properties, base structPointer) error {
</a><a href="#h36-0-510" id="h36-0-510" class="d">-	u, err := p.valDec(o)
</a><a href="#h36-0-511" id="h36-0-511" class="d">-	if err != nil {
</a><a href="#h36-0-512" id="h36-0-512" class="d">-		return err
</a><a href="#h36-0-513" id="h36-0-513" class="d">-	}
</a><a href="#h36-0-514" id="h36-0-514" class="d">-	*structPointer_BoolVal(base, p.field) = u != 0
</a><a href="#h36-0-515" id="h36-0-515" class="d">-	return nil
</a><a href="#h36-0-516" id="h36-0-516" class="d">-}
</a><a href="#h36-0-517" id="h36-0-517" class="d">-
</a><a href="#h36-0-518" id="h36-0-518" class="d">-// Decode an int32.
</a><a href="#h36-0-519" id="h36-0-519" class="d">-func (o *Buffer) dec_int32(p *Properties, base structPointer) error {
</a><a href="#h36-0-520" id="h36-0-520" class="d">-	u, err := p.valDec(o)
</a><a href="#h36-0-521" id="h36-0-521" class="d">-	if err != nil {
</a><a href="#h36-0-522" id="h36-0-522" class="d">-		return err
</a><a href="#h36-0-523" id="h36-0-523" class="d">-	}
</a><a href="#h36-0-524" id="h36-0-524" class="d">-	word32_Set(structPointer_Word32(base, p.field), o, uint32(u))
</a><a href="#h36-0-525" id="h36-0-525" class="d">-	return nil
</a><a href="#h36-0-526" id="h36-0-526" class="d">-}
</a><a href="#h36-0-527" id="h36-0-527" class="d">-
</a><a href="#h36-0-528" id="h36-0-528" class="d">-func (o *Buffer) dec_proto3_int32(p *Properties, base structPointer) error {
</a><a href="#h36-0-529" id="h36-0-529" class="d">-	u, err := p.valDec(o)
</a><a href="#h36-0-530" id="h36-0-530" class="d">-	if err != nil {
</a><a href="#h36-0-531" id="h36-0-531" class="d">-		return err
</a><a href="#h36-0-532" id="h36-0-532" class="d">-	}
</a><a href="#h36-0-533" id="h36-0-533" class="d">-	word32Val_Set(structPointer_Word32Val(base, p.field), uint32(u))
</a><a href="#h36-0-534" id="h36-0-534" class="d">-	return nil
</a><a href="#h36-0-535" id="h36-0-535" class="d">-}
</a><a href="#h36-0-536" id="h36-0-536" class="d">-
</a><a href="#h36-0-537" id="h36-0-537" class="d">-// Decode an int64.
</a><a href="#h36-0-538" id="h36-0-538" class="d">-func (o *Buffer) dec_int64(p *Properties, base structPointer) error {
</a><a href="#h36-0-539" id="h36-0-539" class="d">-	u, err := p.valDec(o)
</a><a href="#h36-0-540" id="h36-0-540" class="d">-	if err != nil {
</a><a href="#h36-0-541" id="h36-0-541" class="d">-		return err
</a><a href="#h36-0-542" id="h36-0-542" class="d">-	}
</a><a href="#h36-0-543" id="h36-0-543" class="d">-	word64_Set(structPointer_Word64(base, p.field), o, u)
</a><a href="#h36-0-544" id="h36-0-544" class="d">-	return nil
</a><a href="#h36-0-545" id="h36-0-545" class="d">-}
</a><a href="#h36-0-546" id="h36-0-546" class="d">-
</a><a href="#h36-0-547" id="h36-0-547" class="d">-func (o *Buffer) dec_proto3_int64(p *Properties, base structPointer) error {
</a><a href="#h36-0-548" id="h36-0-548" class="d">-	u, err := p.valDec(o)
</a><a href="#h36-0-549" id="h36-0-549" class="d">-	if err != nil {
</a><a href="#h36-0-550" id="h36-0-550" class="d">-		return err
</a><a href="#h36-0-551" id="h36-0-551" class="d">-	}
</a><a href="#h36-0-552" id="h36-0-552" class="d">-	word64Val_Set(structPointer_Word64Val(base, p.field), o, u)
</a><a href="#h36-0-553" id="h36-0-553" class="d">-	return nil
</a><a href="#h36-0-554" id="h36-0-554" class="d">-}
</a><a href="#h36-0-555" id="h36-0-555" class="d">-
</a><a href="#h36-0-556" id="h36-0-556" class="d">-// Decode a string.
</a><a href="#h36-0-557" id="h36-0-557" class="d">-func (o *Buffer) dec_string(p *Properties, base structPointer) error {
</a><a href="#h36-0-558" id="h36-0-558" class="d">-	s, err := o.DecodeStringBytes()
</a><a href="#h36-0-559" id="h36-0-559" class="d">-	if err != nil {
</a><a href="#h36-0-560" id="h36-0-560" class="d">-		return err
</a><a href="#h36-0-561" id="h36-0-561" class="d">-	}
</a><a href="#h36-0-562" id="h36-0-562" class="d">-	*structPointer_String(base, p.field) = &amp;s
</a><a href="#h36-0-563" id="h36-0-563" class="d">-	return nil
</a><a href="#h36-0-564" id="h36-0-564" class="d">-}
</a><a href="#h36-0-565" id="h36-0-565" class="d">-
</a><a href="#h36-0-566" id="h36-0-566" class="d">-func (o *Buffer) dec_proto3_string(p *Properties, base structPointer) error {
</a><a href="#h36-0-567" id="h36-0-567" class="d">-	s, err := o.DecodeStringBytes()
</a><a href="#h36-0-568" id="h36-0-568" class="d">-	if err != nil {
</a><a href="#h36-0-569" id="h36-0-569" class="d">-		return err
</a><a href="#h36-0-570" id="h36-0-570" class="d">-	}
</a><a href="#h36-0-571" id="h36-0-571" class="d">-	*structPointer_StringVal(base, p.field) = s
</a><a href="#h36-0-572" id="h36-0-572" class="d">-	return nil
</a><a href="#h36-0-573" id="h36-0-573" class="d">-}
</a><a href="#h36-0-574" id="h36-0-574" class="d">-
</a><a href="#h36-0-575" id="h36-0-575" class="d">-// Decode a slice of bytes ([]byte).
</a><a href="#h36-0-576" id="h36-0-576" class="d">-func (o *Buffer) dec_slice_byte(p *Properties, base structPointer) error {
</a><a href="#h36-0-577" id="h36-0-577" class="d">-	b, err := o.DecodeRawBytes(true)
</a><a href="#h36-0-578" id="h36-0-578" class="d">-	if err != nil {
</a><a href="#h36-0-579" id="h36-0-579" class="d">-		return err
</a><a href="#h36-0-580" id="h36-0-580" class="d">-	}
</a><a href="#h36-0-581" id="h36-0-581" class="d">-	*structPointer_Bytes(base, p.field) = b
</a><a href="#h36-0-582" id="h36-0-582" class="d">-	return nil
</a><a href="#h36-0-583" id="h36-0-583" class="d">-}
</a><a href="#h36-0-584" id="h36-0-584" class="d">-
</a><a href="#h36-0-585" id="h36-0-585" class="d">-// Decode a slice of bools ([]bool).
</a><a href="#h36-0-586" id="h36-0-586" class="d">-func (o *Buffer) dec_slice_bool(p *Properties, base structPointer) error {
</a><a href="#h36-0-587" id="h36-0-587" class="d">-	u, err := p.valDec(o)
</a><a href="#h36-0-588" id="h36-0-588" class="d">-	if err != nil {
</a><a href="#h36-0-589" id="h36-0-589" class="d">-		return err
</a><a href="#h36-0-590" id="h36-0-590" class="d">-	}
</a><a href="#h36-0-591" id="h36-0-591" class="d">-	v := structPointer_BoolSlice(base, p.field)
</a><a href="#h36-0-592" id="h36-0-592" class="d">-	*v = append(*v, u != 0)
</a><a href="#h36-0-593" id="h36-0-593" class="d">-	return nil
</a><a href="#h36-0-594" id="h36-0-594" class="d">-}
</a><a href="#h36-0-595" id="h36-0-595" class="d">-
</a><a href="#h36-0-596" id="h36-0-596" class="d">-// Decode a slice of bools ([]bool) in packed format.
</a><a href="#h36-0-597" id="h36-0-597" class="d">-func (o *Buffer) dec_slice_packed_bool(p *Properties, base structPointer) error {
</a><a href="#h36-0-598" id="h36-0-598" class="d">-	v := structPointer_BoolSlice(base, p.field)
</a><a href="#h36-0-599" id="h36-0-599" class="d">-
</a><a href="#h36-0-600" id="h36-0-600" class="d">-	nn, err := o.DecodeVarint()
</a><a href="#h36-0-601" id="h36-0-601" class="d">-	if err != nil {
</a><a href="#h36-0-602" id="h36-0-602" class="d">-		return err
</a><a href="#h36-0-603" id="h36-0-603" class="d">-	}
</a><a href="#h36-0-604" id="h36-0-604" class="d">-	nb := int(nn) // number of bytes of encoded bools
</a><a href="#h36-0-605" id="h36-0-605" class="d">-	fin := o.index + nb
</a><a href="#h36-0-606" id="h36-0-606" class="d">-	if fin &lt; o.index {
</a><a href="#h36-0-607" id="h36-0-607" class="d">-		return errOverflow
</a><a href="#h36-0-608" id="h36-0-608" class="d">-	}
</a><a href="#h36-0-609" id="h36-0-609" class="d">-
</a><a href="#h36-0-610" id="h36-0-610" class="d">-	y := *v
</a><a href="#h36-0-611" id="h36-0-611" class="d">-	for o.index &lt; fin {
</a><a href="#h36-0-612" id="h36-0-612" class="d">-		u, err := p.valDec(o)
</a><a href="#h36-0-613" id="h36-0-613" class="d">-		if err != nil {
</a><a href="#h36-0-614" id="h36-0-614" class="d">-			return err
</a><a href="#h36-0-615" id="h36-0-615" class="d">-		}
</a><a href="#h36-0-616" id="h36-0-616" class="d">-		y = append(y, u != 0)
</a><a href="#h36-0-617" id="h36-0-617" class="d">-	}
</a><a href="#h36-0-618" id="h36-0-618" class="d">-
</a><a href="#h36-0-619" id="h36-0-619" class="d">-	*v = y
</a><a href="#h36-0-620" id="h36-0-620" class="d">-	return nil
</a><a href="#h36-0-621" id="h36-0-621" class="d">-}
</a><a href="#h36-0-622" id="h36-0-622" class="d">-
</a><a href="#h36-0-623" id="h36-0-623" class="d">-// Decode a slice of int32s ([]int32).
</a><a href="#h36-0-624" id="h36-0-624" class="d">-func (o *Buffer) dec_slice_int32(p *Properties, base structPointer) error {
</a><a href="#h36-0-625" id="h36-0-625" class="d">-	u, err := p.valDec(o)
</a><a href="#h36-0-626" id="h36-0-626" class="d">-	if err != nil {
</a><a href="#h36-0-627" id="h36-0-627" class="d">-		return err
</a><a href="#h36-0-628" id="h36-0-628" class="d">-	}
</a><a href="#h36-0-629" id="h36-0-629" class="d">-	structPointer_Word32Slice(base, p.field).Append(uint32(u))
</a><a href="#h36-0-630" id="h36-0-630" class="d">-	return nil
</a><a href="#h36-0-631" id="h36-0-631" class="d">-}
</a><a href="#h36-0-632" id="h36-0-632" class="d">-
</a><a href="#h36-0-633" id="h36-0-633" class="d">-// Decode a slice of int32s ([]int32) in packed format.
</a><a href="#h36-0-634" id="h36-0-634" class="d">-func (o *Buffer) dec_slice_packed_int32(p *Properties, base structPointer) error {
</a><a href="#h36-0-635" id="h36-0-635" class="d">-	v := structPointer_Word32Slice(base, p.field)
</a><a href="#h36-0-636" id="h36-0-636" class="d">-
</a><a href="#h36-0-637" id="h36-0-637" class="d">-	nn, err := o.DecodeVarint()
</a><a href="#h36-0-638" id="h36-0-638" class="d">-	if err != nil {
</a><a href="#h36-0-639" id="h36-0-639" class="d">-		return err
</a><a href="#h36-0-640" id="h36-0-640" class="d">-	}
</a><a href="#h36-0-641" id="h36-0-641" class="d">-	nb := int(nn) // number of bytes of encoded int32s
</a><a href="#h36-0-642" id="h36-0-642" class="d">-
</a><a href="#h36-0-643" id="h36-0-643" class="d">-	fin := o.index + nb
</a><a href="#h36-0-644" id="h36-0-644" class="d">-	if fin &lt; o.index {
</a><a href="#h36-0-645" id="h36-0-645" class="d">-		return errOverflow
</a><a href="#h36-0-646" id="h36-0-646" class="d">-	}
</a><a href="#h36-0-647" id="h36-0-647" class="d">-	for o.index &lt; fin {
</a><a href="#h36-0-648" id="h36-0-648" class="d">-		u, err := p.valDec(o)
</a><a href="#h36-0-649" id="h36-0-649" class="d">-		if err != nil {
</a><a href="#h36-0-650" id="h36-0-650" class="d">-			return err
</a><a href="#h36-0-651" id="h36-0-651" class="d">-		}
</a><a href="#h36-0-652" id="h36-0-652" class="d">-		v.Append(uint32(u))
</a><a href="#h36-0-653" id="h36-0-653" class="d">-	}
</a><a href="#h36-0-654" id="h36-0-654" class="d">-	return nil
</a><a href="#h36-0-655" id="h36-0-655" class="d">-}
</a><a href="#h36-0-656" id="h36-0-656" class="d">-
</a><a href="#h36-0-657" id="h36-0-657" class="d">-// Decode a slice of int64s ([]int64).
</a><a href="#h36-0-658" id="h36-0-658" class="d">-func (o *Buffer) dec_slice_int64(p *Properties, base structPointer) error {
</a><a href="#h36-0-659" id="h36-0-659" class="d">-	u, err := p.valDec(o)
</a><a href="#h36-0-660" id="h36-0-660" class="d">-	if err != nil {
</a><a href="#h36-0-661" id="h36-0-661" class="d">-		return err
</a><a href="#h36-0-662" id="h36-0-662" class="d">-	}
</a><a href="#h36-0-663" id="h36-0-663" class="d">-
</a><a href="#h36-0-664" id="h36-0-664" class="d">-	structPointer_Word64Slice(base, p.field).Append(u)
</a><a href="#h36-0-665" id="h36-0-665" class="d">-	return nil
</a><a href="#h36-0-666" id="h36-0-666" class="d">-}
</a><a href="#h36-0-667" id="h36-0-667" class="d">-
</a><a href="#h36-0-668" id="h36-0-668" class="d">-// Decode a slice of int64s ([]int64) in packed format.
</a><a href="#h36-0-669" id="h36-0-669" class="d">-func (o *Buffer) dec_slice_packed_int64(p *Properties, base structPointer) error {
</a><a href="#h36-0-670" id="h36-0-670" class="d">-	v := structPointer_Word64Slice(base, p.field)
</a><a href="#h36-0-671" id="h36-0-671" class="d">-
</a><a href="#h36-0-672" id="h36-0-672" class="d">-	nn, err := o.DecodeVarint()
</a><a href="#h36-0-673" id="h36-0-673" class="d">-	if err != nil {
</a><a href="#h36-0-674" id="h36-0-674" class="d">-		return err
</a><a href="#h36-0-675" id="h36-0-675" class="d">-	}
</a><a href="#h36-0-676" id="h36-0-676" class="d">-	nb := int(nn) // number of bytes of encoded int64s
</a><a href="#h36-0-677" id="h36-0-677" class="d">-
</a><a href="#h36-0-678" id="h36-0-678" class="d">-	fin := o.index + nb
</a><a href="#h36-0-679" id="h36-0-679" class="d">-	if fin &lt; o.index {
</a><a href="#h36-0-680" id="h36-0-680" class="d">-		return errOverflow
</a><a href="#h36-0-681" id="h36-0-681" class="d">-	}
</a><a href="#h36-0-682" id="h36-0-682" class="d">-	for o.index &lt; fin {
</a><a href="#h36-0-683" id="h36-0-683" class="d">-		u, err := p.valDec(o)
</a><a href="#h36-0-684" id="h36-0-684" class="d">-		if err != nil {
</a><a href="#h36-0-685" id="h36-0-685" class="d">-			return err
</a><a href="#h36-0-686" id="h36-0-686" class="d">-		}
</a><a href="#h36-0-687" id="h36-0-687" class="d">-		v.Append(u)
</a><a href="#h36-0-688" id="h36-0-688" class="d">-	}
</a><a href="#h36-0-689" id="h36-0-689" class="d">-	return nil
</a><a href="#h36-0-690" id="h36-0-690" class="d">-}
</a><a href="#h36-0-691" id="h36-0-691" class="d">-
</a><a href="#h36-0-692" id="h36-0-692" class="d">-// Decode a slice of strings ([]string).
</a><a href="#h36-0-693" id="h36-0-693" class="d">-func (o *Buffer) dec_slice_string(p *Properties, base structPointer) error {
</a><a href="#h36-0-694" id="h36-0-694" class="d">-	s, err := o.DecodeStringBytes()
</a><a href="#h36-0-695" id="h36-0-695" class="d">-	if err != nil {
</a><a href="#h36-0-696" id="h36-0-696" class="d">-		return err
</a><a href="#h36-0-697" id="h36-0-697" class="d">-	}
</a><a href="#h36-0-698" id="h36-0-698" class="d">-	v := structPointer_StringSlice(base, p.field)
</a><a href="#h36-0-699" id="h36-0-699" class="d">-	*v = append(*v, s)
</a><a href="#h36-0-700" id="h36-0-700" class="d">-	return nil
</a><a href="#h36-0-701" id="h36-0-701" class="d">-}
</a><a href="#h36-0-702" id="h36-0-702" class="d">-
</a><a href="#h36-0-703" id="h36-0-703" class="d">-// Decode a slice of slice of bytes ([][]byte).
</a><a href="#h36-0-704" id="h36-0-704" class="d">-func (o *Buffer) dec_slice_slice_byte(p *Properties, base structPointer) error {
</a><a href="#h36-0-705" id="h36-0-705" class="d">-	b, err := o.DecodeRawBytes(true)
</a><a href="#h36-0-706" id="h36-0-706" class="d">-	if err != nil {
</a><a href="#h36-0-707" id="h36-0-707" class="d">-		return err
</a><a href="#h36-0-708" id="h36-0-708" class="d">-	}
</a><a href="#h36-0-709" id="h36-0-709" class="d">-	v := structPointer_BytesSlice(base, p.field)
</a><a href="#h36-0-710" id="h36-0-710" class="d">-	*v = append(*v, b)
</a><a href="#h36-0-711" id="h36-0-711" class="d">-	return nil
</a><a href="#h36-0-712" id="h36-0-712" class="d">-}
</a><a href="#h36-0-713" id="h36-0-713" class="d">-
</a><a href="#h36-0-714" id="h36-0-714" class="d">-// Decode a map field.
</a><a href="#h36-0-715" id="h36-0-715" class="d">-func (o *Buffer) dec_new_map(p *Properties, base structPointer) error {
</a><a href="#h36-0-716" id="h36-0-716" class="d">-	raw, err := o.DecodeRawBytes(false)
</a><a href="#h36-0-717" id="h36-0-717" class="d">-	if err != nil {
</a><a href="#h36-0-718" id="h36-0-718" class="d">-		return err
</a><a href="#h36-0-719" id="h36-0-719" class="d">-	}
</a><a href="#h36-0-720" id="h36-0-720" class="d">-	oi := o.index       // index at the end of this map entry
</a><a href="#h36-0-721" id="h36-0-721" class="d">-	o.index -= len(raw) // move buffer back to start of map entry
</a><a href="#h36-0-722" id="h36-0-722" class="d">-
</a><a href="#h36-0-723" id="h36-0-723" class="d">-	mptr := structPointer_NewAt(base, p.field, p.mtype) // *map[K]V
</a><a href="#h36-0-724" id="h36-0-724" class="d">-	if mptr.Elem().IsNil() {
</a><a href="#h36-0-725" id="h36-0-725" class="d">-		mptr.Elem().Set(reflect.MakeMap(mptr.Type().Elem()))
</a><a href="#h36-0-726" id="h36-0-726" class="d">-	}
</a><a href="#h36-0-727" id="h36-0-727" class="d">-	v := mptr.Elem() // map[K]V
</a><a href="#h36-0-728" id="h36-0-728" class="d">-
</a><a href="#h36-0-729" id="h36-0-729" class="d">-	// Prepare addressable doubly-indirect placeholders for the key and value types.
</a><a href="#h36-0-730" id="h36-0-730" class="d">-	// See enc_new_map for why.
</a><a href="#h36-0-731" id="h36-0-731" class="d">-	keyptr := reflect.New(reflect.PtrTo(p.mtype.Key())).Elem() // addressable *K
</a><a href="#h36-0-732" id="h36-0-732" class="d">-	keybase := toStructPointer(keyptr.Addr())                  // **K
</a><a href="#h36-0-733" id="h36-0-733" class="d">-
</a><a href="#h36-0-734" id="h36-0-734" class="d">-	var valbase structPointer
</a><a href="#h36-0-735" id="h36-0-735" class="d">-	var valptr reflect.Value
</a><a href="#h36-0-736" id="h36-0-736" class="d">-	switch p.mtype.Elem().Kind() {
</a><a href="#h36-0-737" id="h36-0-737" class="d">-	case reflect.Slice:
</a><a href="#h36-0-738" id="h36-0-738" class="d">-		// []byte
</a><a href="#h36-0-739" id="h36-0-739" class="d">-		var dummy []byte
</a><a href="#h36-0-740" id="h36-0-740" class="d">-		valptr = reflect.ValueOf(&amp;dummy)  // *[]byte
</a><a href="#h36-0-741" id="h36-0-741" class="d">-		valbase = toStructPointer(valptr) // *[]byte
</a><a href="#h36-0-742" id="h36-0-742" class="d">-	case reflect.Ptr:
</a><a href="#h36-0-743" id="h36-0-743" class="d">-		// message; valptr is **Msg; need to allocate the intermediate pointer
</a><a href="#h36-0-744" id="h36-0-744" class="d">-		valptr = reflect.New(reflect.PtrTo(p.mtype.Elem())).Elem() // addressable *V
</a><a href="#h36-0-745" id="h36-0-745" class="d">-		valptr.Set(reflect.New(valptr.Type().Elem()))
</a><a href="#h36-0-746" id="h36-0-746" class="d">-		valbase = toStructPointer(valptr)
</a><a href="#h36-0-747" id="h36-0-747" class="d">-	default:
</a><a href="#h36-0-748" id="h36-0-748" class="d">-		// everything else
</a><a href="#h36-0-749" id="h36-0-749" class="d">-		valptr = reflect.New(reflect.PtrTo(p.mtype.Elem())).Elem() // addressable *V
</a><a href="#h36-0-750" id="h36-0-750" class="d">-		valbase = toStructPointer(valptr.Addr())                   // **V
</a><a href="#h36-0-751" id="h36-0-751" class="d">-	}
</a><a href="#h36-0-752" id="h36-0-752" class="d">-
</a><a href="#h36-0-753" id="h36-0-753" class="d">-	// Decode.
</a><a href="#h36-0-754" id="h36-0-754" class="d">-	// This parses a restricted wire format, namely the encoding of a message
</a><a href="#h36-0-755" id="h36-0-755" class="d">-	// with two fields. See enc_new_map for the format.
</a><a href="#h36-0-756" id="h36-0-756" class="d">-	for o.index &lt; oi {
</a><a href="#h36-0-757" id="h36-0-757" class="d">-		// tagcode for key and value properties are always a single byte
</a><a href="#h36-0-758" id="h36-0-758" class="d">-		// because they have tags 1 and 2.
</a><a href="#h36-0-759" id="h36-0-759" class="d">-		tagcode := o.buf[o.index]
</a><a href="#h36-0-760" id="h36-0-760" class="d">-		o.index++
</a><a href="#h36-0-761" id="h36-0-761" class="d">-		switch tagcode {
</a><a href="#h36-0-762" id="h36-0-762" class="d">-		case p.mkeyprop.tagcode[0]:
</a><a href="#h36-0-763" id="h36-0-763" class="d">-			if err := p.mkeyprop.dec(o, p.mkeyprop, keybase); err != nil {
</a><a href="#h36-0-764" id="h36-0-764" class="d">-				return err
</a><a href="#h36-0-765" id="h36-0-765" class="d">-			}
</a><a href="#h36-0-766" id="h36-0-766" class="d">-		case p.mvalprop.tagcode[0]:
</a><a href="#h36-0-767" id="h36-0-767" class="d">-			if err := p.mvalprop.dec(o, p.mvalprop, valbase); err != nil {
</a><a href="#h36-0-768" id="h36-0-768" class="d">-				return err
</a><a href="#h36-0-769" id="h36-0-769" class="d">-			}
</a><a href="#h36-0-770" id="h36-0-770" class="d">-		default:
</a><a href="#h36-0-771" id="h36-0-771" class="d">-			// TODO: Should we silently skip this instead?
</a><a href="#h36-0-772" id="h36-0-772" class="d">-			return fmt.Errorf(&quot;proto: bad map data tag %d&quot;, raw[0])
</a><a href="#h36-0-773" id="h36-0-773" class="d">-		}
</a><a href="#h36-0-774" id="h36-0-774" class="d">-	}
</a><a href="#h36-0-775" id="h36-0-775" class="d">-	keyelem, valelem := keyptr.Elem(), valptr.Elem()
</a><a href="#h36-0-776" id="h36-0-776" class="d">-	if !keyelem.IsValid() {
</a><a href="#h36-0-777" id="h36-0-777" class="d">-		keyelem = reflect.Zero(p.mtype.Key())
</a><a href="#h36-0-778" id="h36-0-778" class="d">-	}
</a><a href="#h36-0-779" id="h36-0-779" class="d">-	if !valelem.IsValid() {
</a><a href="#h36-0-780" id="h36-0-780" class="d">-		valelem = reflect.Zero(p.mtype.Elem())
</a><a href="#h36-0-781" id="h36-0-781" class="d">-	}
</a><a href="#h36-0-782" id="h36-0-782" class="d">-
</a><a href="#h36-0-783" id="h36-0-783" class="d">-	v.SetMapIndex(keyelem, valelem)
</a><a href="#h36-0-784" id="h36-0-784" class="d">-	return nil
</a><a href="#h36-0-785" id="h36-0-785" class="d">-}
</a><a href="#h36-0-786" id="h36-0-786" class="d">-
</a><a href="#h36-0-787" id="h36-0-787" class="d">-// Decode a group.
</a><a href="#h36-0-788" id="h36-0-788" class="d">-func (o *Buffer) dec_struct_group(p *Properties, base structPointer) error {
</a><a href="#h36-0-789" id="h36-0-789" class="d">-	bas := structPointer_GetStructPointer(base, p.field)
</a><a href="#h36-0-790" id="h36-0-790" class="d">-	if structPointer_IsNil(bas) {
</a><a href="#h36-0-791" id="h36-0-791" class="d">-		// allocate new nested message
</a><a href="#h36-0-792" id="h36-0-792" class="d">-		bas = toStructPointer(reflect.New(p.stype))
</a><a href="#h36-0-793" id="h36-0-793" class="d">-		structPointer_SetStructPointer(base, p.field, bas)
</a><a href="#h36-0-794" id="h36-0-794" class="d">-	}
</a><a href="#h36-0-795" id="h36-0-795" class="d">-	return o.unmarshalType(p.stype, p.sprop, true, bas)
</a><a href="#h36-0-796" id="h36-0-796" class="d">-}
</a><a href="#h36-0-797" id="h36-0-797" class="d">-
</a><a href="#h36-0-798" id="h36-0-798" class="d">-// Decode an embedded message.
</a><a href="#h36-0-799" id="h36-0-799" class="d">-func (o *Buffer) dec_struct_message(p *Properties, base structPointer) (err error) {
</a><a href="#h36-0-800" id="h36-0-800" class="d">-	raw, e := o.DecodeRawBytes(false)
</a><a href="#h36-0-801" id="h36-0-801" class="d">-	if e != nil {
</a><a href="#h36-0-802" id="h36-0-802" class="d">-		return e
</a><a href="#h36-0-803" id="h36-0-803" class="d">-	}
</a><a href="#h36-0-804" id="h36-0-804" class="d">-
</a><a href="#h36-0-805" id="h36-0-805" class="d">-	bas := structPointer_GetStructPointer(base, p.field)
</a><a href="#h36-0-806" id="h36-0-806" class="d">-	if structPointer_IsNil(bas) {
</a><a href="#h36-0-807" id="h36-0-807" class="d">-		// allocate new nested message
</a><a href="#h36-0-808" id="h36-0-808" class="d">-		bas = toStructPointer(reflect.New(p.stype))
</a><a href="#h36-0-809" id="h36-0-809" class="d">-		structPointer_SetStructPointer(base, p.field, bas)
</a><a href="#h36-0-810" id="h36-0-810" class="d">-	}
</a><a href="#h36-0-811" id="h36-0-811" class="d">-
</a><a href="#h36-0-812" id="h36-0-812" class="d">-	// If the object can unmarshal itself, let it.
</a><a href="#h36-0-813" id="h36-0-813" class="d">-	if p.isUnmarshaler {
</a><a href="#h36-0-814" id="h36-0-814" class="d">-		iv := structPointer_Interface(bas, p.stype)
</a><a href="#h36-0-815" id="h36-0-815" class="d">-		return iv.(Unmarshaler).Unmarshal(raw)
</a><a href="#h36-0-816" id="h36-0-816" class="d">-	}
</a><a href="#h36-0-817" id="h36-0-817" class="d">-
</a><a href="#h36-0-818" id="h36-0-818" class="d">-	obuf := o.buf
</a><a href="#h36-0-819" id="h36-0-819" class="d">-	oi := o.index
</a><a href="#h36-0-820" id="h36-0-820" class="d">-	o.buf = raw
</a><a href="#h36-0-821" id="h36-0-821" class="d">-	o.index = 0
</a><a href="#h36-0-822" id="h36-0-822" class="d">-
</a><a href="#h36-0-823" id="h36-0-823" class="d">-	err = o.unmarshalType(p.stype, p.sprop, false, bas)
</a><a href="#h36-0-824" id="h36-0-824" class="d">-	o.buf = obuf
</a><a href="#h36-0-825" id="h36-0-825" class="d">-	o.index = oi
</a><a href="#h36-0-826" id="h36-0-826" class="d">-
</a><a href="#h36-0-827" id="h36-0-827" class="d">-	return err
</a><a href="#h36-0-828" id="h36-0-828" class="d">-}
</a><a href="#h36-0-829" id="h36-0-829" class="d">-
</a><a href="#h36-0-830" id="h36-0-830" class="d">-// Decode a slice of embedded messages.
</a><a href="#h36-0-831" id="h36-0-831" class="d">-func (o *Buffer) dec_slice_struct_message(p *Properties, base structPointer) error {
</a><a href="#h36-0-832" id="h36-0-832" class="d">-	return o.dec_slice_struct(p, false, base)
</a><a href="#h36-0-833" id="h36-0-833" class="d">-}
</a><a href="#h36-0-834" id="h36-0-834" class="d">-
</a><a href="#h36-0-835" id="h36-0-835" class="d">-// Decode a slice of embedded groups.
</a><a href="#h36-0-836" id="h36-0-836" class="d">-func (o *Buffer) dec_slice_struct_group(p *Properties, base structPointer) error {
</a><a href="#h36-0-837" id="h36-0-837" class="d">-	return o.dec_slice_struct(p, true, base)
</a><a href="#h36-0-838" id="h36-0-838" class="d">-}
</a><a href="#h36-0-839" id="h36-0-839" class="d">-
</a><a href="#h36-0-840" id="h36-0-840" class="d">-// Decode a slice of structs ([]*struct).
</a><a href="#h36-0-841" id="h36-0-841" class="d">-func (o *Buffer) dec_slice_struct(p *Properties, is_group bool, base structPointer) error {
</a><a href="#h36-0-842" id="h36-0-842" class="d">-	v := reflect.New(p.stype)
</a><a href="#h36-0-843" id="h36-0-843" class="d">-	bas := toStructPointer(v)
</a><a href="#h36-0-844" id="h36-0-844" class="d">-	structPointer_StructPointerSlice(base, p.field).Append(bas)
</a><a href="#h36-0-845" id="h36-0-845" class="d">-
</a><a href="#h36-0-846" id="h36-0-846" class="d">-	if is_group {
</a><a href="#h36-0-847" id="h36-0-847" class="d">-		err := o.unmarshalType(p.stype, p.sprop, is_group, bas)
</a><a href="#h36-0-848" id="h36-0-848" class="d">-		return err
</a><a href="#h36-0-849" id="h36-0-849" class="d">-	}
</a><a href="#h36-0-850" id="h36-0-850" class="d">-
</a><a href="#h36-0-851" id="h36-0-851" class="d">-	raw, err := o.DecodeRawBytes(false)
</a><a href="#h36-0-852" id="h36-0-852" class="d">-	if err != nil {
</a><a href="#h36-0-853" id="h36-0-853" class="d">-		return err
</a><a href="#h36-0-854" id="h36-0-854" class="d">-	}
</a><a href="#h36-0-855" id="h36-0-855" class="d">-
</a><a href="#h36-0-856" id="h36-0-856" class="d">-	// If the object can unmarshal itself, let it.
</a><a href="#h36-0-857" id="h36-0-857" class="d">-	if p.isUnmarshaler {
</a><a href="#h36-0-858" id="h36-0-858" class="d">-		iv := v.Interface()
</a><a href="#h36-0-859" id="h36-0-859" class="d">-		return iv.(Unmarshaler).Unmarshal(raw)
</a><a href="#h36-0-860" id="h36-0-860" class="d">-	}
</a><a href="#h36-0-861" id="h36-0-861" class="d">-
</a><a href="#h36-0-862" id="h36-0-862" class="d">-	obuf := o.buf
</a><a href="#h36-0-863" id="h36-0-863" class="d">-	oi := o.index
</a><a href="#h36-0-864" id="h36-0-864" class="d">-	o.buf = raw
</a><a href="#h36-0-865" id="h36-0-865" class="d">-	o.index = 0
</a><a href="#h36-0-866" id="h36-0-866" class="d">-
</a><a href="#h36-0-867" id="h36-0-867" class="d">-	err = o.unmarshalType(p.stype, p.sprop, is_group, bas)
</a><a href="#h36-0-868" id="h36-0-868" class="d">-
</a><a href="#h36-0-869" id="h36-0-869" class="d">-	o.buf = obuf
</a><a href="#h36-0-870" id="h36-0-870" class="d">-	o.index = oi
</a><a href="#h36-0-871" id="h36-0-871" class="d">-
</a><a href="#h36-0-872" id="h36-0-872" class="d">-	return err
</a><a href="#h36-0-873" id="h36-0-873" class="d">-}
</a><b>diff --git a/<a id="h37" href="../file/vendor/github.com/golang/protobuf/proto/encode.go">vendor/github.com/golang/protobuf/proto/encode.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/encode.go">vendor/github.com/golang/protobuf/proto/encode.go</a></b>
<a href="#h37-0" id="h37-0" class="h">@@ -1,1363 +0,0 @@
</a><a href="#h37-0-0" id="h37-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h37-0-1" id="h37-0-1" class="d">-//
</a><a href="#h37-0-2" id="h37-0-2" class="d">-// Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h37-0-3" id="h37-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h37-0-4" id="h37-0-4" class="d">-//
</a><a href="#h37-0-5" id="h37-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h37-0-6" id="h37-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h37-0-7" id="h37-0-7" class="d">-// met:
</a><a href="#h37-0-8" id="h37-0-8" class="d">-//
</a><a href="#h37-0-9" id="h37-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h37-0-10" id="h37-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h37-0-11" id="h37-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h37-0-12" id="h37-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h37-0-13" id="h37-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h37-0-14" id="h37-0-14" class="d">-// distribution.
</a><a href="#h37-0-15" id="h37-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h37-0-16" id="h37-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h37-0-17" id="h37-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h37-0-18" id="h37-0-18" class="d">-//
</a><a href="#h37-0-19" id="h37-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h37-0-20" id="h37-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h37-0-21" id="h37-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h37-0-22" id="h37-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h37-0-23" id="h37-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h37-0-24" id="h37-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h37-0-25" id="h37-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h37-0-26" id="h37-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h37-0-27" id="h37-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h37-0-28" id="h37-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h37-0-29" id="h37-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h37-0-30" id="h37-0-30" class="d">-
</a><a href="#h37-0-31" id="h37-0-31" class="d">-package proto
</a><a href="#h37-0-32" id="h37-0-32" class="d">-
</a><a href="#h37-0-33" id="h37-0-33" class="d">-/*
</a><a href="#h37-0-34" id="h37-0-34" class="d">- * Routines for encoding data into the wire format for protocol buffers.
</a><a href="#h37-0-35" id="h37-0-35" class="d">- */
</a><a href="#h37-0-36" id="h37-0-36" class="d">-
</a><a href="#h37-0-37" id="h37-0-37" class="d">-import (
</a><a href="#h37-0-38" id="h37-0-38" class="d">-	&quot;errors&quot;
</a><a href="#h37-0-39" id="h37-0-39" class="d">-	&quot;fmt&quot;
</a><a href="#h37-0-40" id="h37-0-40" class="d">-	&quot;reflect&quot;
</a><a href="#h37-0-41" id="h37-0-41" class="d">-	&quot;sort&quot;
</a><a href="#h37-0-42" id="h37-0-42" class="d">-)
</a><a href="#h37-0-43" id="h37-0-43" class="d">-
</a><a href="#h37-0-44" id="h37-0-44" class="d">-// RequiredNotSetError is the error returned if Marshal is called with
</a><a href="#h37-0-45" id="h37-0-45" class="d">-// a protocol buffer struct whose required fields have not
</a><a href="#h37-0-46" id="h37-0-46" class="d">-// all been initialized. It is also the error returned if Unmarshal is
</a><a href="#h37-0-47" id="h37-0-47" class="d">-// called with an encoded protocol buffer that does not include all the
</a><a href="#h37-0-48" id="h37-0-48" class="d">-// required fields.
</a><a href="#h37-0-49" id="h37-0-49" class="d">-//
</a><a href="#h37-0-50" id="h37-0-50" class="d">-// When printed, RequiredNotSetError reports the first unset required field in a
</a><a href="#h37-0-51" id="h37-0-51" class="d">-// message. If the field cannot be precisely determined, it is reported as
</a><a href="#h37-0-52" id="h37-0-52" class="d">-// &quot;{Unknown}&quot;.
</a><a href="#h37-0-53" id="h37-0-53" class="d">-type RequiredNotSetError struct {
</a><a href="#h37-0-54" id="h37-0-54" class="d">-	field string
</a><a href="#h37-0-55" id="h37-0-55" class="d">-}
</a><a href="#h37-0-56" id="h37-0-56" class="d">-
</a><a href="#h37-0-57" id="h37-0-57" class="d">-func (e *RequiredNotSetError) Error() string {
</a><a href="#h37-0-58" id="h37-0-58" class="d">-	return fmt.Sprintf(&quot;proto: required field %q not set&quot;, e.field)
</a><a href="#h37-0-59" id="h37-0-59" class="d">-}
</a><a href="#h37-0-60" id="h37-0-60" class="d">-
</a><a href="#h37-0-61" id="h37-0-61" class="d">-var (
</a><a href="#h37-0-62" id="h37-0-62" class="d">-	// errRepeatedHasNil is the error returned if Marshal is called with
</a><a href="#h37-0-63" id="h37-0-63" class="d">-	// a struct with a repeated field containing a nil element.
</a><a href="#h37-0-64" id="h37-0-64" class="d">-	errRepeatedHasNil = errors.New(&quot;proto: repeated field has nil element&quot;)
</a><a href="#h37-0-65" id="h37-0-65" class="d">-
</a><a href="#h37-0-66" id="h37-0-66" class="d">-	// errOneofHasNil is the error returned if Marshal is called with
</a><a href="#h37-0-67" id="h37-0-67" class="d">-	// a struct with a oneof field containing a nil element.
</a><a href="#h37-0-68" id="h37-0-68" class="d">-	errOneofHasNil = errors.New(&quot;proto: oneof field has nil value&quot;)
</a><a href="#h37-0-69" id="h37-0-69" class="d">-
</a><a href="#h37-0-70" id="h37-0-70" class="d">-	// ErrNil is the error returned if Marshal is called with nil.
</a><a href="#h37-0-71" id="h37-0-71" class="d">-	ErrNil = errors.New(&quot;proto: Marshal called with nil&quot;)
</a><a href="#h37-0-72" id="h37-0-72" class="d">-
</a><a href="#h37-0-73" id="h37-0-73" class="d">-	// ErrTooLarge is the error returned if Marshal is called with a
</a><a href="#h37-0-74" id="h37-0-74" class="d">-	// message that encodes to &gt;2GB.
</a><a href="#h37-0-75" id="h37-0-75" class="d">-	ErrTooLarge = errors.New(&quot;proto: message encodes to over 2 GB&quot;)
</a><a href="#h37-0-76" id="h37-0-76" class="d">-)
</a><a href="#h37-0-77" id="h37-0-77" class="d">-
</a><a href="#h37-0-78" id="h37-0-78" class="d">-// The fundamental encoders that put bytes on the wire.
</a><a href="#h37-0-79" id="h37-0-79" class="d">-// Those that take integer types all accept uint64 and are
</a><a href="#h37-0-80" id="h37-0-80" class="d">-// therefore of type valueEncoder.
</a><a href="#h37-0-81" id="h37-0-81" class="d">-
</a><a href="#h37-0-82" id="h37-0-82" class="d">-const maxVarintBytes = 10 // maximum length of a varint
</a><a href="#h37-0-83" id="h37-0-83" class="d">-
</a><a href="#h37-0-84" id="h37-0-84" class="d">-// maxMarshalSize is the largest allowed size of an encoded protobuf,
</a><a href="#h37-0-85" id="h37-0-85" class="d">-// since C++ and Java use signed int32s for the size.
</a><a href="#h37-0-86" id="h37-0-86" class="d">-const maxMarshalSize = 1&lt;&lt;31 - 1
</a><a href="#h37-0-87" id="h37-0-87" class="d">-
</a><a href="#h37-0-88" id="h37-0-88" class="d">-// EncodeVarint returns the varint encoding of x.
</a><a href="#h37-0-89" id="h37-0-89" class="d">-// This is the format for the
</a><a href="#h37-0-90" id="h37-0-90" class="d">-// int32, int64, uint32, uint64, bool, and enum
</a><a href="#h37-0-91" id="h37-0-91" class="d">-// protocol buffer types.
</a><a href="#h37-0-92" id="h37-0-92" class="d">-// Not used by the package itself, but helpful to clients
</a><a href="#h37-0-93" id="h37-0-93" class="d">-// wishing to use the same encoding.
</a><a href="#h37-0-94" id="h37-0-94" class="d">-func EncodeVarint(x uint64) []byte {
</a><a href="#h37-0-95" id="h37-0-95" class="d">-	var buf [maxVarintBytes]byte
</a><a href="#h37-0-96" id="h37-0-96" class="d">-	var n int
</a><a href="#h37-0-97" id="h37-0-97" class="d">-	for n = 0; x &gt; 127; n++ {
</a><a href="#h37-0-98" id="h37-0-98" class="d">-		buf[n] = 0x80 | uint8(x&amp;0x7F)
</a><a href="#h37-0-99" id="h37-0-99" class="d">-		x &gt;&gt;= 7
</a><a href="#h37-0-100" id="h37-0-100" class="d">-	}
</a><a href="#h37-0-101" id="h37-0-101" class="d">-	buf[n] = uint8(x)
</a><a href="#h37-0-102" id="h37-0-102" class="d">-	n++
</a><a href="#h37-0-103" id="h37-0-103" class="d">-	return buf[0:n]
</a><a href="#h37-0-104" id="h37-0-104" class="d">-}
</a><a href="#h37-0-105" id="h37-0-105" class="d">-
</a><a href="#h37-0-106" id="h37-0-106" class="d">-// EncodeVarint writes a varint-encoded integer to the Buffer.
</a><a href="#h37-0-107" id="h37-0-107" class="d">-// This is the format for the
</a><a href="#h37-0-108" id="h37-0-108" class="d">-// int32, int64, uint32, uint64, bool, and enum
</a><a href="#h37-0-109" id="h37-0-109" class="d">-// protocol buffer types.
</a><a href="#h37-0-110" id="h37-0-110" class="d">-func (p *Buffer) EncodeVarint(x uint64) error {
</a><a href="#h37-0-111" id="h37-0-111" class="d">-	for x &gt;= 1&lt;&lt;7 {
</a><a href="#h37-0-112" id="h37-0-112" class="d">-		p.buf = append(p.buf, uint8(x&amp;0x7f|0x80))
</a><a href="#h37-0-113" id="h37-0-113" class="d">-		x &gt;&gt;= 7
</a><a href="#h37-0-114" id="h37-0-114" class="d">-	}
</a><a href="#h37-0-115" id="h37-0-115" class="d">-	p.buf = append(p.buf, uint8(x))
</a><a href="#h37-0-116" id="h37-0-116" class="d">-	return nil
</a><a href="#h37-0-117" id="h37-0-117" class="d">-}
</a><a href="#h37-0-118" id="h37-0-118" class="d">-
</a><a href="#h37-0-119" id="h37-0-119" class="d">-// SizeVarint returns the varint encoding size of an integer.
</a><a href="#h37-0-120" id="h37-0-120" class="d">-func SizeVarint(x uint64) int {
</a><a href="#h37-0-121" id="h37-0-121" class="d">-	return sizeVarint(x)
</a><a href="#h37-0-122" id="h37-0-122" class="d">-}
</a><a href="#h37-0-123" id="h37-0-123" class="d">-
</a><a href="#h37-0-124" id="h37-0-124" class="d">-func sizeVarint(x uint64) (n int) {
</a><a href="#h37-0-125" id="h37-0-125" class="d">-	for {
</a><a href="#h37-0-126" id="h37-0-126" class="d">-		n++
</a><a href="#h37-0-127" id="h37-0-127" class="d">-		x &gt;&gt;= 7
</a><a href="#h37-0-128" id="h37-0-128" class="d">-		if x == 0 {
</a><a href="#h37-0-129" id="h37-0-129" class="d">-			break
</a><a href="#h37-0-130" id="h37-0-130" class="d">-		}
</a><a href="#h37-0-131" id="h37-0-131" class="d">-	}
</a><a href="#h37-0-132" id="h37-0-132" class="d">-	return n
</a><a href="#h37-0-133" id="h37-0-133" class="d">-}
</a><a href="#h37-0-134" id="h37-0-134" class="d">-
</a><a href="#h37-0-135" id="h37-0-135" class="d">-// EncodeFixed64 writes a 64-bit integer to the Buffer.
</a><a href="#h37-0-136" id="h37-0-136" class="d">-// This is the format for the
</a><a href="#h37-0-137" id="h37-0-137" class="d">-// fixed64, sfixed64, and double protocol buffer types.
</a><a href="#h37-0-138" id="h37-0-138" class="d">-func (p *Buffer) EncodeFixed64(x uint64) error {
</a><a href="#h37-0-139" id="h37-0-139" class="d">-	p.buf = append(p.buf,
</a><a href="#h37-0-140" id="h37-0-140" class="d">-		uint8(x),
</a><a href="#h37-0-141" id="h37-0-141" class="d">-		uint8(x&gt;&gt;8),
</a><a href="#h37-0-142" id="h37-0-142" class="d">-		uint8(x&gt;&gt;16),
</a><a href="#h37-0-143" id="h37-0-143" class="d">-		uint8(x&gt;&gt;24),
</a><a href="#h37-0-144" id="h37-0-144" class="d">-		uint8(x&gt;&gt;32),
</a><a href="#h37-0-145" id="h37-0-145" class="d">-		uint8(x&gt;&gt;40),
</a><a href="#h37-0-146" id="h37-0-146" class="d">-		uint8(x&gt;&gt;48),
</a><a href="#h37-0-147" id="h37-0-147" class="d">-		uint8(x&gt;&gt;56))
</a><a href="#h37-0-148" id="h37-0-148" class="d">-	return nil
</a><a href="#h37-0-149" id="h37-0-149" class="d">-}
</a><a href="#h37-0-150" id="h37-0-150" class="d">-
</a><a href="#h37-0-151" id="h37-0-151" class="d">-func sizeFixed64(x uint64) int {
</a><a href="#h37-0-152" id="h37-0-152" class="d">-	return 8
</a><a href="#h37-0-153" id="h37-0-153" class="d">-}
</a><a href="#h37-0-154" id="h37-0-154" class="d">-
</a><a href="#h37-0-155" id="h37-0-155" class="d">-// EncodeFixed32 writes a 32-bit integer to the Buffer.
</a><a href="#h37-0-156" id="h37-0-156" class="d">-// This is the format for the
</a><a href="#h37-0-157" id="h37-0-157" class="d">-// fixed32, sfixed32, and float protocol buffer types.
</a><a href="#h37-0-158" id="h37-0-158" class="d">-func (p *Buffer) EncodeFixed32(x uint64) error {
</a><a href="#h37-0-159" id="h37-0-159" class="d">-	p.buf = append(p.buf,
</a><a href="#h37-0-160" id="h37-0-160" class="d">-		uint8(x),
</a><a href="#h37-0-161" id="h37-0-161" class="d">-		uint8(x&gt;&gt;8),
</a><a href="#h37-0-162" id="h37-0-162" class="d">-		uint8(x&gt;&gt;16),
</a><a href="#h37-0-163" id="h37-0-163" class="d">-		uint8(x&gt;&gt;24))
</a><a href="#h37-0-164" id="h37-0-164" class="d">-	return nil
</a><a href="#h37-0-165" id="h37-0-165" class="d">-}
</a><a href="#h37-0-166" id="h37-0-166" class="d">-
</a><a href="#h37-0-167" id="h37-0-167" class="d">-func sizeFixed32(x uint64) int {
</a><a href="#h37-0-168" id="h37-0-168" class="d">-	return 4
</a><a href="#h37-0-169" id="h37-0-169" class="d">-}
</a><a href="#h37-0-170" id="h37-0-170" class="d">-
</a><a href="#h37-0-171" id="h37-0-171" class="d">-// EncodeZigzag64 writes a zigzag-encoded 64-bit integer
</a><a href="#h37-0-172" id="h37-0-172" class="d">-// to the Buffer.
</a><a href="#h37-0-173" id="h37-0-173" class="d">-// This is the format used for the sint64 protocol buffer type.
</a><a href="#h37-0-174" id="h37-0-174" class="d">-func (p *Buffer) EncodeZigzag64(x uint64) error {
</a><a href="#h37-0-175" id="h37-0-175" class="d">-	// use signed number to get arithmetic right shift.
</a><a href="#h37-0-176" id="h37-0-176" class="d">-	return p.EncodeVarint(uint64((x &lt;&lt; 1) ^ uint64((int64(x) &gt;&gt; 63))))
</a><a href="#h37-0-177" id="h37-0-177" class="d">-}
</a><a href="#h37-0-178" id="h37-0-178" class="d">-
</a><a href="#h37-0-179" id="h37-0-179" class="d">-func sizeZigzag64(x uint64) int {
</a><a href="#h37-0-180" id="h37-0-180" class="d">-	return sizeVarint(uint64((x &lt;&lt; 1) ^ uint64((int64(x) &gt;&gt; 63))))
</a><a href="#h37-0-181" id="h37-0-181" class="d">-}
</a><a href="#h37-0-182" id="h37-0-182" class="d">-
</a><a href="#h37-0-183" id="h37-0-183" class="d">-// EncodeZigzag32 writes a zigzag-encoded 32-bit integer
</a><a href="#h37-0-184" id="h37-0-184" class="d">-// to the Buffer.
</a><a href="#h37-0-185" id="h37-0-185" class="d">-// This is the format used for the sint32 protocol buffer type.
</a><a href="#h37-0-186" id="h37-0-186" class="d">-func (p *Buffer) EncodeZigzag32(x uint64) error {
</a><a href="#h37-0-187" id="h37-0-187" class="d">-	// use signed number to get arithmetic right shift.
</a><a href="#h37-0-188" id="h37-0-188" class="d">-	return p.EncodeVarint(uint64((uint32(x) &lt;&lt; 1) ^ uint32((int32(x) &gt;&gt; 31))))
</a><a href="#h37-0-189" id="h37-0-189" class="d">-}
</a><a href="#h37-0-190" id="h37-0-190" class="d">-
</a><a href="#h37-0-191" id="h37-0-191" class="d">-func sizeZigzag32(x uint64) int {
</a><a href="#h37-0-192" id="h37-0-192" class="d">-	return sizeVarint(uint64((uint32(x) &lt;&lt; 1) ^ uint32((int32(x) &gt;&gt; 31))))
</a><a href="#h37-0-193" id="h37-0-193" class="d">-}
</a><a href="#h37-0-194" id="h37-0-194" class="d">-
</a><a href="#h37-0-195" id="h37-0-195" class="d">-// EncodeRawBytes writes a count-delimited byte buffer to the Buffer.
</a><a href="#h37-0-196" id="h37-0-196" class="d">-// This is the format used for the bytes protocol buffer
</a><a href="#h37-0-197" id="h37-0-197" class="d">-// type and for embedded messages.
</a><a href="#h37-0-198" id="h37-0-198" class="d">-func (p *Buffer) EncodeRawBytes(b []byte) error {
</a><a href="#h37-0-199" id="h37-0-199" class="d">-	p.EncodeVarint(uint64(len(b)))
</a><a href="#h37-0-200" id="h37-0-200" class="d">-	p.buf = append(p.buf, b...)
</a><a href="#h37-0-201" id="h37-0-201" class="d">-	return nil
</a><a href="#h37-0-202" id="h37-0-202" class="d">-}
</a><a href="#h37-0-203" id="h37-0-203" class="d">-
</a><a href="#h37-0-204" id="h37-0-204" class="d">-func sizeRawBytes(b []byte) int {
</a><a href="#h37-0-205" id="h37-0-205" class="d">-	return sizeVarint(uint64(len(b))) +
</a><a href="#h37-0-206" id="h37-0-206" class="d">-		len(b)
</a><a href="#h37-0-207" id="h37-0-207" class="d">-}
</a><a href="#h37-0-208" id="h37-0-208" class="d">-
</a><a href="#h37-0-209" id="h37-0-209" class="d">-// EncodeStringBytes writes an encoded string to the Buffer.
</a><a href="#h37-0-210" id="h37-0-210" class="d">-// This is the format used for the proto2 string type.
</a><a href="#h37-0-211" id="h37-0-211" class="d">-func (p *Buffer) EncodeStringBytes(s string) error {
</a><a href="#h37-0-212" id="h37-0-212" class="d">-	p.EncodeVarint(uint64(len(s)))
</a><a href="#h37-0-213" id="h37-0-213" class="d">-	p.buf = append(p.buf, s...)
</a><a href="#h37-0-214" id="h37-0-214" class="d">-	return nil
</a><a href="#h37-0-215" id="h37-0-215" class="d">-}
</a><a href="#h37-0-216" id="h37-0-216" class="d">-
</a><a href="#h37-0-217" id="h37-0-217" class="d">-func sizeStringBytes(s string) int {
</a><a href="#h37-0-218" id="h37-0-218" class="d">-	return sizeVarint(uint64(len(s))) +
</a><a href="#h37-0-219" id="h37-0-219" class="d">-		len(s)
</a><a href="#h37-0-220" id="h37-0-220" class="d">-}
</a><a href="#h37-0-221" id="h37-0-221" class="d">-
</a><a href="#h37-0-222" id="h37-0-222" class="d">-// Marshaler is the interface representing objects that can marshal themselves.
</a><a href="#h37-0-223" id="h37-0-223" class="d">-type Marshaler interface {
</a><a href="#h37-0-224" id="h37-0-224" class="d">-	Marshal() ([]byte, error)
</a><a href="#h37-0-225" id="h37-0-225" class="d">-}
</a><a href="#h37-0-226" id="h37-0-226" class="d">-
</a><a href="#h37-0-227" id="h37-0-227" class="d">-// Marshal takes the protocol buffer
</a><a href="#h37-0-228" id="h37-0-228" class="d">-// and encodes it into the wire format, returning the data.
</a><a href="#h37-0-229" id="h37-0-229" class="d">-func Marshal(pb Message) ([]byte, error) {
</a><a href="#h37-0-230" id="h37-0-230" class="d">-	// Can the object marshal itself?
</a><a href="#h37-0-231" id="h37-0-231" class="d">-	if m, ok := pb.(Marshaler); ok {
</a><a href="#h37-0-232" id="h37-0-232" class="d">-		return m.Marshal()
</a><a href="#h37-0-233" id="h37-0-233" class="d">-	}
</a><a href="#h37-0-234" id="h37-0-234" class="d">-	p := NewBuffer(nil)
</a><a href="#h37-0-235" id="h37-0-235" class="d">-	err := p.Marshal(pb)
</a><a href="#h37-0-236" id="h37-0-236" class="d">-	var state errorState
</a><a href="#h37-0-237" id="h37-0-237" class="d">-	if err != nil &amp;&amp; !state.shouldContinue(err, nil) {
</a><a href="#h37-0-238" id="h37-0-238" class="d">-		return nil, err
</a><a href="#h37-0-239" id="h37-0-239" class="d">-	}
</a><a href="#h37-0-240" id="h37-0-240" class="d">-	if p.buf == nil &amp;&amp; err == nil {
</a><a href="#h37-0-241" id="h37-0-241" class="d">-		// Return a non-nil slice on success.
</a><a href="#h37-0-242" id="h37-0-242" class="d">-		return []byte{}, nil
</a><a href="#h37-0-243" id="h37-0-243" class="d">-	}
</a><a href="#h37-0-244" id="h37-0-244" class="d">-	return p.buf, err
</a><a href="#h37-0-245" id="h37-0-245" class="d">-}
</a><a href="#h37-0-246" id="h37-0-246" class="d">-
</a><a href="#h37-0-247" id="h37-0-247" class="d">-// EncodeMessage writes the protocol buffer to the Buffer,
</a><a href="#h37-0-248" id="h37-0-248" class="d">-// prefixed by a varint-encoded length.
</a><a href="#h37-0-249" id="h37-0-249" class="d">-func (p *Buffer) EncodeMessage(pb Message) error {
</a><a href="#h37-0-250" id="h37-0-250" class="d">-	t, base, err := getbase(pb)
</a><a href="#h37-0-251" id="h37-0-251" class="d">-	if structPointer_IsNil(base) {
</a><a href="#h37-0-252" id="h37-0-252" class="d">-		return ErrNil
</a><a href="#h37-0-253" id="h37-0-253" class="d">-	}
</a><a href="#h37-0-254" id="h37-0-254" class="d">-	if err == nil {
</a><a href="#h37-0-255" id="h37-0-255" class="d">-		var state errorState
</a><a href="#h37-0-256" id="h37-0-256" class="d">-		err = p.enc_len_struct(GetProperties(t.Elem()), base, &amp;state)
</a><a href="#h37-0-257" id="h37-0-257" class="d">-	}
</a><a href="#h37-0-258" id="h37-0-258" class="d">-	return err
</a><a href="#h37-0-259" id="h37-0-259" class="d">-}
</a><a href="#h37-0-260" id="h37-0-260" class="d">-
</a><a href="#h37-0-261" id="h37-0-261" class="d">-// Marshal takes the protocol buffer
</a><a href="#h37-0-262" id="h37-0-262" class="d">-// and encodes it into the wire format, writing the result to the
</a><a href="#h37-0-263" id="h37-0-263" class="d">-// Buffer.
</a><a href="#h37-0-264" id="h37-0-264" class="d">-func (p *Buffer) Marshal(pb Message) error {
</a><a href="#h37-0-265" id="h37-0-265" class="d">-	// Can the object marshal itself?
</a><a href="#h37-0-266" id="h37-0-266" class="d">-	if m, ok := pb.(Marshaler); ok {
</a><a href="#h37-0-267" id="h37-0-267" class="d">-		data, err := m.Marshal()
</a><a href="#h37-0-268" id="h37-0-268" class="d">-		if err != nil {
</a><a href="#h37-0-269" id="h37-0-269" class="d">-			return err
</a><a href="#h37-0-270" id="h37-0-270" class="d">-		}
</a><a href="#h37-0-271" id="h37-0-271" class="d">-		p.buf = append(p.buf, data...)
</a><a href="#h37-0-272" id="h37-0-272" class="d">-		return nil
</a><a href="#h37-0-273" id="h37-0-273" class="d">-	}
</a><a href="#h37-0-274" id="h37-0-274" class="d">-
</a><a href="#h37-0-275" id="h37-0-275" class="d">-	t, base, err := getbase(pb)
</a><a href="#h37-0-276" id="h37-0-276" class="d">-	if structPointer_IsNil(base) {
</a><a href="#h37-0-277" id="h37-0-277" class="d">-		return ErrNil
</a><a href="#h37-0-278" id="h37-0-278" class="d">-	}
</a><a href="#h37-0-279" id="h37-0-279" class="d">-	if err == nil {
</a><a href="#h37-0-280" id="h37-0-280" class="d">-		err = p.enc_struct(GetProperties(t.Elem()), base)
</a><a href="#h37-0-281" id="h37-0-281" class="d">-	}
</a><a href="#h37-0-282" id="h37-0-282" class="d">-
</a><a href="#h37-0-283" id="h37-0-283" class="d">-	if collectStats {
</a><a href="#h37-0-284" id="h37-0-284" class="d">-		stats.Encode++
</a><a href="#h37-0-285" id="h37-0-285" class="d">-	}
</a><a href="#h37-0-286" id="h37-0-286" class="d">-
</a><a href="#h37-0-287" id="h37-0-287" class="d">-	if len(p.buf) &gt; maxMarshalSize {
</a><a href="#h37-0-288" id="h37-0-288" class="d">-		return ErrTooLarge
</a><a href="#h37-0-289" id="h37-0-289" class="d">-	}
</a><a href="#h37-0-290" id="h37-0-290" class="d">-	return err
</a><a href="#h37-0-291" id="h37-0-291" class="d">-}
</a><a href="#h37-0-292" id="h37-0-292" class="d">-
</a><a href="#h37-0-293" id="h37-0-293" class="d">-// Size returns the encoded size of a protocol buffer.
</a><a href="#h37-0-294" id="h37-0-294" class="d">-func Size(pb Message) (n int) {
</a><a href="#h37-0-295" id="h37-0-295" class="d">-	// Can the object marshal itself?  If so, Size is slow.
</a><a href="#h37-0-296" id="h37-0-296" class="d">-	// TODO: add Size to Marshaler, or add a Sizer interface.
</a><a href="#h37-0-297" id="h37-0-297" class="d">-	if m, ok := pb.(Marshaler); ok {
</a><a href="#h37-0-298" id="h37-0-298" class="d">-		b, _ := m.Marshal()
</a><a href="#h37-0-299" id="h37-0-299" class="d">-		return len(b)
</a><a href="#h37-0-300" id="h37-0-300" class="d">-	}
</a><a href="#h37-0-301" id="h37-0-301" class="d">-
</a><a href="#h37-0-302" id="h37-0-302" class="d">-	t, base, err := getbase(pb)
</a><a href="#h37-0-303" id="h37-0-303" class="d">-	if structPointer_IsNil(base) {
</a><a href="#h37-0-304" id="h37-0-304" class="d">-		return 0
</a><a href="#h37-0-305" id="h37-0-305" class="d">-	}
</a><a href="#h37-0-306" id="h37-0-306" class="d">-	if err == nil {
</a><a href="#h37-0-307" id="h37-0-307" class="d">-		n = size_struct(GetProperties(t.Elem()), base)
</a><a href="#h37-0-308" id="h37-0-308" class="d">-	}
</a><a href="#h37-0-309" id="h37-0-309" class="d">-
</a><a href="#h37-0-310" id="h37-0-310" class="d">-	if collectStats {
</a><a href="#h37-0-311" id="h37-0-311" class="d">-		stats.Size++
</a><a href="#h37-0-312" id="h37-0-312" class="d">-	}
</a><a href="#h37-0-313" id="h37-0-313" class="d">-
</a><a href="#h37-0-314" id="h37-0-314" class="d">-	return
</a><a href="#h37-0-315" id="h37-0-315" class="d">-}
</a><a href="#h37-0-316" id="h37-0-316" class="d">-
</a><a href="#h37-0-317" id="h37-0-317" class="d">-// Individual type encoders.
</a><a href="#h37-0-318" id="h37-0-318" class="d">-
</a><a href="#h37-0-319" id="h37-0-319" class="d">-// Encode a bool.
</a><a href="#h37-0-320" id="h37-0-320" class="d">-func (o *Buffer) enc_bool(p *Properties, base structPointer) error {
</a><a href="#h37-0-321" id="h37-0-321" class="d">-	v := *structPointer_Bool(base, p.field)
</a><a href="#h37-0-322" id="h37-0-322" class="d">-	if v == nil {
</a><a href="#h37-0-323" id="h37-0-323" class="d">-		return ErrNil
</a><a href="#h37-0-324" id="h37-0-324" class="d">-	}
</a><a href="#h37-0-325" id="h37-0-325" class="d">-	x := 0
</a><a href="#h37-0-326" id="h37-0-326" class="d">-	if *v {
</a><a href="#h37-0-327" id="h37-0-327" class="d">-		x = 1
</a><a href="#h37-0-328" id="h37-0-328" class="d">-	}
</a><a href="#h37-0-329" id="h37-0-329" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-330" id="h37-0-330" class="d">-	p.valEnc(o, uint64(x))
</a><a href="#h37-0-331" id="h37-0-331" class="d">-	return nil
</a><a href="#h37-0-332" id="h37-0-332" class="d">-}
</a><a href="#h37-0-333" id="h37-0-333" class="d">-
</a><a href="#h37-0-334" id="h37-0-334" class="d">-func (o *Buffer) enc_proto3_bool(p *Properties, base structPointer) error {
</a><a href="#h37-0-335" id="h37-0-335" class="d">-	v := *structPointer_BoolVal(base, p.field)
</a><a href="#h37-0-336" id="h37-0-336" class="d">-	if !v {
</a><a href="#h37-0-337" id="h37-0-337" class="d">-		return ErrNil
</a><a href="#h37-0-338" id="h37-0-338" class="d">-	}
</a><a href="#h37-0-339" id="h37-0-339" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-340" id="h37-0-340" class="d">-	p.valEnc(o, 1)
</a><a href="#h37-0-341" id="h37-0-341" class="d">-	return nil
</a><a href="#h37-0-342" id="h37-0-342" class="d">-}
</a><a href="#h37-0-343" id="h37-0-343" class="d">-
</a><a href="#h37-0-344" id="h37-0-344" class="d">-func size_bool(p *Properties, base structPointer) int {
</a><a href="#h37-0-345" id="h37-0-345" class="d">-	v := *structPointer_Bool(base, p.field)
</a><a href="#h37-0-346" id="h37-0-346" class="d">-	if v == nil {
</a><a href="#h37-0-347" id="h37-0-347" class="d">-		return 0
</a><a href="#h37-0-348" id="h37-0-348" class="d">-	}
</a><a href="#h37-0-349" id="h37-0-349" class="d">-	return len(p.tagcode) + 1 // each bool takes exactly one byte
</a><a href="#h37-0-350" id="h37-0-350" class="d">-}
</a><a href="#h37-0-351" id="h37-0-351" class="d">-
</a><a href="#h37-0-352" id="h37-0-352" class="d">-func size_proto3_bool(p *Properties, base structPointer) int {
</a><a href="#h37-0-353" id="h37-0-353" class="d">-	v := *structPointer_BoolVal(base, p.field)
</a><a href="#h37-0-354" id="h37-0-354" class="d">-	if !v &amp;&amp; !p.oneof {
</a><a href="#h37-0-355" id="h37-0-355" class="d">-		return 0
</a><a href="#h37-0-356" id="h37-0-356" class="d">-	}
</a><a href="#h37-0-357" id="h37-0-357" class="d">-	return len(p.tagcode) + 1 // each bool takes exactly one byte
</a><a href="#h37-0-358" id="h37-0-358" class="d">-}
</a><a href="#h37-0-359" id="h37-0-359" class="d">-
</a><a href="#h37-0-360" id="h37-0-360" class="d">-// Encode an int32.
</a><a href="#h37-0-361" id="h37-0-361" class="d">-func (o *Buffer) enc_int32(p *Properties, base structPointer) error {
</a><a href="#h37-0-362" id="h37-0-362" class="d">-	v := structPointer_Word32(base, p.field)
</a><a href="#h37-0-363" id="h37-0-363" class="d">-	if word32_IsNil(v) {
</a><a href="#h37-0-364" id="h37-0-364" class="d">-		return ErrNil
</a><a href="#h37-0-365" id="h37-0-365" class="d">-	}
</a><a href="#h37-0-366" id="h37-0-366" class="d">-	x := int32(word32_Get(v)) // permit sign extension to use full 64-bit range
</a><a href="#h37-0-367" id="h37-0-367" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-368" id="h37-0-368" class="d">-	p.valEnc(o, uint64(x))
</a><a href="#h37-0-369" id="h37-0-369" class="d">-	return nil
</a><a href="#h37-0-370" id="h37-0-370" class="d">-}
</a><a href="#h37-0-371" id="h37-0-371" class="d">-
</a><a href="#h37-0-372" id="h37-0-372" class="d">-func (o *Buffer) enc_proto3_int32(p *Properties, base structPointer) error {
</a><a href="#h37-0-373" id="h37-0-373" class="d">-	v := structPointer_Word32Val(base, p.field)
</a><a href="#h37-0-374" id="h37-0-374" class="d">-	x := int32(word32Val_Get(v)) // permit sign extension to use full 64-bit range
</a><a href="#h37-0-375" id="h37-0-375" class="d">-	if x == 0 {
</a><a href="#h37-0-376" id="h37-0-376" class="d">-		return ErrNil
</a><a href="#h37-0-377" id="h37-0-377" class="d">-	}
</a><a href="#h37-0-378" id="h37-0-378" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-379" id="h37-0-379" class="d">-	p.valEnc(o, uint64(x))
</a><a href="#h37-0-380" id="h37-0-380" class="d">-	return nil
</a><a href="#h37-0-381" id="h37-0-381" class="d">-}
</a><a href="#h37-0-382" id="h37-0-382" class="d">-
</a><a href="#h37-0-383" id="h37-0-383" class="d">-func size_int32(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-384" id="h37-0-384" class="d">-	v := structPointer_Word32(base, p.field)
</a><a href="#h37-0-385" id="h37-0-385" class="d">-	if word32_IsNil(v) {
</a><a href="#h37-0-386" id="h37-0-386" class="d">-		return 0
</a><a href="#h37-0-387" id="h37-0-387" class="d">-	}
</a><a href="#h37-0-388" id="h37-0-388" class="d">-	x := int32(word32_Get(v)) // permit sign extension to use full 64-bit range
</a><a href="#h37-0-389" id="h37-0-389" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-390" id="h37-0-390" class="d">-	n += p.valSize(uint64(x))
</a><a href="#h37-0-391" id="h37-0-391" class="d">-	return
</a><a href="#h37-0-392" id="h37-0-392" class="d">-}
</a><a href="#h37-0-393" id="h37-0-393" class="d">-
</a><a href="#h37-0-394" id="h37-0-394" class="d">-func size_proto3_int32(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-395" id="h37-0-395" class="d">-	v := structPointer_Word32Val(base, p.field)
</a><a href="#h37-0-396" id="h37-0-396" class="d">-	x := int32(word32Val_Get(v)) // permit sign extension to use full 64-bit range
</a><a href="#h37-0-397" id="h37-0-397" class="d">-	if x == 0 &amp;&amp; !p.oneof {
</a><a href="#h37-0-398" id="h37-0-398" class="d">-		return 0
</a><a href="#h37-0-399" id="h37-0-399" class="d">-	}
</a><a href="#h37-0-400" id="h37-0-400" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-401" id="h37-0-401" class="d">-	n += p.valSize(uint64(x))
</a><a href="#h37-0-402" id="h37-0-402" class="d">-	return
</a><a href="#h37-0-403" id="h37-0-403" class="d">-}
</a><a href="#h37-0-404" id="h37-0-404" class="d">-
</a><a href="#h37-0-405" id="h37-0-405" class="d">-// Encode a uint32.
</a><a href="#h37-0-406" id="h37-0-406" class="d">-// Exactly the same as int32, except for no sign extension.
</a><a href="#h37-0-407" id="h37-0-407" class="d">-func (o *Buffer) enc_uint32(p *Properties, base structPointer) error {
</a><a href="#h37-0-408" id="h37-0-408" class="d">-	v := structPointer_Word32(base, p.field)
</a><a href="#h37-0-409" id="h37-0-409" class="d">-	if word32_IsNil(v) {
</a><a href="#h37-0-410" id="h37-0-410" class="d">-		return ErrNil
</a><a href="#h37-0-411" id="h37-0-411" class="d">-	}
</a><a href="#h37-0-412" id="h37-0-412" class="d">-	x := word32_Get(v)
</a><a href="#h37-0-413" id="h37-0-413" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-414" id="h37-0-414" class="d">-	p.valEnc(o, uint64(x))
</a><a href="#h37-0-415" id="h37-0-415" class="d">-	return nil
</a><a href="#h37-0-416" id="h37-0-416" class="d">-}
</a><a href="#h37-0-417" id="h37-0-417" class="d">-
</a><a href="#h37-0-418" id="h37-0-418" class="d">-func (o *Buffer) enc_proto3_uint32(p *Properties, base structPointer) error {
</a><a href="#h37-0-419" id="h37-0-419" class="d">-	v := structPointer_Word32Val(base, p.field)
</a><a href="#h37-0-420" id="h37-0-420" class="d">-	x := word32Val_Get(v)
</a><a href="#h37-0-421" id="h37-0-421" class="d">-	if x == 0 {
</a><a href="#h37-0-422" id="h37-0-422" class="d">-		return ErrNil
</a><a href="#h37-0-423" id="h37-0-423" class="d">-	}
</a><a href="#h37-0-424" id="h37-0-424" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-425" id="h37-0-425" class="d">-	p.valEnc(o, uint64(x))
</a><a href="#h37-0-426" id="h37-0-426" class="d">-	return nil
</a><a href="#h37-0-427" id="h37-0-427" class="d">-}
</a><a href="#h37-0-428" id="h37-0-428" class="d">-
</a><a href="#h37-0-429" id="h37-0-429" class="d">-func size_uint32(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-430" id="h37-0-430" class="d">-	v := structPointer_Word32(base, p.field)
</a><a href="#h37-0-431" id="h37-0-431" class="d">-	if word32_IsNil(v) {
</a><a href="#h37-0-432" id="h37-0-432" class="d">-		return 0
</a><a href="#h37-0-433" id="h37-0-433" class="d">-	}
</a><a href="#h37-0-434" id="h37-0-434" class="d">-	x := word32_Get(v)
</a><a href="#h37-0-435" id="h37-0-435" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-436" id="h37-0-436" class="d">-	n += p.valSize(uint64(x))
</a><a href="#h37-0-437" id="h37-0-437" class="d">-	return
</a><a href="#h37-0-438" id="h37-0-438" class="d">-}
</a><a href="#h37-0-439" id="h37-0-439" class="d">-
</a><a href="#h37-0-440" id="h37-0-440" class="d">-func size_proto3_uint32(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-441" id="h37-0-441" class="d">-	v := structPointer_Word32Val(base, p.field)
</a><a href="#h37-0-442" id="h37-0-442" class="d">-	x := word32Val_Get(v)
</a><a href="#h37-0-443" id="h37-0-443" class="d">-	if x == 0 &amp;&amp; !p.oneof {
</a><a href="#h37-0-444" id="h37-0-444" class="d">-		return 0
</a><a href="#h37-0-445" id="h37-0-445" class="d">-	}
</a><a href="#h37-0-446" id="h37-0-446" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-447" id="h37-0-447" class="d">-	n += p.valSize(uint64(x))
</a><a href="#h37-0-448" id="h37-0-448" class="d">-	return
</a><a href="#h37-0-449" id="h37-0-449" class="d">-}
</a><a href="#h37-0-450" id="h37-0-450" class="d">-
</a><a href="#h37-0-451" id="h37-0-451" class="d">-// Encode an int64.
</a><a href="#h37-0-452" id="h37-0-452" class="d">-func (o *Buffer) enc_int64(p *Properties, base structPointer) error {
</a><a href="#h37-0-453" id="h37-0-453" class="d">-	v := structPointer_Word64(base, p.field)
</a><a href="#h37-0-454" id="h37-0-454" class="d">-	if word64_IsNil(v) {
</a><a href="#h37-0-455" id="h37-0-455" class="d">-		return ErrNil
</a><a href="#h37-0-456" id="h37-0-456" class="d">-	}
</a><a href="#h37-0-457" id="h37-0-457" class="d">-	x := word64_Get(v)
</a><a href="#h37-0-458" id="h37-0-458" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-459" id="h37-0-459" class="d">-	p.valEnc(o, x)
</a><a href="#h37-0-460" id="h37-0-460" class="d">-	return nil
</a><a href="#h37-0-461" id="h37-0-461" class="d">-}
</a><a href="#h37-0-462" id="h37-0-462" class="d">-
</a><a href="#h37-0-463" id="h37-0-463" class="d">-func (o *Buffer) enc_proto3_int64(p *Properties, base structPointer) error {
</a><a href="#h37-0-464" id="h37-0-464" class="d">-	v := structPointer_Word64Val(base, p.field)
</a><a href="#h37-0-465" id="h37-0-465" class="d">-	x := word64Val_Get(v)
</a><a href="#h37-0-466" id="h37-0-466" class="d">-	if x == 0 {
</a><a href="#h37-0-467" id="h37-0-467" class="d">-		return ErrNil
</a><a href="#h37-0-468" id="h37-0-468" class="d">-	}
</a><a href="#h37-0-469" id="h37-0-469" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-470" id="h37-0-470" class="d">-	p.valEnc(o, x)
</a><a href="#h37-0-471" id="h37-0-471" class="d">-	return nil
</a><a href="#h37-0-472" id="h37-0-472" class="d">-}
</a><a href="#h37-0-473" id="h37-0-473" class="d">-
</a><a href="#h37-0-474" id="h37-0-474" class="d">-func size_int64(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-475" id="h37-0-475" class="d">-	v := structPointer_Word64(base, p.field)
</a><a href="#h37-0-476" id="h37-0-476" class="d">-	if word64_IsNil(v) {
</a><a href="#h37-0-477" id="h37-0-477" class="d">-		return 0
</a><a href="#h37-0-478" id="h37-0-478" class="d">-	}
</a><a href="#h37-0-479" id="h37-0-479" class="d">-	x := word64_Get(v)
</a><a href="#h37-0-480" id="h37-0-480" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-481" id="h37-0-481" class="d">-	n += p.valSize(x)
</a><a href="#h37-0-482" id="h37-0-482" class="d">-	return
</a><a href="#h37-0-483" id="h37-0-483" class="d">-}
</a><a href="#h37-0-484" id="h37-0-484" class="d">-
</a><a href="#h37-0-485" id="h37-0-485" class="d">-func size_proto3_int64(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-486" id="h37-0-486" class="d">-	v := structPointer_Word64Val(base, p.field)
</a><a href="#h37-0-487" id="h37-0-487" class="d">-	x := word64Val_Get(v)
</a><a href="#h37-0-488" id="h37-0-488" class="d">-	if x == 0 &amp;&amp; !p.oneof {
</a><a href="#h37-0-489" id="h37-0-489" class="d">-		return 0
</a><a href="#h37-0-490" id="h37-0-490" class="d">-	}
</a><a href="#h37-0-491" id="h37-0-491" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-492" id="h37-0-492" class="d">-	n += p.valSize(x)
</a><a href="#h37-0-493" id="h37-0-493" class="d">-	return
</a><a href="#h37-0-494" id="h37-0-494" class="d">-}
</a><a href="#h37-0-495" id="h37-0-495" class="d">-
</a><a href="#h37-0-496" id="h37-0-496" class="d">-// Encode a string.
</a><a href="#h37-0-497" id="h37-0-497" class="d">-func (o *Buffer) enc_string(p *Properties, base structPointer) error {
</a><a href="#h37-0-498" id="h37-0-498" class="d">-	v := *structPointer_String(base, p.field)
</a><a href="#h37-0-499" id="h37-0-499" class="d">-	if v == nil {
</a><a href="#h37-0-500" id="h37-0-500" class="d">-		return ErrNil
</a><a href="#h37-0-501" id="h37-0-501" class="d">-	}
</a><a href="#h37-0-502" id="h37-0-502" class="d">-	x := *v
</a><a href="#h37-0-503" id="h37-0-503" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-504" id="h37-0-504" class="d">-	o.EncodeStringBytes(x)
</a><a href="#h37-0-505" id="h37-0-505" class="d">-	return nil
</a><a href="#h37-0-506" id="h37-0-506" class="d">-}
</a><a href="#h37-0-507" id="h37-0-507" class="d">-
</a><a href="#h37-0-508" id="h37-0-508" class="d">-func (o *Buffer) enc_proto3_string(p *Properties, base structPointer) error {
</a><a href="#h37-0-509" id="h37-0-509" class="d">-	v := *structPointer_StringVal(base, p.field)
</a><a href="#h37-0-510" id="h37-0-510" class="d">-	if v == &quot;&quot; {
</a><a href="#h37-0-511" id="h37-0-511" class="d">-		return ErrNil
</a><a href="#h37-0-512" id="h37-0-512" class="d">-	}
</a><a href="#h37-0-513" id="h37-0-513" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-514" id="h37-0-514" class="d">-	o.EncodeStringBytes(v)
</a><a href="#h37-0-515" id="h37-0-515" class="d">-	return nil
</a><a href="#h37-0-516" id="h37-0-516" class="d">-}
</a><a href="#h37-0-517" id="h37-0-517" class="d">-
</a><a href="#h37-0-518" id="h37-0-518" class="d">-func size_string(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-519" id="h37-0-519" class="d">-	v := *structPointer_String(base, p.field)
</a><a href="#h37-0-520" id="h37-0-520" class="d">-	if v == nil {
</a><a href="#h37-0-521" id="h37-0-521" class="d">-		return 0
</a><a href="#h37-0-522" id="h37-0-522" class="d">-	}
</a><a href="#h37-0-523" id="h37-0-523" class="d">-	x := *v
</a><a href="#h37-0-524" id="h37-0-524" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-525" id="h37-0-525" class="d">-	n += sizeStringBytes(x)
</a><a href="#h37-0-526" id="h37-0-526" class="d">-	return
</a><a href="#h37-0-527" id="h37-0-527" class="d">-}
</a><a href="#h37-0-528" id="h37-0-528" class="d">-
</a><a href="#h37-0-529" id="h37-0-529" class="d">-func size_proto3_string(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-530" id="h37-0-530" class="d">-	v := *structPointer_StringVal(base, p.field)
</a><a href="#h37-0-531" id="h37-0-531" class="d">-	if v == &quot;&quot; &amp;&amp; !p.oneof {
</a><a href="#h37-0-532" id="h37-0-532" class="d">-		return 0
</a><a href="#h37-0-533" id="h37-0-533" class="d">-	}
</a><a href="#h37-0-534" id="h37-0-534" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-535" id="h37-0-535" class="d">-	n += sizeStringBytes(v)
</a><a href="#h37-0-536" id="h37-0-536" class="d">-	return
</a><a href="#h37-0-537" id="h37-0-537" class="d">-}
</a><a href="#h37-0-538" id="h37-0-538" class="d">-
</a><a href="#h37-0-539" id="h37-0-539" class="d">-// All protocol buffer fields are nillable, but be careful.
</a><a href="#h37-0-540" id="h37-0-540" class="d">-func isNil(v reflect.Value) bool {
</a><a href="#h37-0-541" id="h37-0-541" class="d">-	switch v.Kind() {
</a><a href="#h37-0-542" id="h37-0-542" class="d">-	case reflect.Interface, reflect.Map, reflect.Ptr, reflect.Slice:
</a><a href="#h37-0-543" id="h37-0-543" class="d">-		return v.IsNil()
</a><a href="#h37-0-544" id="h37-0-544" class="d">-	}
</a><a href="#h37-0-545" id="h37-0-545" class="d">-	return false
</a><a href="#h37-0-546" id="h37-0-546" class="d">-}
</a><a href="#h37-0-547" id="h37-0-547" class="d">-
</a><a href="#h37-0-548" id="h37-0-548" class="d">-// Encode a message struct.
</a><a href="#h37-0-549" id="h37-0-549" class="d">-func (o *Buffer) enc_struct_message(p *Properties, base structPointer) error {
</a><a href="#h37-0-550" id="h37-0-550" class="d">-	var state errorState
</a><a href="#h37-0-551" id="h37-0-551" class="d">-	structp := structPointer_GetStructPointer(base, p.field)
</a><a href="#h37-0-552" id="h37-0-552" class="d">-	if structPointer_IsNil(structp) {
</a><a href="#h37-0-553" id="h37-0-553" class="d">-		return ErrNil
</a><a href="#h37-0-554" id="h37-0-554" class="d">-	}
</a><a href="#h37-0-555" id="h37-0-555" class="d">-
</a><a href="#h37-0-556" id="h37-0-556" class="d">-	// Can the object marshal itself?
</a><a href="#h37-0-557" id="h37-0-557" class="d">-	if p.isMarshaler {
</a><a href="#h37-0-558" id="h37-0-558" class="d">-		m := structPointer_Interface(structp, p.stype).(Marshaler)
</a><a href="#h37-0-559" id="h37-0-559" class="d">-		data, err := m.Marshal()
</a><a href="#h37-0-560" id="h37-0-560" class="d">-		if err != nil &amp;&amp; !state.shouldContinue(err, nil) {
</a><a href="#h37-0-561" id="h37-0-561" class="d">-			return err
</a><a href="#h37-0-562" id="h37-0-562" class="d">-		}
</a><a href="#h37-0-563" id="h37-0-563" class="d">-		o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-564" id="h37-0-564" class="d">-		o.EncodeRawBytes(data)
</a><a href="#h37-0-565" id="h37-0-565" class="d">-		return state.err
</a><a href="#h37-0-566" id="h37-0-566" class="d">-	}
</a><a href="#h37-0-567" id="h37-0-567" class="d">-
</a><a href="#h37-0-568" id="h37-0-568" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-569" id="h37-0-569" class="d">-	return o.enc_len_struct(p.sprop, structp, &amp;state)
</a><a href="#h37-0-570" id="h37-0-570" class="d">-}
</a><a href="#h37-0-571" id="h37-0-571" class="d">-
</a><a href="#h37-0-572" id="h37-0-572" class="d">-func size_struct_message(p *Properties, base structPointer) int {
</a><a href="#h37-0-573" id="h37-0-573" class="d">-	structp := structPointer_GetStructPointer(base, p.field)
</a><a href="#h37-0-574" id="h37-0-574" class="d">-	if structPointer_IsNil(structp) {
</a><a href="#h37-0-575" id="h37-0-575" class="d">-		return 0
</a><a href="#h37-0-576" id="h37-0-576" class="d">-	}
</a><a href="#h37-0-577" id="h37-0-577" class="d">-
</a><a href="#h37-0-578" id="h37-0-578" class="d">-	// Can the object marshal itself?
</a><a href="#h37-0-579" id="h37-0-579" class="d">-	if p.isMarshaler {
</a><a href="#h37-0-580" id="h37-0-580" class="d">-		m := structPointer_Interface(structp, p.stype).(Marshaler)
</a><a href="#h37-0-581" id="h37-0-581" class="d">-		data, _ := m.Marshal()
</a><a href="#h37-0-582" id="h37-0-582" class="d">-		n0 := len(p.tagcode)
</a><a href="#h37-0-583" id="h37-0-583" class="d">-		n1 := sizeRawBytes(data)
</a><a href="#h37-0-584" id="h37-0-584" class="d">-		return n0 + n1
</a><a href="#h37-0-585" id="h37-0-585" class="d">-	}
</a><a href="#h37-0-586" id="h37-0-586" class="d">-
</a><a href="#h37-0-587" id="h37-0-587" class="d">-	n0 := len(p.tagcode)
</a><a href="#h37-0-588" id="h37-0-588" class="d">-	n1 := size_struct(p.sprop, structp)
</a><a href="#h37-0-589" id="h37-0-589" class="d">-	n2 := sizeVarint(uint64(n1)) // size of encoded length
</a><a href="#h37-0-590" id="h37-0-590" class="d">-	return n0 + n1 + n2
</a><a href="#h37-0-591" id="h37-0-591" class="d">-}
</a><a href="#h37-0-592" id="h37-0-592" class="d">-
</a><a href="#h37-0-593" id="h37-0-593" class="d">-// Encode a group struct.
</a><a href="#h37-0-594" id="h37-0-594" class="d">-func (o *Buffer) enc_struct_group(p *Properties, base structPointer) error {
</a><a href="#h37-0-595" id="h37-0-595" class="d">-	var state errorState
</a><a href="#h37-0-596" id="h37-0-596" class="d">-	b := structPointer_GetStructPointer(base, p.field)
</a><a href="#h37-0-597" id="h37-0-597" class="d">-	if structPointer_IsNil(b) {
</a><a href="#h37-0-598" id="h37-0-598" class="d">-		return ErrNil
</a><a href="#h37-0-599" id="h37-0-599" class="d">-	}
</a><a href="#h37-0-600" id="h37-0-600" class="d">-
</a><a href="#h37-0-601" id="h37-0-601" class="d">-	o.EncodeVarint(uint64((p.Tag &lt;&lt; 3) | WireStartGroup))
</a><a href="#h37-0-602" id="h37-0-602" class="d">-	err := o.enc_struct(p.sprop, b)
</a><a href="#h37-0-603" id="h37-0-603" class="d">-	if err != nil &amp;&amp; !state.shouldContinue(err, nil) {
</a><a href="#h37-0-604" id="h37-0-604" class="d">-		return err
</a><a href="#h37-0-605" id="h37-0-605" class="d">-	}
</a><a href="#h37-0-606" id="h37-0-606" class="d">-	o.EncodeVarint(uint64((p.Tag &lt;&lt; 3) | WireEndGroup))
</a><a href="#h37-0-607" id="h37-0-607" class="d">-	return state.err
</a><a href="#h37-0-608" id="h37-0-608" class="d">-}
</a><a href="#h37-0-609" id="h37-0-609" class="d">-
</a><a href="#h37-0-610" id="h37-0-610" class="d">-func size_struct_group(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-611" id="h37-0-611" class="d">-	b := structPointer_GetStructPointer(base, p.field)
</a><a href="#h37-0-612" id="h37-0-612" class="d">-	if structPointer_IsNil(b) {
</a><a href="#h37-0-613" id="h37-0-613" class="d">-		return 0
</a><a href="#h37-0-614" id="h37-0-614" class="d">-	}
</a><a href="#h37-0-615" id="h37-0-615" class="d">-
</a><a href="#h37-0-616" id="h37-0-616" class="d">-	n += sizeVarint(uint64((p.Tag &lt;&lt; 3) | WireStartGroup))
</a><a href="#h37-0-617" id="h37-0-617" class="d">-	n += size_struct(p.sprop, b)
</a><a href="#h37-0-618" id="h37-0-618" class="d">-	n += sizeVarint(uint64((p.Tag &lt;&lt; 3) | WireEndGroup))
</a><a href="#h37-0-619" id="h37-0-619" class="d">-	return
</a><a href="#h37-0-620" id="h37-0-620" class="d">-}
</a><a href="#h37-0-621" id="h37-0-621" class="d">-
</a><a href="#h37-0-622" id="h37-0-622" class="d">-// Encode a slice of bools ([]bool).
</a><a href="#h37-0-623" id="h37-0-623" class="d">-func (o *Buffer) enc_slice_bool(p *Properties, base structPointer) error {
</a><a href="#h37-0-624" id="h37-0-624" class="d">-	s := *structPointer_BoolSlice(base, p.field)
</a><a href="#h37-0-625" id="h37-0-625" class="d">-	l := len(s)
</a><a href="#h37-0-626" id="h37-0-626" class="d">-	if l == 0 {
</a><a href="#h37-0-627" id="h37-0-627" class="d">-		return ErrNil
</a><a href="#h37-0-628" id="h37-0-628" class="d">-	}
</a><a href="#h37-0-629" id="h37-0-629" class="d">-	for _, x := range s {
</a><a href="#h37-0-630" id="h37-0-630" class="d">-		o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-631" id="h37-0-631" class="d">-		v := uint64(0)
</a><a href="#h37-0-632" id="h37-0-632" class="d">-		if x {
</a><a href="#h37-0-633" id="h37-0-633" class="d">-			v = 1
</a><a href="#h37-0-634" id="h37-0-634" class="d">-		}
</a><a href="#h37-0-635" id="h37-0-635" class="d">-		p.valEnc(o, v)
</a><a href="#h37-0-636" id="h37-0-636" class="d">-	}
</a><a href="#h37-0-637" id="h37-0-637" class="d">-	return nil
</a><a href="#h37-0-638" id="h37-0-638" class="d">-}
</a><a href="#h37-0-639" id="h37-0-639" class="d">-
</a><a href="#h37-0-640" id="h37-0-640" class="d">-func size_slice_bool(p *Properties, base structPointer) int {
</a><a href="#h37-0-641" id="h37-0-641" class="d">-	s := *structPointer_BoolSlice(base, p.field)
</a><a href="#h37-0-642" id="h37-0-642" class="d">-	l := len(s)
</a><a href="#h37-0-643" id="h37-0-643" class="d">-	if l == 0 {
</a><a href="#h37-0-644" id="h37-0-644" class="d">-		return 0
</a><a href="#h37-0-645" id="h37-0-645" class="d">-	}
</a><a href="#h37-0-646" id="h37-0-646" class="d">-	return l * (len(p.tagcode) + 1) // each bool takes exactly one byte
</a><a href="#h37-0-647" id="h37-0-647" class="d">-}
</a><a href="#h37-0-648" id="h37-0-648" class="d">-
</a><a href="#h37-0-649" id="h37-0-649" class="d">-// Encode a slice of bools ([]bool) in packed format.
</a><a href="#h37-0-650" id="h37-0-650" class="d">-func (o *Buffer) enc_slice_packed_bool(p *Properties, base structPointer) error {
</a><a href="#h37-0-651" id="h37-0-651" class="d">-	s := *structPointer_BoolSlice(base, p.field)
</a><a href="#h37-0-652" id="h37-0-652" class="d">-	l := len(s)
</a><a href="#h37-0-653" id="h37-0-653" class="d">-	if l == 0 {
</a><a href="#h37-0-654" id="h37-0-654" class="d">-		return ErrNil
</a><a href="#h37-0-655" id="h37-0-655" class="d">-	}
</a><a href="#h37-0-656" id="h37-0-656" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-657" id="h37-0-657" class="d">-	o.EncodeVarint(uint64(l)) // each bool takes exactly one byte
</a><a href="#h37-0-658" id="h37-0-658" class="d">-	for _, x := range s {
</a><a href="#h37-0-659" id="h37-0-659" class="d">-		v := uint64(0)
</a><a href="#h37-0-660" id="h37-0-660" class="d">-		if x {
</a><a href="#h37-0-661" id="h37-0-661" class="d">-			v = 1
</a><a href="#h37-0-662" id="h37-0-662" class="d">-		}
</a><a href="#h37-0-663" id="h37-0-663" class="d">-		p.valEnc(o, v)
</a><a href="#h37-0-664" id="h37-0-664" class="d">-	}
</a><a href="#h37-0-665" id="h37-0-665" class="d">-	return nil
</a><a href="#h37-0-666" id="h37-0-666" class="d">-}
</a><a href="#h37-0-667" id="h37-0-667" class="d">-
</a><a href="#h37-0-668" id="h37-0-668" class="d">-func size_slice_packed_bool(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-669" id="h37-0-669" class="d">-	s := *structPointer_BoolSlice(base, p.field)
</a><a href="#h37-0-670" id="h37-0-670" class="d">-	l := len(s)
</a><a href="#h37-0-671" id="h37-0-671" class="d">-	if l == 0 {
</a><a href="#h37-0-672" id="h37-0-672" class="d">-		return 0
</a><a href="#h37-0-673" id="h37-0-673" class="d">-	}
</a><a href="#h37-0-674" id="h37-0-674" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-675" id="h37-0-675" class="d">-	n += sizeVarint(uint64(l))
</a><a href="#h37-0-676" id="h37-0-676" class="d">-	n += l // each bool takes exactly one byte
</a><a href="#h37-0-677" id="h37-0-677" class="d">-	return
</a><a href="#h37-0-678" id="h37-0-678" class="d">-}
</a><a href="#h37-0-679" id="h37-0-679" class="d">-
</a><a href="#h37-0-680" id="h37-0-680" class="d">-// Encode a slice of bytes ([]byte).
</a><a href="#h37-0-681" id="h37-0-681" class="d">-func (o *Buffer) enc_slice_byte(p *Properties, base structPointer) error {
</a><a href="#h37-0-682" id="h37-0-682" class="d">-	s := *structPointer_Bytes(base, p.field)
</a><a href="#h37-0-683" id="h37-0-683" class="d">-	if s == nil {
</a><a href="#h37-0-684" id="h37-0-684" class="d">-		return ErrNil
</a><a href="#h37-0-685" id="h37-0-685" class="d">-	}
</a><a href="#h37-0-686" id="h37-0-686" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-687" id="h37-0-687" class="d">-	o.EncodeRawBytes(s)
</a><a href="#h37-0-688" id="h37-0-688" class="d">-	return nil
</a><a href="#h37-0-689" id="h37-0-689" class="d">-}
</a><a href="#h37-0-690" id="h37-0-690" class="d">-
</a><a href="#h37-0-691" id="h37-0-691" class="d">-func (o *Buffer) enc_proto3_slice_byte(p *Properties, base structPointer) error {
</a><a href="#h37-0-692" id="h37-0-692" class="d">-	s := *structPointer_Bytes(base, p.field)
</a><a href="#h37-0-693" id="h37-0-693" class="d">-	if len(s) == 0 {
</a><a href="#h37-0-694" id="h37-0-694" class="d">-		return ErrNil
</a><a href="#h37-0-695" id="h37-0-695" class="d">-	}
</a><a href="#h37-0-696" id="h37-0-696" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-697" id="h37-0-697" class="d">-	o.EncodeRawBytes(s)
</a><a href="#h37-0-698" id="h37-0-698" class="d">-	return nil
</a><a href="#h37-0-699" id="h37-0-699" class="d">-}
</a><a href="#h37-0-700" id="h37-0-700" class="d">-
</a><a href="#h37-0-701" id="h37-0-701" class="d">-func size_slice_byte(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-702" id="h37-0-702" class="d">-	s := *structPointer_Bytes(base, p.field)
</a><a href="#h37-0-703" id="h37-0-703" class="d">-	if s == nil &amp;&amp; !p.oneof {
</a><a href="#h37-0-704" id="h37-0-704" class="d">-		return 0
</a><a href="#h37-0-705" id="h37-0-705" class="d">-	}
</a><a href="#h37-0-706" id="h37-0-706" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-707" id="h37-0-707" class="d">-	n += sizeRawBytes(s)
</a><a href="#h37-0-708" id="h37-0-708" class="d">-	return
</a><a href="#h37-0-709" id="h37-0-709" class="d">-}
</a><a href="#h37-0-710" id="h37-0-710" class="d">-
</a><a href="#h37-0-711" id="h37-0-711" class="d">-func size_proto3_slice_byte(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-712" id="h37-0-712" class="d">-	s := *structPointer_Bytes(base, p.field)
</a><a href="#h37-0-713" id="h37-0-713" class="d">-	if len(s) == 0 &amp;&amp; !p.oneof {
</a><a href="#h37-0-714" id="h37-0-714" class="d">-		return 0
</a><a href="#h37-0-715" id="h37-0-715" class="d">-	}
</a><a href="#h37-0-716" id="h37-0-716" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-717" id="h37-0-717" class="d">-	n += sizeRawBytes(s)
</a><a href="#h37-0-718" id="h37-0-718" class="d">-	return
</a><a href="#h37-0-719" id="h37-0-719" class="d">-}
</a><a href="#h37-0-720" id="h37-0-720" class="d">-
</a><a href="#h37-0-721" id="h37-0-721" class="d">-// Encode a slice of int32s ([]int32).
</a><a href="#h37-0-722" id="h37-0-722" class="d">-func (o *Buffer) enc_slice_int32(p *Properties, base structPointer) error {
</a><a href="#h37-0-723" id="h37-0-723" class="d">-	s := structPointer_Word32Slice(base, p.field)
</a><a href="#h37-0-724" id="h37-0-724" class="d">-	l := s.Len()
</a><a href="#h37-0-725" id="h37-0-725" class="d">-	if l == 0 {
</a><a href="#h37-0-726" id="h37-0-726" class="d">-		return ErrNil
</a><a href="#h37-0-727" id="h37-0-727" class="d">-	}
</a><a href="#h37-0-728" id="h37-0-728" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-729" id="h37-0-729" class="d">-		o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-730" id="h37-0-730" class="d">-		x := int32(s.Index(i)) // permit sign extension to use full 64-bit range
</a><a href="#h37-0-731" id="h37-0-731" class="d">-		p.valEnc(o, uint64(x))
</a><a href="#h37-0-732" id="h37-0-732" class="d">-	}
</a><a href="#h37-0-733" id="h37-0-733" class="d">-	return nil
</a><a href="#h37-0-734" id="h37-0-734" class="d">-}
</a><a href="#h37-0-735" id="h37-0-735" class="d">-
</a><a href="#h37-0-736" id="h37-0-736" class="d">-func size_slice_int32(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-737" id="h37-0-737" class="d">-	s := structPointer_Word32Slice(base, p.field)
</a><a href="#h37-0-738" id="h37-0-738" class="d">-	l := s.Len()
</a><a href="#h37-0-739" id="h37-0-739" class="d">-	if l == 0 {
</a><a href="#h37-0-740" id="h37-0-740" class="d">-		return 0
</a><a href="#h37-0-741" id="h37-0-741" class="d">-	}
</a><a href="#h37-0-742" id="h37-0-742" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-743" id="h37-0-743" class="d">-		n += len(p.tagcode)
</a><a href="#h37-0-744" id="h37-0-744" class="d">-		x := int32(s.Index(i)) // permit sign extension to use full 64-bit range
</a><a href="#h37-0-745" id="h37-0-745" class="d">-		n += p.valSize(uint64(x))
</a><a href="#h37-0-746" id="h37-0-746" class="d">-	}
</a><a href="#h37-0-747" id="h37-0-747" class="d">-	return
</a><a href="#h37-0-748" id="h37-0-748" class="d">-}
</a><a href="#h37-0-749" id="h37-0-749" class="d">-
</a><a href="#h37-0-750" id="h37-0-750" class="d">-// Encode a slice of int32s ([]int32) in packed format.
</a><a href="#h37-0-751" id="h37-0-751" class="d">-func (o *Buffer) enc_slice_packed_int32(p *Properties, base structPointer) error {
</a><a href="#h37-0-752" id="h37-0-752" class="d">-	s := structPointer_Word32Slice(base, p.field)
</a><a href="#h37-0-753" id="h37-0-753" class="d">-	l := s.Len()
</a><a href="#h37-0-754" id="h37-0-754" class="d">-	if l == 0 {
</a><a href="#h37-0-755" id="h37-0-755" class="d">-		return ErrNil
</a><a href="#h37-0-756" id="h37-0-756" class="d">-	}
</a><a href="#h37-0-757" id="h37-0-757" class="d">-	// TODO: Reuse a Buffer.
</a><a href="#h37-0-758" id="h37-0-758" class="d">-	buf := NewBuffer(nil)
</a><a href="#h37-0-759" id="h37-0-759" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-760" id="h37-0-760" class="d">-		x := int32(s.Index(i)) // permit sign extension to use full 64-bit range
</a><a href="#h37-0-761" id="h37-0-761" class="d">-		p.valEnc(buf, uint64(x))
</a><a href="#h37-0-762" id="h37-0-762" class="d">-	}
</a><a href="#h37-0-763" id="h37-0-763" class="d">-
</a><a href="#h37-0-764" id="h37-0-764" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-765" id="h37-0-765" class="d">-	o.EncodeVarint(uint64(len(buf.buf)))
</a><a href="#h37-0-766" id="h37-0-766" class="d">-	o.buf = append(o.buf, buf.buf...)
</a><a href="#h37-0-767" id="h37-0-767" class="d">-	return nil
</a><a href="#h37-0-768" id="h37-0-768" class="d">-}
</a><a href="#h37-0-769" id="h37-0-769" class="d">-
</a><a href="#h37-0-770" id="h37-0-770" class="d">-func size_slice_packed_int32(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-771" id="h37-0-771" class="d">-	s := structPointer_Word32Slice(base, p.field)
</a><a href="#h37-0-772" id="h37-0-772" class="d">-	l := s.Len()
</a><a href="#h37-0-773" id="h37-0-773" class="d">-	if l == 0 {
</a><a href="#h37-0-774" id="h37-0-774" class="d">-		return 0
</a><a href="#h37-0-775" id="h37-0-775" class="d">-	}
</a><a href="#h37-0-776" id="h37-0-776" class="d">-	var bufSize int
</a><a href="#h37-0-777" id="h37-0-777" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-778" id="h37-0-778" class="d">-		x := int32(s.Index(i)) // permit sign extension to use full 64-bit range
</a><a href="#h37-0-779" id="h37-0-779" class="d">-		bufSize += p.valSize(uint64(x))
</a><a href="#h37-0-780" id="h37-0-780" class="d">-	}
</a><a href="#h37-0-781" id="h37-0-781" class="d">-
</a><a href="#h37-0-782" id="h37-0-782" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-783" id="h37-0-783" class="d">-	n += sizeVarint(uint64(bufSize))
</a><a href="#h37-0-784" id="h37-0-784" class="d">-	n += bufSize
</a><a href="#h37-0-785" id="h37-0-785" class="d">-	return
</a><a href="#h37-0-786" id="h37-0-786" class="d">-}
</a><a href="#h37-0-787" id="h37-0-787" class="d">-
</a><a href="#h37-0-788" id="h37-0-788" class="d">-// Encode a slice of uint32s ([]uint32).
</a><a href="#h37-0-789" id="h37-0-789" class="d">-// Exactly the same as int32, except for no sign extension.
</a><a href="#h37-0-790" id="h37-0-790" class="d">-func (o *Buffer) enc_slice_uint32(p *Properties, base structPointer) error {
</a><a href="#h37-0-791" id="h37-0-791" class="d">-	s := structPointer_Word32Slice(base, p.field)
</a><a href="#h37-0-792" id="h37-0-792" class="d">-	l := s.Len()
</a><a href="#h37-0-793" id="h37-0-793" class="d">-	if l == 0 {
</a><a href="#h37-0-794" id="h37-0-794" class="d">-		return ErrNil
</a><a href="#h37-0-795" id="h37-0-795" class="d">-	}
</a><a href="#h37-0-796" id="h37-0-796" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-797" id="h37-0-797" class="d">-		o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-798" id="h37-0-798" class="d">-		x := s.Index(i)
</a><a href="#h37-0-799" id="h37-0-799" class="d">-		p.valEnc(o, uint64(x))
</a><a href="#h37-0-800" id="h37-0-800" class="d">-	}
</a><a href="#h37-0-801" id="h37-0-801" class="d">-	return nil
</a><a href="#h37-0-802" id="h37-0-802" class="d">-}
</a><a href="#h37-0-803" id="h37-0-803" class="d">-
</a><a href="#h37-0-804" id="h37-0-804" class="d">-func size_slice_uint32(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-805" id="h37-0-805" class="d">-	s := structPointer_Word32Slice(base, p.field)
</a><a href="#h37-0-806" id="h37-0-806" class="d">-	l := s.Len()
</a><a href="#h37-0-807" id="h37-0-807" class="d">-	if l == 0 {
</a><a href="#h37-0-808" id="h37-0-808" class="d">-		return 0
</a><a href="#h37-0-809" id="h37-0-809" class="d">-	}
</a><a href="#h37-0-810" id="h37-0-810" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-811" id="h37-0-811" class="d">-		n += len(p.tagcode)
</a><a href="#h37-0-812" id="h37-0-812" class="d">-		x := s.Index(i)
</a><a href="#h37-0-813" id="h37-0-813" class="d">-		n += p.valSize(uint64(x))
</a><a href="#h37-0-814" id="h37-0-814" class="d">-	}
</a><a href="#h37-0-815" id="h37-0-815" class="d">-	return
</a><a href="#h37-0-816" id="h37-0-816" class="d">-}
</a><a href="#h37-0-817" id="h37-0-817" class="d">-
</a><a href="#h37-0-818" id="h37-0-818" class="d">-// Encode a slice of uint32s ([]uint32) in packed format.
</a><a href="#h37-0-819" id="h37-0-819" class="d">-// Exactly the same as int32, except for no sign extension.
</a><a href="#h37-0-820" id="h37-0-820" class="d">-func (o *Buffer) enc_slice_packed_uint32(p *Properties, base structPointer) error {
</a><a href="#h37-0-821" id="h37-0-821" class="d">-	s := structPointer_Word32Slice(base, p.field)
</a><a href="#h37-0-822" id="h37-0-822" class="d">-	l := s.Len()
</a><a href="#h37-0-823" id="h37-0-823" class="d">-	if l == 0 {
</a><a href="#h37-0-824" id="h37-0-824" class="d">-		return ErrNil
</a><a href="#h37-0-825" id="h37-0-825" class="d">-	}
</a><a href="#h37-0-826" id="h37-0-826" class="d">-	// TODO: Reuse a Buffer.
</a><a href="#h37-0-827" id="h37-0-827" class="d">-	buf := NewBuffer(nil)
</a><a href="#h37-0-828" id="h37-0-828" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-829" id="h37-0-829" class="d">-		p.valEnc(buf, uint64(s.Index(i)))
</a><a href="#h37-0-830" id="h37-0-830" class="d">-	}
</a><a href="#h37-0-831" id="h37-0-831" class="d">-
</a><a href="#h37-0-832" id="h37-0-832" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-833" id="h37-0-833" class="d">-	o.EncodeVarint(uint64(len(buf.buf)))
</a><a href="#h37-0-834" id="h37-0-834" class="d">-	o.buf = append(o.buf, buf.buf...)
</a><a href="#h37-0-835" id="h37-0-835" class="d">-	return nil
</a><a href="#h37-0-836" id="h37-0-836" class="d">-}
</a><a href="#h37-0-837" id="h37-0-837" class="d">-
</a><a href="#h37-0-838" id="h37-0-838" class="d">-func size_slice_packed_uint32(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-839" id="h37-0-839" class="d">-	s := structPointer_Word32Slice(base, p.field)
</a><a href="#h37-0-840" id="h37-0-840" class="d">-	l := s.Len()
</a><a href="#h37-0-841" id="h37-0-841" class="d">-	if l == 0 {
</a><a href="#h37-0-842" id="h37-0-842" class="d">-		return 0
</a><a href="#h37-0-843" id="h37-0-843" class="d">-	}
</a><a href="#h37-0-844" id="h37-0-844" class="d">-	var bufSize int
</a><a href="#h37-0-845" id="h37-0-845" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-846" id="h37-0-846" class="d">-		bufSize += p.valSize(uint64(s.Index(i)))
</a><a href="#h37-0-847" id="h37-0-847" class="d">-	}
</a><a href="#h37-0-848" id="h37-0-848" class="d">-
</a><a href="#h37-0-849" id="h37-0-849" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-850" id="h37-0-850" class="d">-	n += sizeVarint(uint64(bufSize))
</a><a href="#h37-0-851" id="h37-0-851" class="d">-	n += bufSize
</a><a href="#h37-0-852" id="h37-0-852" class="d">-	return
</a><a href="#h37-0-853" id="h37-0-853" class="d">-}
</a><a href="#h37-0-854" id="h37-0-854" class="d">-
</a><a href="#h37-0-855" id="h37-0-855" class="d">-// Encode a slice of int64s ([]int64).
</a><a href="#h37-0-856" id="h37-0-856" class="d">-func (o *Buffer) enc_slice_int64(p *Properties, base structPointer) error {
</a><a href="#h37-0-857" id="h37-0-857" class="d">-	s := structPointer_Word64Slice(base, p.field)
</a><a href="#h37-0-858" id="h37-0-858" class="d">-	l := s.Len()
</a><a href="#h37-0-859" id="h37-0-859" class="d">-	if l == 0 {
</a><a href="#h37-0-860" id="h37-0-860" class="d">-		return ErrNil
</a><a href="#h37-0-861" id="h37-0-861" class="d">-	}
</a><a href="#h37-0-862" id="h37-0-862" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-863" id="h37-0-863" class="d">-		o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-864" id="h37-0-864" class="d">-		p.valEnc(o, s.Index(i))
</a><a href="#h37-0-865" id="h37-0-865" class="d">-	}
</a><a href="#h37-0-866" id="h37-0-866" class="d">-	return nil
</a><a href="#h37-0-867" id="h37-0-867" class="d">-}
</a><a href="#h37-0-868" id="h37-0-868" class="d">-
</a><a href="#h37-0-869" id="h37-0-869" class="d">-func size_slice_int64(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-870" id="h37-0-870" class="d">-	s := structPointer_Word64Slice(base, p.field)
</a><a href="#h37-0-871" id="h37-0-871" class="d">-	l := s.Len()
</a><a href="#h37-0-872" id="h37-0-872" class="d">-	if l == 0 {
</a><a href="#h37-0-873" id="h37-0-873" class="d">-		return 0
</a><a href="#h37-0-874" id="h37-0-874" class="d">-	}
</a><a href="#h37-0-875" id="h37-0-875" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-876" id="h37-0-876" class="d">-		n += len(p.tagcode)
</a><a href="#h37-0-877" id="h37-0-877" class="d">-		n += p.valSize(s.Index(i))
</a><a href="#h37-0-878" id="h37-0-878" class="d">-	}
</a><a href="#h37-0-879" id="h37-0-879" class="d">-	return
</a><a href="#h37-0-880" id="h37-0-880" class="d">-}
</a><a href="#h37-0-881" id="h37-0-881" class="d">-
</a><a href="#h37-0-882" id="h37-0-882" class="d">-// Encode a slice of int64s ([]int64) in packed format.
</a><a href="#h37-0-883" id="h37-0-883" class="d">-func (o *Buffer) enc_slice_packed_int64(p *Properties, base structPointer) error {
</a><a href="#h37-0-884" id="h37-0-884" class="d">-	s := structPointer_Word64Slice(base, p.field)
</a><a href="#h37-0-885" id="h37-0-885" class="d">-	l := s.Len()
</a><a href="#h37-0-886" id="h37-0-886" class="d">-	if l == 0 {
</a><a href="#h37-0-887" id="h37-0-887" class="d">-		return ErrNil
</a><a href="#h37-0-888" id="h37-0-888" class="d">-	}
</a><a href="#h37-0-889" id="h37-0-889" class="d">-	// TODO: Reuse a Buffer.
</a><a href="#h37-0-890" id="h37-0-890" class="d">-	buf := NewBuffer(nil)
</a><a href="#h37-0-891" id="h37-0-891" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-892" id="h37-0-892" class="d">-		p.valEnc(buf, s.Index(i))
</a><a href="#h37-0-893" id="h37-0-893" class="d">-	}
</a><a href="#h37-0-894" id="h37-0-894" class="d">-
</a><a href="#h37-0-895" id="h37-0-895" class="d">-	o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-896" id="h37-0-896" class="d">-	o.EncodeVarint(uint64(len(buf.buf)))
</a><a href="#h37-0-897" id="h37-0-897" class="d">-	o.buf = append(o.buf, buf.buf...)
</a><a href="#h37-0-898" id="h37-0-898" class="d">-	return nil
</a><a href="#h37-0-899" id="h37-0-899" class="d">-}
</a><a href="#h37-0-900" id="h37-0-900" class="d">-
</a><a href="#h37-0-901" id="h37-0-901" class="d">-func size_slice_packed_int64(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-902" id="h37-0-902" class="d">-	s := structPointer_Word64Slice(base, p.field)
</a><a href="#h37-0-903" id="h37-0-903" class="d">-	l := s.Len()
</a><a href="#h37-0-904" id="h37-0-904" class="d">-	if l == 0 {
</a><a href="#h37-0-905" id="h37-0-905" class="d">-		return 0
</a><a href="#h37-0-906" id="h37-0-906" class="d">-	}
</a><a href="#h37-0-907" id="h37-0-907" class="d">-	var bufSize int
</a><a href="#h37-0-908" id="h37-0-908" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-909" id="h37-0-909" class="d">-		bufSize += p.valSize(s.Index(i))
</a><a href="#h37-0-910" id="h37-0-910" class="d">-	}
</a><a href="#h37-0-911" id="h37-0-911" class="d">-
</a><a href="#h37-0-912" id="h37-0-912" class="d">-	n += len(p.tagcode)
</a><a href="#h37-0-913" id="h37-0-913" class="d">-	n += sizeVarint(uint64(bufSize))
</a><a href="#h37-0-914" id="h37-0-914" class="d">-	n += bufSize
</a><a href="#h37-0-915" id="h37-0-915" class="d">-	return
</a><a href="#h37-0-916" id="h37-0-916" class="d">-}
</a><a href="#h37-0-917" id="h37-0-917" class="d">-
</a><a href="#h37-0-918" id="h37-0-918" class="d">-// Encode a slice of slice of bytes ([][]byte).
</a><a href="#h37-0-919" id="h37-0-919" class="d">-func (o *Buffer) enc_slice_slice_byte(p *Properties, base structPointer) error {
</a><a href="#h37-0-920" id="h37-0-920" class="d">-	ss := *structPointer_BytesSlice(base, p.field)
</a><a href="#h37-0-921" id="h37-0-921" class="d">-	l := len(ss)
</a><a href="#h37-0-922" id="h37-0-922" class="d">-	if l == 0 {
</a><a href="#h37-0-923" id="h37-0-923" class="d">-		return ErrNil
</a><a href="#h37-0-924" id="h37-0-924" class="d">-	}
</a><a href="#h37-0-925" id="h37-0-925" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-926" id="h37-0-926" class="d">-		o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-927" id="h37-0-927" class="d">-		o.EncodeRawBytes(ss[i])
</a><a href="#h37-0-928" id="h37-0-928" class="d">-	}
</a><a href="#h37-0-929" id="h37-0-929" class="d">-	return nil
</a><a href="#h37-0-930" id="h37-0-930" class="d">-}
</a><a href="#h37-0-931" id="h37-0-931" class="d">-
</a><a href="#h37-0-932" id="h37-0-932" class="d">-func size_slice_slice_byte(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-933" id="h37-0-933" class="d">-	ss := *structPointer_BytesSlice(base, p.field)
</a><a href="#h37-0-934" id="h37-0-934" class="d">-	l := len(ss)
</a><a href="#h37-0-935" id="h37-0-935" class="d">-	if l == 0 {
</a><a href="#h37-0-936" id="h37-0-936" class="d">-		return 0
</a><a href="#h37-0-937" id="h37-0-937" class="d">-	}
</a><a href="#h37-0-938" id="h37-0-938" class="d">-	n += l * len(p.tagcode)
</a><a href="#h37-0-939" id="h37-0-939" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-940" id="h37-0-940" class="d">-		n += sizeRawBytes(ss[i])
</a><a href="#h37-0-941" id="h37-0-941" class="d">-	}
</a><a href="#h37-0-942" id="h37-0-942" class="d">-	return
</a><a href="#h37-0-943" id="h37-0-943" class="d">-}
</a><a href="#h37-0-944" id="h37-0-944" class="d">-
</a><a href="#h37-0-945" id="h37-0-945" class="d">-// Encode a slice of strings ([]string).
</a><a href="#h37-0-946" id="h37-0-946" class="d">-func (o *Buffer) enc_slice_string(p *Properties, base structPointer) error {
</a><a href="#h37-0-947" id="h37-0-947" class="d">-	ss := *structPointer_StringSlice(base, p.field)
</a><a href="#h37-0-948" id="h37-0-948" class="d">-	l := len(ss)
</a><a href="#h37-0-949" id="h37-0-949" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-950" id="h37-0-950" class="d">-		o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-951" id="h37-0-951" class="d">-		o.EncodeStringBytes(ss[i])
</a><a href="#h37-0-952" id="h37-0-952" class="d">-	}
</a><a href="#h37-0-953" id="h37-0-953" class="d">-	return nil
</a><a href="#h37-0-954" id="h37-0-954" class="d">-}
</a><a href="#h37-0-955" id="h37-0-955" class="d">-
</a><a href="#h37-0-956" id="h37-0-956" class="d">-func size_slice_string(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-957" id="h37-0-957" class="d">-	ss := *structPointer_StringSlice(base, p.field)
</a><a href="#h37-0-958" id="h37-0-958" class="d">-	l := len(ss)
</a><a href="#h37-0-959" id="h37-0-959" class="d">-	n += l * len(p.tagcode)
</a><a href="#h37-0-960" id="h37-0-960" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-961" id="h37-0-961" class="d">-		n += sizeStringBytes(ss[i])
</a><a href="#h37-0-962" id="h37-0-962" class="d">-	}
</a><a href="#h37-0-963" id="h37-0-963" class="d">-	return
</a><a href="#h37-0-964" id="h37-0-964" class="d">-}
</a><a href="#h37-0-965" id="h37-0-965" class="d">-
</a><a href="#h37-0-966" id="h37-0-966" class="d">-// Encode a slice of message structs ([]*struct).
</a><a href="#h37-0-967" id="h37-0-967" class="d">-func (o *Buffer) enc_slice_struct_message(p *Properties, base structPointer) error {
</a><a href="#h37-0-968" id="h37-0-968" class="d">-	var state errorState
</a><a href="#h37-0-969" id="h37-0-969" class="d">-	s := structPointer_StructPointerSlice(base, p.field)
</a><a href="#h37-0-970" id="h37-0-970" class="d">-	l := s.Len()
</a><a href="#h37-0-971" id="h37-0-971" class="d">-
</a><a href="#h37-0-972" id="h37-0-972" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-973" id="h37-0-973" class="d">-		structp := s.Index(i)
</a><a href="#h37-0-974" id="h37-0-974" class="d">-		if structPointer_IsNil(structp) {
</a><a href="#h37-0-975" id="h37-0-975" class="d">-			return errRepeatedHasNil
</a><a href="#h37-0-976" id="h37-0-976" class="d">-		}
</a><a href="#h37-0-977" id="h37-0-977" class="d">-
</a><a href="#h37-0-978" id="h37-0-978" class="d">-		// Can the object marshal itself?
</a><a href="#h37-0-979" id="h37-0-979" class="d">-		if p.isMarshaler {
</a><a href="#h37-0-980" id="h37-0-980" class="d">-			m := structPointer_Interface(structp, p.stype).(Marshaler)
</a><a href="#h37-0-981" id="h37-0-981" class="d">-			data, err := m.Marshal()
</a><a href="#h37-0-982" id="h37-0-982" class="d">-			if err != nil &amp;&amp; !state.shouldContinue(err, nil) {
</a><a href="#h37-0-983" id="h37-0-983" class="d">-				return err
</a><a href="#h37-0-984" id="h37-0-984" class="d">-			}
</a><a href="#h37-0-985" id="h37-0-985" class="d">-			o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-986" id="h37-0-986" class="d">-			o.EncodeRawBytes(data)
</a><a href="#h37-0-987" id="h37-0-987" class="d">-			continue
</a><a href="#h37-0-988" id="h37-0-988" class="d">-		}
</a><a href="#h37-0-989" id="h37-0-989" class="d">-
</a><a href="#h37-0-990" id="h37-0-990" class="d">-		o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-991" id="h37-0-991" class="d">-		err := o.enc_len_struct(p.sprop, structp, &amp;state)
</a><a href="#h37-0-992" id="h37-0-992" class="d">-		if err != nil &amp;&amp; !state.shouldContinue(err, nil) {
</a><a href="#h37-0-993" id="h37-0-993" class="d">-			if err == ErrNil {
</a><a href="#h37-0-994" id="h37-0-994" class="d">-				return errRepeatedHasNil
</a><a href="#h37-0-995" id="h37-0-995" class="d">-			}
</a><a href="#h37-0-996" id="h37-0-996" class="d">-			return err
</a><a href="#h37-0-997" id="h37-0-997" class="d">-		}
</a><a href="#h37-0-998" id="h37-0-998" class="d">-	}
</a><a href="#h37-0-999" id="h37-0-999" class="d">-	return state.err
</a><a href="#h37-0-1000" id="h37-0-1000" class="d">-}
</a><a href="#h37-0-1001" id="h37-0-1001" class="d">-
</a><a href="#h37-0-1002" id="h37-0-1002" class="d">-func size_slice_struct_message(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-1003" id="h37-0-1003" class="d">-	s := structPointer_StructPointerSlice(base, p.field)
</a><a href="#h37-0-1004" id="h37-0-1004" class="d">-	l := s.Len()
</a><a href="#h37-0-1005" id="h37-0-1005" class="d">-	n += l * len(p.tagcode)
</a><a href="#h37-0-1006" id="h37-0-1006" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-1007" id="h37-0-1007" class="d">-		structp := s.Index(i)
</a><a href="#h37-0-1008" id="h37-0-1008" class="d">-		if structPointer_IsNil(structp) {
</a><a href="#h37-0-1009" id="h37-0-1009" class="d">-			return // return the size up to this point
</a><a href="#h37-0-1010" id="h37-0-1010" class="d">-		}
</a><a href="#h37-0-1011" id="h37-0-1011" class="d">-
</a><a href="#h37-0-1012" id="h37-0-1012" class="d">-		// Can the object marshal itself?
</a><a href="#h37-0-1013" id="h37-0-1013" class="d">-		if p.isMarshaler {
</a><a href="#h37-0-1014" id="h37-0-1014" class="d">-			m := structPointer_Interface(structp, p.stype).(Marshaler)
</a><a href="#h37-0-1015" id="h37-0-1015" class="d">-			data, _ := m.Marshal()
</a><a href="#h37-0-1016" id="h37-0-1016" class="d">-			n += len(p.tagcode)
</a><a href="#h37-0-1017" id="h37-0-1017" class="d">-			n += sizeRawBytes(data)
</a><a href="#h37-0-1018" id="h37-0-1018" class="d">-			continue
</a><a href="#h37-0-1019" id="h37-0-1019" class="d">-		}
</a><a href="#h37-0-1020" id="h37-0-1020" class="d">-
</a><a href="#h37-0-1021" id="h37-0-1021" class="d">-		n0 := size_struct(p.sprop, structp)
</a><a href="#h37-0-1022" id="h37-0-1022" class="d">-		n1 := sizeVarint(uint64(n0)) // size of encoded length
</a><a href="#h37-0-1023" id="h37-0-1023" class="d">-		n += n0 + n1
</a><a href="#h37-0-1024" id="h37-0-1024" class="d">-	}
</a><a href="#h37-0-1025" id="h37-0-1025" class="d">-	return
</a><a href="#h37-0-1026" id="h37-0-1026" class="d">-}
</a><a href="#h37-0-1027" id="h37-0-1027" class="d">-
</a><a href="#h37-0-1028" id="h37-0-1028" class="d">-// Encode a slice of group structs ([]*struct).
</a><a href="#h37-0-1029" id="h37-0-1029" class="d">-func (o *Buffer) enc_slice_struct_group(p *Properties, base structPointer) error {
</a><a href="#h37-0-1030" id="h37-0-1030" class="d">-	var state errorState
</a><a href="#h37-0-1031" id="h37-0-1031" class="d">-	s := structPointer_StructPointerSlice(base, p.field)
</a><a href="#h37-0-1032" id="h37-0-1032" class="d">-	l := s.Len()
</a><a href="#h37-0-1033" id="h37-0-1033" class="d">-
</a><a href="#h37-0-1034" id="h37-0-1034" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-1035" id="h37-0-1035" class="d">-		b := s.Index(i)
</a><a href="#h37-0-1036" id="h37-0-1036" class="d">-		if structPointer_IsNil(b) {
</a><a href="#h37-0-1037" id="h37-0-1037" class="d">-			return errRepeatedHasNil
</a><a href="#h37-0-1038" id="h37-0-1038" class="d">-		}
</a><a href="#h37-0-1039" id="h37-0-1039" class="d">-
</a><a href="#h37-0-1040" id="h37-0-1040" class="d">-		o.EncodeVarint(uint64((p.Tag &lt;&lt; 3) | WireStartGroup))
</a><a href="#h37-0-1041" id="h37-0-1041" class="d">-
</a><a href="#h37-0-1042" id="h37-0-1042" class="d">-		err := o.enc_struct(p.sprop, b)
</a><a href="#h37-0-1043" id="h37-0-1043" class="d">-
</a><a href="#h37-0-1044" id="h37-0-1044" class="d">-		if err != nil &amp;&amp; !state.shouldContinue(err, nil) {
</a><a href="#h37-0-1045" id="h37-0-1045" class="d">-			if err == ErrNil {
</a><a href="#h37-0-1046" id="h37-0-1046" class="d">-				return errRepeatedHasNil
</a><a href="#h37-0-1047" id="h37-0-1047" class="d">-			}
</a><a href="#h37-0-1048" id="h37-0-1048" class="d">-			return err
</a><a href="#h37-0-1049" id="h37-0-1049" class="d">-		}
</a><a href="#h37-0-1050" id="h37-0-1050" class="d">-
</a><a href="#h37-0-1051" id="h37-0-1051" class="d">-		o.EncodeVarint(uint64((p.Tag &lt;&lt; 3) | WireEndGroup))
</a><a href="#h37-0-1052" id="h37-0-1052" class="d">-	}
</a><a href="#h37-0-1053" id="h37-0-1053" class="d">-	return state.err
</a><a href="#h37-0-1054" id="h37-0-1054" class="d">-}
</a><a href="#h37-0-1055" id="h37-0-1055" class="d">-
</a><a href="#h37-0-1056" id="h37-0-1056" class="d">-func size_slice_struct_group(p *Properties, base structPointer) (n int) {
</a><a href="#h37-0-1057" id="h37-0-1057" class="d">-	s := structPointer_StructPointerSlice(base, p.field)
</a><a href="#h37-0-1058" id="h37-0-1058" class="d">-	l := s.Len()
</a><a href="#h37-0-1059" id="h37-0-1059" class="d">-
</a><a href="#h37-0-1060" id="h37-0-1060" class="d">-	n += l * sizeVarint(uint64((p.Tag&lt;&lt;3)|WireStartGroup))
</a><a href="#h37-0-1061" id="h37-0-1061" class="d">-	n += l * sizeVarint(uint64((p.Tag&lt;&lt;3)|WireEndGroup))
</a><a href="#h37-0-1062" id="h37-0-1062" class="d">-	for i := 0; i &lt; l; i++ {
</a><a href="#h37-0-1063" id="h37-0-1063" class="d">-		b := s.Index(i)
</a><a href="#h37-0-1064" id="h37-0-1064" class="d">-		if structPointer_IsNil(b) {
</a><a href="#h37-0-1065" id="h37-0-1065" class="d">-			return // return size up to this point
</a><a href="#h37-0-1066" id="h37-0-1066" class="d">-		}
</a><a href="#h37-0-1067" id="h37-0-1067" class="d">-
</a><a href="#h37-0-1068" id="h37-0-1068" class="d">-		n += size_struct(p.sprop, b)
</a><a href="#h37-0-1069" id="h37-0-1069" class="d">-	}
</a><a href="#h37-0-1070" id="h37-0-1070" class="d">-	return
</a><a href="#h37-0-1071" id="h37-0-1071" class="d">-}
</a><a href="#h37-0-1072" id="h37-0-1072" class="d">-
</a><a href="#h37-0-1073" id="h37-0-1073" class="d">-// Encode an extension map.
</a><a href="#h37-0-1074" id="h37-0-1074" class="d">-func (o *Buffer) enc_map(p *Properties, base structPointer) error {
</a><a href="#h37-0-1075" id="h37-0-1075" class="d">-	exts := structPointer_ExtMap(base, p.field)
</a><a href="#h37-0-1076" id="h37-0-1076" class="d">-	if err := encodeExtensionsMap(*exts); err != nil {
</a><a href="#h37-0-1077" id="h37-0-1077" class="d">-		return err
</a><a href="#h37-0-1078" id="h37-0-1078" class="d">-	}
</a><a href="#h37-0-1079" id="h37-0-1079" class="d">-
</a><a href="#h37-0-1080" id="h37-0-1080" class="d">-	return o.enc_map_body(*exts)
</a><a href="#h37-0-1081" id="h37-0-1081" class="d">-}
</a><a href="#h37-0-1082" id="h37-0-1082" class="d">-
</a><a href="#h37-0-1083" id="h37-0-1083" class="d">-func (o *Buffer) enc_exts(p *Properties, base structPointer) error {
</a><a href="#h37-0-1084" id="h37-0-1084" class="d">-	exts := structPointer_Extensions(base, p.field)
</a><a href="#h37-0-1085" id="h37-0-1085" class="d">-	if err := encodeExtensions(exts); err != nil {
</a><a href="#h37-0-1086" id="h37-0-1086" class="d">-		return err
</a><a href="#h37-0-1087" id="h37-0-1087" class="d">-	}
</a><a href="#h37-0-1088" id="h37-0-1088" class="d">-	v, _ := exts.extensionsRead()
</a><a href="#h37-0-1089" id="h37-0-1089" class="d">-
</a><a href="#h37-0-1090" id="h37-0-1090" class="d">-	return o.enc_map_body(v)
</a><a href="#h37-0-1091" id="h37-0-1091" class="d">-}
</a><a href="#h37-0-1092" id="h37-0-1092" class="d">-
</a><a href="#h37-0-1093" id="h37-0-1093" class="d">-func (o *Buffer) enc_map_body(v map[int32]Extension) error {
</a><a href="#h37-0-1094" id="h37-0-1094" class="d">-	// Fast-path for common cases: zero or one extensions.
</a><a href="#h37-0-1095" id="h37-0-1095" class="d">-	if len(v) &lt;= 1 {
</a><a href="#h37-0-1096" id="h37-0-1096" class="d">-		for _, e := range v {
</a><a href="#h37-0-1097" id="h37-0-1097" class="d">-			o.buf = append(o.buf, e.enc...)
</a><a href="#h37-0-1098" id="h37-0-1098" class="d">-		}
</a><a href="#h37-0-1099" id="h37-0-1099" class="d">-		return nil
</a><a href="#h37-0-1100" id="h37-0-1100" class="d">-	}
</a><a href="#h37-0-1101" id="h37-0-1101" class="d">-
</a><a href="#h37-0-1102" id="h37-0-1102" class="d">-	// Sort keys to provide a deterministic encoding.
</a><a href="#h37-0-1103" id="h37-0-1103" class="d">-	keys := make([]int, 0, len(v))
</a><a href="#h37-0-1104" id="h37-0-1104" class="d">-	for k := range v {
</a><a href="#h37-0-1105" id="h37-0-1105" class="d">-		keys = append(keys, int(k))
</a><a href="#h37-0-1106" id="h37-0-1106" class="d">-	}
</a><a href="#h37-0-1107" id="h37-0-1107" class="d">-	sort.Ints(keys)
</a><a href="#h37-0-1108" id="h37-0-1108" class="d">-
</a><a href="#h37-0-1109" id="h37-0-1109" class="d">-	for _, k := range keys {
</a><a href="#h37-0-1110" id="h37-0-1110" class="d">-		o.buf = append(o.buf, v[int32(k)].enc...)
</a><a href="#h37-0-1111" id="h37-0-1111" class="d">-	}
</a><a href="#h37-0-1112" id="h37-0-1112" class="d">-	return nil
</a><a href="#h37-0-1113" id="h37-0-1113" class="d">-}
</a><a href="#h37-0-1114" id="h37-0-1114" class="d">-
</a><a href="#h37-0-1115" id="h37-0-1115" class="d">-func size_map(p *Properties, base structPointer) int {
</a><a href="#h37-0-1116" id="h37-0-1116" class="d">-	v := structPointer_ExtMap(base, p.field)
</a><a href="#h37-0-1117" id="h37-0-1117" class="d">-	return extensionsMapSize(*v)
</a><a href="#h37-0-1118" id="h37-0-1118" class="d">-}
</a><a href="#h37-0-1119" id="h37-0-1119" class="d">-
</a><a href="#h37-0-1120" id="h37-0-1120" class="d">-func size_exts(p *Properties, base structPointer) int {
</a><a href="#h37-0-1121" id="h37-0-1121" class="d">-	v := structPointer_Extensions(base, p.field)
</a><a href="#h37-0-1122" id="h37-0-1122" class="d">-	return extensionsSize(v)
</a><a href="#h37-0-1123" id="h37-0-1123" class="d">-}
</a><a href="#h37-0-1124" id="h37-0-1124" class="d">-
</a><a href="#h37-0-1125" id="h37-0-1125" class="d">-// Encode a map field.
</a><a href="#h37-0-1126" id="h37-0-1126" class="d">-func (o *Buffer) enc_new_map(p *Properties, base structPointer) error {
</a><a href="#h37-0-1127" id="h37-0-1127" class="d">-	var state errorState // XXX: or do we need to plumb this through?
</a><a href="#h37-0-1128" id="h37-0-1128" class="d">-
</a><a href="#h37-0-1129" id="h37-0-1129" class="d">-	/*
</a><a href="#h37-0-1130" id="h37-0-1130" class="d">-		A map defined as
</a><a href="#h37-0-1131" id="h37-0-1131" class="d">-			map&lt;key_type, value_type&gt; map_field = N;
</a><a href="#h37-0-1132" id="h37-0-1132" class="d">-		is encoded in the same way as
</a><a href="#h37-0-1133" id="h37-0-1133" class="d">-			message MapFieldEntry {
</a><a href="#h37-0-1134" id="h37-0-1134" class="d">-				key_type key = 1;
</a><a href="#h37-0-1135" id="h37-0-1135" class="d">-				value_type value = 2;
</a><a href="#h37-0-1136" id="h37-0-1136" class="d">-			}
</a><a href="#h37-0-1137" id="h37-0-1137" class="d">-			repeated MapFieldEntry map_field = N;
</a><a href="#h37-0-1138" id="h37-0-1138" class="d">-	*/
</a><a href="#h37-0-1139" id="h37-0-1139" class="d">-
</a><a href="#h37-0-1140" id="h37-0-1140" class="d">-	v := structPointer_NewAt(base, p.field, p.mtype).Elem() // map[K]V
</a><a href="#h37-0-1141" id="h37-0-1141" class="d">-	if v.Len() == 0 {
</a><a href="#h37-0-1142" id="h37-0-1142" class="d">-		return nil
</a><a href="#h37-0-1143" id="h37-0-1143" class="d">-	}
</a><a href="#h37-0-1144" id="h37-0-1144" class="d">-
</a><a href="#h37-0-1145" id="h37-0-1145" class="d">-	keycopy, valcopy, keybase, valbase := mapEncodeScratch(p.mtype)
</a><a href="#h37-0-1146" id="h37-0-1146" class="d">-
</a><a href="#h37-0-1147" id="h37-0-1147" class="d">-	enc := func() error {
</a><a href="#h37-0-1148" id="h37-0-1148" class="d">-		if err := p.mkeyprop.enc(o, p.mkeyprop, keybase); err != nil {
</a><a href="#h37-0-1149" id="h37-0-1149" class="d">-			return err
</a><a href="#h37-0-1150" id="h37-0-1150" class="d">-		}
</a><a href="#h37-0-1151" id="h37-0-1151" class="d">-		if err := p.mvalprop.enc(o, p.mvalprop, valbase); err != nil &amp;&amp; err != ErrNil {
</a><a href="#h37-0-1152" id="h37-0-1152" class="d">-			return err
</a><a href="#h37-0-1153" id="h37-0-1153" class="d">-		}
</a><a href="#h37-0-1154" id="h37-0-1154" class="d">-		return nil
</a><a href="#h37-0-1155" id="h37-0-1155" class="d">-	}
</a><a href="#h37-0-1156" id="h37-0-1156" class="d">-
</a><a href="#h37-0-1157" id="h37-0-1157" class="d">-	// Don&#39;t sort map keys. It is not required by the spec, and C++ doesn&#39;t do it.
</a><a href="#h37-0-1158" id="h37-0-1158" class="d">-	for _, key := range v.MapKeys() {
</a><a href="#h37-0-1159" id="h37-0-1159" class="d">-		val := v.MapIndex(key)
</a><a href="#h37-0-1160" id="h37-0-1160" class="d">-
</a><a href="#h37-0-1161" id="h37-0-1161" class="d">-		keycopy.Set(key)
</a><a href="#h37-0-1162" id="h37-0-1162" class="d">-		valcopy.Set(val)
</a><a href="#h37-0-1163" id="h37-0-1163" class="d">-
</a><a href="#h37-0-1164" id="h37-0-1164" class="d">-		o.buf = append(o.buf, p.tagcode...)
</a><a href="#h37-0-1165" id="h37-0-1165" class="d">-		if err := o.enc_len_thing(enc, &amp;state); err != nil {
</a><a href="#h37-0-1166" id="h37-0-1166" class="d">-			return err
</a><a href="#h37-0-1167" id="h37-0-1167" class="d">-		}
</a><a href="#h37-0-1168" id="h37-0-1168" class="d">-	}
</a><a href="#h37-0-1169" id="h37-0-1169" class="d">-	return nil
</a><a href="#h37-0-1170" id="h37-0-1170" class="d">-}
</a><a href="#h37-0-1171" id="h37-0-1171" class="d">-
</a><a href="#h37-0-1172" id="h37-0-1172" class="d">-func size_new_map(p *Properties, base structPointer) int {
</a><a href="#h37-0-1173" id="h37-0-1173" class="d">-	v := structPointer_NewAt(base, p.field, p.mtype).Elem() // map[K]V
</a><a href="#h37-0-1174" id="h37-0-1174" class="d">-
</a><a href="#h37-0-1175" id="h37-0-1175" class="d">-	keycopy, valcopy, keybase, valbase := mapEncodeScratch(p.mtype)
</a><a href="#h37-0-1176" id="h37-0-1176" class="d">-
</a><a href="#h37-0-1177" id="h37-0-1177" class="d">-	n := 0
</a><a href="#h37-0-1178" id="h37-0-1178" class="d">-	for _, key := range v.MapKeys() {
</a><a href="#h37-0-1179" id="h37-0-1179" class="d">-		val := v.MapIndex(key)
</a><a href="#h37-0-1180" id="h37-0-1180" class="d">-		keycopy.Set(key)
</a><a href="#h37-0-1181" id="h37-0-1181" class="d">-		valcopy.Set(val)
</a><a href="#h37-0-1182" id="h37-0-1182" class="d">-
</a><a href="#h37-0-1183" id="h37-0-1183" class="d">-		// Tag codes for key and val are the responsibility of the sub-sizer.
</a><a href="#h37-0-1184" id="h37-0-1184" class="d">-		keysize := p.mkeyprop.size(p.mkeyprop, keybase)
</a><a href="#h37-0-1185" id="h37-0-1185" class="d">-		valsize := p.mvalprop.size(p.mvalprop, valbase)
</a><a href="#h37-0-1186" id="h37-0-1186" class="d">-		entry := keysize + valsize
</a><a href="#h37-0-1187" id="h37-0-1187" class="d">-		// Add on tag code and length of map entry itself.
</a><a href="#h37-0-1188" id="h37-0-1188" class="d">-		n += len(p.tagcode) + sizeVarint(uint64(entry)) + entry
</a><a href="#h37-0-1189" id="h37-0-1189" class="d">-	}
</a><a href="#h37-0-1190" id="h37-0-1190" class="d">-	return n
</a><a href="#h37-0-1191" id="h37-0-1191" class="d">-}
</a><a href="#h37-0-1192" id="h37-0-1192" class="d">-
</a><a href="#h37-0-1193" id="h37-0-1193" class="d">-// mapEncodeScratch returns a new reflect.Value matching the map&#39;s value type,
</a><a href="#h37-0-1194" id="h37-0-1194" class="d">-// and a structPointer suitable for passing to an encoder or sizer.
</a><a href="#h37-0-1195" id="h37-0-1195" class="d">-func mapEncodeScratch(mapType reflect.Type) (keycopy, valcopy reflect.Value, keybase, valbase structPointer) {
</a><a href="#h37-0-1196" id="h37-0-1196" class="d">-	// Prepare addressable doubly-indirect placeholders for the key and value types.
</a><a href="#h37-0-1197" id="h37-0-1197" class="d">-	// This is needed because the element-type encoders expect **T, but the map iteration produces T.
</a><a href="#h37-0-1198" id="h37-0-1198" class="d">-
</a><a href="#h37-0-1199" id="h37-0-1199" class="d">-	keycopy = reflect.New(mapType.Key()).Elem()                 // addressable K
</a><a href="#h37-0-1200" id="h37-0-1200" class="d">-	keyptr := reflect.New(reflect.PtrTo(keycopy.Type())).Elem() // addressable *K
</a><a href="#h37-0-1201" id="h37-0-1201" class="d">-	keyptr.Set(keycopy.Addr())                                  //
</a><a href="#h37-0-1202" id="h37-0-1202" class="d">-	keybase = toStructPointer(keyptr.Addr())                    // **K
</a><a href="#h37-0-1203" id="h37-0-1203" class="d">-
</a><a href="#h37-0-1204" id="h37-0-1204" class="d">-	// Value types are more varied and require special handling.
</a><a href="#h37-0-1205" id="h37-0-1205" class="d">-	switch mapType.Elem().Kind() {
</a><a href="#h37-0-1206" id="h37-0-1206" class="d">-	case reflect.Slice:
</a><a href="#h37-0-1207" id="h37-0-1207" class="d">-		// []byte
</a><a href="#h37-0-1208" id="h37-0-1208" class="d">-		var dummy []byte
</a><a href="#h37-0-1209" id="h37-0-1209" class="d">-		valcopy = reflect.ValueOf(&amp;dummy).Elem() // addressable []byte
</a><a href="#h37-0-1210" id="h37-0-1210" class="d">-		valbase = toStructPointer(valcopy.Addr())
</a><a href="#h37-0-1211" id="h37-0-1211" class="d">-	case reflect.Ptr:
</a><a href="#h37-0-1212" id="h37-0-1212" class="d">-		// message; the generated field type is map[K]*Msg (so V is *Msg),
</a><a href="#h37-0-1213" id="h37-0-1213" class="d">-		// so we only need one level of indirection.
</a><a href="#h37-0-1214" id="h37-0-1214" class="d">-		valcopy = reflect.New(mapType.Elem()).Elem() // addressable V
</a><a href="#h37-0-1215" id="h37-0-1215" class="d">-		valbase = toStructPointer(valcopy.Addr())
</a><a href="#h37-0-1216" id="h37-0-1216" class="d">-	default:
</a><a href="#h37-0-1217" id="h37-0-1217" class="d">-		// everything else
</a><a href="#h37-0-1218" id="h37-0-1218" class="d">-		valcopy = reflect.New(mapType.Elem()).Elem()                // addressable V
</a><a href="#h37-0-1219" id="h37-0-1219" class="d">-		valptr := reflect.New(reflect.PtrTo(valcopy.Type())).Elem() // addressable *V
</a><a href="#h37-0-1220" id="h37-0-1220" class="d">-		valptr.Set(valcopy.Addr())                                  //
</a><a href="#h37-0-1221" id="h37-0-1221" class="d">-		valbase = toStructPointer(valptr.Addr())                    // **V
</a><a href="#h37-0-1222" id="h37-0-1222" class="d">-	}
</a><a href="#h37-0-1223" id="h37-0-1223" class="d">-	return
</a><a href="#h37-0-1224" id="h37-0-1224" class="d">-}
</a><a href="#h37-0-1225" id="h37-0-1225" class="d">-
</a><a href="#h37-0-1226" id="h37-0-1226" class="d">-// Encode a struct.
</a><a href="#h37-0-1227" id="h37-0-1227" class="d">-func (o *Buffer) enc_struct(prop *StructProperties, base structPointer) error {
</a><a href="#h37-0-1228" id="h37-0-1228" class="d">-	var state errorState
</a><a href="#h37-0-1229" id="h37-0-1229" class="d">-	// Encode fields in tag order so that decoders may use optimizations
</a><a href="#h37-0-1230" id="h37-0-1230" class="d">-	// that depend on the ordering.
</a><a href="#h37-0-1231" id="h37-0-1231" class="d">-	// https://developers.google.com/protocol-buffers/docs/encoding#order
</a><a href="#h37-0-1232" id="h37-0-1232" class="d">-	for _, i := range prop.order {
</a><a href="#h37-0-1233" id="h37-0-1233" class="d">-		p := prop.Prop[i]
</a><a href="#h37-0-1234" id="h37-0-1234" class="d">-		if p.enc != nil {
</a><a href="#h37-0-1235" id="h37-0-1235" class="d">-			err := p.enc(o, p, base)
</a><a href="#h37-0-1236" id="h37-0-1236" class="d">-			if err != nil {
</a><a href="#h37-0-1237" id="h37-0-1237" class="d">-				if err == ErrNil {
</a><a href="#h37-0-1238" id="h37-0-1238" class="d">-					if p.Required &amp;&amp; state.err == nil {
</a><a href="#h37-0-1239" id="h37-0-1239" class="d">-						state.err = &amp;RequiredNotSetError{p.Name}
</a><a href="#h37-0-1240" id="h37-0-1240" class="d">-					}
</a><a href="#h37-0-1241" id="h37-0-1241" class="d">-				} else if err == errRepeatedHasNil {
</a><a href="#h37-0-1242" id="h37-0-1242" class="d">-					// Give more context to nil values in repeated fields.
</a><a href="#h37-0-1243" id="h37-0-1243" class="d">-					return errors.New(&quot;repeated field &quot; + p.OrigName + &quot; has nil element&quot;)
</a><a href="#h37-0-1244" id="h37-0-1244" class="d">-				} else if !state.shouldContinue(err, p) {
</a><a href="#h37-0-1245" id="h37-0-1245" class="d">-					return err
</a><a href="#h37-0-1246" id="h37-0-1246" class="d">-				}
</a><a href="#h37-0-1247" id="h37-0-1247" class="d">-			}
</a><a href="#h37-0-1248" id="h37-0-1248" class="d">-			if len(o.buf) &gt; maxMarshalSize {
</a><a href="#h37-0-1249" id="h37-0-1249" class="d">-				return ErrTooLarge
</a><a href="#h37-0-1250" id="h37-0-1250" class="d">-			}
</a><a href="#h37-0-1251" id="h37-0-1251" class="d">-		}
</a><a href="#h37-0-1252" id="h37-0-1252" class="d">-	}
</a><a href="#h37-0-1253" id="h37-0-1253" class="d">-
</a><a href="#h37-0-1254" id="h37-0-1254" class="d">-	// Do oneof fields.
</a><a href="#h37-0-1255" id="h37-0-1255" class="d">-	if prop.oneofMarshaler != nil {
</a><a href="#h37-0-1256" id="h37-0-1256" class="d">-		m := structPointer_Interface(base, prop.stype).(Message)
</a><a href="#h37-0-1257" id="h37-0-1257" class="d">-		if err := prop.oneofMarshaler(m, o); err == ErrNil {
</a><a href="#h37-0-1258" id="h37-0-1258" class="d">-			return errOneofHasNil
</a><a href="#h37-0-1259" id="h37-0-1259" class="d">-		} else if err != nil {
</a><a href="#h37-0-1260" id="h37-0-1260" class="d">-			return err
</a><a href="#h37-0-1261" id="h37-0-1261" class="d">-		}
</a><a href="#h37-0-1262" id="h37-0-1262" class="d">-	}
</a><a href="#h37-0-1263" id="h37-0-1263" class="d">-
</a><a href="#h37-0-1264" id="h37-0-1264" class="d">-	// Add unrecognized fields at the end.
</a><a href="#h37-0-1265" id="h37-0-1265" class="d">-	if prop.unrecField.IsValid() {
</a><a href="#h37-0-1266" id="h37-0-1266" class="d">-		v := *structPointer_Bytes(base, prop.unrecField)
</a><a href="#h37-0-1267" id="h37-0-1267" class="d">-		if len(o.buf)+len(v) &gt; maxMarshalSize {
</a><a href="#h37-0-1268" id="h37-0-1268" class="d">-			return ErrTooLarge
</a><a href="#h37-0-1269" id="h37-0-1269" class="d">-		}
</a><a href="#h37-0-1270" id="h37-0-1270" class="d">-		if len(v) &gt; 0 {
</a><a href="#h37-0-1271" id="h37-0-1271" class="d">-			o.buf = append(o.buf, v...)
</a><a href="#h37-0-1272" id="h37-0-1272" class="d">-		}
</a><a href="#h37-0-1273" id="h37-0-1273" class="d">-	}
</a><a href="#h37-0-1274" id="h37-0-1274" class="d">-
</a><a href="#h37-0-1275" id="h37-0-1275" class="d">-	return state.err
</a><a href="#h37-0-1276" id="h37-0-1276" class="d">-}
</a><a href="#h37-0-1277" id="h37-0-1277" class="d">-
</a><a href="#h37-0-1278" id="h37-0-1278" class="d">-func size_struct(prop *StructProperties, base structPointer) (n int) {
</a><a href="#h37-0-1279" id="h37-0-1279" class="d">-	for _, i := range prop.order {
</a><a href="#h37-0-1280" id="h37-0-1280" class="d">-		p := prop.Prop[i]
</a><a href="#h37-0-1281" id="h37-0-1281" class="d">-		if p.size != nil {
</a><a href="#h37-0-1282" id="h37-0-1282" class="d">-			n += p.size(p, base)
</a><a href="#h37-0-1283" id="h37-0-1283" class="d">-		}
</a><a href="#h37-0-1284" id="h37-0-1284" class="d">-	}
</a><a href="#h37-0-1285" id="h37-0-1285" class="d">-
</a><a href="#h37-0-1286" id="h37-0-1286" class="d">-	// Add unrecognized fields at the end.
</a><a href="#h37-0-1287" id="h37-0-1287" class="d">-	if prop.unrecField.IsValid() {
</a><a href="#h37-0-1288" id="h37-0-1288" class="d">-		v := *structPointer_Bytes(base, prop.unrecField)
</a><a href="#h37-0-1289" id="h37-0-1289" class="d">-		n += len(v)
</a><a href="#h37-0-1290" id="h37-0-1290" class="d">-	}
</a><a href="#h37-0-1291" id="h37-0-1291" class="d">-
</a><a href="#h37-0-1292" id="h37-0-1292" class="d">-	// Factor in any oneof fields.
</a><a href="#h37-0-1293" id="h37-0-1293" class="d">-	if prop.oneofSizer != nil {
</a><a href="#h37-0-1294" id="h37-0-1294" class="d">-		m := structPointer_Interface(base, prop.stype).(Message)
</a><a href="#h37-0-1295" id="h37-0-1295" class="d">-		n += prop.oneofSizer(m)
</a><a href="#h37-0-1296" id="h37-0-1296" class="d">-	}
</a><a href="#h37-0-1297" id="h37-0-1297" class="d">-
</a><a href="#h37-0-1298" id="h37-0-1298" class="d">-	return
</a><a href="#h37-0-1299" id="h37-0-1299" class="d">-}
</a><a href="#h37-0-1300" id="h37-0-1300" class="d">-
</a><a href="#h37-0-1301" id="h37-0-1301" class="d">-var zeroes [20]byte // longer than any conceivable sizeVarint
</a><a href="#h37-0-1302" id="h37-0-1302" class="d">-
</a><a href="#h37-0-1303" id="h37-0-1303" class="d">-// Encode a struct, preceded by its encoded length (as a varint).
</a><a href="#h37-0-1304" id="h37-0-1304" class="d">-func (o *Buffer) enc_len_struct(prop *StructProperties, base structPointer, state *errorState) error {
</a><a href="#h37-0-1305" id="h37-0-1305" class="d">-	return o.enc_len_thing(func() error { return o.enc_struct(prop, base) }, state)
</a><a href="#h37-0-1306" id="h37-0-1306" class="d">-}
</a><a href="#h37-0-1307" id="h37-0-1307" class="d">-
</a><a href="#h37-0-1308" id="h37-0-1308" class="d">-// Encode something, preceded by its encoded length (as a varint).
</a><a href="#h37-0-1309" id="h37-0-1309" class="d">-func (o *Buffer) enc_len_thing(enc func() error, state *errorState) error {
</a><a href="#h37-0-1310" id="h37-0-1310" class="d">-	iLen := len(o.buf)
</a><a href="#h37-0-1311" id="h37-0-1311" class="d">-	o.buf = append(o.buf, 0, 0, 0, 0) // reserve four bytes for length
</a><a href="#h37-0-1312" id="h37-0-1312" class="d">-	iMsg := len(o.buf)
</a><a href="#h37-0-1313" id="h37-0-1313" class="d">-	err := enc()
</a><a href="#h37-0-1314" id="h37-0-1314" class="d">-	if err != nil &amp;&amp; !state.shouldContinue(err, nil) {
</a><a href="#h37-0-1315" id="h37-0-1315" class="d">-		return err
</a><a href="#h37-0-1316" id="h37-0-1316" class="d">-	}
</a><a href="#h37-0-1317" id="h37-0-1317" class="d">-	lMsg := len(o.buf) - iMsg
</a><a href="#h37-0-1318" id="h37-0-1318" class="d">-	lLen := sizeVarint(uint64(lMsg))
</a><a href="#h37-0-1319" id="h37-0-1319" class="d">-	switch x := lLen - (iMsg - iLen); {
</a><a href="#h37-0-1320" id="h37-0-1320" class="d">-	case x &gt; 0: // actual length is x bytes larger than the space we reserved
</a><a href="#h37-0-1321" id="h37-0-1321" class="d">-		// Move msg x bytes right.
</a><a href="#h37-0-1322" id="h37-0-1322" class="d">-		o.buf = append(o.buf, zeroes[:x]...)
</a><a href="#h37-0-1323" id="h37-0-1323" class="d">-		copy(o.buf[iMsg+x:], o.buf[iMsg:iMsg+lMsg])
</a><a href="#h37-0-1324" id="h37-0-1324" class="d">-	case x &lt; 0: // actual length is x bytes smaller than the space we reserved
</a><a href="#h37-0-1325" id="h37-0-1325" class="d">-		// Move msg x bytes left.
</a><a href="#h37-0-1326" id="h37-0-1326" class="d">-		copy(o.buf[iMsg+x:], o.buf[iMsg:iMsg+lMsg])
</a><a href="#h37-0-1327" id="h37-0-1327" class="d">-		o.buf = o.buf[:len(o.buf)+x] // x is negative
</a><a href="#h37-0-1328" id="h37-0-1328" class="d">-	}
</a><a href="#h37-0-1329" id="h37-0-1329" class="d">-	// Encode the length in the reserved space.
</a><a href="#h37-0-1330" id="h37-0-1330" class="d">-	o.buf = o.buf[:iLen]
</a><a href="#h37-0-1331" id="h37-0-1331" class="d">-	o.EncodeVarint(uint64(lMsg))
</a><a href="#h37-0-1332" id="h37-0-1332" class="d">-	o.buf = o.buf[:len(o.buf)+lMsg]
</a><a href="#h37-0-1333" id="h37-0-1333" class="d">-	return state.err
</a><a href="#h37-0-1334" id="h37-0-1334" class="d">-}
</a><a href="#h37-0-1335" id="h37-0-1335" class="d">-
</a><a href="#h37-0-1336" id="h37-0-1336" class="d">-// errorState maintains the first error that occurs and updates that error
</a><a href="#h37-0-1337" id="h37-0-1337" class="d">-// with additional context.
</a><a href="#h37-0-1338" id="h37-0-1338" class="d">-type errorState struct {
</a><a href="#h37-0-1339" id="h37-0-1339" class="d">-	err error
</a><a href="#h37-0-1340" id="h37-0-1340" class="d">-}
</a><a href="#h37-0-1341" id="h37-0-1341" class="d">-
</a><a href="#h37-0-1342" id="h37-0-1342" class="d">-// shouldContinue reports whether encoding should continue upon encountering the
</a><a href="#h37-0-1343" id="h37-0-1343" class="d">-// given error. If the error is RequiredNotSetError, shouldContinue returns true
</a><a href="#h37-0-1344" id="h37-0-1344" class="d">-// and, if this is the first appearance of that error, remembers it for future
</a><a href="#h37-0-1345" id="h37-0-1345" class="d">-// reporting.
</a><a href="#h37-0-1346" id="h37-0-1346" class="d">-//
</a><a href="#h37-0-1347" id="h37-0-1347" class="d">-// If prop is not nil, it may update any error with additional context about the
</a><a href="#h37-0-1348" id="h37-0-1348" class="d">-// field with the error.
</a><a href="#h37-0-1349" id="h37-0-1349" class="d">-func (s *errorState) shouldContinue(err error, prop *Properties) bool {
</a><a href="#h37-0-1350" id="h37-0-1350" class="d">-	// Ignore unset required fields.
</a><a href="#h37-0-1351" id="h37-0-1351" class="d">-	reqNotSet, ok := err.(*RequiredNotSetError)
</a><a href="#h37-0-1352" id="h37-0-1352" class="d">-	if !ok {
</a><a href="#h37-0-1353" id="h37-0-1353" class="d">-		return false
</a><a href="#h37-0-1354" id="h37-0-1354" class="d">-	}
</a><a href="#h37-0-1355" id="h37-0-1355" class="d">-	if s.err == nil {
</a><a href="#h37-0-1356" id="h37-0-1356" class="d">-		if prop != nil {
</a><a href="#h37-0-1357" id="h37-0-1357" class="d">-			err = &amp;RequiredNotSetError{prop.Name + &quot;.&quot; + reqNotSet.field}
</a><a href="#h37-0-1358" id="h37-0-1358" class="d">-		}
</a><a href="#h37-0-1359" id="h37-0-1359" class="d">-		s.err = err
</a><a href="#h37-0-1360" id="h37-0-1360" class="d">-	}
</a><a href="#h37-0-1361" id="h37-0-1361" class="d">-	return true
</a><a href="#h37-0-1362" id="h37-0-1362" class="d">-}
</a><b>diff --git a/<a id="h38" href="../file/vendor/github.com/golang/protobuf/proto/equal.go">vendor/github.com/golang/protobuf/proto/equal.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/equal.go">vendor/github.com/golang/protobuf/proto/equal.go</a></b>
<a href="#h38-0" id="h38-0" class="h">@@ -1,296 +0,0 @@
</a><a href="#h38-0-0" id="h38-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h38-0-1" id="h38-0-1" class="d">-//
</a><a href="#h38-0-2" id="h38-0-2" class="d">-// Copyright 2011 The Go Authors.  All rights reserved.
</a><a href="#h38-0-3" id="h38-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h38-0-4" id="h38-0-4" class="d">-//
</a><a href="#h38-0-5" id="h38-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h38-0-6" id="h38-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h38-0-7" id="h38-0-7" class="d">-// met:
</a><a href="#h38-0-8" id="h38-0-8" class="d">-//
</a><a href="#h38-0-9" id="h38-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h38-0-10" id="h38-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h38-0-11" id="h38-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h38-0-12" id="h38-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h38-0-13" id="h38-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h38-0-14" id="h38-0-14" class="d">-// distribution.
</a><a href="#h38-0-15" id="h38-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h38-0-16" id="h38-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h38-0-17" id="h38-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h38-0-18" id="h38-0-18" class="d">-//
</a><a href="#h38-0-19" id="h38-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h38-0-20" id="h38-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h38-0-21" id="h38-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h38-0-22" id="h38-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h38-0-23" id="h38-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h38-0-24" id="h38-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h38-0-25" id="h38-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h38-0-26" id="h38-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h38-0-27" id="h38-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h38-0-28" id="h38-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h38-0-29" id="h38-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h38-0-30" id="h38-0-30" class="d">-
</a><a href="#h38-0-31" id="h38-0-31" class="d">-// Protocol buffer comparison.
</a><a href="#h38-0-32" id="h38-0-32" class="d">-
</a><a href="#h38-0-33" id="h38-0-33" class="d">-package proto
</a><a href="#h38-0-34" id="h38-0-34" class="d">-
</a><a href="#h38-0-35" id="h38-0-35" class="d">-import (
</a><a href="#h38-0-36" id="h38-0-36" class="d">-	&quot;bytes&quot;
</a><a href="#h38-0-37" id="h38-0-37" class="d">-	&quot;log&quot;
</a><a href="#h38-0-38" id="h38-0-38" class="d">-	&quot;reflect&quot;
</a><a href="#h38-0-39" id="h38-0-39" class="d">-	&quot;strings&quot;
</a><a href="#h38-0-40" id="h38-0-40" class="d">-)
</a><a href="#h38-0-41" id="h38-0-41" class="d">-
</a><a href="#h38-0-42" id="h38-0-42" class="d">-/*
</a><a href="#h38-0-43" id="h38-0-43" class="d">-Equal returns true iff protocol buffers a and b are equal.
</a><a href="#h38-0-44" id="h38-0-44" class="d">-The arguments must both be pointers to protocol buffer structs.
</a><a href="#h38-0-45" id="h38-0-45" class="d">-
</a><a href="#h38-0-46" id="h38-0-46" class="d">-Equality is defined in this way:
</a><a href="#h38-0-47" id="h38-0-47" class="d">-  - Two messages are equal iff they are the same type,
</a><a href="#h38-0-48" id="h38-0-48" class="d">-    corresponding fields are equal, unknown field sets
</a><a href="#h38-0-49" id="h38-0-49" class="d">-    are equal, and extensions sets are equal.
</a><a href="#h38-0-50" id="h38-0-50" class="d">-  - Two set scalar fields are equal iff their values are equal.
</a><a href="#h38-0-51" id="h38-0-51" class="d">-    If the fields are of a floating-point type, remember that
</a><a href="#h38-0-52" id="h38-0-52" class="d">-    NaN != x for all x, including NaN. If the message is defined
</a><a href="#h38-0-53" id="h38-0-53" class="d">-    in a proto3 .proto file, fields are not &quot;set&quot;; specifically,
</a><a href="#h38-0-54" id="h38-0-54" class="d">-    zero length proto3 &quot;bytes&quot; fields are equal (nil == {}).
</a><a href="#h38-0-55" id="h38-0-55" class="d">-  - Two repeated fields are equal iff their lengths are the same,
</a><a href="#h38-0-56" id="h38-0-56" class="d">-    and their corresponding elements are equal (a &quot;bytes&quot; field,
</a><a href="#h38-0-57" id="h38-0-57" class="d">-    although represented by []byte, is not a repeated field)
</a><a href="#h38-0-58" id="h38-0-58" class="d">-  - Two unset fields are equal.
</a><a href="#h38-0-59" id="h38-0-59" class="d">-  - Two unknown field sets are equal if their current
</a><a href="#h38-0-60" id="h38-0-60" class="d">-    encoded state is equal.
</a><a href="#h38-0-61" id="h38-0-61" class="d">-  - Two extension sets are equal iff they have corresponding
</a><a href="#h38-0-62" id="h38-0-62" class="d">-    elements that are pairwise equal.
</a><a href="#h38-0-63" id="h38-0-63" class="d">-  - Every other combination of things are not equal.
</a><a href="#h38-0-64" id="h38-0-64" class="d">-
</a><a href="#h38-0-65" id="h38-0-65" class="d">-The return value is undefined if a and b are not protocol buffers.
</a><a href="#h38-0-66" id="h38-0-66" class="d">-*/
</a><a href="#h38-0-67" id="h38-0-67" class="d">-func Equal(a, b Message) bool {
</a><a href="#h38-0-68" id="h38-0-68" class="d">-	if a == nil || b == nil {
</a><a href="#h38-0-69" id="h38-0-69" class="d">-		return a == b
</a><a href="#h38-0-70" id="h38-0-70" class="d">-	}
</a><a href="#h38-0-71" id="h38-0-71" class="d">-	v1, v2 := reflect.ValueOf(a), reflect.ValueOf(b)
</a><a href="#h38-0-72" id="h38-0-72" class="d">-	if v1.Type() != v2.Type() {
</a><a href="#h38-0-73" id="h38-0-73" class="d">-		return false
</a><a href="#h38-0-74" id="h38-0-74" class="d">-	}
</a><a href="#h38-0-75" id="h38-0-75" class="d">-	if v1.Kind() == reflect.Ptr {
</a><a href="#h38-0-76" id="h38-0-76" class="d">-		if v1.IsNil() {
</a><a href="#h38-0-77" id="h38-0-77" class="d">-			return v2.IsNil()
</a><a href="#h38-0-78" id="h38-0-78" class="d">-		}
</a><a href="#h38-0-79" id="h38-0-79" class="d">-		if v2.IsNil() {
</a><a href="#h38-0-80" id="h38-0-80" class="d">-			return false
</a><a href="#h38-0-81" id="h38-0-81" class="d">-		}
</a><a href="#h38-0-82" id="h38-0-82" class="d">-		v1, v2 = v1.Elem(), v2.Elem()
</a><a href="#h38-0-83" id="h38-0-83" class="d">-	}
</a><a href="#h38-0-84" id="h38-0-84" class="d">-	if v1.Kind() != reflect.Struct {
</a><a href="#h38-0-85" id="h38-0-85" class="d">-		return false
</a><a href="#h38-0-86" id="h38-0-86" class="d">-	}
</a><a href="#h38-0-87" id="h38-0-87" class="d">-	return equalStruct(v1, v2)
</a><a href="#h38-0-88" id="h38-0-88" class="d">-}
</a><a href="#h38-0-89" id="h38-0-89" class="d">-
</a><a href="#h38-0-90" id="h38-0-90" class="d">-// v1 and v2 are known to have the same type.
</a><a href="#h38-0-91" id="h38-0-91" class="d">-func equalStruct(v1, v2 reflect.Value) bool {
</a><a href="#h38-0-92" id="h38-0-92" class="d">-	sprop := GetProperties(v1.Type())
</a><a href="#h38-0-93" id="h38-0-93" class="d">-	for i := 0; i &lt; v1.NumField(); i++ {
</a><a href="#h38-0-94" id="h38-0-94" class="d">-		f := v1.Type().Field(i)
</a><a href="#h38-0-95" id="h38-0-95" class="d">-		if strings.HasPrefix(f.Name, &quot;XXX_&quot;) {
</a><a href="#h38-0-96" id="h38-0-96" class="d">-			continue
</a><a href="#h38-0-97" id="h38-0-97" class="d">-		}
</a><a href="#h38-0-98" id="h38-0-98" class="d">-		f1, f2 := v1.Field(i), v2.Field(i)
</a><a href="#h38-0-99" id="h38-0-99" class="d">-		if f.Type.Kind() == reflect.Ptr {
</a><a href="#h38-0-100" id="h38-0-100" class="d">-			if n1, n2 := f1.IsNil(), f2.IsNil(); n1 &amp;&amp; n2 {
</a><a href="#h38-0-101" id="h38-0-101" class="d">-				// both unset
</a><a href="#h38-0-102" id="h38-0-102" class="d">-				continue
</a><a href="#h38-0-103" id="h38-0-103" class="d">-			} else if n1 != n2 {
</a><a href="#h38-0-104" id="h38-0-104" class="d">-				// set/unset mismatch
</a><a href="#h38-0-105" id="h38-0-105" class="d">-				return false
</a><a href="#h38-0-106" id="h38-0-106" class="d">-			}
</a><a href="#h38-0-107" id="h38-0-107" class="d">-			b1, ok := f1.Interface().(raw)
</a><a href="#h38-0-108" id="h38-0-108" class="d">-			if ok {
</a><a href="#h38-0-109" id="h38-0-109" class="d">-				b2 := f2.Interface().(raw)
</a><a href="#h38-0-110" id="h38-0-110" class="d">-				// RawMessage
</a><a href="#h38-0-111" id="h38-0-111" class="d">-				if !bytes.Equal(b1.Bytes(), b2.Bytes()) {
</a><a href="#h38-0-112" id="h38-0-112" class="d">-					return false
</a><a href="#h38-0-113" id="h38-0-113" class="d">-				}
</a><a href="#h38-0-114" id="h38-0-114" class="d">-				continue
</a><a href="#h38-0-115" id="h38-0-115" class="d">-			}
</a><a href="#h38-0-116" id="h38-0-116" class="d">-			f1, f2 = f1.Elem(), f2.Elem()
</a><a href="#h38-0-117" id="h38-0-117" class="d">-		}
</a><a href="#h38-0-118" id="h38-0-118" class="d">-		if !equalAny(f1, f2, sprop.Prop[i]) {
</a><a href="#h38-0-119" id="h38-0-119" class="d">-			return false
</a><a href="#h38-0-120" id="h38-0-120" class="d">-		}
</a><a href="#h38-0-121" id="h38-0-121" class="d">-	}
</a><a href="#h38-0-122" id="h38-0-122" class="d">-
</a><a href="#h38-0-123" id="h38-0-123" class="d">-	if em1 := v1.FieldByName(&quot;XXX_InternalExtensions&quot;); em1.IsValid() {
</a><a href="#h38-0-124" id="h38-0-124" class="d">-		em2 := v2.FieldByName(&quot;XXX_InternalExtensions&quot;)
</a><a href="#h38-0-125" id="h38-0-125" class="d">-		if !equalExtensions(v1.Type(), em1.Interface().(XXX_InternalExtensions), em2.Interface().(XXX_InternalExtensions)) {
</a><a href="#h38-0-126" id="h38-0-126" class="d">-			return false
</a><a href="#h38-0-127" id="h38-0-127" class="d">-		}
</a><a href="#h38-0-128" id="h38-0-128" class="d">-	}
</a><a href="#h38-0-129" id="h38-0-129" class="d">-
</a><a href="#h38-0-130" id="h38-0-130" class="d">-	if em1 := v1.FieldByName(&quot;XXX_extensions&quot;); em1.IsValid() {
</a><a href="#h38-0-131" id="h38-0-131" class="d">-		em2 := v2.FieldByName(&quot;XXX_extensions&quot;)
</a><a href="#h38-0-132" id="h38-0-132" class="d">-		if !equalExtMap(v1.Type(), em1.Interface().(map[int32]Extension), em2.Interface().(map[int32]Extension)) {
</a><a href="#h38-0-133" id="h38-0-133" class="d">-			return false
</a><a href="#h38-0-134" id="h38-0-134" class="d">-		}
</a><a href="#h38-0-135" id="h38-0-135" class="d">-	}
</a><a href="#h38-0-136" id="h38-0-136" class="d">-
</a><a href="#h38-0-137" id="h38-0-137" class="d">-	uf := v1.FieldByName(&quot;XXX_unrecognized&quot;)
</a><a href="#h38-0-138" id="h38-0-138" class="d">-	if !uf.IsValid() {
</a><a href="#h38-0-139" id="h38-0-139" class="d">-		return true
</a><a href="#h38-0-140" id="h38-0-140" class="d">-	}
</a><a href="#h38-0-141" id="h38-0-141" class="d">-
</a><a href="#h38-0-142" id="h38-0-142" class="d">-	u1 := uf.Bytes()
</a><a href="#h38-0-143" id="h38-0-143" class="d">-	u2 := v2.FieldByName(&quot;XXX_unrecognized&quot;).Bytes()
</a><a href="#h38-0-144" id="h38-0-144" class="d">-	if !bytes.Equal(u1, u2) {
</a><a href="#h38-0-145" id="h38-0-145" class="d">-		return false
</a><a href="#h38-0-146" id="h38-0-146" class="d">-	}
</a><a href="#h38-0-147" id="h38-0-147" class="d">-
</a><a href="#h38-0-148" id="h38-0-148" class="d">-	return true
</a><a href="#h38-0-149" id="h38-0-149" class="d">-}
</a><a href="#h38-0-150" id="h38-0-150" class="d">-
</a><a href="#h38-0-151" id="h38-0-151" class="d">-// v1 and v2 are known to have the same type.
</a><a href="#h38-0-152" id="h38-0-152" class="d">-// prop may be nil.
</a><a href="#h38-0-153" id="h38-0-153" class="d">-func equalAny(v1, v2 reflect.Value, prop *Properties) bool {
</a><a href="#h38-0-154" id="h38-0-154" class="d">-	if v1.Type() == protoMessageType {
</a><a href="#h38-0-155" id="h38-0-155" class="d">-		m1, _ := v1.Interface().(Message)
</a><a href="#h38-0-156" id="h38-0-156" class="d">-		m2, _ := v2.Interface().(Message)
</a><a href="#h38-0-157" id="h38-0-157" class="d">-		return Equal(m1, m2)
</a><a href="#h38-0-158" id="h38-0-158" class="d">-	}
</a><a href="#h38-0-159" id="h38-0-159" class="d">-	switch v1.Kind() {
</a><a href="#h38-0-160" id="h38-0-160" class="d">-	case reflect.Bool:
</a><a href="#h38-0-161" id="h38-0-161" class="d">-		return v1.Bool() == v2.Bool()
</a><a href="#h38-0-162" id="h38-0-162" class="d">-	case reflect.Float32, reflect.Float64:
</a><a href="#h38-0-163" id="h38-0-163" class="d">-		return v1.Float() == v2.Float()
</a><a href="#h38-0-164" id="h38-0-164" class="d">-	case reflect.Int32, reflect.Int64:
</a><a href="#h38-0-165" id="h38-0-165" class="d">-		return v1.Int() == v2.Int()
</a><a href="#h38-0-166" id="h38-0-166" class="d">-	case reflect.Interface:
</a><a href="#h38-0-167" id="h38-0-167" class="d">-		// Probably a oneof field; compare the inner values.
</a><a href="#h38-0-168" id="h38-0-168" class="d">-		n1, n2 := v1.IsNil(), v2.IsNil()
</a><a href="#h38-0-169" id="h38-0-169" class="d">-		if n1 || n2 {
</a><a href="#h38-0-170" id="h38-0-170" class="d">-			return n1 == n2
</a><a href="#h38-0-171" id="h38-0-171" class="d">-		}
</a><a href="#h38-0-172" id="h38-0-172" class="d">-		e1, e2 := v1.Elem(), v2.Elem()
</a><a href="#h38-0-173" id="h38-0-173" class="d">-		if e1.Type() != e2.Type() {
</a><a href="#h38-0-174" id="h38-0-174" class="d">-			return false
</a><a href="#h38-0-175" id="h38-0-175" class="d">-		}
</a><a href="#h38-0-176" id="h38-0-176" class="d">-		return equalAny(e1, e2, nil)
</a><a href="#h38-0-177" id="h38-0-177" class="d">-	case reflect.Map:
</a><a href="#h38-0-178" id="h38-0-178" class="d">-		if v1.Len() != v2.Len() {
</a><a href="#h38-0-179" id="h38-0-179" class="d">-			return false
</a><a href="#h38-0-180" id="h38-0-180" class="d">-		}
</a><a href="#h38-0-181" id="h38-0-181" class="d">-		for _, key := range v1.MapKeys() {
</a><a href="#h38-0-182" id="h38-0-182" class="d">-			val2 := v2.MapIndex(key)
</a><a href="#h38-0-183" id="h38-0-183" class="d">-			if !val2.IsValid() {
</a><a href="#h38-0-184" id="h38-0-184" class="d">-				// This key was not found in the second map.
</a><a href="#h38-0-185" id="h38-0-185" class="d">-				return false
</a><a href="#h38-0-186" id="h38-0-186" class="d">-			}
</a><a href="#h38-0-187" id="h38-0-187" class="d">-			if !equalAny(v1.MapIndex(key), val2, nil) {
</a><a href="#h38-0-188" id="h38-0-188" class="d">-				return false
</a><a href="#h38-0-189" id="h38-0-189" class="d">-			}
</a><a href="#h38-0-190" id="h38-0-190" class="d">-		}
</a><a href="#h38-0-191" id="h38-0-191" class="d">-		return true
</a><a href="#h38-0-192" id="h38-0-192" class="d">-	case reflect.Ptr:
</a><a href="#h38-0-193" id="h38-0-193" class="d">-		// Maps may have nil values in them, so check for nil.
</a><a href="#h38-0-194" id="h38-0-194" class="d">-		if v1.IsNil() &amp;&amp; v2.IsNil() {
</a><a href="#h38-0-195" id="h38-0-195" class="d">-			return true
</a><a href="#h38-0-196" id="h38-0-196" class="d">-		}
</a><a href="#h38-0-197" id="h38-0-197" class="d">-		if v1.IsNil() != v2.IsNil() {
</a><a href="#h38-0-198" id="h38-0-198" class="d">-			return false
</a><a href="#h38-0-199" id="h38-0-199" class="d">-		}
</a><a href="#h38-0-200" id="h38-0-200" class="d">-		return equalAny(v1.Elem(), v2.Elem(), prop)
</a><a href="#h38-0-201" id="h38-0-201" class="d">-	case reflect.Slice:
</a><a href="#h38-0-202" id="h38-0-202" class="d">-		if v1.Type().Elem().Kind() == reflect.Uint8 {
</a><a href="#h38-0-203" id="h38-0-203" class="d">-			// short circuit: []byte
</a><a href="#h38-0-204" id="h38-0-204" class="d">-
</a><a href="#h38-0-205" id="h38-0-205" class="d">-			// Edge case: if this is in a proto3 message, a zero length
</a><a href="#h38-0-206" id="h38-0-206" class="d">-			// bytes field is considered the zero value.
</a><a href="#h38-0-207" id="h38-0-207" class="d">-			if prop != nil &amp;&amp; prop.proto3 &amp;&amp; v1.Len() == 0 &amp;&amp; v2.Len() == 0 {
</a><a href="#h38-0-208" id="h38-0-208" class="d">-				return true
</a><a href="#h38-0-209" id="h38-0-209" class="d">-			}
</a><a href="#h38-0-210" id="h38-0-210" class="d">-			if v1.IsNil() != v2.IsNil() {
</a><a href="#h38-0-211" id="h38-0-211" class="d">-				return false
</a><a href="#h38-0-212" id="h38-0-212" class="d">-			}
</a><a href="#h38-0-213" id="h38-0-213" class="d">-			return bytes.Equal(v1.Interface().([]byte), v2.Interface().([]byte))
</a><a href="#h38-0-214" id="h38-0-214" class="d">-		}
</a><a href="#h38-0-215" id="h38-0-215" class="d">-
</a><a href="#h38-0-216" id="h38-0-216" class="d">-		if v1.Len() != v2.Len() {
</a><a href="#h38-0-217" id="h38-0-217" class="d">-			return false
</a><a href="#h38-0-218" id="h38-0-218" class="d">-		}
</a><a href="#h38-0-219" id="h38-0-219" class="d">-		for i := 0; i &lt; v1.Len(); i++ {
</a><a href="#h38-0-220" id="h38-0-220" class="d">-			if !equalAny(v1.Index(i), v2.Index(i), prop) {
</a><a href="#h38-0-221" id="h38-0-221" class="d">-				return false
</a><a href="#h38-0-222" id="h38-0-222" class="d">-			}
</a><a href="#h38-0-223" id="h38-0-223" class="d">-		}
</a><a href="#h38-0-224" id="h38-0-224" class="d">-		return true
</a><a href="#h38-0-225" id="h38-0-225" class="d">-	case reflect.String:
</a><a href="#h38-0-226" id="h38-0-226" class="d">-		return v1.Interface().(string) == v2.Interface().(string)
</a><a href="#h38-0-227" id="h38-0-227" class="d">-	case reflect.Struct:
</a><a href="#h38-0-228" id="h38-0-228" class="d">-		return equalStruct(v1, v2)
</a><a href="#h38-0-229" id="h38-0-229" class="d">-	case reflect.Uint32, reflect.Uint64:
</a><a href="#h38-0-230" id="h38-0-230" class="d">-		return v1.Uint() == v2.Uint()
</a><a href="#h38-0-231" id="h38-0-231" class="d">-	}
</a><a href="#h38-0-232" id="h38-0-232" class="d">-
</a><a href="#h38-0-233" id="h38-0-233" class="d">-	// unknown type, so not a protocol buffer
</a><a href="#h38-0-234" id="h38-0-234" class="d">-	log.Printf(&quot;proto: don&#39;t know how to compare %v&quot;, v1)
</a><a href="#h38-0-235" id="h38-0-235" class="d">-	return false
</a><a href="#h38-0-236" id="h38-0-236" class="d">-}
</a><a href="#h38-0-237" id="h38-0-237" class="d">-
</a><a href="#h38-0-238" id="h38-0-238" class="d">-// base is the struct type that the extensions are based on.
</a><a href="#h38-0-239" id="h38-0-239" class="d">-// x1 and x2 are InternalExtensions.
</a><a href="#h38-0-240" id="h38-0-240" class="d">-func equalExtensions(base reflect.Type, x1, x2 XXX_InternalExtensions) bool {
</a><a href="#h38-0-241" id="h38-0-241" class="d">-	em1, _ := x1.extensionsRead()
</a><a href="#h38-0-242" id="h38-0-242" class="d">-	em2, _ := x2.extensionsRead()
</a><a href="#h38-0-243" id="h38-0-243" class="d">-	return equalExtMap(base, em1, em2)
</a><a href="#h38-0-244" id="h38-0-244" class="d">-}
</a><a href="#h38-0-245" id="h38-0-245" class="d">-
</a><a href="#h38-0-246" id="h38-0-246" class="d">-func equalExtMap(base reflect.Type, em1, em2 map[int32]Extension) bool {
</a><a href="#h38-0-247" id="h38-0-247" class="d">-	if len(em1) != len(em2) {
</a><a href="#h38-0-248" id="h38-0-248" class="d">-		return false
</a><a href="#h38-0-249" id="h38-0-249" class="d">-	}
</a><a href="#h38-0-250" id="h38-0-250" class="d">-
</a><a href="#h38-0-251" id="h38-0-251" class="d">-	for extNum, e1 := range em1 {
</a><a href="#h38-0-252" id="h38-0-252" class="d">-		e2, ok := em2[extNum]
</a><a href="#h38-0-253" id="h38-0-253" class="d">-		if !ok {
</a><a href="#h38-0-254" id="h38-0-254" class="d">-			return false
</a><a href="#h38-0-255" id="h38-0-255" class="d">-		}
</a><a href="#h38-0-256" id="h38-0-256" class="d">-
</a><a href="#h38-0-257" id="h38-0-257" class="d">-		m1, m2 := e1.value, e2.value
</a><a href="#h38-0-258" id="h38-0-258" class="d">-
</a><a href="#h38-0-259" id="h38-0-259" class="d">-		if m1 != nil &amp;&amp; m2 != nil {
</a><a href="#h38-0-260" id="h38-0-260" class="d">-			// Both are unencoded.
</a><a href="#h38-0-261" id="h38-0-261" class="d">-			if !equalAny(reflect.ValueOf(m1), reflect.ValueOf(m2), nil) {
</a><a href="#h38-0-262" id="h38-0-262" class="d">-				return false
</a><a href="#h38-0-263" id="h38-0-263" class="d">-			}
</a><a href="#h38-0-264" id="h38-0-264" class="d">-			continue
</a><a href="#h38-0-265" id="h38-0-265" class="d">-		}
</a><a href="#h38-0-266" id="h38-0-266" class="d">-
</a><a href="#h38-0-267" id="h38-0-267" class="d">-		// At least one is encoded. To do a semantically correct comparison
</a><a href="#h38-0-268" id="h38-0-268" class="d">-		// we need to unmarshal them first.
</a><a href="#h38-0-269" id="h38-0-269" class="d">-		var desc *ExtensionDesc
</a><a href="#h38-0-270" id="h38-0-270" class="d">-		if m := extensionMaps[base]; m != nil {
</a><a href="#h38-0-271" id="h38-0-271" class="d">-			desc = m[extNum]
</a><a href="#h38-0-272" id="h38-0-272" class="d">-		}
</a><a href="#h38-0-273" id="h38-0-273" class="d">-		if desc == nil {
</a><a href="#h38-0-274" id="h38-0-274" class="d">-			log.Printf(&quot;proto: don&#39;t know how to compare extension %d of %v&quot;, extNum, base)
</a><a href="#h38-0-275" id="h38-0-275" class="d">-			continue
</a><a href="#h38-0-276" id="h38-0-276" class="d">-		}
</a><a href="#h38-0-277" id="h38-0-277" class="d">-		var err error
</a><a href="#h38-0-278" id="h38-0-278" class="d">-		if m1 == nil {
</a><a href="#h38-0-279" id="h38-0-279" class="d">-			m1, err = decodeExtension(e1.enc, desc)
</a><a href="#h38-0-280" id="h38-0-280" class="d">-		}
</a><a href="#h38-0-281" id="h38-0-281" class="d">-		if m2 == nil &amp;&amp; err == nil {
</a><a href="#h38-0-282" id="h38-0-282" class="d">-			m2, err = decodeExtension(e2.enc, desc)
</a><a href="#h38-0-283" id="h38-0-283" class="d">-		}
</a><a href="#h38-0-284" id="h38-0-284" class="d">-		if err != nil {
</a><a href="#h38-0-285" id="h38-0-285" class="d">-			// The encoded form is invalid.
</a><a href="#h38-0-286" id="h38-0-286" class="d">-			log.Printf(&quot;proto: badly encoded extension %d of %v: %v&quot;, extNum, base, err)
</a><a href="#h38-0-287" id="h38-0-287" class="d">-			return false
</a><a href="#h38-0-288" id="h38-0-288" class="d">-		}
</a><a href="#h38-0-289" id="h38-0-289" class="d">-		if !equalAny(reflect.ValueOf(m1), reflect.ValueOf(m2), nil) {
</a><a href="#h38-0-290" id="h38-0-290" class="d">-			return false
</a><a href="#h38-0-291" id="h38-0-291" class="d">-		}
</a><a href="#h38-0-292" id="h38-0-292" class="d">-	}
</a><a href="#h38-0-293" id="h38-0-293" class="d">-
</a><a href="#h38-0-294" id="h38-0-294" class="d">-	return true
</a><a href="#h38-0-295" id="h38-0-295" class="d">-}
</a><b>diff --git a/<a id="h39" href="../file/vendor/github.com/golang/protobuf/proto/extensions.go">vendor/github.com/golang/protobuf/proto/extensions.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/extensions.go">vendor/github.com/golang/protobuf/proto/extensions.go</a></b>
<a href="#h39-0" id="h39-0" class="h">@@ -1,586 +0,0 @@
</a><a href="#h39-0-0" id="h39-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h39-0-1" id="h39-0-1" class="d">-//
</a><a href="#h39-0-2" id="h39-0-2" class="d">-// Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h39-0-3" id="h39-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h39-0-4" id="h39-0-4" class="d">-//
</a><a href="#h39-0-5" id="h39-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h39-0-6" id="h39-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h39-0-7" id="h39-0-7" class="d">-// met:
</a><a href="#h39-0-8" id="h39-0-8" class="d">-//
</a><a href="#h39-0-9" id="h39-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h39-0-10" id="h39-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h39-0-11" id="h39-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h39-0-12" id="h39-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h39-0-13" id="h39-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h39-0-14" id="h39-0-14" class="d">-// distribution.
</a><a href="#h39-0-15" id="h39-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h39-0-16" id="h39-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h39-0-17" id="h39-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h39-0-18" id="h39-0-18" class="d">-//
</a><a href="#h39-0-19" id="h39-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h39-0-20" id="h39-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h39-0-21" id="h39-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h39-0-22" id="h39-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h39-0-23" id="h39-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h39-0-24" id="h39-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h39-0-25" id="h39-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h39-0-26" id="h39-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h39-0-27" id="h39-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h39-0-28" id="h39-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h39-0-29" id="h39-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h39-0-30" id="h39-0-30" class="d">-
</a><a href="#h39-0-31" id="h39-0-31" class="d">-package proto
</a><a href="#h39-0-32" id="h39-0-32" class="d">-
</a><a href="#h39-0-33" id="h39-0-33" class="d">-/*
</a><a href="#h39-0-34" id="h39-0-34" class="d">- * Types and routines for supporting protocol buffer extensions.
</a><a href="#h39-0-35" id="h39-0-35" class="d">- */
</a><a href="#h39-0-36" id="h39-0-36" class="d">-
</a><a href="#h39-0-37" id="h39-0-37" class="d">-import (
</a><a href="#h39-0-38" id="h39-0-38" class="d">-	&quot;errors&quot;
</a><a href="#h39-0-39" id="h39-0-39" class="d">-	&quot;fmt&quot;
</a><a href="#h39-0-40" id="h39-0-40" class="d">-	&quot;reflect&quot;
</a><a href="#h39-0-41" id="h39-0-41" class="d">-	&quot;strconv&quot;
</a><a href="#h39-0-42" id="h39-0-42" class="d">-	&quot;sync&quot;
</a><a href="#h39-0-43" id="h39-0-43" class="d">-)
</a><a href="#h39-0-44" id="h39-0-44" class="d">-
</a><a href="#h39-0-45" id="h39-0-45" class="d">-// ErrMissingExtension is the error returned by GetExtension if the named extension is not in the message.
</a><a href="#h39-0-46" id="h39-0-46" class="d">-var ErrMissingExtension = errors.New(&quot;proto: missing extension&quot;)
</a><a href="#h39-0-47" id="h39-0-47" class="d">-
</a><a href="#h39-0-48" id="h39-0-48" class="d">-// ExtensionRange represents a range of message extensions for a protocol buffer.
</a><a href="#h39-0-49" id="h39-0-49" class="d">-// Used in code generated by the protocol compiler.
</a><a href="#h39-0-50" id="h39-0-50" class="d">-type ExtensionRange struct {
</a><a href="#h39-0-51" id="h39-0-51" class="d">-	Start, End int32 // both inclusive
</a><a href="#h39-0-52" id="h39-0-52" class="d">-}
</a><a href="#h39-0-53" id="h39-0-53" class="d">-
</a><a href="#h39-0-54" id="h39-0-54" class="d">-// extendableProto is an interface implemented by any protocol buffer generated by the current
</a><a href="#h39-0-55" id="h39-0-55" class="d">-// proto compiler that may be extended.
</a><a href="#h39-0-56" id="h39-0-56" class="d">-type extendableProto interface {
</a><a href="#h39-0-57" id="h39-0-57" class="d">-	Message
</a><a href="#h39-0-58" id="h39-0-58" class="d">-	ExtensionRangeArray() []ExtensionRange
</a><a href="#h39-0-59" id="h39-0-59" class="d">-	extensionsWrite() map[int32]Extension
</a><a href="#h39-0-60" id="h39-0-60" class="d">-	extensionsRead() (map[int32]Extension, sync.Locker)
</a><a href="#h39-0-61" id="h39-0-61" class="d">-}
</a><a href="#h39-0-62" id="h39-0-62" class="d">-
</a><a href="#h39-0-63" id="h39-0-63" class="d">-// extendableProtoV1 is an interface implemented by a protocol buffer generated by the previous
</a><a href="#h39-0-64" id="h39-0-64" class="d">-// version of the proto compiler that may be extended.
</a><a href="#h39-0-65" id="h39-0-65" class="d">-type extendableProtoV1 interface {
</a><a href="#h39-0-66" id="h39-0-66" class="d">-	Message
</a><a href="#h39-0-67" id="h39-0-67" class="d">-	ExtensionRangeArray() []ExtensionRange
</a><a href="#h39-0-68" id="h39-0-68" class="d">-	ExtensionMap() map[int32]Extension
</a><a href="#h39-0-69" id="h39-0-69" class="d">-}
</a><a href="#h39-0-70" id="h39-0-70" class="d">-
</a><a href="#h39-0-71" id="h39-0-71" class="d">-// extensionAdapter is a wrapper around extendableProtoV1 that implements extendableProto.
</a><a href="#h39-0-72" id="h39-0-72" class="d">-type extensionAdapter struct {
</a><a href="#h39-0-73" id="h39-0-73" class="d">-	extendableProtoV1
</a><a href="#h39-0-74" id="h39-0-74" class="d">-}
</a><a href="#h39-0-75" id="h39-0-75" class="d">-
</a><a href="#h39-0-76" id="h39-0-76" class="d">-func (e extensionAdapter) extensionsWrite() map[int32]Extension {
</a><a href="#h39-0-77" id="h39-0-77" class="d">-	return e.ExtensionMap()
</a><a href="#h39-0-78" id="h39-0-78" class="d">-}
</a><a href="#h39-0-79" id="h39-0-79" class="d">-
</a><a href="#h39-0-80" id="h39-0-80" class="d">-func (e extensionAdapter) extensionsRead() (map[int32]Extension, sync.Locker) {
</a><a href="#h39-0-81" id="h39-0-81" class="d">-	return e.ExtensionMap(), notLocker{}
</a><a href="#h39-0-82" id="h39-0-82" class="d">-}
</a><a href="#h39-0-83" id="h39-0-83" class="d">-
</a><a href="#h39-0-84" id="h39-0-84" class="d">-// notLocker is a sync.Locker whose Lock and Unlock methods are nops.
</a><a href="#h39-0-85" id="h39-0-85" class="d">-type notLocker struct{}
</a><a href="#h39-0-86" id="h39-0-86" class="d">-
</a><a href="#h39-0-87" id="h39-0-87" class="d">-func (n notLocker) Lock()   {}
</a><a href="#h39-0-88" id="h39-0-88" class="d">-func (n notLocker) Unlock() {}
</a><a href="#h39-0-89" id="h39-0-89" class="d">-
</a><a href="#h39-0-90" id="h39-0-90" class="d">-// extendable returns the extendableProto interface for the given generated proto message.
</a><a href="#h39-0-91" id="h39-0-91" class="d">-// If the proto message has the old extension format, it returns a wrapper that implements
</a><a href="#h39-0-92" id="h39-0-92" class="d">-// the extendableProto interface.
</a><a href="#h39-0-93" id="h39-0-93" class="d">-func extendable(p interface{}) (extendableProto, bool) {
</a><a href="#h39-0-94" id="h39-0-94" class="d">-	if ep, ok := p.(extendableProto); ok {
</a><a href="#h39-0-95" id="h39-0-95" class="d">-		return ep, ok
</a><a href="#h39-0-96" id="h39-0-96" class="d">-	}
</a><a href="#h39-0-97" id="h39-0-97" class="d">-	if ep, ok := p.(extendableProtoV1); ok {
</a><a href="#h39-0-98" id="h39-0-98" class="d">-		return extensionAdapter{ep}, ok
</a><a href="#h39-0-99" id="h39-0-99" class="d">-	}
</a><a href="#h39-0-100" id="h39-0-100" class="d">-	return nil, false
</a><a href="#h39-0-101" id="h39-0-101" class="d">-}
</a><a href="#h39-0-102" id="h39-0-102" class="d">-
</a><a href="#h39-0-103" id="h39-0-103" class="d">-// XXX_InternalExtensions is an internal representation of proto extensions.
</a><a href="#h39-0-104" id="h39-0-104" class="d">-//
</a><a href="#h39-0-105" id="h39-0-105" class="d">-// Each generated message struct type embeds an anonymous XXX_InternalExtensions field,
</a><a href="#h39-0-106" id="h39-0-106" class="d">-// thus gaining the unexported &#39;extensions&#39; method, which can be called only from the proto package.
</a><a href="#h39-0-107" id="h39-0-107" class="d">-//
</a><a href="#h39-0-108" id="h39-0-108" class="d">-// The methods of XXX_InternalExtensions are not concurrency safe in general,
</a><a href="#h39-0-109" id="h39-0-109" class="d">-// but calls to logically read-only methods such as has and get may be executed concurrently.
</a><a href="#h39-0-110" id="h39-0-110" class="d">-type XXX_InternalExtensions struct {
</a><a href="#h39-0-111" id="h39-0-111" class="d">-	// The struct must be indirect so that if a user inadvertently copies a
</a><a href="#h39-0-112" id="h39-0-112" class="d">-	// generated message and its embedded XXX_InternalExtensions, they
</a><a href="#h39-0-113" id="h39-0-113" class="d">-	// avoid the mayhem of a copied mutex.
</a><a href="#h39-0-114" id="h39-0-114" class="d">-	//
</a><a href="#h39-0-115" id="h39-0-115" class="d">-	// The mutex serializes all logically read-only operations to p.extensionMap.
</a><a href="#h39-0-116" id="h39-0-116" class="d">-	// It is up to the client to ensure that write operations to p.extensionMap are
</a><a href="#h39-0-117" id="h39-0-117" class="d">-	// mutually exclusive with other accesses.
</a><a href="#h39-0-118" id="h39-0-118" class="d">-	p *struct {
</a><a href="#h39-0-119" id="h39-0-119" class="d">-		mu           sync.Mutex
</a><a href="#h39-0-120" id="h39-0-120" class="d">-		extensionMap map[int32]Extension
</a><a href="#h39-0-121" id="h39-0-121" class="d">-	}
</a><a href="#h39-0-122" id="h39-0-122" class="d">-}
</a><a href="#h39-0-123" id="h39-0-123" class="d">-
</a><a href="#h39-0-124" id="h39-0-124" class="d">-// extensionsWrite returns the extension map, creating it on first use.
</a><a href="#h39-0-125" id="h39-0-125" class="d">-func (e *XXX_InternalExtensions) extensionsWrite() map[int32]Extension {
</a><a href="#h39-0-126" id="h39-0-126" class="d">-	if e.p == nil {
</a><a href="#h39-0-127" id="h39-0-127" class="d">-		e.p = new(struct {
</a><a href="#h39-0-128" id="h39-0-128" class="d">-			mu           sync.Mutex
</a><a href="#h39-0-129" id="h39-0-129" class="d">-			extensionMap map[int32]Extension
</a><a href="#h39-0-130" id="h39-0-130" class="d">-		})
</a><a href="#h39-0-131" id="h39-0-131" class="d">-		e.p.extensionMap = make(map[int32]Extension)
</a><a href="#h39-0-132" id="h39-0-132" class="d">-	}
</a><a href="#h39-0-133" id="h39-0-133" class="d">-	return e.p.extensionMap
</a><a href="#h39-0-134" id="h39-0-134" class="d">-}
</a><a href="#h39-0-135" id="h39-0-135" class="d">-
</a><a href="#h39-0-136" id="h39-0-136" class="d">-// extensionsRead returns the extensions map for read-only use.  It may be nil.
</a><a href="#h39-0-137" id="h39-0-137" class="d">-// The caller must hold the returned mutex&#39;s lock when accessing Elements within the map.
</a><a href="#h39-0-138" id="h39-0-138" class="d">-func (e *XXX_InternalExtensions) extensionsRead() (map[int32]Extension, sync.Locker) {
</a><a href="#h39-0-139" id="h39-0-139" class="d">-	if e.p == nil {
</a><a href="#h39-0-140" id="h39-0-140" class="d">-		return nil, nil
</a><a href="#h39-0-141" id="h39-0-141" class="d">-	}
</a><a href="#h39-0-142" id="h39-0-142" class="d">-	return e.p.extensionMap, &amp;e.p.mu
</a><a href="#h39-0-143" id="h39-0-143" class="d">-}
</a><a href="#h39-0-144" id="h39-0-144" class="d">-
</a><a href="#h39-0-145" id="h39-0-145" class="d">-var extendableProtoType = reflect.TypeOf((*extendableProto)(nil)).Elem()
</a><a href="#h39-0-146" id="h39-0-146" class="d">-var extendableProtoV1Type = reflect.TypeOf((*extendableProtoV1)(nil)).Elem()
</a><a href="#h39-0-147" id="h39-0-147" class="d">-
</a><a href="#h39-0-148" id="h39-0-148" class="d">-// ExtensionDesc represents an extension specification.
</a><a href="#h39-0-149" id="h39-0-149" class="d">-// Used in generated code from the protocol compiler.
</a><a href="#h39-0-150" id="h39-0-150" class="d">-type ExtensionDesc struct {
</a><a href="#h39-0-151" id="h39-0-151" class="d">-	ExtendedType  Message     // nil pointer to the type that is being extended
</a><a href="#h39-0-152" id="h39-0-152" class="d">-	ExtensionType interface{} // nil pointer to the extension type
</a><a href="#h39-0-153" id="h39-0-153" class="d">-	Field         int32       // field number
</a><a href="#h39-0-154" id="h39-0-154" class="d">-	Name          string      // fully-qualified name of extension, for text formatting
</a><a href="#h39-0-155" id="h39-0-155" class="d">-	Tag           string      // protobuf tag style
</a><a href="#h39-0-156" id="h39-0-156" class="d">-}
</a><a href="#h39-0-157" id="h39-0-157" class="d">-
</a><a href="#h39-0-158" id="h39-0-158" class="d">-func (ed *ExtensionDesc) repeated() bool {
</a><a href="#h39-0-159" id="h39-0-159" class="d">-	t := reflect.TypeOf(ed.ExtensionType)
</a><a href="#h39-0-160" id="h39-0-160" class="d">-	return t.Kind() == reflect.Slice &amp;&amp; t.Elem().Kind() != reflect.Uint8
</a><a href="#h39-0-161" id="h39-0-161" class="d">-}
</a><a href="#h39-0-162" id="h39-0-162" class="d">-
</a><a href="#h39-0-163" id="h39-0-163" class="d">-// Extension represents an extension in a message.
</a><a href="#h39-0-164" id="h39-0-164" class="d">-type Extension struct {
</a><a href="#h39-0-165" id="h39-0-165" class="d">-	// When an extension is stored in a message using SetExtension
</a><a href="#h39-0-166" id="h39-0-166" class="d">-	// only desc and value are set. When the message is marshaled
</a><a href="#h39-0-167" id="h39-0-167" class="d">-	// enc will be set to the encoded form of the message.
</a><a href="#h39-0-168" id="h39-0-168" class="d">-	//
</a><a href="#h39-0-169" id="h39-0-169" class="d">-	// When a message is unmarshaled and contains extensions, each
</a><a href="#h39-0-170" id="h39-0-170" class="d">-	// extension will have only enc set. When such an extension is
</a><a href="#h39-0-171" id="h39-0-171" class="d">-	// accessed using GetExtension (or GetExtensions) desc and value
</a><a href="#h39-0-172" id="h39-0-172" class="d">-	// will be set.
</a><a href="#h39-0-173" id="h39-0-173" class="d">-	desc  *ExtensionDesc
</a><a href="#h39-0-174" id="h39-0-174" class="d">-	value interface{}
</a><a href="#h39-0-175" id="h39-0-175" class="d">-	enc   []byte
</a><a href="#h39-0-176" id="h39-0-176" class="d">-}
</a><a href="#h39-0-177" id="h39-0-177" class="d">-
</a><a href="#h39-0-178" id="h39-0-178" class="d">-// SetRawExtension is for testing only.
</a><a href="#h39-0-179" id="h39-0-179" class="d">-func SetRawExtension(base Message, id int32, b []byte) {
</a><a href="#h39-0-180" id="h39-0-180" class="d">-	epb, ok := extendable(base)
</a><a href="#h39-0-181" id="h39-0-181" class="d">-	if !ok {
</a><a href="#h39-0-182" id="h39-0-182" class="d">-		return
</a><a href="#h39-0-183" id="h39-0-183" class="d">-	}
</a><a href="#h39-0-184" id="h39-0-184" class="d">-	extmap := epb.extensionsWrite()
</a><a href="#h39-0-185" id="h39-0-185" class="d">-	extmap[id] = Extension{enc: b}
</a><a href="#h39-0-186" id="h39-0-186" class="d">-}
</a><a href="#h39-0-187" id="h39-0-187" class="d">-
</a><a href="#h39-0-188" id="h39-0-188" class="d">-// isExtensionField returns true iff the given field number is in an extension range.
</a><a href="#h39-0-189" id="h39-0-189" class="d">-func isExtensionField(pb extendableProto, field int32) bool {
</a><a href="#h39-0-190" id="h39-0-190" class="d">-	for _, er := range pb.ExtensionRangeArray() {
</a><a href="#h39-0-191" id="h39-0-191" class="d">-		if er.Start &lt;= field &amp;&amp; field &lt;= er.End {
</a><a href="#h39-0-192" id="h39-0-192" class="d">-			return true
</a><a href="#h39-0-193" id="h39-0-193" class="d">-		}
</a><a href="#h39-0-194" id="h39-0-194" class="d">-	}
</a><a href="#h39-0-195" id="h39-0-195" class="d">-	return false
</a><a href="#h39-0-196" id="h39-0-196" class="d">-}
</a><a href="#h39-0-197" id="h39-0-197" class="d">-
</a><a href="#h39-0-198" id="h39-0-198" class="d">-// checkExtensionTypes checks that the given extension is valid for pb.
</a><a href="#h39-0-199" id="h39-0-199" class="d">-func checkExtensionTypes(pb extendableProto, extension *ExtensionDesc) error {
</a><a href="#h39-0-200" id="h39-0-200" class="d">-	var pbi interface{} = pb
</a><a href="#h39-0-201" id="h39-0-201" class="d">-	// Check the extended type.
</a><a href="#h39-0-202" id="h39-0-202" class="d">-	if ea, ok := pbi.(extensionAdapter); ok {
</a><a href="#h39-0-203" id="h39-0-203" class="d">-		pbi = ea.extendableProtoV1
</a><a href="#h39-0-204" id="h39-0-204" class="d">-	}
</a><a href="#h39-0-205" id="h39-0-205" class="d">-	if a, b := reflect.TypeOf(pbi), reflect.TypeOf(extension.ExtendedType); a != b {
</a><a href="#h39-0-206" id="h39-0-206" class="d">-		return errors.New(&quot;proto: bad extended type; &quot; + b.String() + &quot; does not extend &quot; + a.String())
</a><a href="#h39-0-207" id="h39-0-207" class="d">-	}
</a><a href="#h39-0-208" id="h39-0-208" class="d">-	// Check the range.
</a><a href="#h39-0-209" id="h39-0-209" class="d">-	if !isExtensionField(pb, extension.Field) {
</a><a href="#h39-0-210" id="h39-0-210" class="d">-		return errors.New(&quot;proto: bad extension number; not in declared ranges&quot;)
</a><a href="#h39-0-211" id="h39-0-211" class="d">-	}
</a><a href="#h39-0-212" id="h39-0-212" class="d">-	return nil
</a><a href="#h39-0-213" id="h39-0-213" class="d">-}
</a><a href="#h39-0-214" id="h39-0-214" class="d">-
</a><a href="#h39-0-215" id="h39-0-215" class="d">-// extPropKey is sufficient to uniquely identify an extension.
</a><a href="#h39-0-216" id="h39-0-216" class="d">-type extPropKey struct {
</a><a href="#h39-0-217" id="h39-0-217" class="d">-	base  reflect.Type
</a><a href="#h39-0-218" id="h39-0-218" class="d">-	field int32
</a><a href="#h39-0-219" id="h39-0-219" class="d">-}
</a><a href="#h39-0-220" id="h39-0-220" class="d">-
</a><a href="#h39-0-221" id="h39-0-221" class="d">-var extProp = struct {
</a><a href="#h39-0-222" id="h39-0-222" class="d">-	sync.RWMutex
</a><a href="#h39-0-223" id="h39-0-223" class="d">-	m map[extPropKey]*Properties
</a><a href="#h39-0-224" id="h39-0-224" class="d">-}{
</a><a href="#h39-0-225" id="h39-0-225" class="d">-	m: make(map[extPropKey]*Properties),
</a><a href="#h39-0-226" id="h39-0-226" class="d">-}
</a><a href="#h39-0-227" id="h39-0-227" class="d">-
</a><a href="#h39-0-228" id="h39-0-228" class="d">-func extensionProperties(ed *ExtensionDesc) *Properties {
</a><a href="#h39-0-229" id="h39-0-229" class="d">-	key := extPropKey{base: reflect.TypeOf(ed.ExtendedType), field: ed.Field}
</a><a href="#h39-0-230" id="h39-0-230" class="d">-
</a><a href="#h39-0-231" id="h39-0-231" class="d">-	extProp.RLock()
</a><a href="#h39-0-232" id="h39-0-232" class="d">-	if prop, ok := extProp.m[key]; ok {
</a><a href="#h39-0-233" id="h39-0-233" class="d">-		extProp.RUnlock()
</a><a href="#h39-0-234" id="h39-0-234" class="d">-		return prop
</a><a href="#h39-0-235" id="h39-0-235" class="d">-	}
</a><a href="#h39-0-236" id="h39-0-236" class="d">-	extProp.RUnlock()
</a><a href="#h39-0-237" id="h39-0-237" class="d">-
</a><a href="#h39-0-238" id="h39-0-238" class="d">-	extProp.Lock()
</a><a href="#h39-0-239" id="h39-0-239" class="d">-	defer extProp.Unlock()
</a><a href="#h39-0-240" id="h39-0-240" class="d">-	// Check again.
</a><a href="#h39-0-241" id="h39-0-241" class="d">-	if prop, ok := extProp.m[key]; ok {
</a><a href="#h39-0-242" id="h39-0-242" class="d">-		return prop
</a><a href="#h39-0-243" id="h39-0-243" class="d">-	}
</a><a href="#h39-0-244" id="h39-0-244" class="d">-
</a><a href="#h39-0-245" id="h39-0-245" class="d">-	prop := new(Properties)
</a><a href="#h39-0-246" id="h39-0-246" class="d">-	prop.Init(reflect.TypeOf(ed.ExtensionType), &quot;unknown_name&quot;, ed.Tag, nil)
</a><a href="#h39-0-247" id="h39-0-247" class="d">-	extProp.m[key] = prop
</a><a href="#h39-0-248" id="h39-0-248" class="d">-	return prop
</a><a href="#h39-0-249" id="h39-0-249" class="d">-}
</a><a href="#h39-0-250" id="h39-0-250" class="d">-
</a><a href="#h39-0-251" id="h39-0-251" class="d">-// encode encodes any unmarshaled (unencoded) extensions in e.
</a><a href="#h39-0-252" id="h39-0-252" class="d">-func encodeExtensions(e *XXX_InternalExtensions) error {
</a><a href="#h39-0-253" id="h39-0-253" class="d">-	m, mu := e.extensionsRead()
</a><a href="#h39-0-254" id="h39-0-254" class="d">-	if m == nil {
</a><a href="#h39-0-255" id="h39-0-255" class="d">-		return nil // fast path
</a><a href="#h39-0-256" id="h39-0-256" class="d">-	}
</a><a href="#h39-0-257" id="h39-0-257" class="d">-	mu.Lock()
</a><a href="#h39-0-258" id="h39-0-258" class="d">-	defer mu.Unlock()
</a><a href="#h39-0-259" id="h39-0-259" class="d">-	return encodeExtensionsMap(m)
</a><a href="#h39-0-260" id="h39-0-260" class="d">-}
</a><a href="#h39-0-261" id="h39-0-261" class="d">-
</a><a href="#h39-0-262" id="h39-0-262" class="d">-// encode encodes any unmarshaled (unencoded) extensions in e.
</a><a href="#h39-0-263" id="h39-0-263" class="d">-func encodeExtensionsMap(m map[int32]Extension) error {
</a><a href="#h39-0-264" id="h39-0-264" class="d">-	for k, e := range m {
</a><a href="#h39-0-265" id="h39-0-265" class="d">-		if e.value == nil || e.desc == nil {
</a><a href="#h39-0-266" id="h39-0-266" class="d">-			// Extension is only in its encoded form.
</a><a href="#h39-0-267" id="h39-0-267" class="d">-			continue
</a><a href="#h39-0-268" id="h39-0-268" class="d">-		}
</a><a href="#h39-0-269" id="h39-0-269" class="d">-
</a><a href="#h39-0-270" id="h39-0-270" class="d">-		// We don&#39;t skip extensions that have an encoded form set,
</a><a href="#h39-0-271" id="h39-0-271" class="d">-		// because the extension value may have been mutated after
</a><a href="#h39-0-272" id="h39-0-272" class="d">-		// the last time this function was called.
</a><a href="#h39-0-273" id="h39-0-273" class="d">-
</a><a href="#h39-0-274" id="h39-0-274" class="d">-		et := reflect.TypeOf(e.desc.ExtensionType)
</a><a href="#h39-0-275" id="h39-0-275" class="d">-		props := extensionProperties(e.desc)
</a><a href="#h39-0-276" id="h39-0-276" class="d">-
</a><a href="#h39-0-277" id="h39-0-277" class="d">-		p := NewBuffer(nil)
</a><a href="#h39-0-278" id="h39-0-278" class="d">-		// If e.value has type T, the encoder expects a *struct{ X T }.
</a><a href="#h39-0-279" id="h39-0-279" class="d">-		// Pass a *T with a zero field and hope it all works out.
</a><a href="#h39-0-280" id="h39-0-280" class="d">-		x := reflect.New(et)
</a><a href="#h39-0-281" id="h39-0-281" class="d">-		x.Elem().Set(reflect.ValueOf(e.value))
</a><a href="#h39-0-282" id="h39-0-282" class="d">-		if err := props.enc(p, props, toStructPointer(x)); err != nil {
</a><a href="#h39-0-283" id="h39-0-283" class="d">-			return err
</a><a href="#h39-0-284" id="h39-0-284" class="d">-		}
</a><a href="#h39-0-285" id="h39-0-285" class="d">-		e.enc = p.buf
</a><a href="#h39-0-286" id="h39-0-286" class="d">-		m[k] = e
</a><a href="#h39-0-287" id="h39-0-287" class="d">-	}
</a><a href="#h39-0-288" id="h39-0-288" class="d">-	return nil
</a><a href="#h39-0-289" id="h39-0-289" class="d">-}
</a><a href="#h39-0-290" id="h39-0-290" class="d">-
</a><a href="#h39-0-291" id="h39-0-291" class="d">-func extensionsSize(e *XXX_InternalExtensions) (n int) {
</a><a href="#h39-0-292" id="h39-0-292" class="d">-	m, mu := e.extensionsRead()
</a><a href="#h39-0-293" id="h39-0-293" class="d">-	if m == nil {
</a><a href="#h39-0-294" id="h39-0-294" class="d">-		return 0
</a><a href="#h39-0-295" id="h39-0-295" class="d">-	}
</a><a href="#h39-0-296" id="h39-0-296" class="d">-	mu.Lock()
</a><a href="#h39-0-297" id="h39-0-297" class="d">-	defer mu.Unlock()
</a><a href="#h39-0-298" id="h39-0-298" class="d">-	return extensionsMapSize(m)
</a><a href="#h39-0-299" id="h39-0-299" class="d">-}
</a><a href="#h39-0-300" id="h39-0-300" class="d">-
</a><a href="#h39-0-301" id="h39-0-301" class="d">-func extensionsMapSize(m map[int32]Extension) (n int) {
</a><a href="#h39-0-302" id="h39-0-302" class="d">-	for _, e := range m {
</a><a href="#h39-0-303" id="h39-0-303" class="d">-		if e.value == nil || e.desc == nil {
</a><a href="#h39-0-304" id="h39-0-304" class="d">-			// Extension is only in its encoded form.
</a><a href="#h39-0-305" id="h39-0-305" class="d">-			n += len(e.enc)
</a><a href="#h39-0-306" id="h39-0-306" class="d">-			continue
</a><a href="#h39-0-307" id="h39-0-307" class="d">-		}
</a><a href="#h39-0-308" id="h39-0-308" class="d">-
</a><a href="#h39-0-309" id="h39-0-309" class="d">-		// We don&#39;t skip extensions that have an encoded form set,
</a><a href="#h39-0-310" id="h39-0-310" class="d">-		// because the extension value may have been mutated after
</a><a href="#h39-0-311" id="h39-0-311" class="d">-		// the last time this function was called.
</a><a href="#h39-0-312" id="h39-0-312" class="d">-
</a><a href="#h39-0-313" id="h39-0-313" class="d">-		et := reflect.TypeOf(e.desc.ExtensionType)
</a><a href="#h39-0-314" id="h39-0-314" class="d">-		props := extensionProperties(e.desc)
</a><a href="#h39-0-315" id="h39-0-315" class="d">-
</a><a href="#h39-0-316" id="h39-0-316" class="d">-		// If e.value has type T, the encoder expects a *struct{ X T }.
</a><a href="#h39-0-317" id="h39-0-317" class="d">-		// Pass a *T with a zero field and hope it all works out.
</a><a href="#h39-0-318" id="h39-0-318" class="d">-		x := reflect.New(et)
</a><a href="#h39-0-319" id="h39-0-319" class="d">-		x.Elem().Set(reflect.ValueOf(e.value))
</a><a href="#h39-0-320" id="h39-0-320" class="d">-		n += props.size(props, toStructPointer(x))
</a><a href="#h39-0-321" id="h39-0-321" class="d">-	}
</a><a href="#h39-0-322" id="h39-0-322" class="d">-	return
</a><a href="#h39-0-323" id="h39-0-323" class="d">-}
</a><a href="#h39-0-324" id="h39-0-324" class="d">-
</a><a href="#h39-0-325" id="h39-0-325" class="d">-// HasExtension returns whether the given extension is present in pb.
</a><a href="#h39-0-326" id="h39-0-326" class="d">-func HasExtension(pb Message, extension *ExtensionDesc) bool {
</a><a href="#h39-0-327" id="h39-0-327" class="d">-	// TODO: Check types, field numbers, etc.?
</a><a href="#h39-0-328" id="h39-0-328" class="d">-	epb, ok := extendable(pb)
</a><a href="#h39-0-329" id="h39-0-329" class="d">-	if !ok {
</a><a href="#h39-0-330" id="h39-0-330" class="d">-		return false
</a><a href="#h39-0-331" id="h39-0-331" class="d">-	}
</a><a href="#h39-0-332" id="h39-0-332" class="d">-	extmap, mu := epb.extensionsRead()
</a><a href="#h39-0-333" id="h39-0-333" class="d">-	if extmap == nil {
</a><a href="#h39-0-334" id="h39-0-334" class="d">-		return false
</a><a href="#h39-0-335" id="h39-0-335" class="d">-	}
</a><a href="#h39-0-336" id="h39-0-336" class="d">-	mu.Lock()
</a><a href="#h39-0-337" id="h39-0-337" class="d">-	_, ok = extmap[extension.Field]
</a><a href="#h39-0-338" id="h39-0-338" class="d">-	mu.Unlock()
</a><a href="#h39-0-339" id="h39-0-339" class="d">-	return ok
</a><a href="#h39-0-340" id="h39-0-340" class="d">-}
</a><a href="#h39-0-341" id="h39-0-341" class="d">-
</a><a href="#h39-0-342" id="h39-0-342" class="d">-// ClearExtension removes the given extension from pb.
</a><a href="#h39-0-343" id="h39-0-343" class="d">-func ClearExtension(pb Message, extension *ExtensionDesc) {
</a><a href="#h39-0-344" id="h39-0-344" class="d">-	epb, ok := extendable(pb)
</a><a href="#h39-0-345" id="h39-0-345" class="d">-	if !ok {
</a><a href="#h39-0-346" id="h39-0-346" class="d">-		return
</a><a href="#h39-0-347" id="h39-0-347" class="d">-	}
</a><a href="#h39-0-348" id="h39-0-348" class="d">-	// TODO: Check types, field numbers, etc.?
</a><a href="#h39-0-349" id="h39-0-349" class="d">-	extmap := epb.extensionsWrite()
</a><a href="#h39-0-350" id="h39-0-350" class="d">-	delete(extmap, extension.Field)
</a><a href="#h39-0-351" id="h39-0-351" class="d">-}
</a><a href="#h39-0-352" id="h39-0-352" class="d">-
</a><a href="#h39-0-353" id="h39-0-353" class="d">-// GetExtension parses and returns the given extension of pb.
</a><a href="#h39-0-354" id="h39-0-354" class="d">-// If the extension is not present and has no default value it returns ErrMissingExtension.
</a><a href="#h39-0-355" id="h39-0-355" class="d">-func GetExtension(pb Message, extension *ExtensionDesc) (interface{}, error) {
</a><a href="#h39-0-356" id="h39-0-356" class="d">-	epb, ok := extendable(pb)
</a><a href="#h39-0-357" id="h39-0-357" class="d">-	if !ok {
</a><a href="#h39-0-358" id="h39-0-358" class="d">-		return nil, errors.New(&quot;proto: not an extendable proto&quot;)
</a><a href="#h39-0-359" id="h39-0-359" class="d">-	}
</a><a href="#h39-0-360" id="h39-0-360" class="d">-
</a><a href="#h39-0-361" id="h39-0-361" class="d">-	if err := checkExtensionTypes(epb, extension); err != nil {
</a><a href="#h39-0-362" id="h39-0-362" class="d">-		return nil, err
</a><a href="#h39-0-363" id="h39-0-363" class="d">-	}
</a><a href="#h39-0-364" id="h39-0-364" class="d">-
</a><a href="#h39-0-365" id="h39-0-365" class="d">-	emap, mu := epb.extensionsRead()
</a><a href="#h39-0-366" id="h39-0-366" class="d">-	if emap == nil {
</a><a href="#h39-0-367" id="h39-0-367" class="d">-		return defaultExtensionValue(extension)
</a><a href="#h39-0-368" id="h39-0-368" class="d">-	}
</a><a href="#h39-0-369" id="h39-0-369" class="d">-	mu.Lock()
</a><a href="#h39-0-370" id="h39-0-370" class="d">-	defer mu.Unlock()
</a><a href="#h39-0-371" id="h39-0-371" class="d">-	e, ok := emap[extension.Field]
</a><a href="#h39-0-372" id="h39-0-372" class="d">-	if !ok {
</a><a href="#h39-0-373" id="h39-0-373" class="d">-		// defaultExtensionValue returns the default value or
</a><a href="#h39-0-374" id="h39-0-374" class="d">-		// ErrMissingExtension if there is no default.
</a><a href="#h39-0-375" id="h39-0-375" class="d">-		return defaultExtensionValue(extension)
</a><a href="#h39-0-376" id="h39-0-376" class="d">-	}
</a><a href="#h39-0-377" id="h39-0-377" class="d">-
</a><a href="#h39-0-378" id="h39-0-378" class="d">-	if e.value != nil {
</a><a href="#h39-0-379" id="h39-0-379" class="d">-		// Already decoded. Check the descriptor, though.
</a><a href="#h39-0-380" id="h39-0-380" class="d">-		if e.desc != extension {
</a><a href="#h39-0-381" id="h39-0-381" class="d">-			// This shouldn&#39;t happen. If it does, it means that
</a><a href="#h39-0-382" id="h39-0-382" class="d">-			// GetExtension was called twice with two different
</a><a href="#h39-0-383" id="h39-0-383" class="d">-			// descriptors with the same field number.
</a><a href="#h39-0-384" id="h39-0-384" class="d">-			return nil, errors.New(&quot;proto: descriptor conflict&quot;)
</a><a href="#h39-0-385" id="h39-0-385" class="d">-		}
</a><a href="#h39-0-386" id="h39-0-386" class="d">-		return e.value, nil
</a><a href="#h39-0-387" id="h39-0-387" class="d">-	}
</a><a href="#h39-0-388" id="h39-0-388" class="d">-
</a><a href="#h39-0-389" id="h39-0-389" class="d">-	v, err := decodeExtension(e.enc, extension)
</a><a href="#h39-0-390" id="h39-0-390" class="d">-	if err != nil {
</a><a href="#h39-0-391" id="h39-0-391" class="d">-		return nil, err
</a><a href="#h39-0-392" id="h39-0-392" class="d">-	}
</a><a href="#h39-0-393" id="h39-0-393" class="d">-
</a><a href="#h39-0-394" id="h39-0-394" class="d">-	// Remember the decoded version and drop the encoded version.
</a><a href="#h39-0-395" id="h39-0-395" class="d">-	// That way it is safe to mutate what we return.
</a><a href="#h39-0-396" id="h39-0-396" class="d">-	e.value = v
</a><a href="#h39-0-397" id="h39-0-397" class="d">-	e.desc = extension
</a><a href="#h39-0-398" id="h39-0-398" class="d">-	e.enc = nil
</a><a href="#h39-0-399" id="h39-0-399" class="d">-	emap[extension.Field] = e
</a><a href="#h39-0-400" id="h39-0-400" class="d">-	return e.value, nil
</a><a href="#h39-0-401" id="h39-0-401" class="d">-}
</a><a href="#h39-0-402" id="h39-0-402" class="d">-
</a><a href="#h39-0-403" id="h39-0-403" class="d">-// defaultExtensionValue returns the default value for extension.
</a><a href="#h39-0-404" id="h39-0-404" class="d">-// If no default for an extension is defined ErrMissingExtension is returned.
</a><a href="#h39-0-405" id="h39-0-405" class="d">-func defaultExtensionValue(extension *ExtensionDesc) (interface{}, error) {
</a><a href="#h39-0-406" id="h39-0-406" class="d">-	t := reflect.TypeOf(extension.ExtensionType)
</a><a href="#h39-0-407" id="h39-0-407" class="d">-	props := extensionProperties(extension)
</a><a href="#h39-0-408" id="h39-0-408" class="d">-
</a><a href="#h39-0-409" id="h39-0-409" class="d">-	sf, _, err := fieldDefault(t, props)
</a><a href="#h39-0-410" id="h39-0-410" class="d">-	if err != nil {
</a><a href="#h39-0-411" id="h39-0-411" class="d">-		return nil, err
</a><a href="#h39-0-412" id="h39-0-412" class="d">-	}
</a><a href="#h39-0-413" id="h39-0-413" class="d">-
</a><a href="#h39-0-414" id="h39-0-414" class="d">-	if sf == nil || sf.value == nil {
</a><a href="#h39-0-415" id="h39-0-415" class="d">-		// There is no default value.
</a><a href="#h39-0-416" id="h39-0-416" class="d">-		return nil, ErrMissingExtension
</a><a href="#h39-0-417" id="h39-0-417" class="d">-	}
</a><a href="#h39-0-418" id="h39-0-418" class="d">-
</a><a href="#h39-0-419" id="h39-0-419" class="d">-	if t.Kind() != reflect.Ptr {
</a><a href="#h39-0-420" id="h39-0-420" class="d">-		// We do not need to return a Ptr, we can directly return sf.value.
</a><a href="#h39-0-421" id="h39-0-421" class="d">-		return sf.value, nil
</a><a href="#h39-0-422" id="h39-0-422" class="d">-	}
</a><a href="#h39-0-423" id="h39-0-423" class="d">-
</a><a href="#h39-0-424" id="h39-0-424" class="d">-	// We need to return an interface{} that is a pointer to sf.value.
</a><a href="#h39-0-425" id="h39-0-425" class="d">-	value := reflect.New(t).Elem()
</a><a href="#h39-0-426" id="h39-0-426" class="d">-	value.Set(reflect.New(value.Type().Elem()))
</a><a href="#h39-0-427" id="h39-0-427" class="d">-	if sf.kind == reflect.Int32 {
</a><a href="#h39-0-428" id="h39-0-428" class="d">-		// We may have an int32 or an enum, but the underlying data is int32.
</a><a href="#h39-0-429" id="h39-0-429" class="d">-		// Since we can&#39;t set an int32 into a non int32 reflect.value directly
</a><a href="#h39-0-430" id="h39-0-430" class="d">-		// set it as a int32.
</a><a href="#h39-0-431" id="h39-0-431" class="d">-		value.Elem().SetInt(int64(sf.value.(int32)))
</a><a href="#h39-0-432" id="h39-0-432" class="d">-	} else {
</a><a href="#h39-0-433" id="h39-0-433" class="d">-		value.Elem().Set(reflect.ValueOf(sf.value))
</a><a href="#h39-0-434" id="h39-0-434" class="d">-	}
</a><a href="#h39-0-435" id="h39-0-435" class="d">-	return value.Interface(), nil
</a><a href="#h39-0-436" id="h39-0-436" class="d">-}
</a><a href="#h39-0-437" id="h39-0-437" class="d">-
</a><a href="#h39-0-438" id="h39-0-438" class="d">-// decodeExtension decodes an extension encoded in b.
</a><a href="#h39-0-439" id="h39-0-439" class="d">-func decodeExtension(b []byte, extension *ExtensionDesc) (interface{}, error) {
</a><a href="#h39-0-440" id="h39-0-440" class="d">-	o := NewBuffer(b)
</a><a href="#h39-0-441" id="h39-0-441" class="d">-
</a><a href="#h39-0-442" id="h39-0-442" class="d">-	t := reflect.TypeOf(extension.ExtensionType)
</a><a href="#h39-0-443" id="h39-0-443" class="d">-
</a><a href="#h39-0-444" id="h39-0-444" class="d">-	props := extensionProperties(extension)
</a><a href="#h39-0-445" id="h39-0-445" class="d">-
</a><a href="#h39-0-446" id="h39-0-446" class="d">-	// t is a pointer to a struct, pointer to basic type or a slice.
</a><a href="#h39-0-447" id="h39-0-447" class="d">-	// Allocate a &quot;field&quot; to store the pointer/slice itself; the
</a><a href="#h39-0-448" id="h39-0-448" class="d">-	// pointer/slice will be stored here. We pass
</a><a href="#h39-0-449" id="h39-0-449" class="d">-	// the address of this field to props.dec.
</a><a href="#h39-0-450" id="h39-0-450" class="d">-	// This passes a zero field and a *t and lets props.dec
</a><a href="#h39-0-451" id="h39-0-451" class="d">-	// interpret it as a *struct{ x t }.
</a><a href="#h39-0-452" id="h39-0-452" class="d">-	value := reflect.New(t).Elem()
</a><a href="#h39-0-453" id="h39-0-453" class="d">-
</a><a href="#h39-0-454" id="h39-0-454" class="d">-	for {
</a><a href="#h39-0-455" id="h39-0-455" class="d">-		// Discard wire type and field number varint. It isn&#39;t needed.
</a><a href="#h39-0-456" id="h39-0-456" class="d">-		if _, err := o.DecodeVarint(); err != nil {
</a><a href="#h39-0-457" id="h39-0-457" class="d">-			return nil, err
</a><a href="#h39-0-458" id="h39-0-458" class="d">-		}
</a><a href="#h39-0-459" id="h39-0-459" class="d">-
</a><a href="#h39-0-460" id="h39-0-460" class="d">-		if err := props.dec(o, props, toStructPointer(value.Addr())); err != nil {
</a><a href="#h39-0-461" id="h39-0-461" class="d">-			return nil, err
</a><a href="#h39-0-462" id="h39-0-462" class="d">-		}
</a><a href="#h39-0-463" id="h39-0-463" class="d">-
</a><a href="#h39-0-464" id="h39-0-464" class="d">-		if o.index &gt;= len(o.buf) {
</a><a href="#h39-0-465" id="h39-0-465" class="d">-			break
</a><a href="#h39-0-466" id="h39-0-466" class="d">-		}
</a><a href="#h39-0-467" id="h39-0-467" class="d">-	}
</a><a href="#h39-0-468" id="h39-0-468" class="d">-	return value.Interface(), nil
</a><a href="#h39-0-469" id="h39-0-469" class="d">-}
</a><a href="#h39-0-470" id="h39-0-470" class="d">-
</a><a href="#h39-0-471" id="h39-0-471" class="d">-// GetExtensions returns a slice of the extensions present in pb that are also listed in es.
</a><a href="#h39-0-472" id="h39-0-472" class="d">-// The returned slice has the same length as es; missing extensions will appear as nil elements.
</a><a href="#h39-0-473" id="h39-0-473" class="d">-func GetExtensions(pb Message, es []*ExtensionDesc) (extensions []interface{}, err error) {
</a><a href="#h39-0-474" id="h39-0-474" class="d">-	epb, ok := extendable(pb)
</a><a href="#h39-0-475" id="h39-0-475" class="d">-	if !ok {
</a><a href="#h39-0-476" id="h39-0-476" class="d">-		return nil, errors.New(&quot;proto: not an extendable proto&quot;)
</a><a href="#h39-0-477" id="h39-0-477" class="d">-	}
</a><a href="#h39-0-478" id="h39-0-478" class="d">-	extensions = make([]interface{}, len(es))
</a><a href="#h39-0-479" id="h39-0-479" class="d">-	for i, e := range es {
</a><a href="#h39-0-480" id="h39-0-480" class="d">-		extensions[i], err = GetExtension(epb, e)
</a><a href="#h39-0-481" id="h39-0-481" class="d">-		if err == ErrMissingExtension {
</a><a href="#h39-0-482" id="h39-0-482" class="d">-			err = nil
</a><a href="#h39-0-483" id="h39-0-483" class="d">-		}
</a><a href="#h39-0-484" id="h39-0-484" class="d">-		if err != nil {
</a><a href="#h39-0-485" id="h39-0-485" class="d">-			return
</a><a href="#h39-0-486" id="h39-0-486" class="d">-		}
</a><a href="#h39-0-487" id="h39-0-487" class="d">-	}
</a><a href="#h39-0-488" id="h39-0-488" class="d">-	return
</a><a href="#h39-0-489" id="h39-0-489" class="d">-}
</a><a href="#h39-0-490" id="h39-0-490" class="d">-
</a><a href="#h39-0-491" id="h39-0-491" class="d">-// ExtensionDescs returns a new slice containing pb&#39;s extension descriptors, in undefined order.
</a><a href="#h39-0-492" id="h39-0-492" class="d">-// For non-registered extensions, ExtensionDescs returns an incomplete descriptor containing
</a><a href="#h39-0-493" id="h39-0-493" class="d">-// just the Field field, which defines the extension&#39;s field number.
</a><a href="#h39-0-494" id="h39-0-494" class="d">-func ExtensionDescs(pb Message) ([]*ExtensionDesc, error) {
</a><a href="#h39-0-495" id="h39-0-495" class="d">-	epb, ok := extendable(pb)
</a><a href="#h39-0-496" id="h39-0-496" class="d">-	if !ok {
</a><a href="#h39-0-497" id="h39-0-497" class="d">-		return nil, fmt.Errorf(&quot;proto: %T is not an extendable proto.Message&quot;, pb)
</a><a href="#h39-0-498" id="h39-0-498" class="d">-	}
</a><a href="#h39-0-499" id="h39-0-499" class="d">-	registeredExtensions := RegisteredExtensions(pb)
</a><a href="#h39-0-500" id="h39-0-500" class="d">-
</a><a href="#h39-0-501" id="h39-0-501" class="d">-	emap, mu := epb.extensionsRead()
</a><a href="#h39-0-502" id="h39-0-502" class="d">-	if emap == nil {
</a><a href="#h39-0-503" id="h39-0-503" class="d">-		return nil, nil
</a><a href="#h39-0-504" id="h39-0-504" class="d">-	}
</a><a href="#h39-0-505" id="h39-0-505" class="d">-	mu.Lock()
</a><a href="#h39-0-506" id="h39-0-506" class="d">-	defer mu.Unlock()
</a><a href="#h39-0-507" id="h39-0-507" class="d">-	extensions := make([]*ExtensionDesc, 0, len(emap))
</a><a href="#h39-0-508" id="h39-0-508" class="d">-	for extid, e := range emap {
</a><a href="#h39-0-509" id="h39-0-509" class="d">-		desc := e.desc
</a><a href="#h39-0-510" id="h39-0-510" class="d">-		if desc == nil {
</a><a href="#h39-0-511" id="h39-0-511" class="d">-			desc = registeredExtensions[extid]
</a><a href="#h39-0-512" id="h39-0-512" class="d">-			if desc == nil {
</a><a href="#h39-0-513" id="h39-0-513" class="d">-				desc = &amp;ExtensionDesc{Field: extid}
</a><a href="#h39-0-514" id="h39-0-514" class="d">-			}
</a><a href="#h39-0-515" id="h39-0-515" class="d">-		}
</a><a href="#h39-0-516" id="h39-0-516" class="d">-
</a><a href="#h39-0-517" id="h39-0-517" class="d">-		extensions = append(extensions, desc)
</a><a href="#h39-0-518" id="h39-0-518" class="d">-	}
</a><a href="#h39-0-519" id="h39-0-519" class="d">-	return extensions, nil
</a><a href="#h39-0-520" id="h39-0-520" class="d">-}
</a><a href="#h39-0-521" id="h39-0-521" class="d">-
</a><a href="#h39-0-522" id="h39-0-522" class="d">-// SetExtension sets the specified extension of pb to the specified value.
</a><a href="#h39-0-523" id="h39-0-523" class="d">-func SetExtension(pb Message, extension *ExtensionDesc, value interface{}) error {
</a><a href="#h39-0-524" id="h39-0-524" class="d">-	epb, ok := extendable(pb)
</a><a href="#h39-0-525" id="h39-0-525" class="d">-	if !ok {
</a><a href="#h39-0-526" id="h39-0-526" class="d">-		return errors.New(&quot;proto: not an extendable proto&quot;)
</a><a href="#h39-0-527" id="h39-0-527" class="d">-	}
</a><a href="#h39-0-528" id="h39-0-528" class="d">-	if err := checkExtensionTypes(epb, extension); err != nil {
</a><a href="#h39-0-529" id="h39-0-529" class="d">-		return err
</a><a href="#h39-0-530" id="h39-0-530" class="d">-	}
</a><a href="#h39-0-531" id="h39-0-531" class="d">-	typ := reflect.TypeOf(extension.ExtensionType)
</a><a href="#h39-0-532" id="h39-0-532" class="d">-	if typ != reflect.TypeOf(value) {
</a><a href="#h39-0-533" id="h39-0-533" class="d">-		return errors.New(&quot;proto: bad extension value type&quot;)
</a><a href="#h39-0-534" id="h39-0-534" class="d">-	}
</a><a href="#h39-0-535" id="h39-0-535" class="d">-	// nil extension values need to be caught early, because the
</a><a href="#h39-0-536" id="h39-0-536" class="d">-	// encoder can&#39;t distinguish an ErrNil due to a nil extension
</a><a href="#h39-0-537" id="h39-0-537" class="d">-	// from an ErrNil due to a missing field. Extensions are
</a><a href="#h39-0-538" id="h39-0-538" class="d">-	// always optional, so the encoder would just swallow the error
</a><a href="#h39-0-539" id="h39-0-539" class="d">-	// and drop all the extensions from the encoded message.
</a><a href="#h39-0-540" id="h39-0-540" class="d">-	if reflect.ValueOf(value).IsNil() {
</a><a href="#h39-0-541" id="h39-0-541" class="d">-		return fmt.Errorf(&quot;proto: SetExtension called with nil value of type %T&quot;, value)
</a><a href="#h39-0-542" id="h39-0-542" class="d">-	}
</a><a href="#h39-0-543" id="h39-0-543" class="d">-
</a><a href="#h39-0-544" id="h39-0-544" class="d">-	extmap := epb.extensionsWrite()
</a><a href="#h39-0-545" id="h39-0-545" class="d">-	extmap[extension.Field] = Extension{desc: extension, value: value}
</a><a href="#h39-0-546" id="h39-0-546" class="d">-	return nil
</a><a href="#h39-0-547" id="h39-0-547" class="d">-}
</a><a href="#h39-0-548" id="h39-0-548" class="d">-
</a><a href="#h39-0-549" id="h39-0-549" class="d">-// ClearAllExtensions clears all extensions from pb.
</a><a href="#h39-0-550" id="h39-0-550" class="d">-func ClearAllExtensions(pb Message) {
</a><a href="#h39-0-551" id="h39-0-551" class="d">-	epb, ok := extendable(pb)
</a><a href="#h39-0-552" id="h39-0-552" class="d">-	if !ok {
</a><a href="#h39-0-553" id="h39-0-553" class="d">-		return
</a><a href="#h39-0-554" id="h39-0-554" class="d">-	}
</a><a href="#h39-0-555" id="h39-0-555" class="d">-	m := epb.extensionsWrite()
</a><a href="#h39-0-556" id="h39-0-556" class="d">-	for k := range m {
</a><a href="#h39-0-557" id="h39-0-557" class="d">-		delete(m, k)
</a><a href="#h39-0-558" id="h39-0-558" class="d">-	}
</a><a href="#h39-0-559" id="h39-0-559" class="d">-}
</a><a href="#h39-0-560" id="h39-0-560" class="d">-
</a><a href="#h39-0-561" id="h39-0-561" class="d">-// A global registry of extensions.
</a><a href="#h39-0-562" id="h39-0-562" class="d">-// The generated code will register the generated descriptors by calling RegisterExtension.
</a><a href="#h39-0-563" id="h39-0-563" class="d">-
</a><a href="#h39-0-564" id="h39-0-564" class="d">-var extensionMaps = make(map[reflect.Type]map[int32]*ExtensionDesc)
</a><a href="#h39-0-565" id="h39-0-565" class="d">-
</a><a href="#h39-0-566" id="h39-0-566" class="d">-// RegisterExtension is called from the generated code.
</a><a href="#h39-0-567" id="h39-0-567" class="d">-func RegisterExtension(desc *ExtensionDesc) {
</a><a href="#h39-0-568" id="h39-0-568" class="d">-	st := reflect.TypeOf(desc.ExtendedType).Elem()
</a><a href="#h39-0-569" id="h39-0-569" class="d">-	m := extensionMaps[st]
</a><a href="#h39-0-570" id="h39-0-570" class="d">-	if m == nil {
</a><a href="#h39-0-571" id="h39-0-571" class="d">-		m = make(map[int32]*ExtensionDesc)
</a><a href="#h39-0-572" id="h39-0-572" class="d">-		extensionMaps[st] = m
</a><a href="#h39-0-573" id="h39-0-573" class="d">-	}
</a><a href="#h39-0-574" id="h39-0-574" class="d">-	if _, ok := m[desc.Field]; ok {
</a><a href="#h39-0-575" id="h39-0-575" class="d">-		panic(&quot;proto: duplicate extension registered: &quot; + st.String() + &quot; &quot; + strconv.Itoa(int(desc.Field)))
</a><a href="#h39-0-576" id="h39-0-576" class="d">-	}
</a><a href="#h39-0-577" id="h39-0-577" class="d">-	m[desc.Field] = desc
</a><a href="#h39-0-578" id="h39-0-578" class="d">-}
</a><a href="#h39-0-579" id="h39-0-579" class="d">-
</a><a href="#h39-0-580" id="h39-0-580" class="d">-// RegisteredExtensions returns a map of the registered extensions of a
</a><a href="#h39-0-581" id="h39-0-581" class="d">-// protocol buffer struct, indexed by the extension number.
</a><a href="#h39-0-582" id="h39-0-582" class="d">-// The argument pb should be a nil pointer to the struct type.
</a><a href="#h39-0-583" id="h39-0-583" class="d">-func RegisteredExtensions(pb Message) map[int32]*ExtensionDesc {
</a><a href="#h39-0-584" id="h39-0-584" class="d">-	return extensionMaps[reflect.TypeOf(pb).Elem()]
</a><a href="#h39-0-585" id="h39-0-585" class="d">-}
</a><b>diff --git a/<a id="h40" href="../file/vendor/github.com/golang/protobuf/proto/lib.go">vendor/github.com/golang/protobuf/proto/lib.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/lib.go">vendor/github.com/golang/protobuf/proto/lib.go</a></b>
<a href="#h40-0" id="h40-0" class="h">@@ -1,898 +0,0 @@
</a><a href="#h40-0-0" id="h40-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h40-0-1" id="h40-0-1" class="d">-//
</a><a href="#h40-0-2" id="h40-0-2" class="d">-// Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h40-0-3" id="h40-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h40-0-4" id="h40-0-4" class="d">-//
</a><a href="#h40-0-5" id="h40-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h40-0-6" id="h40-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h40-0-7" id="h40-0-7" class="d">-// met:
</a><a href="#h40-0-8" id="h40-0-8" class="d">-//
</a><a href="#h40-0-9" id="h40-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h40-0-10" id="h40-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h40-0-11" id="h40-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h40-0-12" id="h40-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h40-0-13" id="h40-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h40-0-14" id="h40-0-14" class="d">-// distribution.
</a><a href="#h40-0-15" id="h40-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h40-0-16" id="h40-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h40-0-17" id="h40-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h40-0-18" id="h40-0-18" class="d">-//
</a><a href="#h40-0-19" id="h40-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h40-0-20" id="h40-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h40-0-21" id="h40-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h40-0-22" id="h40-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h40-0-23" id="h40-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h40-0-24" id="h40-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h40-0-25" id="h40-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h40-0-26" id="h40-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h40-0-27" id="h40-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h40-0-28" id="h40-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h40-0-29" id="h40-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h40-0-30" id="h40-0-30" class="d">-
</a><a href="#h40-0-31" id="h40-0-31" class="d">-/*
</a><a href="#h40-0-32" id="h40-0-32" class="d">-Package proto converts data structures to and from the wire format of
</a><a href="#h40-0-33" id="h40-0-33" class="d">-protocol buffers.  It works in concert with the Go source code generated
</a><a href="#h40-0-34" id="h40-0-34" class="d">-for .proto files by the protocol compiler.
</a><a href="#h40-0-35" id="h40-0-35" class="d">-
</a><a href="#h40-0-36" id="h40-0-36" class="d">-A summary of the properties of the protocol buffer interface
</a><a href="#h40-0-37" id="h40-0-37" class="d">-for a protocol buffer variable v:
</a><a href="#h40-0-38" id="h40-0-38" class="d">-
</a><a href="#h40-0-39" id="h40-0-39" class="d">-  - Names are turned from camel_case to CamelCase for export.
</a><a href="#h40-0-40" id="h40-0-40" class="d">-  - There are no methods on v to set fields; just treat
</a><a href="#h40-0-41" id="h40-0-41" class="d">-	them as structure fields.
</a><a href="#h40-0-42" id="h40-0-42" class="d">-  - There are getters that return a field&#39;s value if set,
</a><a href="#h40-0-43" id="h40-0-43" class="d">-	and return the field&#39;s default value if unset.
</a><a href="#h40-0-44" id="h40-0-44" class="d">-	The getters work even if the receiver is a nil message.
</a><a href="#h40-0-45" id="h40-0-45" class="d">-  - The zero value for a struct is its correct initialization state.
</a><a href="#h40-0-46" id="h40-0-46" class="d">-	All desired fields must be set before marshaling.
</a><a href="#h40-0-47" id="h40-0-47" class="d">-  - A Reset() method will restore a protobuf struct to its zero state.
</a><a href="#h40-0-48" id="h40-0-48" class="d">-  - Non-repeated fields are pointers to the values; nil means unset.
</a><a href="#h40-0-49" id="h40-0-49" class="d">-	That is, optional or required field int32 f becomes F *int32.
</a><a href="#h40-0-50" id="h40-0-50" class="d">-  - Repeated fields are slices.
</a><a href="#h40-0-51" id="h40-0-51" class="d">-  - Helper functions are available to aid the setting of fields.
</a><a href="#h40-0-52" id="h40-0-52" class="d">-	msg.Foo = proto.String(&quot;hello&quot;) // set field
</a><a href="#h40-0-53" id="h40-0-53" class="d">-  - Constants are defined to hold the default values of all fields that
</a><a href="#h40-0-54" id="h40-0-54" class="d">-	have them.  They have the form Default_StructName_FieldName.
</a><a href="#h40-0-55" id="h40-0-55" class="d">-	Because the getter methods handle defaulted values,
</a><a href="#h40-0-56" id="h40-0-56" class="d">-	direct use of these constants should be rare.
</a><a href="#h40-0-57" id="h40-0-57" class="d">-  - Enums are given type names and maps from names to values.
</a><a href="#h40-0-58" id="h40-0-58" class="d">-	Enum values are prefixed by the enclosing message&#39;s name, or by the
</a><a href="#h40-0-59" id="h40-0-59" class="d">-	enum&#39;s type name if it is a top-level enum. Enum types have a String
</a><a href="#h40-0-60" id="h40-0-60" class="d">-	method, and a Enum method to assist in message construction.
</a><a href="#h40-0-61" id="h40-0-61" class="d">-  - Nested messages, groups and enums have type names prefixed with the name of
</a><a href="#h40-0-62" id="h40-0-62" class="d">-	the surrounding message type.
</a><a href="#h40-0-63" id="h40-0-63" class="d">-  - Extensions are given descriptor names that start with E_,
</a><a href="#h40-0-64" id="h40-0-64" class="d">-	followed by an underscore-delimited list of the nested messages
</a><a href="#h40-0-65" id="h40-0-65" class="d">-	that contain it (if any) followed by the CamelCased name of the
</a><a href="#h40-0-66" id="h40-0-66" class="d">-	extension field itself.  HasExtension, ClearExtension, GetExtension
</a><a href="#h40-0-67" id="h40-0-67" class="d">-	and SetExtension are functions for manipulating extensions.
</a><a href="#h40-0-68" id="h40-0-68" class="d">-  - Oneof field sets are given a single field in their message,
</a><a href="#h40-0-69" id="h40-0-69" class="d">-	with distinguished wrapper types for each possible field value.
</a><a href="#h40-0-70" id="h40-0-70" class="d">-  - Marshal and Unmarshal are functions to encode and decode the wire format.
</a><a href="#h40-0-71" id="h40-0-71" class="d">-
</a><a href="#h40-0-72" id="h40-0-72" class="d">-When the .proto file specifies `syntax=&quot;proto3&quot;`, there are some differences:
</a><a href="#h40-0-73" id="h40-0-73" class="d">-
</a><a href="#h40-0-74" id="h40-0-74" class="d">-  - Non-repeated fields of non-message type are values instead of pointers.
</a><a href="#h40-0-75" id="h40-0-75" class="d">-  - Getters are only generated for message and oneof fields.
</a><a href="#h40-0-76" id="h40-0-76" class="d">-  - Enum types do not get an Enum method.
</a><a href="#h40-0-77" id="h40-0-77" class="d">-
</a><a href="#h40-0-78" id="h40-0-78" class="d">-The simplest way to describe this is to see an example.
</a><a href="#h40-0-79" id="h40-0-79" class="d">-Given file test.proto, containing
</a><a href="#h40-0-80" id="h40-0-80" class="d">-
</a><a href="#h40-0-81" id="h40-0-81" class="d">-	package example;
</a><a href="#h40-0-82" id="h40-0-82" class="d">-
</a><a href="#h40-0-83" id="h40-0-83" class="d">-	enum FOO { X = 17; }
</a><a href="#h40-0-84" id="h40-0-84" class="d">-
</a><a href="#h40-0-85" id="h40-0-85" class="d">-	message Test {
</a><a href="#h40-0-86" id="h40-0-86" class="d">-	  required string label = 1;
</a><a href="#h40-0-87" id="h40-0-87" class="d">-	  optional int32 type = 2 [default=77];
</a><a href="#h40-0-88" id="h40-0-88" class="d">-	  repeated int64 reps = 3;
</a><a href="#h40-0-89" id="h40-0-89" class="d">-	  optional group OptionalGroup = 4 {
</a><a href="#h40-0-90" id="h40-0-90" class="d">-	    required string RequiredField = 5;
</a><a href="#h40-0-91" id="h40-0-91" class="d">-	  }
</a><a href="#h40-0-92" id="h40-0-92" class="d">-	  oneof union {
</a><a href="#h40-0-93" id="h40-0-93" class="d">-	    int32 number = 6;
</a><a href="#h40-0-94" id="h40-0-94" class="d">-	    string name = 7;
</a><a href="#h40-0-95" id="h40-0-95" class="d">-	  }
</a><a href="#h40-0-96" id="h40-0-96" class="d">-	}
</a><a href="#h40-0-97" id="h40-0-97" class="d">-
</a><a href="#h40-0-98" id="h40-0-98" class="d">-The resulting file, test.pb.go, is:
</a><a href="#h40-0-99" id="h40-0-99" class="d">-
</a><a href="#h40-0-100" id="h40-0-100" class="d">-	package example
</a><a href="#h40-0-101" id="h40-0-101" class="d">-
</a><a href="#h40-0-102" id="h40-0-102" class="d">-	import proto &quot;github.com/golang/protobuf/proto&quot;
</a><a href="#h40-0-103" id="h40-0-103" class="d">-	import math &quot;math&quot;
</a><a href="#h40-0-104" id="h40-0-104" class="d">-
</a><a href="#h40-0-105" id="h40-0-105" class="d">-	type FOO int32
</a><a href="#h40-0-106" id="h40-0-106" class="d">-	const (
</a><a href="#h40-0-107" id="h40-0-107" class="d">-		FOO_X FOO = 17
</a><a href="#h40-0-108" id="h40-0-108" class="d">-	)
</a><a href="#h40-0-109" id="h40-0-109" class="d">-	var FOO_name = map[int32]string{
</a><a href="#h40-0-110" id="h40-0-110" class="d">-		17: &quot;X&quot;,
</a><a href="#h40-0-111" id="h40-0-111" class="d">-	}
</a><a href="#h40-0-112" id="h40-0-112" class="d">-	var FOO_value = map[string]int32{
</a><a href="#h40-0-113" id="h40-0-113" class="d">-		&quot;X&quot;: 17,
</a><a href="#h40-0-114" id="h40-0-114" class="d">-	}
</a><a href="#h40-0-115" id="h40-0-115" class="d">-
</a><a href="#h40-0-116" id="h40-0-116" class="d">-	func (x FOO) Enum() *FOO {
</a><a href="#h40-0-117" id="h40-0-117" class="d">-		p := new(FOO)
</a><a href="#h40-0-118" id="h40-0-118" class="d">-		*p = x
</a><a href="#h40-0-119" id="h40-0-119" class="d">-		return p
</a><a href="#h40-0-120" id="h40-0-120" class="d">-	}
</a><a href="#h40-0-121" id="h40-0-121" class="d">-	func (x FOO) String() string {
</a><a href="#h40-0-122" id="h40-0-122" class="d">-		return proto.EnumName(FOO_name, int32(x))
</a><a href="#h40-0-123" id="h40-0-123" class="d">-	}
</a><a href="#h40-0-124" id="h40-0-124" class="d">-	func (x *FOO) UnmarshalJSON(data []byte) error {
</a><a href="#h40-0-125" id="h40-0-125" class="d">-		value, err := proto.UnmarshalJSONEnum(FOO_value, data)
</a><a href="#h40-0-126" id="h40-0-126" class="d">-		if err != nil {
</a><a href="#h40-0-127" id="h40-0-127" class="d">-			return err
</a><a href="#h40-0-128" id="h40-0-128" class="d">-		}
</a><a href="#h40-0-129" id="h40-0-129" class="d">-		*x = FOO(value)
</a><a href="#h40-0-130" id="h40-0-130" class="d">-		return nil
</a><a href="#h40-0-131" id="h40-0-131" class="d">-	}
</a><a href="#h40-0-132" id="h40-0-132" class="d">-
</a><a href="#h40-0-133" id="h40-0-133" class="d">-	type Test struct {
</a><a href="#h40-0-134" id="h40-0-134" class="d">-		Label         *string             `protobuf:&quot;bytes,1,req,name=label&quot; json:&quot;label,omitempty&quot;`
</a><a href="#h40-0-135" id="h40-0-135" class="d">-		Type          *int32              `protobuf:&quot;varint,2,opt,name=type,def=77&quot; json:&quot;type,omitempty&quot;`
</a><a href="#h40-0-136" id="h40-0-136" class="d">-		Reps          []int64             `protobuf:&quot;varint,3,rep,name=reps&quot; json:&quot;reps,omitempty&quot;`
</a><a href="#h40-0-137" id="h40-0-137" class="d">-		Optionalgroup *Test_OptionalGroup `protobuf:&quot;group,4,opt,name=OptionalGroup&quot; json:&quot;optionalgroup,omitempty&quot;`
</a><a href="#h40-0-138" id="h40-0-138" class="d">-		// Types that are valid to be assigned to Union:
</a><a href="#h40-0-139" id="h40-0-139" class="d">-		//	*Test_Number
</a><a href="#h40-0-140" id="h40-0-140" class="d">-		//	*Test_Name
</a><a href="#h40-0-141" id="h40-0-141" class="d">-		Union            isTest_Union `protobuf_oneof:&quot;union&quot;`
</a><a href="#h40-0-142" id="h40-0-142" class="d">-		XXX_unrecognized []byte       `json:&quot;-&quot;`
</a><a href="#h40-0-143" id="h40-0-143" class="d">-	}
</a><a href="#h40-0-144" id="h40-0-144" class="d">-	func (m *Test) Reset()         { *m = Test{} }
</a><a href="#h40-0-145" id="h40-0-145" class="d">-	func (m *Test) String() string { return proto.CompactTextString(m) }
</a><a href="#h40-0-146" id="h40-0-146" class="d">-	func (*Test) ProtoMessage() {}
</a><a href="#h40-0-147" id="h40-0-147" class="d">-
</a><a href="#h40-0-148" id="h40-0-148" class="d">-	type isTest_Union interface {
</a><a href="#h40-0-149" id="h40-0-149" class="d">-		isTest_Union()
</a><a href="#h40-0-150" id="h40-0-150" class="d">-	}
</a><a href="#h40-0-151" id="h40-0-151" class="d">-
</a><a href="#h40-0-152" id="h40-0-152" class="d">-	type Test_Number struct {
</a><a href="#h40-0-153" id="h40-0-153" class="d">-		Number int32 `protobuf:&quot;varint,6,opt,name=number&quot;`
</a><a href="#h40-0-154" id="h40-0-154" class="d">-	}
</a><a href="#h40-0-155" id="h40-0-155" class="d">-	type Test_Name struct {
</a><a href="#h40-0-156" id="h40-0-156" class="d">-		Name string `protobuf:&quot;bytes,7,opt,name=name&quot;`
</a><a href="#h40-0-157" id="h40-0-157" class="d">-	}
</a><a href="#h40-0-158" id="h40-0-158" class="d">-
</a><a href="#h40-0-159" id="h40-0-159" class="d">-	func (*Test_Number) isTest_Union() {}
</a><a href="#h40-0-160" id="h40-0-160" class="d">-	func (*Test_Name) isTest_Union()   {}
</a><a href="#h40-0-161" id="h40-0-161" class="d">-
</a><a href="#h40-0-162" id="h40-0-162" class="d">-	func (m *Test) GetUnion() isTest_Union {
</a><a href="#h40-0-163" id="h40-0-163" class="d">-		if m != nil {
</a><a href="#h40-0-164" id="h40-0-164" class="d">-			return m.Union
</a><a href="#h40-0-165" id="h40-0-165" class="d">-		}
</a><a href="#h40-0-166" id="h40-0-166" class="d">-		return nil
</a><a href="#h40-0-167" id="h40-0-167" class="d">-	}
</a><a href="#h40-0-168" id="h40-0-168" class="d">-	const Default_Test_Type int32 = 77
</a><a href="#h40-0-169" id="h40-0-169" class="d">-
</a><a href="#h40-0-170" id="h40-0-170" class="d">-	func (m *Test) GetLabel() string {
</a><a href="#h40-0-171" id="h40-0-171" class="d">-		if m != nil &amp;&amp; m.Label != nil {
</a><a href="#h40-0-172" id="h40-0-172" class="d">-			return *m.Label
</a><a href="#h40-0-173" id="h40-0-173" class="d">-		}
</a><a href="#h40-0-174" id="h40-0-174" class="d">-		return &quot;&quot;
</a><a href="#h40-0-175" id="h40-0-175" class="d">-	}
</a><a href="#h40-0-176" id="h40-0-176" class="d">-
</a><a href="#h40-0-177" id="h40-0-177" class="d">-	func (m *Test) GetType() int32 {
</a><a href="#h40-0-178" id="h40-0-178" class="d">-		if m != nil &amp;&amp; m.Type != nil {
</a><a href="#h40-0-179" id="h40-0-179" class="d">-			return *m.Type
</a><a href="#h40-0-180" id="h40-0-180" class="d">-		}
</a><a href="#h40-0-181" id="h40-0-181" class="d">-		return Default_Test_Type
</a><a href="#h40-0-182" id="h40-0-182" class="d">-	}
</a><a href="#h40-0-183" id="h40-0-183" class="d">-
</a><a href="#h40-0-184" id="h40-0-184" class="d">-	func (m *Test) GetOptionalgroup() *Test_OptionalGroup {
</a><a href="#h40-0-185" id="h40-0-185" class="d">-		if m != nil {
</a><a href="#h40-0-186" id="h40-0-186" class="d">-			return m.Optionalgroup
</a><a href="#h40-0-187" id="h40-0-187" class="d">-		}
</a><a href="#h40-0-188" id="h40-0-188" class="d">-		return nil
</a><a href="#h40-0-189" id="h40-0-189" class="d">-	}
</a><a href="#h40-0-190" id="h40-0-190" class="d">-
</a><a href="#h40-0-191" id="h40-0-191" class="d">-	type Test_OptionalGroup struct {
</a><a href="#h40-0-192" id="h40-0-192" class="d">-		RequiredField *string `protobuf:&quot;bytes,5,req&quot; json:&quot;RequiredField,omitempty&quot;`
</a><a href="#h40-0-193" id="h40-0-193" class="d">-	}
</a><a href="#h40-0-194" id="h40-0-194" class="d">-	func (m *Test_OptionalGroup) Reset()         { *m = Test_OptionalGroup{} }
</a><a href="#h40-0-195" id="h40-0-195" class="d">-	func (m *Test_OptionalGroup) String() string { return proto.CompactTextString(m) }
</a><a href="#h40-0-196" id="h40-0-196" class="d">-
</a><a href="#h40-0-197" id="h40-0-197" class="d">-	func (m *Test_OptionalGroup) GetRequiredField() string {
</a><a href="#h40-0-198" id="h40-0-198" class="d">-		if m != nil &amp;&amp; m.RequiredField != nil {
</a><a href="#h40-0-199" id="h40-0-199" class="d">-			return *m.RequiredField
</a><a href="#h40-0-200" id="h40-0-200" class="d">-		}
</a><a href="#h40-0-201" id="h40-0-201" class="d">-		return &quot;&quot;
</a><a href="#h40-0-202" id="h40-0-202" class="d">-	}
</a><a href="#h40-0-203" id="h40-0-203" class="d">-
</a><a href="#h40-0-204" id="h40-0-204" class="d">-	func (m *Test) GetNumber() int32 {
</a><a href="#h40-0-205" id="h40-0-205" class="d">-		if x, ok := m.GetUnion().(*Test_Number); ok {
</a><a href="#h40-0-206" id="h40-0-206" class="d">-			return x.Number
</a><a href="#h40-0-207" id="h40-0-207" class="d">-		}
</a><a href="#h40-0-208" id="h40-0-208" class="d">-		return 0
</a><a href="#h40-0-209" id="h40-0-209" class="d">-	}
</a><a href="#h40-0-210" id="h40-0-210" class="d">-
</a><a href="#h40-0-211" id="h40-0-211" class="d">-	func (m *Test) GetName() string {
</a><a href="#h40-0-212" id="h40-0-212" class="d">-		if x, ok := m.GetUnion().(*Test_Name); ok {
</a><a href="#h40-0-213" id="h40-0-213" class="d">-			return x.Name
</a><a href="#h40-0-214" id="h40-0-214" class="d">-		}
</a><a href="#h40-0-215" id="h40-0-215" class="d">-		return &quot;&quot;
</a><a href="#h40-0-216" id="h40-0-216" class="d">-	}
</a><a href="#h40-0-217" id="h40-0-217" class="d">-
</a><a href="#h40-0-218" id="h40-0-218" class="d">-	func init() {
</a><a href="#h40-0-219" id="h40-0-219" class="d">-		proto.RegisterEnum(&quot;example.FOO&quot;, FOO_name, FOO_value)
</a><a href="#h40-0-220" id="h40-0-220" class="d">-	}
</a><a href="#h40-0-221" id="h40-0-221" class="d">-
</a><a href="#h40-0-222" id="h40-0-222" class="d">-To create and play with a Test object:
</a><a href="#h40-0-223" id="h40-0-223" class="d">-
</a><a href="#h40-0-224" id="h40-0-224" class="d">-	package main
</a><a href="#h40-0-225" id="h40-0-225" class="d">-
</a><a href="#h40-0-226" id="h40-0-226" class="d">-	import (
</a><a href="#h40-0-227" id="h40-0-227" class="d">-		&quot;log&quot;
</a><a href="#h40-0-228" id="h40-0-228" class="d">-
</a><a href="#h40-0-229" id="h40-0-229" class="d">-		&quot;github.com/golang/protobuf/proto&quot;
</a><a href="#h40-0-230" id="h40-0-230" class="d">-		pb &quot;./example.pb&quot;
</a><a href="#h40-0-231" id="h40-0-231" class="d">-	)
</a><a href="#h40-0-232" id="h40-0-232" class="d">-
</a><a href="#h40-0-233" id="h40-0-233" class="d">-	func main() {
</a><a href="#h40-0-234" id="h40-0-234" class="d">-		test := &amp;pb.Test{
</a><a href="#h40-0-235" id="h40-0-235" class="d">-			Label: proto.String(&quot;hello&quot;),
</a><a href="#h40-0-236" id="h40-0-236" class="d">-			Type:  proto.Int32(17),
</a><a href="#h40-0-237" id="h40-0-237" class="d">-			Reps:  []int64{1, 2, 3},
</a><a href="#h40-0-238" id="h40-0-238" class="d">-			Optionalgroup: &amp;pb.Test_OptionalGroup{
</a><a href="#h40-0-239" id="h40-0-239" class="d">-				RequiredField: proto.String(&quot;good bye&quot;),
</a><a href="#h40-0-240" id="h40-0-240" class="d">-			},
</a><a href="#h40-0-241" id="h40-0-241" class="d">-			Union: &amp;pb.Test_Name{&quot;fred&quot;},
</a><a href="#h40-0-242" id="h40-0-242" class="d">-		}
</a><a href="#h40-0-243" id="h40-0-243" class="d">-		data, err := proto.Marshal(test)
</a><a href="#h40-0-244" id="h40-0-244" class="d">-		if err != nil {
</a><a href="#h40-0-245" id="h40-0-245" class="d">-			log.Fatal(&quot;marshaling error: &quot;, err)
</a><a href="#h40-0-246" id="h40-0-246" class="d">-		}
</a><a href="#h40-0-247" id="h40-0-247" class="d">-		newTest := &amp;pb.Test{}
</a><a href="#h40-0-248" id="h40-0-248" class="d">-		err = proto.Unmarshal(data, newTest)
</a><a href="#h40-0-249" id="h40-0-249" class="d">-		if err != nil {
</a><a href="#h40-0-250" id="h40-0-250" class="d">-			log.Fatal(&quot;unmarshaling error: &quot;, err)
</a><a href="#h40-0-251" id="h40-0-251" class="d">-		}
</a><a href="#h40-0-252" id="h40-0-252" class="d">-		// Now test and newTest contain the same data.
</a><a href="#h40-0-253" id="h40-0-253" class="d">-		if test.GetLabel() != newTest.GetLabel() {
</a><a href="#h40-0-254" id="h40-0-254" class="d">-			log.Fatalf(&quot;data mismatch %q != %q&quot;, test.GetLabel(), newTest.GetLabel())
</a><a href="#h40-0-255" id="h40-0-255" class="d">-		}
</a><a href="#h40-0-256" id="h40-0-256" class="d">-		// Use a type switch to determine which oneof was set.
</a><a href="#h40-0-257" id="h40-0-257" class="d">-		switch u := test.Union.(type) {
</a><a href="#h40-0-258" id="h40-0-258" class="d">-		case *pb.Test_Number: // u.Number contains the number.
</a><a href="#h40-0-259" id="h40-0-259" class="d">-		case *pb.Test_Name: // u.Name contains the string.
</a><a href="#h40-0-260" id="h40-0-260" class="d">-		}
</a><a href="#h40-0-261" id="h40-0-261" class="d">-		// etc.
</a><a href="#h40-0-262" id="h40-0-262" class="d">-	}
</a><a href="#h40-0-263" id="h40-0-263" class="d">-*/
</a><a href="#h40-0-264" id="h40-0-264" class="d">-package proto
</a><a href="#h40-0-265" id="h40-0-265" class="d">-
</a><a href="#h40-0-266" id="h40-0-266" class="d">-import (
</a><a href="#h40-0-267" id="h40-0-267" class="d">-	&quot;encoding/json&quot;
</a><a href="#h40-0-268" id="h40-0-268" class="d">-	&quot;fmt&quot;
</a><a href="#h40-0-269" id="h40-0-269" class="d">-	&quot;log&quot;
</a><a href="#h40-0-270" id="h40-0-270" class="d">-	&quot;reflect&quot;
</a><a href="#h40-0-271" id="h40-0-271" class="d">-	&quot;sort&quot;
</a><a href="#h40-0-272" id="h40-0-272" class="d">-	&quot;strconv&quot;
</a><a href="#h40-0-273" id="h40-0-273" class="d">-	&quot;sync&quot;
</a><a href="#h40-0-274" id="h40-0-274" class="d">-)
</a><a href="#h40-0-275" id="h40-0-275" class="d">-
</a><a href="#h40-0-276" id="h40-0-276" class="d">-// Message is implemented by generated protocol buffer messages.
</a><a href="#h40-0-277" id="h40-0-277" class="d">-type Message interface {
</a><a href="#h40-0-278" id="h40-0-278" class="d">-	Reset()
</a><a href="#h40-0-279" id="h40-0-279" class="d">-	String() string
</a><a href="#h40-0-280" id="h40-0-280" class="d">-	ProtoMessage()
</a><a href="#h40-0-281" id="h40-0-281" class="d">-}
</a><a href="#h40-0-282" id="h40-0-282" class="d">-
</a><a href="#h40-0-283" id="h40-0-283" class="d">-// Stats records allocation details about the protocol buffer encoders
</a><a href="#h40-0-284" id="h40-0-284" class="d">-// and decoders.  Useful for tuning the library itself.
</a><a href="#h40-0-285" id="h40-0-285" class="d">-type Stats struct {
</a><a href="#h40-0-286" id="h40-0-286" class="d">-	Emalloc uint64 // mallocs in encode
</a><a href="#h40-0-287" id="h40-0-287" class="d">-	Dmalloc uint64 // mallocs in decode
</a><a href="#h40-0-288" id="h40-0-288" class="d">-	Encode  uint64 // number of encodes
</a><a href="#h40-0-289" id="h40-0-289" class="d">-	Decode  uint64 // number of decodes
</a><a href="#h40-0-290" id="h40-0-290" class="d">-	Chit    uint64 // number of cache hits
</a><a href="#h40-0-291" id="h40-0-291" class="d">-	Cmiss   uint64 // number of cache misses
</a><a href="#h40-0-292" id="h40-0-292" class="d">-	Size    uint64 // number of sizes
</a><a href="#h40-0-293" id="h40-0-293" class="d">-}
</a><a href="#h40-0-294" id="h40-0-294" class="d">-
</a><a href="#h40-0-295" id="h40-0-295" class="d">-// Set to true to enable stats collection.
</a><a href="#h40-0-296" id="h40-0-296" class="d">-const collectStats = false
</a><a href="#h40-0-297" id="h40-0-297" class="d">-
</a><a href="#h40-0-298" id="h40-0-298" class="d">-var stats Stats
</a><a href="#h40-0-299" id="h40-0-299" class="d">-
</a><a href="#h40-0-300" id="h40-0-300" class="d">-// GetStats returns a copy of the global Stats structure.
</a><a href="#h40-0-301" id="h40-0-301" class="d">-func GetStats() Stats { return stats }
</a><a href="#h40-0-302" id="h40-0-302" class="d">-
</a><a href="#h40-0-303" id="h40-0-303" class="d">-// A Buffer is a buffer manager for marshaling and unmarshaling
</a><a href="#h40-0-304" id="h40-0-304" class="d">-// protocol buffers.  It may be reused between invocations to
</a><a href="#h40-0-305" id="h40-0-305" class="d">-// reduce memory usage.  It is not necessary to use a Buffer;
</a><a href="#h40-0-306" id="h40-0-306" class="d">-// the global functions Marshal and Unmarshal create a
</a><a href="#h40-0-307" id="h40-0-307" class="d">-// temporary Buffer and are fine for most applications.
</a><a href="#h40-0-308" id="h40-0-308" class="d">-type Buffer struct {
</a><a href="#h40-0-309" id="h40-0-309" class="d">-	buf   []byte // encode/decode byte stream
</a><a href="#h40-0-310" id="h40-0-310" class="d">-	index int    // read point
</a><a href="#h40-0-311" id="h40-0-311" class="d">-
</a><a href="#h40-0-312" id="h40-0-312" class="d">-	// pools of basic types to amortize allocation.
</a><a href="#h40-0-313" id="h40-0-313" class="d">-	bools   []bool
</a><a href="#h40-0-314" id="h40-0-314" class="d">-	uint32s []uint32
</a><a href="#h40-0-315" id="h40-0-315" class="d">-	uint64s []uint64
</a><a href="#h40-0-316" id="h40-0-316" class="d">-
</a><a href="#h40-0-317" id="h40-0-317" class="d">-	// extra pools, only used with pointer_reflect.go
</a><a href="#h40-0-318" id="h40-0-318" class="d">-	int32s   []int32
</a><a href="#h40-0-319" id="h40-0-319" class="d">-	int64s   []int64
</a><a href="#h40-0-320" id="h40-0-320" class="d">-	float32s []float32
</a><a href="#h40-0-321" id="h40-0-321" class="d">-	float64s []float64
</a><a href="#h40-0-322" id="h40-0-322" class="d">-}
</a><a href="#h40-0-323" id="h40-0-323" class="d">-
</a><a href="#h40-0-324" id="h40-0-324" class="d">-// NewBuffer allocates a new Buffer and initializes its internal data to
</a><a href="#h40-0-325" id="h40-0-325" class="d">-// the contents of the argument slice.
</a><a href="#h40-0-326" id="h40-0-326" class="d">-func NewBuffer(e []byte) *Buffer {
</a><a href="#h40-0-327" id="h40-0-327" class="d">-	return &amp;Buffer{buf: e}
</a><a href="#h40-0-328" id="h40-0-328" class="d">-}
</a><a href="#h40-0-329" id="h40-0-329" class="d">-
</a><a href="#h40-0-330" id="h40-0-330" class="d">-// Reset resets the Buffer, ready for marshaling a new protocol buffer.
</a><a href="#h40-0-331" id="h40-0-331" class="d">-func (p *Buffer) Reset() {
</a><a href="#h40-0-332" id="h40-0-332" class="d">-	p.buf = p.buf[0:0] // for reading/writing
</a><a href="#h40-0-333" id="h40-0-333" class="d">-	p.index = 0        // for reading
</a><a href="#h40-0-334" id="h40-0-334" class="d">-}
</a><a href="#h40-0-335" id="h40-0-335" class="d">-
</a><a href="#h40-0-336" id="h40-0-336" class="d">-// SetBuf replaces the internal buffer with the slice,
</a><a href="#h40-0-337" id="h40-0-337" class="d">-// ready for unmarshaling the contents of the slice.
</a><a href="#h40-0-338" id="h40-0-338" class="d">-func (p *Buffer) SetBuf(s []byte) {
</a><a href="#h40-0-339" id="h40-0-339" class="d">-	p.buf = s
</a><a href="#h40-0-340" id="h40-0-340" class="d">-	p.index = 0
</a><a href="#h40-0-341" id="h40-0-341" class="d">-}
</a><a href="#h40-0-342" id="h40-0-342" class="d">-
</a><a href="#h40-0-343" id="h40-0-343" class="d">-// Bytes returns the contents of the Buffer.
</a><a href="#h40-0-344" id="h40-0-344" class="d">-func (p *Buffer) Bytes() []byte { return p.buf }
</a><a href="#h40-0-345" id="h40-0-345" class="d">-
</a><a href="#h40-0-346" id="h40-0-346" class="d">-/*
</a><a href="#h40-0-347" id="h40-0-347" class="d">- * Helper routines for simplifying the creation of optional fields of basic type.
</a><a href="#h40-0-348" id="h40-0-348" class="d">- */
</a><a href="#h40-0-349" id="h40-0-349" class="d">-
</a><a href="#h40-0-350" id="h40-0-350" class="d">-// Bool is a helper routine that allocates a new bool value
</a><a href="#h40-0-351" id="h40-0-351" class="d">-// to store v and returns a pointer to it.
</a><a href="#h40-0-352" id="h40-0-352" class="d">-func Bool(v bool) *bool {
</a><a href="#h40-0-353" id="h40-0-353" class="d">-	return &amp;v
</a><a href="#h40-0-354" id="h40-0-354" class="d">-}
</a><a href="#h40-0-355" id="h40-0-355" class="d">-
</a><a href="#h40-0-356" id="h40-0-356" class="d">-// Int32 is a helper routine that allocates a new int32 value
</a><a href="#h40-0-357" id="h40-0-357" class="d">-// to store v and returns a pointer to it.
</a><a href="#h40-0-358" id="h40-0-358" class="d">-func Int32(v int32) *int32 {
</a><a href="#h40-0-359" id="h40-0-359" class="d">-	return &amp;v
</a><a href="#h40-0-360" id="h40-0-360" class="d">-}
</a><a href="#h40-0-361" id="h40-0-361" class="d">-
</a><a href="#h40-0-362" id="h40-0-362" class="d">-// Int is a helper routine that allocates a new int32 value
</a><a href="#h40-0-363" id="h40-0-363" class="d">-// to store v and returns a pointer to it, but unlike Int32
</a><a href="#h40-0-364" id="h40-0-364" class="d">-// its argument value is an int.
</a><a href="#h40-0-365" id="h40-0-365" class="d">-func Int(v int) *int32 {
</a><a href="#h40-0-366" id="h40-0-366" class="d">-	p := new(int32)
</a><a href="#h40-0-367" id="h40-0-367" class="d">-	*p = int32(v)
</a><a href="#h40-0-368" id="h40-0-368" class="d">-	return p
</a><a href="#h40-0-369" id="h40-0-369" class="d">-}
</a><a href="#h40-0-370" id="h40-0-370" class="d">-
</a><a href="#h40-0-371" id="h40-0-371" class="d">-// Int64 is a helper routine that allocates a new int64 value
</a><a href="#h40-0-372" id="h40-0-372" class="d">-// to store v and returns a pointer to it.
</a><a href="#h40-0-373" id="h40-0-373" class="d">-func Int64(v int64) *int64 {
</a><a href="#h40-0-374" id="h40-0-374" class="d">-	return &amp;v
</a><a href="#h40-0-375" id="h40-0-375" class="d">-}
</a><a href="#h40-0-376" id="h40-0-376" class="d">-
</a><a href="#h40-0-377" id="h40-0-377" class="d">-// Float32 is a helper routine that allocates a new float32 value
</a><a href="#h40-0-378" id="h40-0-378" class="d">-// to store v and returns a pointer to it.
</a><a href="#h40-0-379" id="h40-0-379" class="d">-func Float32(v float32) *float32 {
</a><a href="#h40-0-380" id="h40-0-380" class="d">-	return &amp;v
</a><a href="#h40-0-381" id="h40-0-381" class="d">-}
</a><a href="#h40-0-382" id="h40-0-382" class="d">-
</a><a href="#h40-0-383" id="h40-0-383" class="d">-// Float64 is a helper routine that allocates a new float64 value
</a><a href="#h40-0-384" id="h40-0-384" class="d">-// to store v and returns a pointer to it.
</a><a href="#h40-0-385" id="h40-0-385" class="d">-func Float64(v float64) *float64 {
</a><a href="#h40-0-386" id="h40-0-386" class="d">-	return &amp;v
</a><a href="#h40-0-387" id="h40-0-387" class="d">-}
</a><a href="#h40-0-388" id="h40-0-388" class="d">-
</a><a href="#h40-0-389" id="h40-0-389" class="d">-// Uint32 is a helper routine that allocates a new uint32 value
</a><a href="#h40-0-390" id="h40-0-390" class="d">-// to store v and returns a pointer to it.
</a><a href="#h40-0-391" id="h40-0-391" class="d">-func Uint32(v uint32) *uint32 {
</a><a href="#h40-0-392" id="h40-0-392" class="d">-	return &amp;v
</a><a href="#h40-0-393" id="h40-0-393" class="d">-}
</a><a href="#h40-0-394" id="h40-0-394" class="d">-
</a><a href="#h40-0-395" id="h40-0-395" class="d">-// Uint64 is a helper routine that allocates a new uint64 value
</a><a href="#h40-0-396" id="h40-0-396" class="d">-// to store v and returns a pointer to it.
</a><a href="#h40-0-397" id="h40-0-397" class="d">-func Uint64(v uint64) *uint64 {
</a><a href="#h40-0-398" id="h40-0-398" class="d">-	return &amp;v
</a><a href="#h40-0-399" id="h40-0-399" class="d">-}
</a><a href="#h40-0-400" id="h40-0-400" class="d">-
</a><a href="#h40-0-401" id="h40-0-401" class="d">-// String is a helper routine that allocates a new string value
</a><a href="#h40-0-402" id="h40-0-402" class="d">-// to store v and returns a pointer to it.
</a><a href="#h40-0-403" id="h40-0-403" class="d">-func String(v string) *string {
</a><a href="#h40-0-404" id="h40-0-404" class="d">-	return &amp;v
</a><a href="#h40-0-405" id="h40-0-405" class="d">-}
</a><a href="#h40-0-406" id="h40-0-406" class="d">-
</a><a href="#h40-0-407" id="h40-0-407" class="d">-// EnumName is a helper function to simplify printing protocol buffer enums
</a><a href="#h40-0-408" id="h40-0-408" class="d">-// by name.  Given an enum map and a value, it returns a useful string.
</a><a href="#h40-0-409" id="h40-0-409" class="d">-func EnumName(m map[int32]string, v int32) string {
</a><a href="#h40-0-410" id="h40-0-410" class="d">-	s, ok := m[v]
</a><a href="#h40-0-411" id="h40-0-411" class="d">-	if ok {
</a><a href="#h40-0-412" id="h40-0-412" class="d">-		return s
</a><a href="#h40-0-413" id="h40-0-413" class="d">-	}
</a><a href="#h40-0-414" id="h40-0-414" class="d">-	return strconv.Itoa(int(v))
</a><a href="#h40-0-415" id="h40-0-415" class="d">-}
</a><a href="#h40-0-416" id="h40-0-416" class="d">-
</a><a href="#h40-0-417" id="h40-0-417" class="d">-// UnmarshalJSONEnum is a helper function to simplify recovering enum int values
</a><a href="#h40-0-418" id="h40-0-418" class="d">-// from their JSON-encoded representation. Given a map from the enum&#39;s symbolic
</a><a href="#h40-0-419" id="h40-0-419" class="d">-// names to its int values, and a byte buffer containing the JSON-encoded
</a><a href="#h40-0-420" id="h40-0-420" class="d">-// value, it returns an int32 that can be cast to the enum type by the caller.
</a><a href="#h40-0-421" id="h40-0-421" class="d">-//
</a><a href="#h40-0-422" id="h40-0-422" class="d">-// The function can deal with both JSON representations, numeric and symbolic.
</a><a href="#h40-0-423" id="h40-0-423" class="d">-func UnmarshalJSONEnum(m map[string]int32, data []byte, enumName string) (int32, error) {
</a><a href="#h40-0-424" id="h40-0-424" class="d">-	if data[0] == &#39;&quot;&#39; {
</a><a href="#h40-0-425" id="h40-0-425" class="d">-		// New style: enums are strings.
</a><a href="#h40-0-426" id="h40-0-426" class="d">-		var repr string
</a><a href="#h40-0-427" id="h40-0-427" class="d">-		if err := json.Unmarshal(data, &amp;repr); err != nil {
</a><a href="#h40-0-428" id="h40-0-428" class="d">-			return -1, err
</a><a href="#h40-0-429" id="h40-0-429" class="d">-		}
</a><a href="#h40-0-430" id="h40-0-430" class="d">-		val, ok := m[repr]
</a><a href="#h40-0-431" id="h40-0-431" class="d">-		if !ok {
</a><a href="#h40-0-432" id="h40-0-432" class="d">-			return 0, fmt.Errorf(&quot;unrecognized enum %s value %q&quot;, enumName, repr)
</a><a href="#h40-0-433" id="h40-0-433" class="d">-		}
</a><a href="#h40-0-434" id="h40-0-434" class="d">-		return val, nil
</a><a href="#h40-0-435" id="h40-0-435" class="d">-	}
</a><a href="#h40-0-436" id="h40-0-436" class="d">-	// Old style: enums are ints.
</a><a href="#h40-0-437" id="h40-0-437" class="d">-	var val int32
</a><a href="#h40-0-438" id="h40-0-438" class="d">-	if err := json.Unmarshal(data, &amp;val); err != nil {
</a><a href="#h40-0-439" id="h40-0-439" class="d">-		return 0, fmt.Errorf(&quot;cannot unmarshal %#q into enum %s&quot;, data, enumName)
</a><a href="#h40-0-440" id="h40-0-440" class="d">-	}
</a><a href="#h40-0-441" id="h40-0-441" class="d">-	return val, nil
</a><a href="#h40-0-442" id="h40-0-442" class="d">-}
</a><a href="#h40-0-443" id="h40-0-443" class="d">-
</a><a href="#h40-0-444" id="h40-0-444" class="d">-// DebugPrint dumps the encoded data in b in a debugging format with a header
</a><a href="#h40-0-445" id="h40-0-445" class="d">-// including the string s. Used in testing but made available for general debugging.
</a><a href="#h40-0-446" id="h40-0-446" class="d">-func (p *Buffer) DebugPrint(s string, b []byte) {
</a><a href="#h40-0-447" id="h40-0-447" class="d">-	var u uint64
</a><a href="#h40-0-448" id="h40-0-448" class="d">-
</a><a href="#h40-0-449" id="h40-0-449" class="d">-	obuf := p.buf
</a><a href="#h40-0-450" id="h40-0-450" class="d">-	index := p.index
</a><a href="#h40-0-451" id="h40-0-451" class="d">-	p.buf = b
</a><a href="#h40-0-452" id="h40-0-452" class="d">-	p.index = 0
</a><a href="#h40-0-453" id="h40-0-453" class="d">-	depth := 0
</a><a href="#h40-0-454" id="h40-0-454" class="d">-
</a><a href="#h40-0-455" id="h40-0-455" class="d">-	fmt.Printf(&quot;\n--- %s ---\n&quot;, s)
</a><a href="#h40-0-456" id="h40-0-456" class="d">-
</a><a href="#h40-0-457" id="h40-0-457" class="d">-out:
</a><a href="#h40-0-458" id="h40-0-458" class="d">-	for {
</a><a href="#h40-0-459" id="h40-0-459" class="d">-		for i := 0; i &lt; depth; i++ {
</a><a href="#h40-0-460" id="h40-0-460" class="d">-			fmt.Print(&quot;  &quot;)
</a><a href="#h40-0-461" id="h40-0-461" class="d">-		}
</a><a href="#h40-0-462" id="h40-0-462" class="d">-
</a><a href="#h40-0-463" id="h40-0-463" class="d">-		index := p.index
</a><a href="#h40-0-464" id="h40-0-464" class="d">-		if index == len(p.buf) {
</a><a href="#h40-0-465" id="h40-0-465" class="d">-			break
</a><a href="#h40-0-466" id="h40-0-466" class="d">-		}
</a><a href="#h40-0-467" id="h40-0-467" class="d">-
</a><a href="#h40-0-468" id="h40-0-468" class="d">-		op, err := p.DecodeVarint()
</a><a href="#h40-0-469" id="h40-0-469" class="d">-		if err != nil {
</a><a href="#h40-0-470" id="h40-0-470" class="d">-			fmt.Printf(&quot;%3d: fetching op err %v\n&quot;, index, err)
</a><a href="#h40-0-471" id="h40-0-471" class="d">-			break out
</a><a href="#h40-0-472" id="h40-0-472" class="d">-		}
</a><a href="#h40-0-473" id="h40-0-473" class="d">-		tag := op &gt;&gt; 3
</a><a href="#h40-0-474" id="h40-0-474" class="d">-		wire := op &amp; 7
</a><a href="#h40-0-475" id="h40-0-475" class="d">-
</a><a href="#h40-0-476" id="h40-0-476" class="d">-		switch wire {
</a><a href="#h40-0-477" id="h40-0-477" class="d">-		default:
</a><a href="#h40-0-478" id="h40-0-478" class="d">-			fmt.Printf(&quot;%3d: t=%3d unknown wire=%d\n&quot;,
</a><a href="#h40-0-479" id="h40-0-479" class="d">-				index, tag, wire)
</a><a href="#h40-0-480" id="h40-0-480" class="d">-			break out
</a><a href="#h40-0-481" id="h40-0-481" class="d">-
</a><a href="#h40-0-482" id="h40-0-482" class="d">-		case WireBytes:
</a><a href="#h40-0-483" id="h40-0-483" class="d">-			var r []byte
</a><a href="#h40-0-484" id="h40-0-484" class="d">-
</a><a href="#h40-0-485" id="h40-0-485" class="d">-			r, err = p.DecodeRawBytes(false)
</a><a href="#h40-0-486" id="h40-0-486" class="d">-			if err != nil {
</a><a href="#h40-0-487" id="h40-0-487" class="d">-				break out
</a><a href="#h40-0-488" id="h40-0-488" class="d">-			}
</a><a href="#h40-0-489" id="h40-0-489" class="d">-			fmt.Printf(&quot;%3d: t=%3d bytes [%d]&quot;, index, tag, len(r))
</a><a href="#h40-0-490" id="h40-0-490" class="d">-			if len(r) &lt;= 6 {
</a><a href="#h40-0-491" id="h40-0-491" class="d">-				for i := 0; i &lt; len(r); i++ {
</a><a href="#h40-0-492" id="h40-0-492" class="d">-					fmt.Printf(&quot; %.2x&quot;, r[i])
</a><a href="#h40-0-493" id="h40-0-493" class="d">-				}
</a><a href="#h40-0-494" id="h40-0-494" class="d">-			} else {
</a><a href="#h40-0-495" id="h40-0-495" class="d">-				for i := 0; i &lt; 3; i++ {
</a><a href="#h40-0-496" id="h40-0-496" class="d">-					fmt.Printf(&quot; %.2x&quot;, r[i])
</a><a href="#h40-0-497" id="h40-0-497" class="d">-				}
</a><a href="#h40-0-498" id="h40-0-498" class="d">-				fmt.Printf(&quot; ..&quot;)
</a><a href="#h40-0-499" id="h40-0-499" class="d">-				for i := len(r) - 3; i &lt; len(r); i++ {
</a><a href="#h40-0-500" id="h40-0-500" class="d">-					fmt.Printf(&quot; %.2x&quot;, r[i])
</a><a href="#h40-0-501" id="h40-0-501" class="d">-				}
</a><a href="#h40-0-502" id="h40-0-502" class="d">-			}
</a><a href="#h40-0-503" id="h40-0-503" class="d">-			fmt.Printf(&quot;\n&quot;)
</a><a href="#h40-0-504" id="h40-0-504" class="d">-
</a><a href="#h40-0-505" id="h40-0-505" class="d">-		case WireFixed32:
</a><a href="#h40-0-506" id="h40-0-506" class="d">-			u, err = p.DecodeFixed32()
</a><a href="#h40-0-507" id="h40-0-507" class="d">-			if err != nil {
</a><a href="#h40-0-508" id="h40-0-508" class="d">-				fmt.Printf(&quot;%3d: t=%3d fix32 err %v\n&quot;, index, tag, err)
</a><a href="#h40-0-509" id="h40-0-509" class="d">-				break out
</a><a href="#h40-0-510" id="h40-0-510" class="d">-			}
</a><a href="#h40-0-511" id="h40-0-511" class="d">-			fmt.Printf(&quot;%3d: t=%3d fix32 %d\n&quot;, index, tag, u)
</a><a href="#h40-0-512" id="h40-0-512" class="d">-
</a><a href="#h40-0-513" id="h40-0-513" class="d">-		case WireFixed64:
</a><a href="#h40-0-514" id="h40-0-514" class="d">-			u, err = p.DecodeFixed64()
</a><a href="#h40-0-515" id="h40-0-515" class="d">-			if err != nil {
</a><a href="#h40-0-516" id="h40-0-516" class="d">-				fmt.Printf(&quot;%3d: t=%3d fix64 err %v\n&quot;, index, tag, err)
</a><a href="#h40-0-517" id="h40-0-517" class="d">-				break out
</a><a href="#h40-0-518" id="h40-0-518" class="d">-			}
</a><a href="#h40-0-519" id="h40-0-519" class="d">-			fmt.Printf(&quot;%3d: t=%3d fix64 %d\n&quot;, index, tag, u)
</a><a href="#h40-0-520" id="h40-0-520" class="d">-
</a><a href="#h40-0-521" id="h40-0-521" class="d">-		case WireVarint:
</a><a href="#h40-0-522" id="h40-0-522" class="d">-			u, err = p.DecodeVarint()
</a><a href="#h40-0-523" id="h40-0-523" class="d">-			if err != nil {
</a><a href="#h40-0-524" id="h40-0-524" class="d">-				fmt.Printf(&quot;%3d: t=%3d varint err %v\n&quot;, index, tag, err)
</a><a href="#h40-0-525" id="h40-0-525" class="d">-				break out
</a><a href="#h40-0-526" id="h40-0-526" class="d">-			}
</a><a href="#h40-0-527" id="h40-0-527" class="d">-			fmt.Printf(&quot;%3d: t=%3d varint %d\n&quot;, index, tag, u)
</a><a href="#h40-0-528" id="h40-0-528" class="d">-
</a><a href="#h40-0-529" id="h40-0-529" class="d">-		case WireStartGroup:
</a><a href="#h40-0-530" id="h40-0-530" class="d">-			fmt.Printf(&quot;%3d: t=%3d start\n&quot;, index, tag)
</a><a href="#h40-0-531" id="h40-0-531" class="d">-			depth++
</a><a href="#h40-0-532" id="h40-0-532" class="d">-
</a><a href="#h40-0-533" id="h40-0-533" class="d">-		case WireEndGroup:
</a><a href="#h40-0-534" id="h40-0-534" class="d">-			depth--
</a><a href="#h40-0-535" id="h40-0-535" class="d">-			fmt.Printf(&quot;%3d: t=%3d end\n&quot;, index, tag)
</a><a href="#h40-0-536" id="h40-0-536" class="d">-		}
</a><a href="#h40-0-537" id="h40-0-537" class="d">-	}
</a><a href="#h40-0-538" id="h40-0-538" class="d">-
</a><a href="#h40-0-539" id="h40-0-539" class="d">-	if depth != 0 {
</a><a href="#h40-0-540" id="h40-0-540" class="d">-		fmt.Printf(&quot;%3d: start-end not balanced %d\n&quot;, p.index, depth)
</a><a href="#h40-0-541" id="h40-0-541" class="d">-	}
</a><a href="#h40-0-542" id="h40-0-542" class="d">-	fmt.Printf(&quot;\n&quot;)
</a><a href="#h40-0-543" id="h40-0-543" class="d">-
</a><a href="#h40-0-544" id="h40-0-544" class="d">-	p.buf = obuf
</a><a href="#h40-0-545" id="h40-0-545" class="d">-	p.index = index
</a><a href="#h40-0-546" id="h40-0-546" class="d">-}
</a><a href="#h40-0-547" id="h40-0-547" class="d">-
</a><a href="#h40-0-548" id="h40-0-548" class="d">-// SetDefaults sets unset protocol buffer fields to their default values.
</a><a href="#h40-0-549" id="h40-0-549" class="d">-// It only modifies fields that are both unset and have defined defaults.
</a><a href="#h40-0-550" id="h40-0-550" class="d">-// It recursively sets default values in any non-nil sub-messages.
</a><a href="#h40-0-551" id="h40-0-551" class="d">-func SetDefaults(pb Message) {
</a><a href="#h40-0-552" id="h40-0-552" class="d">-	setDefaults(reflect.ValueOf(pb), true, false)
</a><a href="#h40-0-553" id="h40-0-553" class="d">-}
</a><a href="#h40-0-554" id="h40-0-554" class="d">-
</a><a href="#h40-0-555" id="h40-0-555" class="d">-// v is a pointer to a struct.
</a><a href="#h40-0-556" id="h40-0-556" class="d">-func setDefaults(v reflect.Value, recur, zeros bool) {
</a><a href="#h40-0-557" id="h40-0-557" class="d">-	v = v.Elem()
</a><a href="#h40-0-558" id="h40-0-558" class="d">-
</a><a href="#h40-0-559" id="h40-0-559" class="d">-	defaultMu.RLock()
</a><a href="#h40-0-560" id="h40-0-560" class="d">-	dm, ok := defaults[v.Type()]
</a><a href="#h40-0-561" id="h40-0-561" class="d">-	defaultMu.RUnlock()
</a><a href="#h40-0-562" id="h40-0-562" class="d">-	if !ok {
</a><a href="#h40-0-563" id="h40-0-563" class="d">-		dm = buildDefaultMessage(v.Type())
</a><a href="#h40-0-564" id="h40-0-564" class="d">-		defaultMu.Lock()
</a><a href="#h40-0-565" id="h40-0-565" class="d">-		defaults[v.Type()] = dm
</a><a href="#h40-0-566" id="h40-0-566" class="d">-		defaultMu.Unlock()
</a><a href="#h40-0-567" id="h40-0-567" class="d">-	}
</a><a href="#h40-0-568" id="h40-0-568" class="d">-
</a><a href="#h40-0-569" id="h40-0-569" class="d">-	for _, sf := range dm.scalars {
</a><a href="#h40-0-570" id="h40-0-570" class="d">-		f := v.Field(sf.index)
</a><a href="#h40-0-571" id="h40-0-571" class="d">-		if !f.IsNil() {
</a><a href="#h40-0-572" id="h40-0-572" class="d">-			// field already set
</a><a href="#h40-0-573" id="h40-0-573" class="d">-			continue
</a><a href="#h40-0-574" id="h40-0-574" class="d">-		}
</a><a href="#h40-0-575" id="h40-0-575" class="d">-		dv := sf.value
</a><a href="#h40-0-576" id="h40-0-576" class="d">-		if dv == nil &amp;&amp; !zeros {
</a><a href="#h40-0-577" id="h40-0-577" class="d">-			// no explicit default, and don&#39;t want to set zeros
</a><a href="#h40-0-578" id="h40-0-578" class="d">-			continue
</a><a href="#h40-0-579" id="h40-0-579" class="d">-		}
</a><a href="#h40-0-580" id="h40-0-580" class="d">-		fptr := f.Addr().Interface() // **T
</a><a href="#h40-0-581" id="h40-0-581" class="d">-		// TODO: Consider batching the allocations we do here.
</a><a href="#h40-0-582" id="h40-0-582" class="d">-		switch sf.kind {
</a><a href="#h40-0-583" id="h40-0-583" class="d">-		case reflect.Bool:
</a><a href="#h40-0-584" id="h40-0-584" class="d">-			b := new(bool)
</a><a href="#h40-0-585" id="h40-0-585" class="d">-			if dv != nil {
</a><a href="#h40-0-586" id="h40-0-586" class="d">-				*b = dv.(bool)
</a><a href="#h40-0-587" id="h40-0-587" class="d">-			}
</a><a href="#h40-0-588" id="h40-0-588" class="d">-			*(fptr.(**bool)) = b
</a><a href="#h40-0-589" id="h40-0-589" class="d">-		case reflect.Float32:
</a><a href="#h40-0-590" id="h40-0-590" class="d">-			f := new(float32)
</a><a href="#h40-0-591" id="h40-0-591" class="d">-			if dv != nil {
</a><a href="#h40-0-592" id="h40-0-592" class="d">-				*f = dv.(float32)
</a><a href="#h40-0-593" id="h40-0-593" class="d">-			}
</a><a href="#h40-0-594" id="h40-0-594" class="d">-			*(fptr.(**float32)) = f
</a><a href="#h40-0-595" id="h40-0-595" class="d">-		case reflect.Float64:
</a><a href="#h40-0-596" id="h40-0-596" class="d">-			f := new(float64)
</a><a href="#h40-0-597" id="h40-0-597" class="d">-			if dv != nil {
</a><a href="#h40-0-598" id="h40-0-598" class="d">-				*f = dv.(float64)
</a><a href="#h40-0-599" id="h40-0-599" class="d">-			}
</a><a href="#h40-0-600" id="h40-0-600" class="d">-			*(fptr.(**float64)) = f
</a><a href="#h40-0-601" id="h40-0-601" class="d">-		case reflect.Int32:
</a><a href="#h40-0-602" id="h40-0-602" class="d">-			// might be an enum
</a><a href="#h40-0-603" id="h40-0-603" class="d">-			if ft := f.Type(); ft != int32PtrType {
</a><a href="#h40-0-604" id="h40-0-604" class="d">-				// enum
</a><a href="#h40-0-605" id="h40-0-605" class="d">-				f.Set(reflect.New(ft.Elem()))
</a><a href="#h40-0-606" id="h40-0-606" class="d">-				if dv != nil {
</a><a href="#h40-0-607" id="h40-0-607" class="d">-					f.Elem().SetInt(int64(dv.(int32)))
</a><a href="#h40-0-608" id="h40-0-608" class="d">-				}
</a><a href="#h40-0-609" id="h40-0-609" class="d">-			} else {
</a><a href="#h40-0-610" id="h40-0-610" class="d">-				// int32 field
</a><a href="#h40-0-611" id="h40-0-611" class="d">-				i := new(int32)
</a><a href="#h40-0-612" id="h40-0-612" class="d">-				if dv != nil {
</a><a href="#h40-0-613" id="h40-0-613" class="d">-					*i = dv.(int32)
</a><a href="#h40-0-614" id="h40-0-614" class="d">-				}
</a><a href="#h40-0-615" id="h40-0-615" class="d">-				*(fptr.(**int32)) = i
</a><a href="#h40-0-616" id="h40-0-616" class="d">-			}
</a><a href="#h40-0-617" id="h40-0-617" class="d">-		case reflect.Int64:
</a><a href="#h40-0-618" id="h40-0-618" class="d">-			i := new(int64)
</a><a href="#h40-0-619" id="h40-0-619" class="d">-			if dv != nil {
</a><a href="#h40-0-620" id="h40-0-620" class="d">-				*i = dv.(int64)
</a><a href="#h40-0-621" id="h40-0-621" class="d">-			}
</a><a href="#h40-0-622" id="h40-0-622" class="d">-			*(fptr.(**int64)) = i
</a><a href="#h40-0-623" id="h40-0-623" class="d">-		case reflect.String:
</a><a href="#h40-0-624" id="h40-0-624" class="d">-			s := new(string)
</a><a href="#h40-0-625" id="h40-0-625" class="d">-			if dv != nil {
</a><a href="#h40-0-626" id="h40-0-626" class="d">-				*s = dv.(string)
</a><a href="#h40-0-627" id="h40-0-627" class="d">-			}
</a><a href="#h40-0-628" id="h40-0-628" class="d">-			*(fptr.(**string)) = s
</a><a href="#h40-0-629" id="h40-0-629" class="d">-		case reflect.Uint8:
</a><a href="#h40-0-630" id="h40-0-630" class="d">-			// exceptional case: []byte
</a><a href="#h40-0-631" id="h40-0-631" class="d">-			var b []byte
</a><a href="#h40-0-632" id="h40-0-632" class="d">-			if dv != nil {
</a><a href="#h40-0-633" id="h40-0-633" class="d">-				db := dv.([]byte)
</a><a href="#h40-0-634" id="h40-0-634" class="d">-				b = make([]byte, len(db))
</a><a href="#h40-0-635" id="h40-0-635" class="d">-				copy(b, db)
</a><a href="#h40-0-636" id="h40-0-636" class="d">-			} else {
</a><a href="#h40-0-637" id="h40-0-637" class="d">-				b = []byte{}
</a><a href="#h40-0-638" id="h40-0-638" class="d">-			}
</a><a href="#h40-0-639" id="h40-0-639" class="d">-			*(fptr.(*[]byte)) = b
</a><a href="#h40-0-640" id="h40-0-640" class="d">-		case reflect.Uint32:
</a><a href="#h40-0-641" id="h40-0-641" class="d">-			u := new(uint32)
</a><a href="#h40-0-642" id="h40-0-642" class="d">-			if dv != nil {
</a><a href="#h40-0-643" id="h40-0-643" class="d">-				*u = dv.(uint32)
</a><a href="#h40-0-644" id="h40-0-644" class="d">-			}
</a><a href="#h40-0-645" id="h40-0-645" class="d">-			*(fptr.(**uint32)) = u
</a><a href="#h40-0-646" id="h40-0-646" class="d">-		case reflect.Uint64:
</a><a href="#h40-0-647" id="h40-0-647" class="d">-			u := new(uint64)
</a><a href="#h40-0-648" id="h40-0-648" class="d">-			if dv != nil {
</a><a href="#h40-0-649" id="h40-0-649" class="d">-				*u = dv.(uint64)
</a><a href="#h40-0-650" id="h40-0-650" class="d">-			}
</a><a href="#h40-0-651" id="h40-0-651" class="d">-			*(fptr.(**uint64)) = u
</a><a href="#h40-0-652" id="h40-0-652" class="d">-		default:
</a><a href="#h40-0-653" id="h40-0-653" class="d">-			log.Printf(&quot;proto: can&#39;t set default for field %v (sf.kind=%v)&quot;, f, sf.kind)
</a><a href="#h40-0-654" id="h40-0-654" class="d">-		}
</a><a href="#h40-0-655" id="h40-0-655" class="d">-	}
</a><a href="#h40-0-656" id="h40-0-656" class="d">-
</a><a href="#h40-0-657" id="h40-0-657" class="d">-	for _, ni := range dm.nested {
</a><a href="#h40-0-658" id="h40-0-658" class="d">-		f := v.Field(ni)
</a><a href="#h40-0-659" id="h40-0-659" class="d">-		// f is *T or []*T or map[T]*T
</a><a href="#h40-0-660" id="h40-0-660" class="d">-		switch f.Kind() {
</a><a href="#h40-0-661" id="h40-0-661" class="d">-		case reflect.Ptr:
</a><a href="#h40-0-662" id="h40-0-662" class="d">-			if f.IsNil() {
</a><a href="#h40-0-663" id="h40-0-663" class="d">-				continue
</a><a href="#h40-0-664" id="h40-0-664" class="d">-			}
</a><a href="#h40-0-665" id="h40-0-665" class="d">-			setDefaults(f, recur, zeros)
</a><a href="#h40-0-666" id="h40-0-666" class="d">-
</a><a href="#h40-0-667" id="h40-0-667" class="d">-		case reflect.Slice:
</a><a href="#h40-0-668" id="h40-0-668" class="d">-			for i := 0; i &lt; f.Len(); i++ {
</a><a href="#h40-0-669" id="h40-0-669" class="d">-				e := f.Index(i)
</a><a href="#h40-0-670" id="h40-0-670" class="d">-				if e.IsNil() {
</a><a href="#h40-0-671" id="h40-0-671" class="d">-					continue
</a><a href="#h40-0-672" id="h40-0-672" class="d">-				}
</a><a href="#h40-0-673" id="h40-0-673" class="d">-				setDefaults(e, recur, zeros)
</a><a href="#h40-0-674" id="h40-0-674" class="d">-			}
</a><a href="#h40-0-675" id="h40-0-675" class="d">-
</a><a href="#h40-0-676" id="h40-0-676" class="d">-		case reflect.Map:
</a><a href="#h40-0-677" id="h40-0-677" class="d">-			for _, k := range f.MapKeys() {
</a><a href="#h40-0-678" id="h40-0-678" class="d">-				e := f.MapIndex(k)
</a><a href="#h40-0-679" id="h40-0-679" class="d">-				if e.IsNil() {
</a><a href="#h40-0-680" id="h40-0-680" class="d">-					continue
</a><a href="#h40-0-681" id="h40-0-681" class="d">-				}
</a><a href="#h40-0-682" id="h40-0-682" class="d">-				setDefaults(e, recur, zeros)
</a><a href="#h40-0-683" id="h40-0-683" class="d">-			}
</a><a href="#h40-0-684" id="h40-0-684" class="d">-		}
</a><a href="#h40-0-685" id="h40-0-685" class="d">-	}
</a><a href="#h40-0-686" id="h40-0-686" class="d">-}
</a><a href="#h40-0-687" id="h40-0-687" class="d">-
</a><a href="#h40-0-688" id="h40-0-688" class="d">-var (
</a><a href="#h40-0-689" id="h40-0-689" class="d">-	// defaults maps a protocol buffer struct type to a slice of the fields,
</a><a href="#h40-0-690" id="h40-0-690" class="d">-	// with its scalar fields set to their proto-declared non-zero default values.
</a><a href="#h40-0-691" id="h40-0-691" class="d">-	defaultMu sync.RWMutex
</a><a href="#h40-0-692" id="h40-0-692" class="d">-	defaults  = make(map[reflect.Type]defaultMessage)
</a><a href="#h40-0-693" id="h40-0-693" class="d">-
</a><a href="#h40-0-694" id="h40-0-694" class="d">-	int32PtrType = reflect.TypeOf((*int32)(nil))
</a><a href="#h40-0-695" id="h40-0-695" class="d">-)
</a><a href="#h40-0-696" id="h40-0-696" class="d">-
</a><a href="#h40-0-697" id="h40-0-697" class="d">-// defaultMessage represents information about the default values of a message.
</a><a href="#h40-0-698" id="h40-0-698" class="d">-type defaultMessage struct {
</a><a href="#h40-0-699" id="h40-0-699" class="d">-	scalars []scalarField
</a><a href="#h40-0-700" id="h40-0-700" class="d">-	nested  []int // struct field index of nested messages
</a><a href="#h40-0-701" id="h40-0-701" class="d">-}
</a><a href="#h40-0-702" id="h40-0-702" class="d">-
</a><a href="#h40-0-703" id="h40-0-703" class="d">-type scalarField struct {
</a><a href="#h40-0-704" id="h40-0-704" class="d">-	index int          // struct field index
</a><a href="#h40-0-705" id="h40-0-705" class="d">-	kind  reflect.Kind // element type (the T in *T or []T)
</a><a href="#h40-0-706" id="h40-0-706" class="d">-	value interface{}  // the proto-declared default value, or nil
</a><a href="#h40-0-707" id="h40-0-707" class="d">-}
</a><a href="#h40-0-708" id="h40-0-708" class="d">-
</a><a href="#h40-0-709" id="h40-0-709" class="d">-// t is a struct type.
</a><a href="#h40-0-710" id="h40-0-710" class="d">-func buildDefaultMessage(t reflect.Type) (dm defaultMessage) {
</a><a href="#h40-0-711" id="h40-0-711" class="d">-	sprop := GetProperties(t)
</a><a href="#h40-0-712" id="h40-0-712" class="d">-	for _, prop := range sprop.Prop {
</a><a href="#h40-0-713" id="h40-0-713" class="d">-		fi, ok := sprop.decoderTags.get(prop.Tag)
</a><a href="#h40-0-714" id="h40-0-714" class="d">-		if !ok {
</a><a href="#h40-0-715" id="h40-0-715" class="d">-			// XXX_unrecognized
</a><a href="#h40-0-716" id="h40-0-716" class="d">-			continue
</a><a href="#h40-0-717" id="h40-0-717" class="d">-		}
</a><a href="#h40-0-718" id="h40-0-718" class="d">-		ft := t.Field(fi).Type
</a><a href="#h40-0-719" id="h40-0-719" class="d">-
</a><a href="#h40-0-720" id="h40-0-720" class="d">-		sf, nested, err := fieldDefault(ft, prop)
</a><a href="#h40-0-721" id="h40-0-721" class="d">-		switch {
</a><a href="#h40-0-722" id="h40-0-722" class="d">-		case err != nil:
</a><a href="#h40-0-723" id="h40-0-723" class="d">-			log.Print(err)
</a><a href="#h40-0-724" id="h40-0-724" class="d">-		case nested:
</a><a href="#h40-0-725" id="h40-0-725" class="d">-			dm.nested = append(dm.nested, fi)
</a><a href="#h40-0-726" id="h40-0-726" class="d">-		case sf != nil:
</a><a href="#h40-0-727" id="h40-0-727" class="d">-			sf.index = fi
</a><a href="#h40-0-728" id="h40-0-728" class="d">-			dm.scalars = append(dm.scalars, *sf)
</a><a href="#h40-0-729" id="h40-0-729" class="d">-		}
</a><a href="#h40-0-730" id="h40-0-730" class="d">-	}
</a><a href="#h40-0-731" id="h40-0-731" class="d">-
</a><a href="#h40-0-732" id="h40-0-732" class="d">-	return dm
</a><a href="#h40-0-733" id="h40-0-733" class="d">-}
</a><a href="#h40-0-734" id="h40-0-734" class="d">-
</a><a href="#h40-0-735" id="h40-0-735" class="d">-// fieldDefault returns the scalarField for field type ft.
</a><a href="#h40-0-736" id="h40-0-736" class="d">-// sf will be nil if the field can not have a default.
</a><a href="#h40-0-737" id="h40-0-737" class="d">-// nestedMessage will be true if this is a nested message.
</a><a href="#h40-0-738" id="h40-0-738" class="d">-// Note that sf.index is not set on return.
</a><a href="#h40-0-739" id="h40-0-739" class="d">-func fieldDefault(ft reflect.Type, prop *Properties) (sf *scalarField, nestedMessage bool, err error) {
</a><a href="#h40-0-740" id="h40-0-740" class="d">-	var canHaveDefault bool
</a><a href="#h40-0-741" id="h40-0-741" class="d">-	switch ft.Kind() {
</a><a href="#h40-0-742" id="h40-0-742" class="d">-	case reflect.Ptr:
</a><a href="#h40-0-743" id="h40-0-743" class="d">-		if ft.Elem().Kind() == reflect.Struct {
</a><a href="#h40-0-744" id="h40-0-744" class="d">-			nestedMessage = true
</a><a href="#h40-0-745" id="h40-0-745" class="d">-		} else {
</a><a href="#h40-0-746" id="h40-0-746" class="d">-			canHaveDefault = true // proto2 scalar field
</a><a href="#h40-0-747" id="h40-0-747" class="d">-		}
</a><a href="#h40-0-748" id="h40-0-748" class="d">-
</a><a href="#h40-0-749" id="h40-0-749" class="d">-	case reflect.Slice:
</a><a href="#h40-0-750" id="h40-0-750" class="d">-		switch ft.Elem().Kind() {
</a><a href="#h40-0-751" id="h40-0-751" class="d">-		case reflect.Ptr:
</a><a href="#h40-0-752" id="h40-0-752" class="d">-			nestedMessage = true // repeated message
</a><a href="#h40-0-753" id="h40-0-753" class="d">-		case reflect.Uint8:
</a><a href="#h40-0-754" id="h40-0-754" class="d">-			canHaveDefault = true // bytes field
</a><a href="#h40-0-755" id="h40-0-755" class="d">-		}
</a><a href="#h40-0-756" id="h40-0-756" class="d">-
</a><a href="#h40-0-757" id="h40-0-757" class="d">-	case reflect.Map:
</a><a href="#h40-0-758" id="h40-0-758" class="d">-		if ft.Elem().Kind() == reflect.Ptr {
</a><a href="#h40-0-759" id="h40-0-759" class="d">-			nestedMessage = true // map with message values
</a><a href="#h40-0-760" id="h40-0-760" class="d">-		}
</a><a href="#h40-0-761" id="h40-0-761" class="d">-	}
</a><a href="#h40-0-762" id="h40-0-762" class="d">-
</a><a href="#h40-0-763" id="h40-0-763" class="d">-	if !canHaveDefault {
</a><a href="#h40-0-764" id="h40-0-764" class="d">-		if nestedMessage {
</a><a href="#h40-0-765" id="h40-0-765" class="d">-			return nil, true, nil
</a><a href="#h40-0-766" id="h40-0-766" class="d">-		}
</a><a href="#h40-0-767" id="h40-0-767" class="d">-		return nil, false, nil
</a><a href="#h40-0-768" id="h40-0-768" class="d">-	}
</a><a href="#h40-0-769" id="h40-0-769" class="d">-
</a><a href="#h40-0-770" id="h40-0-770" class="d">-	// We now know that ft is a pointer or slice.
</a><a href="#h40-0-771" id="h40-0-771" class="d">-	sf = &amp;scalarField{kind: ft.Elem().Kind()}
</a><a href="#h40-0-772" id="h40-0-772" class="d">-
</a><a href="#h40-0-773" id="h40-0-773" class="d">-	// scalar fields without defaults
</a><a href="#h40-0-774" id="h40-0-774" class="d">-	if !prop.HasDefault {
</a><a href="#h40-0-775" id="h40-0-775" class="d">-		return sf, false, nil
</a><a href="#h40-0-776" id="h40-0-776" class="d">-	}
</a><a href="#h40-0-777" id="h40-0-777" class="d">-
</a><a href="#h40-0-778" id="h40-0-778" class="d">-	// a scalar field: either *T or []byte
</a><a href="#h40-0-779" id="h40-0-779" class="d">-	switch ft.Elem().Kind() {
</a><a href="#h40-0-780" id="h40-0-780" class="d">-	case reflect.Bool:
</a><a href="#h40-0-781" id="h40-0-781" class="d">-		x, err := strconv.ParseBool(prop.Default)
</a><a href="#h40-0-782" id="h40-0-782" class="d">-		if err != nil {
</a><a href="#h40-0-783" id="h40-0-783" class="d">-			return nil, false, fmt.Errorf(&quot;proto: bad default bool %q: %v&quot;, prop.Default, err)
</a><a href="#h40-0-784" id="h40-0-784" class="d">-		}
</a><a href="#h40-0-785" id="h40-0-785" class="d">-		sf.value = x
</a><a href="#h40-0-786" id="h40-0-786" class="d">-	case reflect.Float32:
</a><a href="#h40-0-787" id="h40-0-787" class="d">-		x, err := strconv.ParseFloat(prop.Default, 32)
</a><a href="#h40-0-788" id="h40-0-788" class="d">-		if err != nil {
</a><a href="#h40-0-789" id="h40-0-789" class="d">-			return nil, false, fmt.Errorf(&quot;proto: bad default float32 %q: %v&quot;, prop.Default, err)
</a><a href="#h40-0-790" id="h40-0-790" class="d">-		}
</a><a href="#h40-0-791" id="h40-0-791" class="d">-		sf.value = float32(x)
</a><a href="#h40-0-792" id="h40-0-792" class="d">-	case reflect.Float64:
</a><a href="#h40-0-793" id="h40-0-793" class="d">-		x, err := strconv.ParseFloat(prop.Default, 64)
</a><a href="#h40-0-794" id="h40-0-794" class="d">-		if err != nil {
</a><a href="#h40-0-795" id="h40-0-795" class="d">-			return nil, false, fmt.Errorf(&quot;proto: bad default float64 %q: %v&quot;, prop.Default, err)
</a><a href="#h40-0-796" id="h40-0-796" class="d">-		}
</a><a href="#h40-0-797" id="h40-0-797" class="d">-		sf.value = x
</a><a href="#h40-0-798" id="h40-0-798" class="d">-	case reflect.Int32:
</a><a href="#h40-0-799" id="h40-0-799" class="d">-		x, err := strconv.ParseInt(prop.Default, 10, 32)
</a><a href="#h40-0-800" id="h40-0-800" class="d">-		if err != nil {
</a><a href="#h40-0-801" id="h40-0-801" class="d">-			return nil, false, fmt.Errorf(&quot;proto: bad default int32 %q: %v&quot;, prop.Default, err)
</a><a href="#h40-0-802" id="h40-0-802" class="d">-		}
</a><a href="#h40-0-803" id="h40-0-803" class="d">-		sf.value = int32(x)
</a><a href="#h40-0-804" id="h40-0-804" class="d">-	case reflect.Int64:
</a><a href="#h40-0-805" id="h40-0-805" class="d">-		x, err := strconv.ParseInt(prop.Default, 10, 64)
</a><a href="#h40-0-806" id="h40-0-806" class="d">-		if err != nil {
</a><a href="#h40-0-807" id="h40-0-807" class="d">-			return nil, false, fmt.Errorf(&quot;proto: bad default int64 %q: %v&quot;, prop.Default, err)
</a><a href="#h40-0-808" id="h40-0-808" class="d">-		}
</a><a href="#h40-0-809" id="h40-0-809" class="d">-		sf.value = x
</a><a href="#h40-0-810" id="h40-0-810" class="d">-	case reflect.String:
</a><a href="#h40-0-811" id="h40-0-811" class="d">-		sf.value = prop.Default
</a><a href="#h40-0-812" id="h40-0-812" class="d">-	case reflect.Uint8:
</a><a href="#h40-0-813" id="h40-0-813" class="d">-		// []byte (not *uint8)
</a><a href="#h40-0-814" id="h40-0-814" class="d">-		sf.value = []byte(prop.Default)
</a><a href="#h40-0-815" id="h40-0-815" class="d">-	case reflect.Uint32:
</a><a href="#h40-0-816" id="h40-0-816" class="d">-		x, err := strconv.ParseUint(prop.Default, 10, 32)
</a><a href="#h40-0-817" id="h40-0-817" class="d">-		if err != nil {
</a><a href="#h40-0-818" id="h40-0-818" class="d">-			return nil, false, fmt.Errorf(&quot;proto: bad default uint32 %q: %v&quot;, prop.Default, err)
</a><a href="#h40-0-819" id="h40-0-819" class="d">-		}
</a><a href="#h40-0-820" id="h40-0-820" class="d">-		sf.value = uint32(x)
</a><a href="#h40-0-821" id="h40-0-821" class="d">-	case reflect.Uint64:
</a><a href="#h40-0-822" id="h40-0-822" class="d">-		x, err := strconv.ParseUint(prop.Default, 10, 64)
</a><a href="#h40-0-823" id="h40-0-823" class="d">-		if err != nil {
</a><a href="#h40-0-824" id="h40-0-824" class="d">-			return nil, false, fmt.Errorf(&quot;proto: bad default uint64 %q: %v&quot;, prop.Default, err)
</a><a href="#h40-0-825" id="h40-0-825" class="d">-		}
</a><a href="#h40-0-826" id="h40-0-826" class="d">-		sf.value = x
</a><a href="#h40-0-827" id="h40-0-827" class="d">-	default:
</a><a href="#h40-0-828" id="h40-0-828" class="d">-		return nil, false, fmt.Errorf(&quot;proto: unhandled def kind %v&quot;, ft.Elem().Kind())
</a><a href="#h40-0-829" id="h40-0-829" class="d">-	}
</a><a href="#h40-0-830" id="h40-0-830" class="d">-
</a><a href="#h40-0-831" id="h40-0-831" class="d">-	return sf, false, nil
</a><a href="#h40-0-832" id="h40-0-832" class="d">-}
</a><a href="#h40-0-833" id="h40-0-833" class="d">-
</a><a href="#h40-0-834" id="h40-0-834" class="d">-// Map fields may have key types of non-float scalars, strings and enums.
</a><a href="#h40-0-835" id="h40-0-835" class="d">-// The easiest way to sort them in some deterministic order is to use fmt.
</a><a href="#h40-0-836" id="h40-0-836" class="d">-// If this turns out to be inefficient we can always consider other options,
</a><a href="#h40-0-837" id="h40-0-837" class="d">-// such as doing a Schwartzian transform.
</a><a href="#h40-0-838" id="h40-0-838" class="d">-
</a><a href="#h40-0-839" id="h40-0-839" class="d">-func mapKeys(vs []reflect.Value) sort.Interface {
</a><a href="#h40-0-840" id="h40-0-840" class="d">-	s := mapKeySorter{
</a><a href="#h40-0-841" id="h40-0-841" class="d">-		vs: vs,
</a><a href="#h40-0-842" id="h40-0-842" class="d">-		// default Less function: textual comparison
</a><a href="#h40-0-843" id="h40-0-843" class="d">-		less: func(a, b reflect.Value) bool {
</a><a href="#h40-0-844" id="h40-0-844" class="d">-			return fmt.Sprint(a.Interface()) &lt; fmt.Sprint(b.Interface())
</a><a href="#h40-0-845" id="h40-0-845" class="d">-		},
</a><a href="#h40-0-846" id="h40-0-846" class="d">-	}
</a><a href="#h40-0-847" id="h40-0-847" class="d">-
</a><a href="#h40-0-848" id="h40-0-848" class="d">-	// Type specialization per https://developers.google.com/protocol-buffers/docs/proto#maps;
</a><a href="#h40-0-849" id="h40-0-849" class="d">-	// numeric keys are sorted numerically.
</a><a href="#h40-0-850" id="h40-0-850" class="d">-	if len(vs) == 0 {
</a><a href="#h40-0-851" id="h40-0-851" class="d">-		return s
</a><a href="#h40-0-852" id="h40-0-852" class="d">-	}
</a><a href="#h40-0-853" id="h40-0-853" class="d">-	switch vs[0].Kind() {
</a><a href="#h40-0-854" id="h40-0-854" class="d">-	case reflect.Int32, reflect.Int64:
</a><a href="#h40-0-855" id="h40-0-855" class="d">-		s.less = func(a, b reflect.Value) bool { return a.Int() &lt; b.Int() }
</a><a href="#h40-0-856" id="h40-0-856" class="d">-	case reflect.Uint32, reflect.Uint64:
</a><a href="#h40-0-857" id="h40-0-857" class="d">-		s.less = func(a, b reflect.Value) bool { return a.Uint() &lt; b.Uint() }
</a><a href="#h40-0-858" id="h40-0-858" class="d">-	}
</a><a href="#h40-0-859" id="h40-0-859" class="d">-
</a><a href="#h40-0-860" id="h40-0-860" class="d">-	return s
</a><a href="#h40-0-861" id="h40-0-861" class="d">-}
</a><a href="#h40-0-862" id="h40-0-862" class="d">-
</a><a href="#h40-0-863" id="h40-0-863" class="d">-type mapKeySorter struct {
</a><a href="#h40-0-864" id="h40-0-864" class="d">-	vs   []reflect.Value
</a><a href="#h40-0-865" id="h40-0-865" class="d">-	less func(a, b reflect.Value) bool
</a><a href="#h40-0-866" id="h40-0-866" class="d">-}
</a><a href="#h40-0-867" id="h40-0-867" class="d">-
</a><a href="#h40-0-868" id="h40-0-868" class="d">-func (s mapKeySorter) Len() int      { return len(s.vs) }
</a><a href="#h40-0-869" id="h40-0-869" class="d">-func (s mapKeySorter) Swap(i, j int) { s.vs[i], s.vs[j] = s.vs[j], s.vs[i] }
</a><a href="#h40-0-870" id="h40-0-870" class="d">-func (s mapKeySorter) Less(i, j int) bool {
</a><a href="#h40-0-871" id="h40-0-871" class="d">-	return s.less(s.vs[i], s.vs[j])
</a><a href="#h40-0-872" id="h40-0-872" class="d">-}
</a><a href="#h40-0-873" id="h40-0-873" class="d">-
</a><a href="#h40-0-874" id="h40-0-874" class="d">-// isProto3Zero reports whether v is a zero proto3 value.
</a><a href="#h40-0-875" id="h40-0-875" class="d">-func isProto3Zero(v reflect.Value) bool {
</a><a href="#h40-0-876" id="h40-0-876" class="d">-	switch v.Kind() {
</a><a href="#h40-0-877" id="h40-0-877" class="d">-	case reflect.Bool:
</a><a href="#h40-0-878" id="h40-0-878" class="d">-		return !v.Bool()
</a><a href="#h40-0-879" id="h40-0-879" class="d">-	case reflect.Int32, reflect.Int64:
</a><a href="#h40-0-880" id="h40-0-880" class="d">-		return v.Int() == 0
</a><a href="#h40-0-881" id="h40-0-881" class="d">-	case reflect.Uint32, reflect.Uint64:
</a><a href="#h40-0-882" id="h40-0-882" class="d">-		return v.Uint() == 0
</a><a href="#h40-0-883" id="h40-0-883" class="d">-	case reflect.Float32, reflect.Float64:
</a><a href="#h40-0-884" id="h40-0-884" class="d">-		return v.Float() == 0
</a><a href="#h40-0-885" id="h40-0-885" class="d">-	case reflect.String:
</a><a href="#h40-0-886" id="h40-0-886" class="d">-		return v.String() == &quot;&quot;
</a><a href="#h40-0-887" id="h40-0-887" class="d">-	}
</a><a href="#h40-0-888" id="h40-0-888" class="d">-	return false
</a><a href="#h40-0-889" id="h40-0-889" class="d">-}
</a><a href="#h40-0-890" id="h40-0-890" class="d">-
</a><a href="#h40-0-891" id="h40-0-891" class="d">-// ProtoPackageIsVersion2 is referenced from generated protocol buffer files
</a><a href="#h40-0-892" id="h40-0-892" class="d">-// to assert that that code is compatible with this version of the proto package.
</a><a href="#h40-0-893" id="h40-0-893" class="d">-const ProtoPackageIsVersion2 = true
</a><a href="#h40-0-894" id="h40-0-894" class="d">-
</a><a href="#h40-0-895" id="h40-0-895" class="d">-// ProtoPackageIsVersion1 is referenced from generated protocol buffer files
</a><a href="#h40-0-896" id="h40-0-896" class="d">-// to assert that that code is compatible with this version of the proto package.
</a><a href="#h40-0-897" id="h40-0-897" class="d">-const ProtoPackageIsVersion1 = true
</a><b>diff --git a/<a id="h41" href="../file/vendor/github.com/golang/protobuf/proto/message_set.go">vendor/github.com/golang/protobuf/proto/message_set.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/message_set.go">vendor/github.com/golang/protobuf/proto/message_set.go</a></b>
<a href="#h41-0" id="h41-0" class="h">@@ -1,311 +0,0 @@
</a><a href="#h41-0-0" id="h41-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h41-0-1" id="h41-0-1" class="d">-//
</a><a href="#h41-0-2" id="h41-0-2" class="d">-// Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h41-0-3" id="h41-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h41-0-4" id="h41-0-4" class="d">-//
</a><a href="#h41-0-5" id="h41-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h41-0-6" id="h41-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h41-0-7" id="h41-0-7" class="d">-// met:
</a><a href="#h41-0-8" id="h41-0-8" class="d">-//
</a><a href="#h41-0-9" id="h41-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h41-0-10" id="h41-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h41-0-11" id="h41-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h41-0-12" id="h41-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h41-0-13" id="h41-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h41-0-14" id="h41-0-14" class="d">-// distribution.
</a><a href="#h41-0-15" id="h41-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h41-0-16" id="h41-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h41-0-17" id="h41-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h41-0-18" id="h41-0-18" class="d">-//
</a><a href="#h41-0-19" id="h41-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h41-0-20" id="h41-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h41-0-21" id="h41-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h41-0-22" id="h41-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h41-0-23" id="h41-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h41-0-24" id="h41-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h41-0-25" id="h41-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h41-0-26" id="h41-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h41-0-27" id="h41-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h41-0-28" id="h41-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h41-0-29" id="h41-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h41-0-30" id="h41-0-30" class="d">-
</a><a href="#h41-0-31" id="h41-0-31" class="d">-package proto
</a><a href="#h41-0-32" id="h41-0-32" class="d">-
</a><a href="#h41-0-33" id="h41-0-33" class="d">-/*
</a><a href="#h41-0-34" id="h41-0-34" class="d">- * Support for message sets.
</a><a href="#h41-0-35" id="h41-0-35" class="d">- */
</a><a href="#h41-0-36" id="h41-0-36" class="d">-
</a><a href="#h41-0-37" id="h41-0-37" class="d">-import (
</a><a href="#h41-0-38" id="h41-0-38" class="d">-	&quot;bytes&quot;
</a><a href="#h41-0-39" id="h41-0-39" class="d">-	&quot;encoding/json&quot;
</a><a href="#h41-0-40" id="h41-0-40" class="d">-	&quot;errors&quot;
</a><a href="#h41-0-41" id="h41-0-41" class="d">-	&quot;fmt&quot;
</a><a href="#h41-0-42" id="h41-0-42" class="d">-	&quot;reflect&quot;
</a><a href="#h41-0-43" id="h41-0-43" class="d">-	&quot;sort&quot;
</a><a href="#h41-0-44" id="h41-0-44" class="d">-)
</a><a href="#h41-0-45" id="h41-0-45" class="d">-
</a><a href="#h41-0-46" id="h41-0-46" class="d">-// errNoMessageTypeID occurs when a protocol buffer does not have a message type ID.
</a><a href="#h41-0-47" id="h41-0-47" class="d">-// A message type ID is required for storing a protocol buffer in a message set.
</a><a href="#h41-0-48" id="h41-0-48" class="d">-var errNoMessageTypeID = errors.New(&quot;proto does not have a message type ID&quot;)
</a><a href="#h41-0-49" id="h41-0-49" class="d">-
</a><a href="#h41-0-50" id="h41-0-50" class="d">-// The first two types (_MessageSet_Item and messageSet)
</a><a href="#h41-0-51" id="h41-0-51" class="d">-// model what the protocol compiler produces for the following protocol message:
</a><a href="#h41-0-52" id="h41-0-52" class="d">-//   message MessageSet {
</a><a href="#h41-0-53" id="h41-0-53" class="d">-//     repeated group Item = 1 {
</a><a href="#h41-0-54" id="h41-0-54" class="d">-//       required int32 type_id = 2;
</a><a href="#h41-0-55" id="h41-0-55" class="d">-//       required string message = 3;
</a><a href="#h41-0-56" id="h41-0-56" class="d">-//     };
</a><a href="#h41-0-57" id="h41-0-57" class="d">-//   }
</a><a href="#h41-0-58" id="h41-0-58" class="d">-// That is the MessageSet wire format. We can&#39;t use a proto to generate these
</a><a href="#h41-0-59" id="h41-0-59" class="d">-// because that would introduce a circular dependency between it and this package.
</a><a href="#h41-0-60" id="h41-0-60" class="d">-
</a><a href="#h41-0-61" id="h41-0-61" class="d">-type _MessageSet_Item struct {
</a><a href="#h41-0-62" id="h41-0-62" class="d">-	TypeId  *int32 `protobuf:&quot;varint,2,req,name=type_id&quot;`
</a><a href="#h41-0-63" id="h41-0-63" class="d">-	Message []byte `protobuf:&quot;bytes,3,req,name=message&quot;`
</a><a href="#h41-0-64" id="h41-0-64" class="d">-}
</a><a href="#h41-0-65" id="h41-0-65" class="d">-
</a><a href="#h41-0-66" id="h41-0-66" class="d">-type messageSet struct {
</a><a href="#h41-0-67" id="h41-0-67" class="d">-	Item             []*_MessageSet_Item `protobuf:&quot;group,1,rep&quot;`
</a><a href="#h41-0-68" id="h41-0-68" class="d">-	XXX_unrecognized []byte
</a><a href="#h41-0-69" id="h41-0-69" class="d">-	// TODO: caching?
</a><a href="#h41-0-70" id="h41-0-70" class="d">-}
</a><a href="#h41-0-71" id="h41-0-71" class="d">-
</a><a href="#h41-0-72" id="h41-0-72" class="d">-// Make sure messageSet is a Message.
</a><a href="#h41-0-73" id="h41-0-73" class="d">-var _ Message = (*messageSet)(nil)
</a><a href="#h41-0-74" id="h41-0-74" class="d">-
</a><a href="#h41-0-75" id="h41-0-75" class="d">-// messageTypeIder is an interface satisfied by a protocol buffer type
</a><a href="#h41-0-76" id="h41-0-76" class="d">-// that may be stored in a MessageSet.
</a><a href="#h41-0-77" id="h41-0-77" class="d">-type messageTypeIder interface {
</a><a href="#h41-0-78" id="h41-0-78" class="d">-	MessageTypeId() int32
</a><a href="#h41-0-79" id="h41-0-79" class="d">-}
</a><a href="#h41-0-80" id="h41-0-80" class="d">-
</a><a href="#h41-0-81" id="h41-0-81" class="d">-func (ms *messageSet) find(pb Message) *_MessageSet_Item {
</a><a href="#h41-0-82" id="h41-0-82" class="d">-	mti, ok := pb.(messageTypeIder)
</a><a href="#h41-0-83" id="h41-0-83" class="d">-	if !ok {
</a><a href="#h41-0-84" id="h41-0-84" class="d">-		return nil
</a><a href="#h41-0-85" id="h41-0-85" class="d">-	}
</a><a href="#h41-0-86" id="h41-0-86" class="d">-	id := mti.MessageTypeId()
</a><a href="#h41-0-87" id="h41-0-87" class="d">-	for _, item := range ms.Item {
</a><a href="#h41-0-88" id="h41-0-88" class="d">-		if *item.TypeId == id {
</a><a href="#h41-0-89" id="h41-0-89" class="d">-			return item
</a><a href="#h41-0-90" id="h41-0-90" class="d">-		}
</a><a href="#h41-0-91" id="h41-0-91" class="d">-	}
</a><a href="#h41-0-92" id="h41-0-92" class="d">-	return nil
</a><a href="#h41-0-93" id="h41-0-93" class="d">-}
</a><a href="#h41-0-94" id="h41-0-94" class="d">-
</a><a href="#h41-0-95" id="h41-0-95" class="d">-func (ms *messageSet) Has(pb Message) bool {
</a><a href="#h41-0-96" id="h41-0-96" class="d">-	if ms.find(pb) != nil {
</a><a href="#h41-0-97" id="h41-0-97" class="d">-		return true
</a><a href="#h41-0-98" id="h41-0-98" class="d">-	}
</a><a href="#h41-0-99" id="h41-0-99" class="d">-	return false
</a><a href="#h41-0-100" id="h41-0-100" class="d">-}
</a><a href="#h41-0-101" id="h41-0-101" class="d">-
</a><a href="#h41-0-102" id="h41-0-102" class="d">-func (ms *messageSet) Unmarshal(pb Message) error {
</a><a href="#h41-0-103" id="h41-0-103" class="d">-	if item := ms.find(pb); item != nil {
</a><a href="#h41-0-104" id="h41-0-104" class="d">-		return Unmarshal(item.Message, pb)
</a><a href="#h41-0-105" id="h41-0-105" class="d">-	}
</a><a href="#h41-0-106" id="h41-0-106" class="d">-	if _, ok := pb.(messageTypeIder); !ok {
</a><a href="#h41-0-107" id="h41-0-107" class="d">-		return errNoMessageTypeID
</a><a href="#h41-0-108" id="h41-0-108" class="d">-	}
</a><a href="#h41-0-109" id="h41-0-109" class="d">-	return nil // TODO: return error instead?
</a><a href="#h41-0-110" id="h41-0-110" class="d">-}
</a><a href="#h41-0-111" id="h41-0-111" class="d">-
</a><a href="#h41-0-112" id="h41-0-112" class="d">-func (ms *messageSet) Marshal(pb Message) error {
</a><a href="#h41-0-113" id="h41-0-113" class="d">-	msg, err := Marshal(pb)
</a><a href="#h41-0-114" id="h41-0-114" class="d">-	if err != nil {
</a><a href="#h41-0-115" id="h41-0-115" class="d">-		return err
</a><a href="#h41-0-116" id="h41-0-116" class="d">-	}
</a><a href="#h41-0-117" id="h41-0-117" class="d">-	if item := ms.find(pb); item != nil {
</a><a href="#h41-0-118" id="h41-0-118" class="d">-		// reuse existing item
</a><a href="#h41-0-119" id="h41-0-119" class="d">-		item.Message = msg
</a><a href="#h41-0-120" id="h41-0-120" class="d">-		return nil
</a><a href="#h41-0-121" id="h41-0-121" class="d">-	}
</a><a href="#h41-0-122" id="h41-0-122" class="d">-
</a><a href="#h41-0-123" id="h41-0-123" class="d">-	mti, ok := pb.(messageTypeIder)
</a><a href="#h41-0-124" id="h41-0-124" class="d">-	if !ok {
</a><a href="#h41-0-125" id="h41-0-125" class="d">-		return errNoMessageTypeID
</a><a href="#h41-0-126" id="h41-0-126" class="d">-	}
</a><a href="#h41-0-127" id="h41-0-127" class="d">-
</a><a href="#h41-0-128" id="h41-0-128" class="d">-	mtid := mti.MessageTypeId()
</a><a href="#h41-0-129" id="h41-0-129" class="d">-	ms.Item = append(ms.Item, &amp;_MessageSet_Item{
</a><a href="#h41-0-130" id="h41-0-130" class="d">-		TypeId:  &amp;mtid,
</a><a href="#h41-0-131" id="h41-0-131" class="d">-		Message: msg,
</a><a href="#h41-0-132" id="h41-0-132" class="d">-	})
</a><a href="#h41-0-133" id="h41-0-133" class="d">-	return nil
</a><a href="#h41-0-134" id="h41-0-134" class="d">-}
</a><a href="#h41-0-135" id="h41-0-135" class="d">-
</a><a href="#h41-0-136" id="h41-0-136" class="d">-func (ms *messageSet) Reset()         { *ms = messageSet{} }
</a><a href="#h41-0-137" id="h41-0-137" class="d">-func (ms *messageSet) String() string { return CompactTextString(ms) }
</a><a href="#h41-0-138" id="h41-0-138" class="d">-func (*messageSet) ProtoMessage()     {}
</a><a href="#h41-0-139" id="h41-0-139" class="d">-
</a><a href="#h41-0-140" id="h41-0-140" class="d">-// Support for the message_set_wire_format message option.
</a><a href="#h41-0-141" id="h41-0-141" class="d">-
</a><a href="#h41-0-142" id="h41-0-142" class="d">-func skipVarint(buf []byte) []byte {
</a><a href="#h41-0-143" id="h41-0-143" class="d">-	i := 0
</a><a href="#h41-0-144" id="h41-0-144" class="d">-	for ; buf[i]&amp;0x80 != 0; i++ {
</a><a href="#h41-0-145" id="h41-0-145" class="d">-	}
</a><a href="#h41-0-146" id="h41-0-146" class="d">-	return buf[i+1:]
</a><a href="#h41-0-147" id="h41-0-147" class="d">-}
</a><a href="#h41-0-148" id="h41-0-148" class="d">-
</a><a href="#h41-0-149" id="h41-0-149" class="d">-// MarshalMessageSet encodes the extension map represented by m in the message set wire format.
</a><a href="#h41-0-150" id="h41-0-150" class="d">-// It is called by generated Marshal methods on protocol buffer messages with the message_set_wire_format option.
</a><a href="#h41-0-151" id="h41-0-151" class="d">-func MarshalMessageSet(exts interface{}) ([]byte, error) {
</a><a href="#h41-0-152" id="h41-0-152" class="d">-	var m map[int32]Extension
</a><a href="#h41-0-153" id="h41-0-153" class="d">-	switch exts := exts.(type) {
</a><a href="#h41-0-154" id="h41-0-154" class="d">-	case *XXX_InternalExtensions:
</a><a href="#h41-0-155" id="h41-0-155" class="d">-		if err := encodeExtensions(exts); err != nil {
</a><a href="#h41-0-156" id="h41-0-156" class="d">-			return nil, err
</a><a href="#h41-0-157" id="h41-0-157" class="d">-		}
</a><a href="#h41-0-158" id="h41-0-158" class="d">-		m, _ = exts.extensionsRead()
</a><a href="#h41-0-159" id="h41-0-159" class="d">-	case map[int32]Extension:
</a><a href="#h41-0-160" id="h41-0-160" class="d">-		if err := encodeExtensionsMap(exts); err != nil {
</a><a href="#h41-0-161" id="h41-0-161" class="d">-			return nil, err
</a><a href="#h41-0-162" id="h41-0-162" class="d">-		}
</a><a href="#h41-0-163" id="h41-0-163" class="d">-		m = exts
</a><a href="#h41-0-164" id="h41-0-164" class="d">-	default:
</a><a href="#h41-0-165" id="h41-0-165" class="d">-		return nil, errors.New(&quot;proto: not an extension map&quot;)
</a><a href="#h41-0-166" id="h41-0-166" class="d">-	}
</a><a href="#h41-0-167" id="h41-0-167" class="d">-
</a><a href="#h41-0-168" id="h41-0-168" class="d">-	// Sort extension IDs to provide a deterministic encoding.
</a><a href="#h41-0-169" id="h41-0-169" class="d">-	// See also enc_map in encode.go.
</a><a href="#h41-0-170" id="h41-0-170" class="d">-	ids := make([]int, 0, len(m))
</a><a href="#h41-0-171" id="h41-0-171" class="d">-	for id := range m {
</a><a href="#h41-0-172" id="h41-0-172" class="d">-		ids = append(ids, int(id))
</a><a href="#h41-0-173" id="h41-0-173" class="d">-	}
</a><a href="#h41-0-174" id="h41-0-174" class="d">-	sort.Ints(ids)
</a><a href="#h41-0-175" id="h41-0-175" class="d">-
</a><a href="#h41-0-176" id="h41-0-176" class="d">-	ms := &amp;messageSet{Item: make([]*_MessageSet_Item, 0, len(m))}
</a><a href="#h41-0-177" id="h41-0-177" class="d">-	for _, id := range ids {
</a><a href="#h41-0-178" id="h41-0-178" class="d">-		e := m[int32(id)]
</a><a href="#h41-0-179" id="h41-0-179" class="d">-		// Remove the wire type and field number varint, as well as the length varint.
</a><a href="#h41-0-180" id="h41-0-180" class="d">-		msg := skipVarint(skipVarint(e.enc))
</a><a href="#h41-0-181" id="h41-0-181" class="d">-
</a><a href="#h41-0-182" id="h41-0-182" class="d">-		ms.Item = append(ms.Item, &amp;_MessageSet_Item{
</a><a href="#h41-0-183" id="h41-0-183" class="d">-			TypeId:  Int32(int32(id)),
</a><a href="#h41-0-184" id="h41-0-184" class="d">-			Message: msg,
</a><a href="#h41-0-185" id="h41-0-185" class="d">-		})
</a><a href="#h41-0-186" id="h41-0-186" class="d">-	}
</a><a href="#h41-0-187" id="h41-0-187" class="d">-	return Marshal(ms)
</a><a href="#h41-0-188" id="h41-0-188" class="d">-}
</a><a href="#h41-0-189" id="h41-0-189" class="d">-
</a><a href="#h41-0-190" id="h41-0-190" class="d">-// UnmarshalMessageSet decodes the extension map encoded in buf in the message set wire format.
</a><a href="#h41-0-191" id="h41-0-191" class="d">-// It is called by generated Unmarshal methods on protocol buffer messages with the message_set_wire_format option.
</a><a href="#h41-0-192" id="h41-0-192" class="d">-func UnmarshalMessageSet(buf []byte, exts interface{}) error {
</a><a href="#h41-0-193" id="h41-0-193" class="d">-	var m map[int32]Extension
</a><a href="#h41-0-194" id="h41-0-194" class="d">-	switch exts := exts.(type) {
</a><a href="#h41-0-195" id="h41-0-195" class="d">-	case *XXX_InternalExtensions:
</a><a href="#h41-0-196" id="h41-0-196" class="d">-		m = exts.extensionsWrite()
</a><a href="#h41-0-197" id="h41-0-197" class="d">-	case map[int32]Extension:
</a><a href="#h41-0-198" id="h41-0-198" class="d">-		m = exts
</a><a href="#h41-0-199" id="h41-0-199" class="d">-	default:
</a><a href="#h41-0-200" id="h41-0-200" class="d">-		return errors.New(&quot;proto: not an extension map&quot;)
</a><a href="#h41-0-201" id="h41-0-201" class="d">-	}
</a><a href="#h41-0-202" id="h41-0-202" class="d">-
</a><a href="#h41-0-203" id="h41-0-203" class="d">-	ms := new(messageSet)
</a><a href="#h41-0-204" id="h41-0-204" class="d">-	if err := Unmarshal(buf, ms); err != nil {
</a><a href="#h41-0-205" id="h41-0-205" class="d">-		return err
</a><a href="#h41-0-206" id="h41-0-206" class="d">-	}
</a><a href="#h41-0-207" id="h41-0-207" class="d">-	for _, item := range ms.Item {
</a><a href="#h41-0-208" id="h41-0-208" class="d">-		id := *item.TypeId
</a><a href="#h41-0-209" id="h41-0-209" class="d">-		msg := item.Message
</a><a href="#h41-0-210" id="h41-0-210" class="d">-
</a><a href="#h41-0-211" id="h41-0-211" class="d">-		// Restore wire type and field number varint, plus length varint.
</a><a href="#h41-0-212" id="h41-0-212" class="d">-		// Be careful to preserve duplicate items.
</a><a href="#h41-0-213" id="h41-0-213" class="d">-		b := EncodeVarint(uint64(id)&lt;&lt;3 | WireBytes)
</a><a href="#h41-0-214" id="h41-0-214" class="d">-		if ext, ok := m[id]; ok {
</a><a href="#h41-0-215" id="h41-0-215" class="d">-			// Existing data; rip off the tag and length varint
</a><a href="#h41-0-216" id="h41-0-216" class="d">-			// so we join the new data correctly.
</a><a href="#h41-0-217" id="h41-0-217" class="d">-			// We can assume that ext.enc is set because we are unmarshaling.
</a><a href="#h41-0-218" id="h41-0-218" class="d">-			o := ext.enc[len(b):]   // skip wire type and field number
</a><a href="#h41-0-219" id="h41-0-219" class="d">-			_, n := DecodeVarint(o) // calculate length of length varint
</a><a href="#h41-0-220" id="h41-0-220" class="d">-			o = o[n:]               // skip length varint
</a><a href="#h41-0-221" id="h41-0-221" class="d">-			msg = append(o, msg...) // join old data and new data
</a><a href="#h41-0-222" id="h41-0-222" class="d">-		}
</a><a href="#h41-0-223" id="h41-0-223" class="d">-		b = append(b, EncodeVarint(uint64(len(msg)))...)
</a><a href="#h41-0-224" id="h41-0-224" class="d">-		b = append(b, msg...)
</a><a href="#h41-0-225" id="h41-0-225" class="d">-
</a><a href="#h41-0-226" id="h41-0-226" class="d">-		m[id] = Extension{enc: b}
</a><a href="#h41-0-227" id="h41-0-227" class="d">-	}
</a><a href="#h41-0-228" id="h41-0-228" class="d">-	return nil
</a><a href="#h41-0-229" id="h41-0-229" class="d">-}
</a><a href="#h41-0-230" id="h41-0-230" class="d">-
</a><a href="#h41-0-231" id="h41-0-231" class="d">-// MarshalMessageSetJSON encodes the extension map represented by m in JSON format.
</a><a href="#h41-0-232" id="h41-0-232" class="d">-// It is called by generated MarshalJSON methods on protocol buffer messages with the message_set_wire_format option.
</a><a href="#h41-0-233" id="h41-0-233" class="d">-func MarshalMessageSetJSON(exts interface{}) ([]byte, error) {
</a><a href="#h41-0-234" id="h41-0-234" class="d">-	var m map[int32]Extension
</a><a href="#h41-0-235" id="h41-0-235" class="d">-	switch exts := exts.(type) {
</a><a href="#h41-0-236" id="h41-0-236" class="d">-	case *XXX_InternalExtensions:
</a><a href="#h41-0-237" id="h41-0-237" class="d">-		m, _ = exts.extensionsRead()
</a><a href="#h41-0-238" id="h41-0-238" class="d">-	case map[int32]Extension:
</a><a href="#h41-0-239" id="h41-0-239" class="d">-		m = exts
</a><a href="#h41-0-240" id="h41-0-240" class="d">-	default:
</a><a href="#h41-0-241" id="h41-0-241" class="d">-		return nil, errors.New(&quot;proto: not an extension map&quot;)
</a><a href="#h41-0-242" id="h41-0-242" class="d">-	}
</a><a href="#h41-0-243" id="h41-0-243" class="d">-	var b bytes.Buffer
</a><a href="#h41-0-244" id="h41-0-244" class="d">-	b.WriteByte(&#39;{&#39;)
</a><a href="#h41-0-245" id="h41-0-245" class="d">-
</a><a href="#h41-0-246" id="h41-0-246" class="d">-	// Process the map in key order for deterministic output.
</a><a href="#h41-0-247" id="h41-0-247" class="d">-	ids := make([]int32, 0, len(m))
</a><a href="#h41-0-248" id="h41-0-248" class="d">-	for id := range m {
</a><a href="#h41-0-249" id="h41-0-249" class="d">-		ids = append(ids, id)
</a><a href="#h41-0-250" id="h41-0-250" class="d">-	}
</a><a href="#h41-0-251" id="h41-0-251" class="d">-	sort.Sort(int32Slice(ids)) // int32Slice defined in text.go
</a><a href="#h41-0-252" id="h41-0-252" class="d">-
</a><a href="#h41-0-253" id="h41-0-253" class="d">-	for i, id := range ids {
</a><a href="#h41-0-254" id="h41-0-254" class="d">-		ext := m[id]
</a><a href="#h41-0-255" id="h41-0-255" class="d">-		if i &gt; 0 {
</a><a href="#h41-0-256" id="h41-0-256" class="d">-			b.WriteByte(&#39;,&#39;)
</a><a href="#h41-0-257" id="h41-0-257" class="d">-		}
</a><a href="#h41-0-258" id="h41-0-258" class="d">-
</a><a href="#h41-0-259" id="h41-0-259" class="d">-		msd, ok := messageSetMap[id]
</a><a href="#h41-0-260" id="h41-0-260" class="d">-		if !ok {
</a><a href="#h41-0-261" id="h41-0-261" class="d">-			// Unknown type; we can&#39;t render it, so skip it.
</a><a href="#h41-0-262" id="h41-0-262" class="d">-			continue
</a><a href="#h41-0-263" id="h41-0-263" class="d">-		}
</a><a href="#h41-0-264" id="h41-0-264" class="d">-		fmt.Fprintf(&amp;b, `&quot;[%s]&quot;:`, msd.name)
</a><a href="#h41-0-265" id="h41-0-265" class="d">-
</a><a href="#h41-0-266" id="h41-0-266" class="d">-		x := ext.value
</a><a href="#h41-0-267" id="h41-0-267" class="d">-		if x == nil {
</a><a href="#h41-0-268" id="h41-0-268" class="d">-			x = reflect.New(msd.t.Elem()).Interface()
</a><a href="#h41-0-269" id="h41-0-269" class="d">-			if err := Unmarshal(ext.enc, x.(Message)); err != nil {
</a><a href="#h41-0-270" id="h41-0-270" class="d">-				return nil, err
</a><a href="#h41-0-271" id="h41-0-271" class="d">-			}
</a><a href="#h41-0-272" id="h41-0-272" class="d">-		}
</a><a href="#h41-0-273" id="h41-0-273" class="d">-		d, err := json.Marshal(x)
</a><a href="#h41-0-274" id="h41-0-274" class="d">-		if err != nil {
</a><a href="#h41-0-275" id="h41-0-275" class="d">-			return nil, err
</a><a href="#h41-0-276" id="h41-0-276" class="d">-		}
</a><a href="#h41-0-277" id="h41-0-277" class="d">-		b.Write(d)
</a><a href="#h41-0-278" id="h41-0-278" class="d">-	}
</a><a href="#h41-0-279" id="h41-0-279" class="d">-	b.WriteByte(&#39;}&#39;)
</a><a href="#h41-0-280" id="h41-0-280" class="d">-	return b.Bytes(), nil
</a><a href="#h41-0-281" id="h41-0-281" class="d">-}
</a><a href="#h41-0-282" id="h41-0-282" class="d">-
</a><a href="#h41-0-283" id="h41-0-283" class="d">-// UnmarshalMessageSetJSON decodes the extension map encoded in buf in JSON format.
</a><a href="#h41-0-284" id="h41-0-284" class="d">-// It is called by generated UnmarshalJSON methods on protocol buffer messages with the message_set_wire_format option.
</a><a href="#h41-0-285" id="h41-0-285" class="d">-func UnmarshalMessageSetJSON(buf []byte, exts interface{}) error {
</a><a href="#h41-0-286" id="h41-0-286" class="d">-	// Common-case fast path.
</a><a href="#h41-0-287" id="h41-0-287" class="d">-	if len(buf) == 0 || bytes.Equal(buf, []byte(&quot;{}&quot;)) {
</a><a href="#h41-0-288" id="h41-0-288" class="d">-		return nil
</a><a href="#h41-0-289" id="h41-0-289" class="d">-	}
</a><a href="#h41-0-290" id="h41-0-290" class="d">-
</a><a href="#h41-0-291" id="h41-0-291" class="d">-	// This is fairly tricky, and it&#39;s not clear that it is needed.
</a><a href="#h41-0-292" id="h41-0-292" class="d">-	return errors.New(&quot;TODO: UnmarshalMessageSetJSON not yet implemented&quot;)
</a><a href="#h41-0-293" id="h41-0-293" class="d">-}
</a><a href="#h41-0-294" id="h41-0-294" class="d">-
</a><a href="#h41-0-295" id="h41-0-295" class="d">-// A global registry of types that can be used in a MessageSet.
</a><a href="#h41-0-296" id="h41-0-296" class="d">-
</a><a href="#h41-0-297" id="h41-0-297" class="d">-var messageSetMap = make(map[int32]messageSetDesc)
</a><a href="#h41-0-298" id="h41-0-298" class="d">-
</a><a href="#h41-0-299" id="h41-0-299" class="d">-type messageSetDesc struct {
</a><a href="#h41-0-300" id="h41-0-300" class="d">-	t    reflect.Type // pointer to struct
</a><a href="#h41-0-301" id="h41-0-301" class="d">-	name string
</a><a href="#h41-0-302" id="h41-0-302" class="d">-}
</a><a href="#h41-0-303" id="h41-0-303" class="d">-
</a><a href="#h41-0-304" id="h41-0-304" class="d">-// RegisterMessageSetType is called from the generated code.
</a><a href="#h41-0-305" id="h41-0-305" class="d">-func RegisterMessageSetType(m Message, fieldNum int32, name string) {
</a><a href="#h41-0-306" id="h41-0-306" class="d">-	messageSetMap[fieldNum] = messageSetDesc{
</a><a href="#h41-0-307" id="h41-0-307" class="d">-		t:    reflect.TypeOf(m),
</a><a href="#h41-0-308" id="h41-0-308" class="d">-		name: name,
</a><a href="#h41-0-309" id="h41-0-309" class="d">-	}
</a><a href="#h41-0-310" id="h41-0-310" class="d">-}
</a><b>diff --git a/<a id="h42" href="../file/vendor/github.com/golang/protobuf/proto/pointer_reflect.go">vendor/github.com/golang/protobuf/proto/pointer_reflect.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/pointer_reflect.go">vendor/github.com/golang/protobuf/proto/pointer_reflect.go</a></b>
<a href="#h42-0" id="h42-0" class="h">@@ -1,484 +0,0 @@
</a><a href="#h42-0-0" id="h42-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h42-0-1" id="h42-0-1" class="d">-//
</a><a href="#h42-0-2" id="h42-0-2" class="d">-// Copyright 2012 The Go Authors.  All rights reserved.
</a><a href="#h42-0-3" id="h42-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h42-0-4" id="h42-0-4" class="d">-//
</a><a href="#h42-0-5" id="h42-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h42-0-6" id="h42-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h42-0-7" id="h42-0-7" class="d">-// met:
</a><a href="#h42-0-8" id="h42-0-8" class="d">-//
</a><a href="#h42-0-9" id="h42-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h42-0-10" id="h42-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h42-0-11" id="h42-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h42-0-12" id="h42-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h42-0-13" id="h42-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h42-0-14" id="h42-0-14" class="d">-// distribution.
</a><a href="#h42-0-15" id="h42-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h42-0-16" id="h42-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h42-0-17" id="h42-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h42-0-18" id="h42-0-18" class="d">-//
</a><a href="#h42-0-19" id="h42-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h42-0-20" id="h42-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h42-0-21" id="h42-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h42-0-22" id="h42-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h42-0-23" id="h42-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h42-0-24" id="h42-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h42-0-25" id="h42-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h42-0-26" id="h42-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h42-0-27" id="h42-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h42-0-28" id="h42-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h42-0-29" id="h42-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h42-0-30" id="h42-0-30" class="d">-
</a><a href="#h42-0-31" id="h42-0-31" class="d">-// +build appengine js
</a><a href="#h42-0-32" id="h42-0-32" class="d">-
</a><a href="#h42-0-33" id="h42-0-33" class="d">-// This file contains an implementation of proto field accesses using package reflect.
</a><a href="#h42-0-34" id="h42-0-34" class="d">-// It is slower than the code in pointer_unsafe.go but it avoids package unsafe and can
</a><a href="#h42-0-35" id="h42-0-35" class="d">-// be used on App Engine.
</a><a href="#h42-0-36" id="h42-0-36" class="d">-
</a><a href="#h42-0-37" id="h42-0-37" class="d">-package proto
</a><a href="#h42-0-38" id="h42-0-38" class="d">-
</a><a href="#h42-0-39" id="h42-0-39" class="d">-import (
</a><a href="#h42-0-40" id="h42-0-40" class="d">-	&quot;math&quot;
</a><a href="#h42-0-41" id="h42-0-41" class="d">-	&quot;reflect&quot;
</a><a href="#h42-0-42" id="h42-0-42" class="d">-)
</a><a href="#h42-0-43" id="h42-0-43" class="d">-
</a><a href="#h42-0-44" id="h42-0-44" class="d">-// A structPointer is a pointer to a struct.
</a><a href="#h42-0-45" id="h42-0-45" class="d">-type structPointer struct {
</a><a href="#h42-0-46" id="h42-0-46" class="d">-	v reflect.Value
</a><a href="#h42-0-47" id="h42-0-47" class="d">-}
</a><a href="#h42-0-48" id="h42-0-48" class="d">-
</a><a href="#h42-0-49" id="h42-0-49" class="d">-// toStructPointer returns a structPointer equivalent to the given reflect value.
</a><a href="#h42-0-50" id="h42-0-50" class="d">-// The reflect value must itself be a pointer to a struct.
</a><a href="#h42-0-51" id="h42-0-51" class="d">-func toStructPointer(v reflect.Value) structPointer {
</a><a href="#h42-0-52" id="h42-0-52" class="d">-	return structPointer{v}
</a><a href="#h42-0-53" id="h42-0-53" class="d">-}
</a><a href="#h42-0-54" id="h42-0-54" class="d">-
</a><a href="#h42-0-55" id="h42-0-55" class="d">-// IsNil reports whether p is nil.
</a><a href="#h42-0-56" id="h42-0-56" class="d">-func structPointer_IsNil(p structPointer) bool {
</a><a href="#h42-0-57" id="h42-0-57" class="d">-	return p.v.IsNil()
</a><a href="#h42-0-58" id="h42-0-58" class="d">-}
</a><a href="#h42-0-59" id="h42-0-59" class="d">-
</a><a href="#h42-0-60" id="h42-0-60" class="d">-// Interface returns the struct pointer as an interface value.
</a><a href="#h42-0-61" id="h42-0-61" class="d">-func structPointer_Interface(p structPointer, _ reflect.Type) interface{} {
</a><a href="#h42-0-62" id="h42-0-62" class="d">-	return p.v.Interface()
</a><a href="#h42-0-63" id="h42-0-63" class="d">-}
</a><a href="#h42-0-64" id="h42-0-64" class="d">-
</a><a href="#h42-0-65" id="h42-0-65" class="d">-// A field identifies a field in a struct, accessible from a structPointer.
</a><a href="#h42-0-66" id="h42-0-66" class="d">-// In this implementation, a field is identified by the sequence of field indices
</a><a href="#h42-0-67" id="h42-0-67" class="d">-// passed to reflect&#39;s FieldByIndex.
</a><a href="#h42-0-68" id="h42-0-68" class="d">-type field []int
</a><a href="#h42-0-69" id="h42-0-69" class="d">-
</a><a href="#h42-0-70" id="h42-0-70" class="d">-// toField returns a field equivalent to the given reflect field.
</a><a href="#h42-0-71" id="h42-0-71" class="d">-func toField(f *reflect.StructField) field {
</a><a href="#h42-0-72" id="h42-0-72" class="d">-	return f.Index
</a><a href="#h42-0-73" id="h42-0-73" class="d">-}
</a><a href="#h42-0-74" id="h42-0-74" class="d">-
</a><a href="#h42-0-75" id="h42-0-75" class="d">-// invalidField is an invalid field identifier.
</a><a href="#h42-0-76" id="h42-0-76" class="d">-var invalidField = field(nil)
</a><a href="#h42-0-77" id="h42-0-77" class="d">-
</a><a href="#h42-0-78" id="h42-0-78" class="d">-// IsValid reports whether the field identifier is valid.
</a><a href="#h42-0-79" id="h42-0-79" class="d">-func (f field) IsValid() bool { return f != nil }
</a><a href="#h42-0-80" id="h42-0-80" class="d">-
</a><a href="#h42-0-81" id="h42-0-81" class="d">-// field returns the given field in the struct as a reflect value.
</a><a href="#h42-0-82" id="h42-0-82" class="d">-func structPointer_field(p structPointer, f field) reflect.Value {
</a><a href="#h42-0-83" id="h42-0-83" class="d">-	// Special case: an extension map entry with a value of type T
</a><a href="#h42-0-84" id="h42-0-84" class="d">-	// passes a *T to the struct-handling code with a zero field,
</a><a href="#h42-0-85" id="h42-0-85" class="d">-	// expecting that it will be treated as equivalent to *struct{ X T },
</a><a href="#h42-0-86" id="h42-0-86" class="d">-	// which has the same memory layout. We have to handle that case
</a><a href="#h42-0-87" id="h42-0-87" class="d">-	// specially, because reflect will panic if we call FieldByIndex on a
</a><a href="#h42-0-88" id="h42-0-88" class="d">-	// non-struct.
</a><a href="#h42-0-89" id="h42-0-89" class="d">-	if f == nil {
</a><a href="#h42-0-90" id="h42-0-90" class="d">-		return p.v.Elem()
</a><a href="#h42-0-91" id="h42-0-91" class="d">-	}
</a><a href="#h42-0-92" id="h42-0-92" class="d">-
</a><a href="#h42-0-93" id="h42-0-93" class="d">-	return p.v.Elem().FieldByIndex(f)
</a><a href="#h42-0-94" id="h42-0-94" class="d">-}
</a><a href="#h42-0-95" id="h42-0-95" class="d">-
</a><a href="#h42-0-96" id="h42-0-96" class="d">-// ifield returns the given field in the struct as an interface value.
</a><a href="#h42-0-97" id="h42-0-97" class="d">-func structPointer_ifield(p structPointer, f field) interface{} {
</a><a href="#h42-0-98" id="h42-0-98" class="d">-	return structPointer_field(p, f).Addr().Interface()
</a><a href="#h42-0-99" id="h42-0-99" class="d">-}
</a><a href="#h42-0-100" id="h42-0-100" class="d">-
</a><a href="#h42-0-101" id="h42-0-101" class="d">-// Bytes returns the address of a []byte field in the struct.
</a><a href="#h42-0-102" id="h42-0-102" class="d">-func structPointer_Bytes(p structPointer, f field) *[]byte {
</a><a href="#h42-0-103" id="h42-0-103" class="d">-	return structPointer_ifield(p, f).(*[]byte)
</a><a href="#h42-0-104" id="h42-0-104" class="d">-}
</a><a href="#h42-0-105" id="h42-0-105" class="d">-
</a><a href="#h42-0-106" id="h42-0-106" class="d">-// BytesSlice returns the address of a [][]byte field in the struct.
</a><a href="#h42-0-107" id="h42-0-107" class="d">-func structPointer_BytesSlice(p structPointer, f field) *[][]byte {
</a><a href="#h42-0-108" id="h42-0-108" class="d">-	return structPointer_ifield(p, f).(*[][]byte)
</a><a href="#h42-0-109" id="h42-0-109" class="d">-}
</a><a href="#h42-0-110" id="h42-0-110" class="d">-
</a><a href="#h42-0-111" id="h42-0-111" class="d">-// Bool returns the address of a *bool field in the struct.
</a><a href="#h42-0-112" id="h42-0-112" class="d">-func structPointer_Bool(p structPointer, f field) **bool {
</a><a href="#h42-0-113" id="h42-0-113" class="d">-	return structPointer_ifield(p, f).(**bool)
</a><a href="#h42-0-114" id="h42-0-114" class="d">-}
</a><a href="#h42-0-115" id="h42-0-115" class="d">-
</a><a href="#h42-0-116" id="h42-0-116" class="d">-// BoolVal returns the address of a bool field in the struct.
</a><a href="#h42-0-117" id="h42-0-117" class="d">-func structPointer_BoolVal(p structPointer, f field) *bool {
</a><a href="#h42-0-118" id="h42-0-118" class="d">-	return structPointer_ifield(p, f).(*bool)
</a><a href="#h42-0-119" id="h42-0-119" class="d">-}
</a><a href="#h42-0-120" id="h42-0-120" class="d">-
</a><a href="#h42-0-121" id="h42-0-121" class="d">-// BoolSlice returns the address of a []bool field in the struct.
</a><a href="#h42-0-122" id="h42-0-122" class="d">-func structPointer_BoolSlice(p structPointer, f field) *[]bool {
</a><a href="#h42-0-123" id="h42-0-123" class="d">-	return structPointer_ifield(p, f).(*[]bool)
</a><a href="#h42-0-124" id="h42-0-124" class="d">-}
</a><a href="#h42-0-125" id="h42-0-125" class="d">-
</a><a href="#h42-0-126" id="h42-0-126" class="d">-// String returns the address of a *string field in the struct.
</a><a href="#h42-0-127" id="h42-0-127" class="d">-func structPointer_String(p structPointer, f field) **string {
</a><a href="#h42-0-128" id="h42-0-128" class="d">-	return structPointer_ifield(p, f).(**string)
</a><a href="#h42-0-129" id="h42-0-129" class="d">-}
</a><a href="#h42-0-130" id="h42-0-130" class="d">-
</a><a href="#h42-0-131" id="h42-0-131" class="d">-// StringVal returns the address of a string field in the struct.
</a><a href="#h42-0-132" id="h42-0-132" class="d">-func structPointer_StringVal(p structPointer, f field) *string {
</a><a href="#h42-0-133" id="h42-0-133" class="d">-	return structPointer_ifield(p, f).(*string)
</a><a href="#h42-0-134" id="h42-0-134" class="d">-}
</a><a href="#h42-0-135" id="h42-0-135" class="d">-
</a><a href="#h42-0-136" id="h42-0-136" class="d">-// StringSlice returns the address of a []string field in the struct.
</a><a href="#h42-0-137" id="h42-0-137" class="d">-func structPointer_StringSlice(p structPointer, f field) *[]string {
</a><a href="#h42-0-138" id="h42-0-138" class="d">-	return structPointer_ifield(p, f).(*[]string)
</a><a href="#h42-0-139" id="h42-0-139" class="d">-}
</a><a href="#h42-0-140" id="h42-0-140" class="d">-
</a><a href="#h42-0-141" id="h42-0-141" class="d">-// Extensions returns the address of an extension map field in the struct.
</a><a href="#h42-0-142" id="h42-0-142" class="d">-func structPointer_Extensions(p structPointer, f field) *XXX_InternalExtensions {
</a><a href="#h42-0-143" id="h42-0-143" class="d">-	return structPointer_ifield(p, f).(*XXX_InternalExtensions)
</a><a href="#h42-0-144" id="h42-0-144" class="d">-}
</a><a href="#h42-0-145" id="h42-0-145" class="d">-
</a><a href="#h42-0-146" id="h42-0-146" class="d">-// ExtMap returns the address of an extension map field in the struct.
</a><a href="#h42-0-147" id="h42-0-147" class="d">-func structPointer_ExtMap(p structPointer, f field) *map[int32]Extension {
</a><a href="#h42-0-148" id="h42-0-148" class="d">-	return structPointer_ifield(p, f).(*map[int32]Extension)
</a><a href="#h42-0-149" id="h42-0-149" class="d">-}
</a><a href="#h42-0-150" id="h42-0-150" class="d">-
</a><a href="#h42-0-151" id="h42-0-151" class="d">-// NewAt returns the reflect.Value for a pointer to a field in the struct.
</a><a href="#h42-0-152" id="h42-0-152" class="d">-func structPointer_NewAt(p structPointer, f field, typ reflect.Type) reflect.Value {
</a><a href="#h42-0-153" id="h42-0-153" class="d">-	return structPointer_field(p, f).Addr()
</a><a href="#h42-0-154" id="h42-0-154" class="d">-}
</a><a href="#h42-0-155" id="h42-0-155" class="d">-
</a><a href="#h42-0-156" id="h42-0-156" class="d">-// SetStructPointer writes a *struct field in the struct.
</a><a href="#h42-0-157" id="h42-0-157" class="d">-func structPointer_SetStructPointer(p structPointer, f field, q structPointer) {
</a><a href="#h42-0-158" id="h42-0-158" class="d">-	structPointer_field(p, f).Set(q.v)
</a><a href="#h42-0-159" id="h42-0-159" class="d">-}
</a><a href="#h42-0-160" id="h42-0-160" class="d">-
</a><a href="#h42-0-161" id="h42-0-161" class="d">-// GetStructPointer reads a *struct field in the struct.
</a><a href="#h42-0-162" id="h42-0-162" class="d">-func structPointer_GetStructPointer(p structPointer, f field) structPointer {
</a><a href="#h42-0-163" id="h42-0-163" class="d">-	return structPointer{structPointer_field(p, f)}
</a><a href="#h42-0-164" id="h42-0-164" class="d">-}
</a><a href="#h42-0-165" id="h42-0-165" class="d">-
</a><a href="#h42-0-166" id="h42-0-166" class="d">-// StructPointerSlice the address of a []*struct field in the struct.
</a><a href="#h42-0-167" id="h42-0-167" class="d">-func structPointer_StructPointerSlice(p structPointer, f field) structPointerSlice {
</a><a href="#h42-0-168" id="h42-0-168" class="d">-	return structPointerSlice{structPointer_field(p, f)}
</a><a href="#h42-0-169" id="h42-0-169" class="d">-}
</a><a href="#h42-0-170" id="h42-0-170" class="d">-
</a><a href="#h42-0-171" id="h42-0-171" class="d">-// A structPointerSlice represents the address of a slice of pointers to structs
</a><a href="#h42-0-172" id="h42-0-172" class="d">-// (themselves messages or groups). That is, v.Type() is *[]*struct{...}.
</a><a href="#h42-0-173" id="h42-0-173" class="d">-type structPointerSlice struct {
</a><a href="#h42-0-174" id="h42-0-174" class="d">-	v reflect.Value
</a><a href="#h42-0-175" id="h42-0-175" class="d">-}
</a><a href="#h42-0-176" id="h42-0-176" class="d">-
</a><a href="#h42-0-177" id="h42-0-177" class="d">-func (p structPointerSlice) Len() int                  { return p.v.Len() }
</a><a href="#h42-0-178" id="h42-0-178" class="d">-func (p structPointerSlice) Index(i int) structPointer { return structPointer{p.v.Index(i)} }
</a><a href="#h42-0-179" id="h42-0-179" class="d">-func (p structPointerSlice) Append(q structPointer) {
</a><a href="#h42-0-180" id="h42-0-180" class="d">-	p.v.Set(reflect.Append(p.v, q.v))
</a><a href="#h42-0-181" id="h42-0-181" class="d">-}
</a><a href="#h42-0-182" id="h42-0-182" class="d">-
</a><a href="#h42-0-183" id="h42-0-183" class="d">-var (
</a><a href="#h42-0-184" id="h42-0-184" class="d">-	int32Type   = reflect.TypeOf(int32(0))
</a><a href="#h42-0-185" id="h42-0-185" class="d">-	uint32Type  = reflect.TypeOf(uint32(0))
</a><a href="#h42-0-186" id="h42-0-186" class="d">-	float32Type = reflect.TypeOf(float32(0))
</a><a href="#h42-0-187" id="h42-0-187" class="d">-	int64Type   = reflect.TypeOf(int64(0))
</a><a href="#h42-0-188" id="h42-0-188" class="d">-	uint64Type  = reflect.TypeOf(uint64(0))
</a><a href="#h42-0-189" id="h42-0-189" class="d">-	float64Type = reflect.TypeOf(float64(0))
</a><a href="#h42-0-190" id="h42-0-190" class="d">-)
</a><a href="#h42-0-191" id="h42-0-191" class="d">-
</a><a href="#h42-0-192" id="h42-0-192" class="d">-// A word32 represents a field of type *int32, *uint32, *float32, or *enum.
</a><a href="#h42-0-193" id="h42-0-193" class="d">-// That is, v.Type() is *int32, *uint32, *float32, or *enum and v is assignable.
</a><a href="#h42-0-194" id="h42-0-194" class="d">-type word32 struct {
</a><a href="#h42-0-195" id="h42-0-195" class="d">-	v reflect.Value
</a><a href="#h42-0-196" id="h42-0-196" class="d">-}
</a><a href="#h42-0-197" id="h42-0-197" class="d">-
</a><a href="#h42-0-198" id="h42-0-198" class="d">-// IsNil reports whether p is nil.
</a><a href="#h42-0-199" id="h42-0-199" class="d">-func word32_IsNil(p word32) bool {
</a><a href="#h42-0-200" id="h42-0-200" class="d">-	return p.v.IsNil()
</a><a href="#h42-0-201" id="h42-0-201" class="d">-}
</a><a href="#h42-0-202" id="h42-0-202" class="d">-
</a><a href="#h42-0-203" id="h42-0-203" class="d">-// Set sets p to point at a newly allocated word with bits set to x.
</a><a href="#h42-0-204" id="h42-0-204" class="d">-func word32_Set(p word32, o *Buffer, x uint32) {
</a><a href="#h42-0-205" id="h42-0-205" class="d">-	t := p.v.Type().Elem()
</a><a href="#h42-0-206" id="h42-0-206" class="d">-	switch t {
</a><a href="#h42-0-207" id="h42-0-207" class="d">-	case int32Type:
</a><a href="#h42-0-208" id="h42-0-208" class="d">-		if len(o.int32s) == 0 {
</a><a href="#h42-0-209" id="h42-0-209" class="d">-			o.int32s = make([]int32, uint32PoolSize)
</a><a href="#h42-0-210" id="h42-0-210" class="d">-		}
</a><a href="#h42-0-211" id="h42-0-211" class="d">-		o.int32s[0] = int32(x)
</a><a href="#h42-0-212" id="h42-0-212" class="d">-		p.v.Set(reflect.ValueOf(&amp;o.int32s[0]))
</a><a href="#h42-0-213" id="h42-0-213" class="d">-		o.int32s = o.int32s[1:]
</a><a href="#h42-0-214" id="h42-0-214" class="d">-		return
</a><a href="#h42-0-215" id="h42-0-215" class="d">-	case uint32Type:
</a><a href="#h42-0-216" id="h42-0-216" class="d">-		if len(o.uint32s) == 0 {
</a><a href="#h42-0-217" id="h42-0-217" class="d">-			o.uint32s = make([]uint32, uint32PoolSize)
</a><a href="#h42-0-218" id="h42-0-218" class="d">-		}
</a><a href="#h42-0-219" id="h42-0-219" class="d">-		o.uint32s[0] = x
</a><a href="#h42-0-220" id="h42-0-220" class="d">-		p.v.Set(reflect.ValueOf(&amp;o.uint32s[0]))
</a><a href="#h42-0-221" id="h42-0-221" class="d">-		o.uint32s = o.uint32s[1:]
</a><a href="#h42-0-222" id="h42-0-222" class="d">-		return
</a><a href="#h42-0-223" id="h42-0-223" class="d">-	case float32Type:
</a><a href="#h42-0-224" id="h42-0-224" class="d">-		if len(o.float32s) == 0 {
</a><a href="#h42-0-225" id="h42-0-225" class="d">-			o.float32s = make([]float32, uint32PoolSize)
</a><a href="#h42-0-226" id="h42-0-226" class="d">-		}
</a><a href="#h42-0-227" id="h42-0-227" class="d">-		o.float32s[0] = math.Float32frombits(x)
</a><a href="#h42-0-228" id="h42-0-228" class="d">-		p.v.Set(reflect.ValueOf(&amp;o.float32s[0]))
</a><a href="#h42-0-229" id="h42-0-229" class="d">-		o.float32s = o.float32s[1:]
</a><a href="#h42-0-230" id="h42-0-230" class="d">-		return
</a><a href="#h42-0-231" id="h42-0-231" class="d">-	}
</a><a href="#h42-0-232" id="h42-0-232" class="d">-
</a><a href="#h42-0-233" id="h42-0-233" class="d">-	// must be enum
</a><a href="#h42-0-234" id="h42-0-234" class="d">-	p.v.Set(reflect.New(t))
</a><a href="#h42-0-235" id="h42-0-235" class="d">-	p.v.Elem().SetInt(int64(int32(x)))
</a><a href="#h42-0-236" id="h42-0-236" class="d">-}
</a><a href="#h42-0-237" id="h42-0-237" class="d">-
</a><a href="#h42-0-238" id="h42-0-238" class="d">-// Get gets the bits pointed at by p, as a uint32.
</a><a href="#h42-0-239" id="h42-0-239" class="d">-func word32_Get(p word32) uint32 {
</a><a href="#h42-0-240" id="h42-0-240" class="d">-	elem := p.v.Elem()
</a><a href="#h42-0-241" id="h42-0-241" class="d">-	switch elem.Kind() {
</a><a href="#h42-0-242" id="h42-0-242" class="d">-	case reflect.Int32:
</a><a href="#h42-0-243" id="h42-0-243" class="d">-		return uint32(elem.Int())
</a><a href="#h42-0-244" id="h42-0-244" class="d">-	case reflect.Uint32:
</a><a href="#h42-0-245" id="h42-0-245" class="d">-		return uint32(elem.Uint())
</a><a href="#h42-0-246" id="h42-0-246" class="d">-	case reflect.Float32:
</a><a href="#h42-0-247" id="h42-0-247" class="d">-		return math.Float32bits(float32(elem.Float()))
</a><a href="#h42-0-248" id="h42-0-248" class="d">-	}
</a><a href="#h42-0-249" id="h42-0-249" class="d">-	panic(&quot;unreachable&quot;)
</a><a href="#h42-0-250" id="h42-0-250" class="d">-}
</a><a href="#h42-0-251" id="h42-0-251" class="d">-
</a><a href="#h42-0-252" id="h42-0-252" class="d">-// Word32 returns a reference to a *int32, *uint32, *float32, or *enum field in the struct.
</a><a href="#h42-0-253" id="h42-0-253" class="d">-func structPointer_Word32(p structPointer, f field) word32 {
</a><a href="#h42-0-254" id="h42-0-254" class="d">-	return word32{structPointer_field(p, f)}
</a><a href="#h42-0-255" id="h42-0-255" class="d">-}
</a><a href="#h42-0-256" id="h42-0-256" class="d">-
</a><a href="#h42-0-257" id="h42-0-257" class="d">-// A word32Val represents a field of type int32, uint32, float32, or enum.
</a><a href="#h42-0-258" id="h42-0-258" class="d">-// That is, v.Type() is int32, uint32, float32, or enum and v is assignable.
</a><a href="#h42-0-259" id="h42-0-259" class="d">-type word32Val struct {
</a><a href="#h42-0-260" id="h42-0-260" class="d">-	v reflect.Value
</a><a href="#h42-0-261" id="h42-0-261" class="d">-}
</a><a href="#h42-0-262" id="h42-0-262" class="d">-
</a><a href="#h42-0-263" id="h42-0-263" class="d">-// Set sets *p to x.
</a><a href="#h42-0-264" id="h42-0-264" class="d">-func word32Val_Set(p word32Val, x uint32) {
</a><a href="#h42-0-265" id="h42-0-265" class="d">-	switch p.v.Type() {
</a><a href="#h42-0-266" id="h42-0-266" class="d">-	case int32Type:
</a><a href="#h42-0-267" id="h42-0-267" class="d">-		p.v.SetInt(int64(x))
</a><a href="#h42-0-268" id="h42-0-268" class="d">-		return
</a><a href="#h42-0-269" id="h42-0-269" class="d">-	case uint32Type:
</a><a href="#h42-0-270" id="h42-0-270" class="d">-		p.v.SetUint(uint64(x))
</a><a href="#h42-0-271" id="h42-0-271" class="d">-		return
</a><a href="#h42-0-272" id="h42-0-272" class="d">-	case float32Type:
</a><a href="#h42-0-273" id="h42-0-273" class="d">-		p.v.SetFloat(float64(math.Float32frombits(x)))
</a><a href="#h42-0-274" id="h42-0-274" class="d">-		return
</a><a href="#h42-0-275" id="h42-0-275" class="d">-	}
</a><a href="#h42-0-276" id="h42-0-276" class="d">-
</a><a href="#h42-0-277" id="h42-0-277" class="d">-	// must be enum
</a><a href="#h42-0-278" id="h42-0-278" class="d">-	p.v.SetInt(int64(int32(x)))
</a><a href="#h42-0-279" id="h42-0-279" class="d">-}
</a><a href="#h42-0-280" id="h42-0-280" class="d">-
</a><a href="#h42-0-281" id="h42-0-281" class="d">-// Get gets the bits pointed at by p, as a uint32.
</a><a href="#h42-0-282" id="h42-0-282" class="d">-func word32Val_Get(p word32Val) uint32 {
</a><a href="#h42-0-283" id="h42-0-283" class="d">-	elem := p.v
</a><a href="#h42-0-284" id="h42-0-284" class="d">-	switch elem.Kind() {
</a><a href="#h42-0-285" id="h42-0-285" class="d">-	case reflect.Int32:
</a><a href="#h42-0-286" id="h42-0-286" class="d">-		return uint32(elem.Int())
</a><a href="#h42-0-287" id="h42-0-287" class="d">-	case reflect.Uint32:
</a><a href="#h42-0-288" id="h42-0-288" class="d">-		return uint32(elem.Uint())
</a><a href="#h42-0-289" id="h42-0-289" class="d">-	case reflect.Float32:
</a><a href="#h42-0-290" id="h42-0-290" class="d">-		return math.Float32bits(float32(elem.Float()))
</a><a href="#h42-0-291" id="h42-0-291" class="d">-	}
</a><a href="#h42-0-292" id="h42-0-292" class="d">-	panic(&quot;unreachable&quot;)
</a><a href="#h42-0-293" id="h42-0-293" class="d">-}
</a><a href="#h42-0-294" id="h42-0-294" class="d">-
</a><a href="#h42-0-295" id="h42-0-295" class="d">-// Word32Val returns a reference to a int32, uint32, float32, or enum field in the struct.
</a><a href="#h42-0-296" id="h42-0-296" class="d">-func structPointer_Word32Val(p structPointer, f field) word32Val {
</a><a href="#h42-0-297" id="h42-0-297" class="d">-	return word32Val{structPointer_field(p, f)}
</a><a href="#h42-0-298" id="h42-0-298" class="d">-}
</a><a href="#h42-0-299" id="h42-0-299" class="d">-
</a><a href="#h42-0-300" id="h42-0-300" class="d">-// A word32Slice is a slice of 32-bit values.
</a><a href="#h42-0-301" id="h42-0-301" class="d">-// That is, v.Type() is []int32, []uint32, []float32, or []enum.
</a><a href="#h42-0-302" id="h42-0-302" class="d">-type word32Slice struct {
</a><a href="#h42-0-303" id="h42-0-303" class="d">-	v reflect.Value
</a><a href="#h42-0-304" id="h42-0-304" class="d">-}
</a><a href="#h42-0-305" id="h42-0-305" class="d">-
</a><a href="#h42-0-306" id="h42-0-306" class="d">-func (p word32Slice) Append(x uint32) {
</a><a href="#h42-0-307" id="h42-0-307" class="d">-	n, m := p.v.Len(), p.v.Cap()
</a><a href="#h42-0-308" id="h42-0-308" class="d">-	if n &lt; m {
</a><a href="#h42-0-309" id="h42-0-309" class="d">-		p.v.SetLen(n + 1)
</a><a href="#h42-0-310" id="h42-0-310" class="d">-	} else {
</a><a href="#h42-0-311" id="h42-0-311" class="d">-		t := p.v.Type().Elem()
</a><a href="#h42-0-312" id="h42-0-312" class="d">-		p.v.Set(reflect.Append(p.v, reflect.Zero(t)))
</a><a href="#h42-0-313" id="h42-0-313" class="d">-	}
</a><a href="#h42-0-314" id="h42-0-314" class="d">-	elem := p.v.Index(n)
</a><a href="#h42-0-315" id="h42-0-315" class="d">-	switch elem.Kind() {
</a><a href="#h42-0-316" id="h42-0-316" class="d">-	case reflect.Int32:
</a><a href="#h42-0-317" id="h42-0-317" class="d">-		elem.SetInt(int64(int32(x)))
</a><a href="#h42-0-318" id="h42-0-318" class="d">-	case reflect.Uint32:
</a><a href="#h42-0-319" id="h42-0-319" class="d">-		elem.SetUint(uint64(x))
</a><a href="#h42-0-320" id="h42-0-320" class="d">-	case reflect.Float32:
</a><a href="#h42-0-321" id="h42-0-321" class="d">-		elem.SetFloat(float64(math.Float32frombits(x)))
</a><a href="#h42-0-322" id="h42-0-322" class="d">-	}
</a><a href="#h42-0-323" id="h42-0-323" class="d">-}
</a><a href="#h42-0-324" id="h42-0-324" class="d">-
</a><a href="#h42-0-325" id="h42-0-325" class="d">-func (p word32Slice) Len() int {
</a><a href="#h42-0-326" id="h42-0-326" class="d">-	return p.v.Len()
</a><a href="#h42-0-327" id="h42-0-327" class="d">-}
</a><a href="#h42-0-328" id="h42-0-328" class="d">-
</a><a href="#h42-0-329" id="h42-0-329" class="d">-func (p word32Slice) Index(i int) uint32 {
</a><a href="#h42-0-330" id="h42-0-330" class="d">-	elem := p.v.Index(i)
</a><a href="#h42-0-331" id="h42-0-331" class="d">-	switch elem.Kind() {
</a><a href="#h42-0-332" id="h42-0-332" class="d">-	case reflect.Int32:
</a><a href="#h42-0-333" id="h42-0-333" class="d">-		return uint32(elem.Int())
</a><a href="#h42-0-334" id="h42-0-334" class="d">-	case reflect.Uint32:
</a><a href="#h42-0-335" id="h42-0-335" class="d">-		return uint32(elem.Uint())
</a><a href="#h42-0-336" id="h42-0-336" class="d">-	case reflect.Float32:
</a><a href="#h42-0-337" id="h42-0-337" class="d">-		return math.Float32bits(float32(elem.Float()))
</a><a href="#h42-0-338" id="h42-0-338" class="d">-	}
</a><a href="#h42-0-339" id="h42-0-339" class="d">-	panic(&quot;unreachable&quot;)
</a><a href="#h42-0-340" id="h42-0-340" class="d">-}
</a><a href="#h42-0-341" id="h42-0-341" class="d">-
</a><a href="#h42-0-342" id="h42-0-342" class="d">-// Word32Slice returns a reference to a []int32, []uint32, []float32, or []enum field in the struct.
</a><a href="#h42-0-343" id="h42-0-343" class="d">-func structPointer_Word32Slice(p structPointer, f field) word32Slice {
</a><a href="#h42-0-344" id="h42-0-344" class="d">-	return word32Slice{structPointer_field(p, f)}
</a><a href="#h42-0-345" id="h42-0-345" class="d">-}
</a><a href="#h42-0-346" id="h42-0-346" class="d">-
</a><a href="#h42-0-347" id="h42-0-347" class="d">-// word64 is like word32 but for 64-bit values.
</a><a href="#h42-0-348" id="h42-0-348" class="d">-type word64 struct {
</a><a href="#h42-0-349" id="h42-0-349" class="d">-	v reflect.Value
</a><a href="#h42-0-350" id="h42-0-350" class="d">-}
</a><a href="#h42-0-351" id="h42-0-351" class="d">-
</a><a href="#h42-0-352" id="h42-0-352" class="d">-func word64_Set(p word64, o *Buffer, x uint64) {
</a><a href="#h42-0-353" id="h42-0-353" class="d">-	t := p.v.Type().Elem()
</a><a href="#h42-0-354" id="h42-0-354" class="d">-	switch t {
</a><a href="#h42-0-355" id="h42-0-355" class="d">-	case int64Type:
</a><a href="#h42-0-356" id="h42-0-356" class="d">-		if len(o.int64s) == 0 {
</a><a href="#h42-0-357" id="h42-0-357" class="d">-			o.int64s = make([]int64, uint64PoolSize)
</a><a href="#h42-0-358" id="h42-0-358" class="d">-		}
</a><a href="#h42-0-359" id="h42-0-359" class="d">-		o.int64s[0] = int64(x)
</a><a href="#h42-0-360" id="h42-0-360" class="d">-		p.v.Set(reflect.ValueOf(&amp;o.int64s[0]))
</a><a href="#h42-0-361" id="h42-0-361" class="d">-		o.int64s = o.int64s[1:]
</a><a href="#h42-0-362" id="h42-0-362" class="d">-		return
</a><a href="#h42-0-363" id="h42-0-363" class="d">-	case uint64Type:
</a><a href="#h42-0-364" id="h42-0-364" class="d">-		if len(o.uint64s) == 0 {
</a><a href="#h42-0-365" id="h42-0-365" class="d">-			o.uint64s = make([]uint64, uint64PoolSize)
</a><a href="#h42-0-366" id="h42-0-366" class="d">-		}
</a><a href="#h42-0-367" id="h42-0-367" class="d">-		o.uint64s[0] = x
</a><a href="#h42-0-368" id="h42-0-368" class="d">-		p.v.Set(reflect.ValueOf(&amp;o.uint64s[0]))
</a><a href="#h42-0-369" id="h42-0-369" class="d">-		o.uint64s = o.uint64s[1:]
</a><a href="#h42-0-370" id="h42-0-370" class="d">-		return
</a><a href="#h42-0-371" id="h42-0-371" class="d">-	case float64Type:
</a><a href="#h42-0-372" id="h42-0-372" class="d">-		if len(o.float64s) == 0 {
</a><a href="#h42-0-373" id="h42-0-373" class="d">-			o.float64s = make([]float64, uint64PoolSize)
</a><a href="#h42-0-374" id="h42-0-374" class="d">-		}
</a><a href="#h42-0-375" id="h42-0-375" class="d">-		o.float64s[0] = math.Float64frombits(x)
</a><a href="#h42-0-376" id="h42-0-376" class="d">-		p.v.Set(reflect.ValueOf(&amp;o.float64s[0]))
</a><a href="#h42-0-377" id="h42-0-377" class="d">-		o.float64s = o.float64s[1:]
</a><a href="#h42-0-378" id="h42-0-378" class="d">-		return
</a><a href="#h42-0-379" id="h42-0-379" class="d">-	}
</a><a href="#h42-0-380" id="h42-0-380" class="d">-	panic(&quot;unreachable&quot;)
</a><a href="#h42-0-381" id="h42-0-381" class="d">-}
</a><a href="#h42-0-382" id="h42-0-382" class="d">-
</a><a href="#h42-0-383" id="h42-0-383" class="d">-func word64_IsNil(p word64) bool {
</a><a href="#h42-0-384" id="h42-0-384" class="d">-	return p.v.IsNil()
</a><a href="#h42-0-385" id="h42-0-385" class="d">-}
</a><a href="#h42-0-386" id="h42-0-386" class="d">-
</a><a href="#h42-0-387" id="h42-0-387" class="d">-func word64_Get(p word64) uint64 {
</a><a href="#h42-0-388" id="h42-0-388" class="d">-	elem := p.v.Elem()
</a><a href="#h42-0-389" id="h42-0-389" class="d">-	switch elem.Kind() {
</a><a href="#h42-0-390" id="h42-0-390" class="d">-	case reflect.Int64:
</a><a href="#h42-0-391" id="h42-0-391" class="d">-		return uint64(elem.Int())
</a><a href="#h42-0-392" id="h42-0-392" class="d">-	case reflect.Uint64:
</a><a href="#h42-0-393" id="h42-0-393" class="d">-		return elem.Uint()
</a><a href="#h42-0-394" id="h42-0-394" class="d">-	case reflect.Float64:
</a><a href="#h42-0-395" id="h42-0-395" class="d">-		return math.Float64bits(elem.Float())
</a><a href="#h42-0-396" id="h42-0-396" class="d">-	}
</a><a href="#h42-0-397" id="h42-0-397" class="d">-	panic(&quot;unreachable&quot;)
</a><a href="#h42-0-398" id="h42-0-398" class="d">-}
</a><a href="#h42-0-399" id="h42-0-399" class="d">-
</a><a href="#h42-0-400" id="h42-0-400" class="d">-func structPointer_Word64(p structPointer, f field) word64 {
</a><a href="#h42-0-401" id="h42-0-401" class="d">-	return word64{structPointer_field(p, f)}
</a><a href="#h42-0-402" id="h42-0-402" class="d">-}
</a><a href="#h42-0-403" id="h42-0-403" class="d">-
</a><a href="#h42-0-404" id="h42-0-404" class="d">-// word64Val is like word32Val but for 64-bit values.
</a><a href="#h42-0-405" id="h42-0-405" class="d">-type word64Val struct {
</a><a href="#h42-0-406" id="h42-0-406" class="d">-	v reflect.Value
</a><a href="#h42-0-407" id="h42-0-407" class="d">-}
</a><a href="#h42-0-408" id="h42-0-408" class="d">-
</a><a href="#h42-0-409" id="h42-0-409" class="d">-func word64Val_Set(p word64Val, o *Buffer, x uint64) {
</a><a href="#h42-0-410" id="h42-0-410" class="d">-	switch p.v.Type() {
</a><a href="#h42-0-411" id="h42-0-411" class="d">-	case int64Type:
</a><a href="#h42-0-412" id="h42-0-412" class="d">-		p.v.SetInt(int64(x))
</a><a href="#h42-0-413" id="h42-0-413" class="d">-		return
</a><a href="#h42-0-414" id="h42-0-414" class="d">-	case uint64Type:
</a><a href="#h42-0-415" id="h42-0-415" class="d">-		p.v.SetUint(x)
</a><a href="#h42-0-416" id="h42-0-416" class="d">-		return
</a><a href="#h42-0-417" id="h42-0-417" class="d">-	case float64Type:
</a><a href="#h42-0-418" id="h42-0-418" class="d">-		p.v.SetFloat(math.Float64frombits(x))
</a><a href="#h42-0-419" id="h42-0-419" class="d">-		return
</a><a href="#h42-0-420" id="h42-0-420" class="d">-	}
</a><a href="#h42-0-421" id="h42-0-421" class="d">-	panic(&quot;unreachable&quot;)
</a><a href="#h42-0-422" id="h42-0-422" class="d">-}
</a><a href="#h42-0-423" id="h42-0-423" class="d">-
</a><a href="#h42-0-424" id="h42-0-424" class="d">-func word64Val_Get(p word64Val) uint64 {
</a><a href="#h42-0-425" id="h42-0-425" class="d">-	elem := p.v
</a><a href="#h42-0-426" id="h42-0-426" class="d">-	switch elem.Kind() {
</a><a href="#h42-0-427" id="h42-0-427" class="d">-	case reflect.Int64:
</a><a href="#h42-0-428" id="h42-0-428" class="d">-		return uint64(elem.Int())
</a><a href="#h42-0-429" id="h42-0-429" class="d">-	case reflect.Uint64:
</a><a href="#h42-0-430" id="h42-0-430" class="d">-		return elem.Uint()
</a><a href="#h42-0-431" id="h42-0-431" class="d">-	case reflect.Float64:
</a><a href="#h42-0-432" id="h42-0-432" class="d">-		return math.Float64bits(elem.Float())
</a><a href="#h42-0-433" id="h42-0-433" class="d">-	}
</a><a href="#h42-0-434" id="h42-0-434" class="d">-	panic(&quot;unreachable&quot;)
</a><a href="#h42-0-435" id="h42-0-435" class="d">-}
</a><a href="#h42-0-436" id="h42-0-436" class="d">-
</a><a href="#h42-0-437" id="h42-0-437" class="d">-func structPointer_Word64Val(p structPointer, f field) word64Val {
</a><a href="#h42-0-438" id="h42-0-438" class="d">-	return word64Val{structPointer_field(p, f)}
</a><a href="#h42-0-439" id="h42-0-439" class="d">-}
</a><a href="#h42-0-440" id="h42-0-440" class="d">-
</a><a href="#h42-0-441" id="h42-0-441" class="d">-type word64Slice struct {
</a><a href="#h42-0-442" id="h42-0-442" class="d">-	v reflect.Value
</a><a href="#h42-0-443" id="h42-0-443" class="d">-}
</a><a href="#h42-0-444" id="h42-0-444" class="d">-
</a><a href="#h42-0-445" id="h42-0-445" class="d">-func (p word64Slice) Append(x uint64) {
</a><a href="#h42-0-446" id="h42-0-446" class="d">-	n, m := p.v.Len(), p.v.Cap()
</a><a href="#h42-0-447" id="h42-0-447" class="d">-	if n &lt; m {
</a><a href="#h42-0-448" id="h42-0-448" class="d">-		p.v.SetLen(n + 1)
</a><a href="#h42-0-449" id="h42-0-449" class="d">-	} else {
</a><a href="#h42-0-450" id="h42-0-450" class="d">-		t := p.v.Type().Elem()
</a><a href="#h42-0-451" id="h42-0-451" class="d">-		p.v.Set(reflect.Append(p.v, reflect.Zero(t)))
</a><a href="#h42-0-452" id="h42-0-452" class="d">-	}
</a><a href="#h42-0-453" id="h42-0-453" class="d">-	elem := p.v.Index(n)
</a><a href="#h42-0-454" id="h42-0-454" class="d">-	switch elem.Kind() {
</a><a href="#h42-0-455" id="h42-0-455" class="d">-	case reflect.Int64:
</a><a href="#h42-0-456" id="h42-0-456" class="d">-		elem.SetInt(int64(int64(x)))
</a><a href="#h42-0-457" id="h42-0-457" class="d">-	case reflect.Uint64:
</a><a href="#h42-0-458" id="h42-0-458" class="d">-		elem.SetUint(uint64(x))
</a><a href="#h42-0-459" id="h42-0-459" class="d">-	case reflect.Float64:
</a><a href="#h42-0-460" id="h42-0-460" class="d">-		elem.SetFloat(float64(math.Float64frombits(x)))
</a><a href="#h42-0-461" id="h42-0-461" class="d">-	}
</a><a href="#h42-0-462" id="h42-0-462" class="d">-}
</a><a href="#h42-0-463" id="h42-0-463" class="d">-
</a><a href="#h42-0-464" id="h42-0-464" class="d">-func (p word64Slice) Len() int {
</a><a href="#h42-0-465" id="h42-0-465" class="d">-	return p.v.Len()
</a><a href="#h42-0-466" id="h42-0-466" class="d">-}
</a><a href="#h42-0-467" id="h42-0-467" class="d">-
</a><a href="#h42-0-468" id="h42-0-468" class="d">-func (p word64Slice) Index(i int) uint64 {
</a><a href="#h42-0-469" id="h42-0-469" class="d">-	elem := p.v.Index(i)
</a><a href="#h42-0-470" id="h42-0-470" class="d">-	switch elem.Kind() {
</a><a href="#h42-0-471" id="h42-0-471" class="d">-	case reflect.Int64:
</a><a href="#h42-0-472" id="h42-0-472" class="d">-		return uint64(elem.Int())
</a><a href="#h42-0-473" id="h42-0-473" class="d">-	case reflect.Uint64:
</a><a href="#h42-0-474" id="h42-0-474" class="d">-		return uint64(elem.Uint())
</a><a href="#h42-0-475" id="h42-0-475" class="d">-	case reflect.Float64:
</a><a href="#h42-0-476" id="h42-0-476" class="d">-		return math.Float64bits(float64(elem.Float()))
</a><a href="#h42-0-477" id="h42-0-477" class="d">-	}
</a><a href="#h42-0-478" id="h42-0-478" class="d">-	panic(&quot;unreachable&quot;)
</a><a href="#h42-0-479" id="h42-0-479" class="d">-}
</a><a href="#h42-0-480" id="h42-0-480" class="d">-
</a><a href="#h42-0-481" id="h42-0-481" class="d">-func structPointer_Word64Slice(p structPointer, f field) word64Slice {
</a><a href="#h42-0-482" id="h42-0-482" class="d">-	return word64Slice{structPointer_field(p, f)}
</a><a href="#h42-0-483" id="h42-0-483" class="d">-}
</a><b>diff --git a/<a id="h43" href="../file/vendor/github.com/golang/protobuf/proto/pointer_unsafe.go">vendor/github.com/golang/protobuf/proto/pointer_unsafe.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/pointer_unsafe.go">vendor/github.com/golang/protobuf/proto/pointer_unsafe.go</a></b>
<a href="#h43-0" id="h43-0" class="h">@@ -1,270 +0,0 @@
</a><a href="#h43-0-0" id="h43-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h43-0-1" id="h43-0-1" class="d">-//
</a><a href="#h43-0-2" id="h43-0-2" class="d">-// Copyright 2012 The Go Authors.  All rights reserved.
</a><a href="#h43-0-3" id="h43-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h43-0-4" id="h43-0-4" class="d">-//
</a><a href="#h43-0-5" id="h43-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h43-0-6" id="h43-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h43-0-7" id="h43-0-7" class="d">-// met:
</a><a href="#h43-0-8" id="h43-0-8" class="d">-//
</a><a href="#h43-0-9" id="h43-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h43-0-10" id="h43-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h43-0-11" id="h43-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h43-0-12" id="h43-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h43-0-13" id="h43-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h43-0-14" id="h43-0-14" class="d">-// distribution.
</a><a href="#h43-0-15" id="h43-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h43-0-16" id="h43-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h43-0-17" id="h43-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h43-0-18" id="h43-0-18" class="d">-//
</a><a href="#h43-0-19" id="h43-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h43-0-20" id="h43-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h43-0-21" id="h43-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h43-0-22" id="h43-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h43-0-23" id="h43-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h43-0-24" id="h43-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h43-0-25" id="h43-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h43-0-26" id="h43-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h43-0-27" id="h43-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h43-0-28" id="h43-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h43-0-29" id="h43-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h43-0-30" id="h43-0-30" class="d">-
</a><a href="#h43-0-31" id="h43-0-31" class="d">-// +build !appengine,!js
</a><a href="#h43-0-32" id="h43-0-32" class="d">-
</a><a href="#h43-0-33" id="h43-0-33" class="d">-// This file contains the implementation of the proto field accesses using package unsafe.
</a><a href="#h43-0-34" id="h43-0-34" class="d">-
</a><a href="#h43-0-35" id="h43-0-35" class="d">-package proto
</a><a href="#h43-0-36" id="h43-0-36" class="d">-
</a><a href="#h43-0-37" id="h43-0-37" class="d">-import (
</a><a href="#h43-0-38" id="h43-0-38" class="d">-	&quot;reflect&quot;
</a><a href="#h43-0-39" id="h43-0-39" class="d">-	&quot;unsafe&quot;
</a><a href="#h43-0-40" id="h43-0-40" class="d">-)
</a><a href="#h43-0-41" id="h43-0-41" class="d">-
</a><a href="#h43-0-42" id="h43-0-42" class="d">-// NOTE: These type_Foo functions would more idiomatically be methods,
</a><a href="#h43-0-43" id="h43-0-43" class="d">-// but Go does not allow methods on pointer types, and we must preserve
</a><a href="#h43-0-44" id="h43-0-44" class="d">-// some pointer type for the garbage collector. We use these
</a><a href="#h43-0-45" id="h43-0-45" class="d">-// funcs with clunky names as our poor approximation to methods.
</a><a href="#h43-0-46" id="h43-0-46" class="d">-//
</a><a href="#h43-0-47" id="h43-0-47" class="d">-// An alternative would be
</a><a href="#h43-0-48" id="h43-0-48" class="d">-//	type structPointer struct { p unsafe.Pointer }
</a><a href="#h43-0-49" id="h43-0-49" class="d">-// but that does not registerize as well.
</a><a href="#h43-0-50" id="h43-0-50" class="d">-
</a><a href="#h43-0-51" id="h43-0-51" class="d">-// A structPointer is a pointer to a struct.
</a><a href="#h43-0-52" id="h43-0-52" class="d">-type structPointer unsafe.Pointer
</a><a href="#h43-0-53" id="h43-0-53" class="d">-
</a><a href="#h43-0-54" id="h43-0-54" class="d">-// toStructPointer returns a structPointer equivalent to the given reflect value.
</a><a href="#h43-0-55" id="h43-0-55" class="d">-func toStructPointer(v reflect.Value) structPointer {
</a><a href="#h43-0-56" id="h43-0-56" class="d">-	return structPointer(unsafe.Pointer(v.Pointer()))
</a><a href="#h43-0-57" id="h43-0-57" class="d">-}
</a><a href="#h43-0-58" id="h43-0-58" class="d">-
</a><a href="#h43-0-59" id="h43-0-59" class="d">-// IsNil reports whether p is nil.
</a><a href="#h43-0-60" id="h43-0-60" class="d">-func structPointer_IsNil(p structPointer) bool {
</a><a href="#h43-0-61" id="h43-0-61" class="d">-	return p == nil
</a><a href="#h43-0-62" id="h43-0-62" class="d">-}
</a><a href="#h43-0-63" id="h43-0-63" class="d">-
</a><a href="#h43-0-64" id="h43-0-64" class="d">-// Interface returns the struct pointer, assumed to have element type t,
</a><a href="#h43-0-65" id="h43-0-65" class="d">-// as an interface value.
</a><a href="#h43-0-66" id="h43-0-66" class="d">-func structPointer_Interface(p structPointer, t reflect.Type) interface{} {
</a><a href="#h43-0-67" id="h43-0-67" class="d">-	return reflect.NewAt(t, unsafe.Pointer(p)).Interface()
</a><a href="#h43-0-68" id="h43-0-68" class="d">-}
</a><a href="#h43-0-69" id="h43-0-69" class="d">-
</a><a href="#h43-0-70" id="h43-0-70" class="d">-// A field identifies a field in a struct, accessible from a structPointer.
</a><a href="#h43-0-71" id="h43-0-71" class="d">-// In this implementation, a field is identified by its byte offset from the start of the struct.
</a><a href="#h43-0-72" id="h43-0-72" class="d">-type field uintptr
</a><a href="#h43-0-73" id="h43-0-73" class="d">-
</a><a href="#h43-0-74" id="h43-0-74" class="d">-// toField returns a field equivalent to the given reflect field.
</a><a href="#h43-0-75" id="h43-0-75" class="d">-func toField(f *reflect.StructField) field {
</a><a href="#h43-0-76" id="h43-0-76" class="d">-	return field(f.Offset)
</a><a href="#h43-0-77" id="h43-0-77" class="d">-}
</a><a href="#h43-0-78" id="h43-0-78" class="d">-
</a><a href="#h43-0-79" id="h43-0-79" class="d">-// invalidField is an invalid field identifier.
</a><a href="#h43-0-80" id="h43-0-80" class="d">-const invalidField = ^field(0)
</a><a href="#h43-0-81" id="h43-0-81" class="d">-
</a><a href="#h43-0-82" id="h43-0-82" class="d">-// IsValid reports whether the field identifier is valid.
</a><a href="#h43-0-83" id="h43-0-83" class="d">-func (f field) IsValid() bool {
</a><a href="#h43-0-84" id="h43-0-84" class="d">-	return f != ^field(0)
</a><a href="#h43-0-85" id="h43-0-85" class="d">-}
</a><a href="#h43-0-86" id="h43-0-86" class="d">-
</a><a href="#h43-0-87" id="h43-0-87" class="d">-// Bytes returns the address of a []byte field in the struct.
</a><a href="#h43-0-88" id="h43-0-88" class="d">-func structPointer_Bytes(p structPointer, f field) *[]byte {
</a><a href="#h43-0-89" id="h43-0-89" class="d">-	return (*[]byte)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-90" id="h43-0-90" class="d">-}
</a><a href="#h43-0-91" id="h43-0-91" class="d">-
</a><a href="#h43-0-92" id="h43-0-92" class="d">-// BytesSlice returns the address of a [][]byte field in the struct.
</a><a href="#h43-0-93" id="h43-0-93" class="d">-func structPointer_BytesSlice(p structPointer, f field) *[][]byte {
</a><a href="#h43-0-94" id="h43-0-94" class="d">-	return (*[][]byte)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-95" id="h43-0-95" class="d">-}
</a><a href="#h43-0-96" id="h43-0-96" class="d">-
</a><a href="#h43-0-97" id="h43-0-97" class="d">-// Bool returns the address of a *bool field in the struct.
</a><a href="#h43-0-98" id="h43-0-98" class="d">-func structPointer_Bool(p structPointer, f field) **bool {
</a><a href="#h43-0-99" id="h43-0-99" class="d">-	return (**bool)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-100" id="h43-0-100" class="d">-}
</a><a href="#h43-0-101" id="h43-0-101" class="d">-
</a><a href="#h43-0-102" id="h43-0-102" class="d">-// BoolVal returns the address of a bool field in the struct.
</a><a href="#h43-0-103" id="h43-0-103" class="d">-func structPointer_BoolVal(p structPointer, f field) *bool {
</a><a href="#h43-0-104" id="h43-0-104" class="d">-	return (*bool)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-105" id="h43-0-105" class="d">-}
</a><a href="#h43-0-106" id="h43-0-106" class="d">-
</a><a href="#h43-0-107" id="h43-0-107" class="d">-// BoolSlice returns the address of a []bool field in the struct.
</a><a href="#h43-0-108" id="h43-0-108" class="d">-func structPointer_BoolSlice(p structPointer, f field) *[]bool {
</a><a href="#h43-0-109" id="h43-0-109" class="d">-	return (*[]bool)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-110" id="h43-0-110" class="d">-}
</a><a href="#h43-0-111" id="h43-0-111" class="d">-
</a><a href="#h43-0-112" id="h43-0-112" class="d">-// String returns the address of a *string field in the struct.
</a><a href="#h43-0-113" id="h43-0-113" class="d">-func structPointer_String(p structPointer, f field) **string {
</a><a href="#h43-0-114" id="h43-0-114" class="d">-	return (**string)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-115" id="h43-0-115" class="d">-}
</a><a href="#h43-0-116" id="h43-0-116" class="d">-
</a><a href="#h43-0-117" id="h43-0-117" class="d">-// StringVal returns the address of a string field in the struct.
</a><a href="#h43-0-118" id="h43-0-118" class="d">-func structPointer_StringVal(p structPointer, f field) *string {
</a><a href="#h43-0-119" id="h43-0-119" class="d">-	return (*string)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-120" id="h43-0-120" class="d">-}
</a><a href="#h43-0-121" id="h43-0-121" class="d">-
</a><a href="#h43-0-122" id="h43-0-122" class="d">-// StringSlice returns the address of a []string field in the struct.
</a><a href="#h43-0-123" id="h43-0-123" class="d">-func structPointer_StringSlice(p structPointer, f field) *[]string {
</a><a href="#h43-0-124" id="h43-0-124" class="d">-	return (*[]string)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-125" id="h43-0-125" class="d">-}
</a><a href="#h43-0-126" id="h43-0-126" class="d">-
</a><a href="#h43-0-127" id="h43-0-127" class="d">-// ExtMap returns the address of an extension map field in the struct.
</a><a href="#h43-0-128" id="h43-0-128" class="d">-func structPointer_Extensions(p structPointer, f field) *XXX_InternalExtensions {
</a><a href="#h43-0-129" id="h43-0-129" class="d">-	return (*XXX_InternalExtensions)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-130" id="h43-0-130" class="d">-}
</a><a href="#h43-0-131" id="h43-0-131" class="d">-
</a><a href="#h43-0-132" id="h43-0-132" class="d">-func structPointer_ExtMap(p structPointer, f field) *map[int32]Extension {
</a><a href="#h43-0-133" id="h43-0-133" class="d">-	return (*map[int32]Extension)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-134" id="h43-0-134" class="d">-}
</a><a href="#h43-0-135" id="h43-0-135" class="d">-
</a><a href="#h43-0-136" id="h43-0-136" class="d">-// NewAt returns the reflect.Value for a pointer to a field in the struct.
</a><a href="#h43-0-137" id="h43-0-137" class="d">-func structPointer_NewAt(p structPointer, f field, typ reflect.Type) reflect.Value {
</a><a href="#h43-0-138" id="h43-0-138" class="d">-	return reflect.NewAt(typ, unsafe.Pointer(uintptr(p)+uintptr(f)))
</a><a href="#h43-0-139" id="h43-0-139" class="d">-}
</a><a href="#h43-0-140" id="h43-0-140" class="d">-
</a><a href="#h43-0-141" id="h43-0-141" class="d">-// SetStructPointer writes a *struct field in the struct.
</a><a href="#h43-0-142" id="h43-0-142" class="d">-func structPointer_SetStructPointer(p structPointer, f field, q structPointer) {
</a><a href="#h43-0-143" id="h43-0-143" class="d">-	*(*structPointer)(unsafe.Pointer(uintptr(p) + uintptr(f))) = q
</a><a href="#h43-0-144" id="h43-0-144" class="d">-}
</a><a href="#h43-0-145" id="h43-0-145" class="d">-
</a><a href="#h43-0-146" id="h43-0-146" class="d">-// GetStructPointer reads a *struct field in the struct.
</a><a href="#h43-0-147" id="h43-0-147" class="d">-func structPointer_GetStructPointer(p structPointer, f field) structPointer {
</a><a href="#h43-0-148" id="h43-0-148" class="d">-	return *(*structPointer)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-149" id="h43-0-149" class="d">-}
</a><a href="#h43-0-150" id="h43-0-150" class="d">-
</a><a href="#h43-0-151" id="h43-0-151" class="d">-// StructPointerSlice the address of a []*struct field in the struct.
</a><a href="#h43-0-152" id="h43-0-152" class="d">-func structPointer_StructPointerSlice(p structPointer, f field) *structPointerSlice {
</a><a href="#h43-0-153" id="h43-0-153" class="d">-	return (*structPointerSlice)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-154" id="h43-0-154" class="d">-}
</a><a href="#h43-0-155" id="h43-0-155" class="d">-
</a><a href="#h43-0-156" id="h43-0-156" class="d">-// A structPointerSlice represents a slice of pointers to structs (themselves submessages or groups).
</a><a href="#h43-0-157" id="h43-0-157" class="d">-type structPointerSlice []structPointer
</a><a href="#h43-0-158" id="h43-0-158" class="d">-
</a><a href="#h43-0-159" id="h43-0-159" class="d">-func (v *structPointerSlice) Len() int                  { return len(*v) }
</a><a href="#h43-0-160" id="h43-0-160" class="d">-func (v *structPointerSlice) Index(i int) structPointer { return (*v)[i] }
</a><a href="#h43-0-161" id="h43-0-161" class="d">-func (v *structPointerSlice) Append(p structPointer)    { *v = append(*v, p) }
</a><a href="#h43-0-162" id="h43-0-162" class="d">-
</a><a href="#h43-0-163" id="h43-0-163" class="d">-// A word32 is the address of a &quot;pointer to 32-bit value&quot; field.
</a><a href="#h43-0-164" id="h43-0-164" class="d">-type word32 **uint32
</a><a href="#h43-0-165" id="h43-0-165" class="d">-
</a><a href="#h43-0-166" id="h43-0-166" class="d">-// IsNil reports whether *v is nil.
</a><a href="#h43-0-167" id="h43-0-167" class="d">-func word32_IsNil(p word32) bool {
</a><a href="#h43-0-168" id="h43-0-168" class="d">-	return *p == nil
</a><a href="#h43-0-169" id="h43-0-169" class="d">-}
</a><a href="#h43-0-170" id="h43-0-170" class="d">-
</a><a href="#h43-0-171" id="h43-0-171" class="d">-// Set sets *v to point at a newly allocated word set to x.
</a><a href="#h43-0-172" id="h43-0-172" class="d">-func word32_Set(p word32, o *Buffer, x uint32) {
</a><a href="#h43-0-173" id="h43-0-173" class="d">-	if len(o.uint32s) == 0 {
</a><a href="#h43-0-174" id="h43-0-174" class="d">-		o.uint32s = make([]uint32, uint32PoolSize)
</a><a href="#h43-0-175" id="h43-0-175" class="d">-	}
</a><a href="#h43-0-176" id="h43-0-176" class="d">-	o.uint32s[0] = x
</a><a href="#h43-0-177" id="h43-0-177" class="d">-	*p = &amp;o.uint32s[0]
</a><a href="#h43-0-178" id="h43-0-178" class="d">-	o.uint32s = o.uint32s[1:]
</a><a href="#h43-0-179" id="h43-0-179" class="d">-}
</a><a href="#h43-0-180" id="h43-0-180" class="d">-
</a><a href="#h43-0-181" id="h43-0-181" class="d">-// Get gets the value pointed at by *v.
</a><a href="#h43-0-182" id="h43-0-182" class="d">-func word32_Get(p word32) uint32 {
</a><a href="#h43-0-183" id="h43-0-183" class="d">-	return **p
</a><a href="#h43-0-184" id="h43-0-184" class="d">-}
</a><a href="#h43-0-185" id="h43-0-185" class="d">-
</a><a href="#h43-0-186" id="h43-0-186" class="d">-// Word32 returns the address of a *int32, *uint32, *float32, or *enum field in the struct.
</a><a href="#h43-0-187" id="h43-0-187" class="d">-func structPointer_Word32(p structPointer, f field) word32 {
</a><a href="#h43-0-188" id="h43-0-188" class="d">-	return word32((**uint32)(unsafe.Pointer(uintptr(p) + uintptr(f))))
</a><a href="#h43-0-189" id="h43-0-189" class="d">-}
</a><a href="#h43-0-190" id="h43-0-190" class="d">-
</a><a href="#h43-0-191" id="h43-0-191" class="d">-// A word32Val is the address of a 32-bit value field.
</a><a href="#h43-0-192" id="h43-0-192" class="d">-type word32Val *uint32
</a><a href="#h43-0-193" id="h43-0-193" class="d">-
</a><a href="#h43-0-194" id="h43-0-194" class="d">-// Set sets *p to x.
</a><a href="#h43-0-195" id="h43-0-195" class="d">-func word32Val_Set(p word32Val, x uint32) {
</a><a href="#h43-0-196" id="h43-0-196" class="d">-	*p = x
</a><a href="#h43-0-197" id="h43-0-197" class="d">-}
</a><a href="#h43-0-198" id="h43-0-198" class="d">-
</a><a href="#h43-0-199" id="h43-0-199" class="d">-// Get gets the value pointed at by p.
</a><a href="#h43-0-200" id="h43-0-200" class="d">-func word32Val_Get(p word32Val) uint32 {
</a><a href="#h43-0-201" id="h43-0-201" class="d">-	return *p
</a><a href="#h43-0-202" id="h43-0-202" class="d">-}
</a><a href="#h43-0-203" id="h43-0-203" class="d">-
</a><a href="#h43-0-204" id="h43-0-204" class="d">-// Word32Val returns the address of a *int32, *uint32, *float32, or *enum field in the struct.
</a><a href="#h43-0-205" id="h43-0-205" class="d">-func structPointer_Word32Val(p structPointer, f field) word32Val {
</a><a href="#h43-0-206" id="h43-0-206" class="d">-	return word32Val((*uint32)(unsafe.Pointer(uintptr(p) + uintptr(f))))
</a><a href="#h43-0-207" id="h43-0-207" class="d">-}
</a><a href="#h43-0-208" id="h43-0-208" class="d">-
</a><a href="#h43-0-209" id="h43-0-209" class="d">-// A word32Slice is a slice of 32-bit values.
</a><a href="#h43-0-210" id="h43-0-210" class="d">-type word32Slice []uint32
</a><a href="#h43-0-211" id="h43-0-211" class="d">-
</a><a href="#h43-0-212" id="h43-0-212" class="d">-func (v *word32Slice) Append(x uint32)    { *v = append(*v, x) }
</a><a href="#h43-0-213" id="h43-0-213" class="d">-func (v *word32Slice) Len() int           { return len(*v) }
</a><a href="#h43-0-214" id="h43-0-214" class="d">-func (v *word32Slice) Index(i int) uint32 { return (*v)[i] }
</a><a href="#h43-0-215" id="h43-0-215" class="d">-
</a><a href="#h43-0-216" id="h43-0-216" class="d">-// Word32Slice returns the address of a []int32, []uint32, []float32, or []enum field in the struct.
</a><a href="#h43-0-217" id="h43-0-217" class="d">-func structPointer_Word32Slice(p structPointer, f field) *word32Slice {
</a><a href="#h43-0-218" id="h43-0-218" class="d">-	return (*word32Slice)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-219" id="h43-0-219" class="d">-}
</a><a href="#h43-0-220" id="h43-0-220" class="d">-
</a><a href="#h43-0-221" id="h43-0-221" class="d">-// word64 is like word32 but for 64-bit values.
</a><a href="#h43-0-222" id="h43-0-222" class="d">-type word64 **uint64
</a><a href="#h43-0-223" id="h43-0-223" class="d">-
</a><a href="#h43-0-224" id="h43-0-224" class="d">-func word64_Set(p word64, o *Buffer, x uint64) {
</a><a href="#h43-0-225" id="h43-0-225" class="d">-	if len(o.uint64s) == 0 {
</a><a href="#h43-0-226" id="h43-0-226" class="d">-		o.uint64s = make([]uint64, uint64PoolSize)
</a><a href="#h43-0-227" id="h43-0-227" class="d">-	}
</a><a href="#h43-0-228" id="h43-0-228" class="d">-	o.uint64s[0] = x
</a><a href="#h43-0-229" id="h43-0-229" class="d">-	*p = &amp;o.uint64s[0]
</a><a href="#h43-0-230" id="h43-0-230" class="d">-	o.uint64s = o.uint64s[1:]
</a><a href="#h43-0-231" id="h43-0-231" class="d">-}
</a><a href="#h43-0-232" id="h43-0-232" class="d">-
</a><a href="#h43-0-233" id="h43-0-233" class="d">-func word64_IsNil(p word64) bool {
</a><a href="#h43-0-234" id="h43-0-234" class="d">-	return *p == nil
</a><a href="#h43-0-235" id="h43-0-235" class="d">-}
</a><a href="#h43-0-236" id="h43-0-236" class="d">-
</a><a href="#h43-0-237" id="h43-0-237" class="d">-func word64_Get(p word64) uint64 {
</a><a href="#h43-0-238" id="h43-0-238" class="d">-	return **p
</a><a href="#h43-0-239" id="h43-0-239" class="d">-}
</a><a href="#h43-0-240" id="h43-0-240" class="d">-
</a><a href="#h43-0-241" id="h43-0-241" class="d">-func structPointer_Word64(p structPointer, f field) word64 {
</a><a href="#h43-0-242" id="h43-0-242" class="d">-	return word64((**uint64)(unsafe.Pointer(uintptr(p) + uintptr(f))))
</a><a href="#h43-0-243" id="h43-0-243" class="d">-}
</a><a href="#h43-0-244" id="h43-0-244" class="d">-
</a><a href="#h43-0-245" id="h43-0-245" class="d">-// word64Val is like word32Val but for 64-bit values.
</a><a href="#h43-0-246" id="h43-0-246" class="d">-type word64Val *uint64
</a><a href="#h43-0-247" id="h43-0-247" class="d">-
</a><a href="#h43-0-248" id="h43-0-248" class="d">-func word64Val_Set(p word64Val, o *Buffer, x uint64) {
</a><a href="#h43-0-249" id="h43-0-249" class="d">-	*p = x
</a><a href="#h43-0-250" id="h43-0-250" class="d">-}
</a><a href="#h43-0-251" id="h43-0-251" class="d">-
</a><a href="#h43-0-252" id="h43-0-252" class="d">-func word64Val_Get(p word64Val) uint64 {
</a><a href="#h43-0-253" id="h43-0-253" class="d">-	return *p
</a><a href="#h43-0-254" id="h43-0-254" class="d">-}
</a><a href="#h43-0-255" id="h43-0-255" class="d">-
</a><a href="#h43-0-256" id="h43-0-256" class="d">-func structPointer_Word64Val(p structPointer, f field) word64Val {
</a><a href="#h43-0-257" id="h43-0-257" class="d">-	return word64Val((*uint64)(unsafe.Pointer(uintptr(p) + uintptr(f))))
</a><a href="#h43-0-258" id="h43-0-258" class="d">-}
</a><a href="#h43-0-259" id="h43-0-259" class="d">-
</a><a href="#h43-0-260" id="h43-0-260" class="d">-// word64Slice is like word32Slice but for 64-bit values.
</a><a href="#h43-0-261" id="h43-0-261" class="d">-type word64Slice []uint64
</a><a href="#h43-0-262" id="h43-0-262" class="d">-
</a><a href="#h43-0-263" id="h43-0-263" class="d">-func (v *word64Slice) Append(x uint64)    { *v = append(*v, x) }
</a><a href="#h43-0-264" id="h43-0-264" class="d">-func (v *word64Slice) Len() int           { return len(*v) }
</a><a href="#h43-0-265" id="h43-0-265" class="d">-func (v *word64Slice) Index(i int) uint64 { return (*v)[i] }
</a><a href="#h43-0-266" id="h43-0-266" class="d">-
</a><a href="#h43-0-267" id="h43-0-267" class="d">-func structPointer_Word64Slice(p structPointer, f field) *word64Slice {
</a><a href="#h43-0-268" id="h43-0-268" class="d">-	return (*word64Slice)(unsafe.Pointer(uintptr(p) + uintptr(f)))
</a><a href="#h43-0-269" id="h43-0-269" class="d">-}
</a><b>diff --git a/<a id="h44" href="../file/vendor/github.com/golang/protobuf/proto/properties.go">vendor/github.com/golang/protobuf/proto/properties.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/properties.go">vendor/github.com/golang/protobuf/proto/properties.go</a></b>
<a href="#h44-0" id="h44-0" class="h">@@ -1,864 +0,0 @@
</a><a href="#h44-0-0" id="h44-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h44-0-1" id="h44-0-1" class="d">-//
</a><a href="#h44-0-2" id="h44-0-2" class="d">-// Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h44-0-3" id="h44-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h44-0-4" id="h44-0-4" class="d">-//
</a><a href="#h44-0-5" id="h44-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h44-0-6" id="h44-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h44-0-7" id="h44-0-7" class="d">-// met:
</a><a href="#h44-0-8" id="h44-0-8" class="d">-//
</a><a href="#h44-0-9" id="h44-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h44-0-10" id="h44-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h44-0-11" id="h44-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h44-0-12" id="h44-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h44-0-13" id="h44-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h44-0-14" id="h44-0-14" class="d">-// distribution.
</a><a href="#h44-0-15" id="h44-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h44-0-16" id="h44-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h44-0-17" id="h44-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h44-0-18" id="h44-0-18" class="d">-//
</a><a href="#h44-0-19" id="h44-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h44-0-20" id="h44-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h44-0-21" id="h44-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h44-0-22" id="h44-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h44-0-23" id="h44-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h44-0-24" id="h44-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h44-0-25" id="h44-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h44-0-26" id="h44-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h44-0-27" id="h44-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h44-0-28" id="h44-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h44-0-29" id="h44-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h44-0-30" id="h44-0-30" class="d">-
</a><a href="#h44-0-31" id="h44-0-31" class="d">-package proto
</a><a href="#h44-0-32" id="h44-0-32" class="d">-
</a><a href="#h44-0-33" id="h44-0-33" class="d">-/*
</a><a href="#h44-0-34" id="h44-0-34" class="d">- * Routines for encoding data into the wire format for protocol buffers.
</a><a href="#h44-0-35" id="h44-0-35" class="d">- */
</a><a href="#h44-0-36" id="h44-0-36" class="d">-
</a><a href="#h44-0-37" id="h44-0-37" class="d">-import (
</a><a href="#h44-0-38" id="h44-0-38" class="d">-	&quot;fmt&quot;
</a><a href="#h44-0-39" id="h44-0-39" class="d">-	&quot;log&quot;
</a><a href="#h44-0-40" id="h44-0-40" class="d">-	&quot;os&quot;
</a><a href="#h44-0-41" id="h44-0-41" class="d">-	&quot;reflect&quot;
</a><a href="#h44-0-42" id="h44-0-42" class="d">-	&quot;sort&quot;
</a><a href="#h44-0-43" id="h44-0-43" class="d">-	&quot;strconv&quot;
</a><a href="#h44-0-44" id="h44-0-44" class="d">-	&quot;strings&quot;
</a><a href="#h44-0-45" id="h44-0-45" class="d">-	&quot;sync&quot;
</a><a href="#h44-0-46" id="h44-0-46" class="d">-)
</a><a href="#h44-0-47" id="h44-0-47" class="d">-
</a><a href="#h44-0-48" id="h44-0-48" class="d">-const debug bool = false
</a><a href="#h44-0-49" id="h44-0-49" class="d">-
</a><a href="#h44-0-50" id="h44-0-50" class="d">-// Constants that identify the encoding of a value on the wire.
</a><a href="#h44-0-51" id="h44-0-51" class="d">-const (
</a><a href="#h44-0-52" id="h44-0-52" class="d">-	WireVarint     = 0
</a><a href="#h44-0-53" id="h44-0-53" class="d">-	WireFixed64    = 1
</a><a href="#h44-0-54" id="h44-0-54" class="d">-	WireBytes      = 2
</a><a href="#h44-0-55" id="h44-0-55" class="d">-	WireStartGroup = 3
</a><a href="#h44-0-56" id="h44-0-56" class="d">-	WireEndGroup   = 4
</a><a href="#h44-0-57" id="h44-0-57" class="d">-	WireFixed32    = 5
</a><a href="#h44-0-58" id="h44-0-58" class="d">-)
</a><a href="#h44-0-59" id="h44-0-59" class="d">-
</a><a href="#h44-0-60" id="h44-0-60" class="d">-const startSize = 10 // initial slice/string sizes
</a><a href="#h44-0-61" id="h44-0-61" class="d">-
</a><a href="#h44-0-62" id="h44-0-62" class="d">-// Encoders are defined in encode.go
</a><a href="#h44-0-63" id="h44-0-63" class="d">-// An encoder outputs the full representation of a field, including its
</a><a href="#h44-0-64" id="h44-0-64" class="d">-// tag and encoder type.
</a><a href="#h44-0-65" id="h44-0-65" class="d">-type encoder func(p *Buffer, prop *Properties, base structPointer) error
</a><a href="#h44-0-66" id="h44-0-66" class="d">-
</a><a href="#h44-0-67" id="h44-0-67" class="d">-// A valueEncoder encodes a single integer in a particular encoding.
</a><a href="#h44-0-68" id="h44-0-68" class="d">-type valueEncoder func(o *Buffer, x uint64) error
</a><a href="#h44-0-69" id="h44-0-69" class="d">-
</a><a href="#h44-0-70" id="h44-0-70" class="d">-// Sizers are defined in encode.go
</a><a href="#h44-0-71" id="h44-0-71" class="d">-// A sizer returns the encoded size of a field, including its tag and encoder
</a><a href="#h44-0-72" id="h44-0-72" class="d">-// type.
</a><a href="#h44-0-73" id="h44-0-73" class="d">-type sizer func(prop *Properties, base structPointer) int
</a><a href="#h44-0-74" id="h44-0-74" class="d">-
</a><a href="#h44-0-75" id="h44-0-75" class="d">-// A valueSizer returns the encoded size of a single integer in a particular
</a><a href="#h44-0-76" id="h44-0-76" class="d">-// encoding.
</a><a href="#h44-0-77" id="h44-0-77" class="d">-type valueSizer func(x uint64) int
</a><a href="#h44-0-78" id="h44-0-78" class="d">-
</a><a href="#h44-0-79" id="h44-0-79" class="d">-// Decoders are defined in decode.go
</a><a href="#h44-0-80" id="h44-0-80" class="d">-// A decoder creates a value from its wire representation.
</a><a href="#h44-0-81" id="h44-0-81" class="d">-// Unrecognized subelements are saved in unrec.
</a><a href="#h44-0-82" id="h44-0-82" class="d">-type decoder func(p *Buffer, prop *Properties, base structPointer) error
</a><a href="#h44-0-83" id="h44-0-83" class="d">-
</a><a href="#h44-0-84" id="h44-0-84" class="d">-// A valueDecoder decodes a single integer in a particular encoding.
</a><a href="#h44-0-85" id="h44-0-85" class="d">-type valueDecoder func(o *Buffer) (x uint64, err error)
</a><a href="#h44-0-86" id="h44-0-86" class="d">-
</a><a href="#h44-0-87" id="h44-0-87" class="d">-// A oneofMarshaler does the marshaling for all oneof fields in a message.
</a><a href="#h44-0-88" id="h44-0-88" class="d">-type oneofMarshaler func(Message, *Buffer) error
</a><a href="#h44-0-89" id="h44-0-89" class="d">-
</a><a href="#h44-0-90" id="h44-0-90" class="d">-// A oneofUnmarshaler does the unmarshaling for a oneof field in a message.
</a><a href="#h44-0-91" id="h44-0-91" class="d">-type oneofUnmarshaler func(Message, int, int, *Buffer) (bool, error)
</a><a href="#h44-0-92" id="h44-0-92" class="d">-
</a><a href="#h44-0-93" id="h44-0-93" class="d">-// A oneofSizer does the sizing for all oneof fields in a message.
</a><a href="#h44-0-94" id="h44-0-94" class="d">-type oneofSizer func(Message) int
</a><a href="#h44-0-95" id="h44-0-95" class="d">-
</a><a href="#h44-0-96" id="h44-0-96" class="d">-// tagMap is an optimization over map[int]int for typical protocol buffer
</a><a href="#h44-0-97" id="h44-0-97" class="d">-// use-cases. Encoded protocol buffers are often in tag order with small tag
</a><a href="#h44-0-98" id="h44-0-98" class="d">-// numbers.
</a><a href="#h44-0-99" id="h44-0-99" class="d">-type tagMap struct {
</a><a href="#h44-0-100" id="h44-0-100" class="d">-	fastTags []int
</a><a href="#h44-0-101" id="h44-0-101" class="d">-	slowTags map[int]int
</a><a href="#h44-0-102" id="h44-0-102" class="d">-}
</a><a href="#h44-0-103" id="h44-0-103" class="d">-
</a><a href="#h44-0-104" id="h44-0-104" class="d">-// tagMapFastLimit is the upper bound on the tag number that will be stored in
</a><a href="#h44-0-105" id="h44-0-105" class="d">-// the tagMap slice rather than its map.
</a><a href="#h44-0-106" id="h44-0-106" class="d">-const tagMapFastLimit = 1024
</a><a href="#h44-0-107" id="h44-0-107" class="d">-
</a><a href="#h44-0-108" id="h44-0-108" class="d">-func (p *tagMap) get(t int) (int, bool) {
</a><a href="#h44-0-109" id="h44-0-109" class="d">-	if t &gt; 0 &amp;&amp; t &lt; tagMapFastLimit {
</a><a href="#h44-0-110" id="h44-0-110" class="d">-		if t &gt;= len(p.fastTags) {
</a><a href="#h44-0-111" id="h44-0-111" class="d">-			return 0, false
</a><a href="#h44-0-112" id="h44-0-112" class="d">-		}
</a><a href="#h44-0-113" id="h44-0-113" class="d">-		fi := p.fastTags[t]
</a><a href="#h44-0-114" id="h44-0-114" class="d">-		return fi, fi &gt;= 0
</a><a href="#h44-0-115" id="h44-0-115" class="d">-	}
</a><a href="#h44-0-116" id="h44-0-116" class="d">-	fi, ok := p.slowTags[t]
</a><a href="#h44-0-117" id="h44-0-117" class="d">-	return fi, ok
</a><a href="#h44-0-118" id="h44-0-118" class="d">-}
</a><a href="#h44-0-119" id="h44-0-119" class="d">-
</a><a href="#h44-0-120" id="h44-0-120" class="d">-func (p *tagMap) put(t int, fi int) {
</a><a href="#h44-0-121" id="h44-0-121" class="d">-	if t &gt; 0 &amp;&amp; t &lt; tagMapFastLimit {
</a><a href="#h44-0-122" id="h44-0-122" class="d">-		for len(p.fastTags) &lt; t+1 {
</a><a href="#h44-0-123" id="h44-0-123" class="d">-			p.fastTags = append(p.fastTags, -1)
</a><a href="#h44-0-124" id="h44-0-124" class="d">-		}
</a><a href="#h44-0-125" id="h44-0-125" class="d">-		p.fastTags[t] = fi
</a><a href="#h44-0-126" id="h44-0-126" class="d">-		return
</a><a href="#h44-0-127" id="h44-0-127" class="d">-	}
</a><a href="#h44-0-128" id="h44-0-128" class="d">-	if p.slowTags == nil {
</a><a href="#h44-0-129" id="h44-0-129" class="d">-		p.slowTags = make(map[int]int)
</a><a href="#h44-0-130" id="h44-0-130" class="d">-	}
</a><a href="#h44-0-131" id="h44-0-131" class="d">-	p.slowTags[t] = fi
</a><a href="#h44-0-132" id="h44-0-132" class="d">-}
</a><a href="#h44-0-133" id="h44-0-133" class="d">-
</a><a href="#h44-0-134" id="h44-0-134" class="d">-// StructProperties represents properties for all the fields of a struct.
</a><a href="#h44-0-135" id="h44-0-135" class="d">-// decoderTags and decoderOrigNames should only be used by the decoder.
</a><a href="#h44-0-136" id="h44-0-136" class="d">-type StructProperties struct {
</a><a href="#h44-0-137" id="h44-0-137" class="d">-	Prop             []*Properties  // properties for each field
</a><a href="#h44-0-138" id="h44-0-138" class="d">-	reqCount         int            // required count
</a><a href="#h44-0-139" id="h44-0-139" class="d">-	decoderTags      tagMap         // map from proto tag to struct field number
</a><a href="#h44-0-140" id="h44-0-140" class="d">-	decoderOrigNames map[string]int // map from original name to struct field number
</a><a href="#h44-0-141" id="h44-0-141" class="d">-	order            []int          // list of struct field numbers in tag order
</a><a href="#h44-0-142" id="h44-0-142" class="d">-	unrecField       field          // field id of the XXX_unrecognized []byte field
</a><a href="#h44-0-143" id="h44-0-143" class="d">-	extendable       bool           // is this an extendable proto
</a><a href="#h44-0-144" id="h44-0-144" class="d">-
</a><a href="#h44-0-145" id="h44-0-145" class="d">-	oneofMarshaler   oneofMarshaler
</a><a href="#h44-0-146" id="h44-0-146" class="d">-	oneofUnmarshaler oneofUnmarshaler
</a><a href="#h44-0-147" id="h44-0-147" class="d">-	oneofSizer       oneofSizer
</a><a href="#h44-0-148" id="h44-0-148" class="d">-	stype            reflect.Type
</a><a href="#h44-0-149" id="h44-0-149" class="d">-
</a><a href="#h44-0-150" id="h44-0-150" class="d">-	// OneofTypes contains information about the oneof fields in this message.
</a><a href="#h44-0-151" id="h44-0-151" class="d">-	// It is keyed by the original name of a field.
</a><a href="#h44-0-152" id="h44-0-152" class="d">-	OneofTypes map[string]*OneofProperties
</a><a href="#h44-0-153" id="h44-0-153" class="d">-}
</a><a href="#h44-0-154" id="h44-0-154" class="d">-
</a><a href="#h44-0-155" id="h44-0-155" class="d">-// OneofProperties represents information about a specific field in a oneof.
</a><a href="#h44-0-156" id="h44-0-156" class="d">-type OneofProperties struct {
</a><a href="#h44-0-157" id="h44-0-157" class="d">-	Type  reflect.Type // pointer to generated struct type for this oneof field
</a><a href="#h44-0-158" id="h44-0-158" class="d">-	Field int          // struct field number of the containing oneof in the message
</a><a href="#h44-0-159" id="h44-0-159" class="d">-	Prop  *Properties
</a><a href="#h44-0-160" id="h44-0-160" class="d">-}
</a><a href="#h44-0-161" id="h44-0-161" class="d">-
</a><a href="#h44-0-162" id="h44-0-162" class="d">-// Implement the sorting interface so we can sort the fields in tag order, as recommended by the spec.
</a><a href="#h44-0-163" id="h44-0-163" class="d">-// See encode.go, (*Buffer).enc_struct.
</a><a href="#h44-0-164" id="h44-0-164" class="d">-
</a><a href="#h44-0-165" id="h44-0-165" class="d">-func (sp *StructProperties) Len() int { return len(sp.order) }
</a><a href="#h44-0-166" id="h44-0-166" class="d">-func (sp *StructProperties) Less(i, j int) bool {
</a><a href="#h44-0-167" id="h44-0-167" class="d">-	return sp.Prop[sp.order[i]].Tag &lt; sp.Prop[sp.order[j]].Tag
</a><a href="#h44-0-168" id="h44-0-168" class="d">-}
</a><a href="#h44-0-169" id="h44-0-169" class="d">-func (sp *StructProperties) Swap(i, j int) { sp.order[i], sp.order[j] = sp.order[j], sp.order[i] }
</a><a href="#h44-0-170" id="h44-0-170" class="d">-
</a><a href="#h44-0-171" id="h44-0-171" class="d">-// Properties represents the protocol-specific behavior of a single struct field.
</a><a href="#h44-0-172" id="h44-0-172" class="d">-type Properties struct {
</a><a href="#h44-0-173" id="h44-0-173" class="d">-	Name     string // name of the field, for error messages
</a><a href="#h44-0-174" id="h44-0-174" class="d">-	OrigName string // original name before protocol compiler (always set)
</a><a href="#h44-0-175" id="h44-0-175" class="d">-	JSONName string // name to use for JSON; determined by protoc
</a><a href="#h44-0-176" id="h44-0-176" class="d">-	Wire     string
</a><a href="#h44-0-177" id="h44-0-177" class="d">-	WireType int
</a><a href="#h44-0-178" id="h44-0-178" class="d">-	Tag      int
</a><a href="#h44-0-179" id="h44-0-179" class="d">-	Required bool
</a><a href="#h44-0-180" id="h44-0-180" class="d">-	Optional bool
</a><a href="#h44-0-181" id="h44-0-181" class="d">-	Repeated bool
</a><a href="#h44-0-182" id="h44-0-182" class="d">-	Packed   bool   // relevant for repeated primitives only
</a><a href="#h44-0-183" id="h44-0-183" class="d">-	Enum     string // set for enum types only
</a><a href="#h44-0-184" id="h44-0-184" class="d">-	proto3   bool   // whether this is known to be a proto3 field; set for []byte only
</a><a href="#h44-0-185" id="h44-0-185" class="d">-	oneof    bool   // whether this is a oneof field
</a><a href="#h44-0-186" id="h44-0-186" class="d">-
</a><a href="#h44-0-187" id="h44-0-187" class="d">-	Default    string // default value
</a><a href="#h44-0-188" id="h44-0-188" class="d">-	HasDefault bool   // whether an explicit default was provided
</a><a href="#h44-0-189" id="h44-0-189" class="d">-	def_uint64 uint64
</a><a href="#h44-0-190" id="h44-0-190" class="d">-
</a><a href="#h44-0-191" id="h44-0-191" class="d">-	enc           encoder
</a><a href="#h44-0-192" id="h44-0-192" class="d">-	valEnc        valueEncoder // set for bool and numeric types only
</a><a href="#h44-0-193" id="h44-0-193" class="d">-	field         field
</a><a href="#h44-0-194" id="h44-0-194" class="d">-	tagcode       []byte // encoding of EncodeVarint((Tag&lt;&lt;3)|WireType)
</a><a href="#h44-0-195" id="h44-0-195" class="d">-	tagbuf        [8]byte
</a><a href="#h44-0-196" id="h44-0-196" class="d">-	stype         reflect.Type      // set for struct types only
</a><a href="#h44-0-197" id="h44-0-197" class="d">-	sprop         *StructProperties // set for struct types only
</a><a href="#h44-0-198" id="h44-0-198" class="d">-	isMarshaler   bool
</a><a href="#h44-0-199" id="h44-0-199" class="d">-	isUnmarshaler bool
</a><a href="#h44-0-200" id="h44-0-200" class="d">-
</a><a href="#h44-0-201" id="h44-0-201" class="d">-	mtype    reflect.Type // set for map types only
</a><a href="#h44-0-202" id="h44-0-202" class="d">-	mkeyprop *Properties  // set for map types only
</a><a href="#h44-0-203" id="h44-0-203" class="d">-	mvalprop *Properties  // set for map types only
</a><a href="#h44-0-204" id="h44-0-204" class="d">-
</a><a href="#h44-0-205" id="h44-0-205" class="d">-	size    sizer
</a><a href="#h44-0-206" id="h44-0-206" class="d">-	valSize valueSizer // set for bool and numeric types only
</a><a href="#h44-0-207" id="h44-0-207" class="d">-
</a><a href="#h44-0-208" id="h44-0-208" class="d">-	dec    decoder
</a><a href="#h44-0-209" id="h44-0-209" class="d">-	valDec valueDecoder // set for bool and numeric types only
</a><a href="#h44-0-210" id="h44-0-210" class="d">-
</a><a href="#h44-0-211" id="h44-0-211" class="d">-	// If this is a packable field, this will be the decoder for the packed version of the field.
</a><a href="#h44-0-212" id="h44-0-212" class="d">-	packedDec decoder
</a><a href="#h44-0-213" id="h44-0-213" class="d">-}
</a><a href="#h44-0-214" id="h44-0-214" class="d">-
</a><a href="#h44-0-215" id="h44-0-215" class="d">-// String formats the properties in the protobuf struct field tag style.
</a><a href="#h44-0-216" id="h44-0-216" class="d">-func (p *Properties) String() string {
</a><a href="#h44-0-217" id="h44-0-217" class="d">-	s := p.Wire
</a><a href="#h44-0-218" id="h44-0-218" class="d">-	s = &quot;,&quot;
</a><a href="#h44-0-219" id="h44-0-219" class="d">-	s += strconv.Itoa(p.Tag)
</a><a href="#h44-0-220" id="h44-0-220" class="d">-	if p.Required {
</a><a href="#h44-0-221" id="h44-0-221" class="d">-		s += &quot;,req&quot;
</a><a href="#h44-0-222" id="h44-0-222" class="d">-	}
</a><a href="#h44-0-223" id="h44-0-223" class="d">-	if p.Optional {
</a><a href="#h44-0-224" id="h44-0-224" class="d">-		s += &quot;,opt&quot;
</a><a href="#h44-0-225" id="h44-0-225" class="d">-	}
</a><a href="#h44-0-226" id="h44-0-226" class="d">-	if p.Repeated {
</a><a href="#h44-0-227" id="h44-0-227" class="d">-		s += &quot;,rep&quot;
</a><a href="#h44-0-228" id="h44-0-228" class="d">-	}
</a><a href="#h44-0-229" id="h44-0-229" class="d">-	if p.Packed {
</a><a href="#h44-0-230" id="h44-0-230" class="d">-		s += &quot;,packed&quot;
</a><a href="#h44-0-231" id="h44-0-231" class="d">-	}
</a><a href="#h44-0-232" id="h44-0-232" class="d">-	s += &quot;,name=&quot; + p.OrigName
</a><a href="#h44-0-233" id="h44-0-233" class="d">-	if p.JSONName != p.OrigName {
</a><a href="#h44-0-234" id="h44-0-234" class="d">-		s += &quot;,json=&quot; + p.JSONName
</a><a href="#h44-0-235" id="h44-0-235" class="d">-	}
</a><a href="#h44-0-236" id="h44-0-236" class="d">-	if p.proto3 {
</a><a href="#h44-0-237" id="h44-0-237" class="d">-		s += &quot;,proto3&quot;
</a><a href="#h44-0-238" id="h44-0-238" class="d">-	}
</a><a href="#h44-0-239" id="h44-0-239" class="d">-	if p.oneof {
</a><a href="#h44-0-240" id="h44-0-240" class="d">-		s += &quot;,oneof&quot;
</a><a href="#h44-0-241" id="h44-0-241" class="d">-	}
</a><a href="#h44-0-242" id="h44-0-242" class="d">-	if len(p.Enum) &gt; 0 {
</a><a href="#h44-0-243" id="h44-0-243" class="d">-		s += &quot;,enum=&quot; + p.Enum
</a><a href="#h44-0-244" id="h44-0-244" class="d">-	}
</a><a href="#h44-0-245" id="h44-0-245" class="d">-	if p.HasDefault {
</a><a href="#h44-0-246" id="h44-0-246" class="d">-		s += &quot;,def=&quot; + p.Default
</a><a href="#h44-0-247" id="h44-0-247" class="d">-	}
</a><a href="#h44-0-248" id="h44-0-248" class="d">-	return s
</a><a href="#h44-0-249" id="h44-0-249" class="d">-}
</a><a href="#h44-0-250" id="h44-0-250" class="d">-
</a><a href="#h44-0-251" id="h44-0-251" class="d">-// Parse populates p by parsing a string in the protobuf struct field tag style.
</a><a href="#h44-0-252" id="h44-0-252" class="d">-func (p *Properties) Parse(s string) {
</a><a href="#h44-0-253" id="h44-0-253" class="d">-	// &quot;bytes,49,opt,name=foo,def=hello!&quot;
</a><a href="#h44-0-254" id="h44-0-254" class="d">-	fields := strings.Split(s, &quot;,&quot;) // breaks def=, but handled below.
</a><a href="#h44-0-255" id="h44-0-255" class="d">-	if len(fields) &lt; 2 {
</a><a href="#h44-0-256" id="h44-0-256" class="d">-		fmt.Fprintf(os.Stderr, &quot;proto: tag has too few fields: %q\n&quot;, s)
</a><a href="#h44-0-257" id="h44-0-257" class="d">-		return
</a><a href="#h44-0-258" id="h44-0-258" class="d">-	}
</a><a href="#h44-0-259" id="h44-0-259" class="d">-
</a><a href="#h44-0-260" id="h44-0-260" class="d">-	p.Wire = fields[0]
</a><a href="#h44-0-261" id="h44-0-261" class="d">-	switch p.Wire {
</a><a href="#h44-0-262" id="h44-0-262" class="d">-	case &quot;varint&quot;:
</a><a href="#h44-0-263" id="h44-0-263" class="d">-		p.WireType = WireVarint
</a><a href="#h44-0-264" id="h44-0-264" class="d">-		p.valEnc = (*Buffer).EncodeVarint
</a><a href="#h44-0-265" id="h44-0-265" class="d">-		p.valDec = (*Buffer).DecodeVarint
</a><a href="#h44-0-266" id="h44-0-266" class="d">-		p.valSize = sizeVarint
</a><a href="#h44-0-267" id="h44-0-267" class="d">-	case &quot;fixed32&quot;:
</a><a href="#h44-0-268" id="h44-0-268" class="d">-		p.WireType = WireFixed32
</a><a href="#h44-0-269" id="h44-0-269" class="d">-		p.valEnc = (*Buffer).EncodeFixed32
</a><a href="#h44-0-270" id="h44-0-270" class="d">-		p.valDec = (*Buffer).DecodeFixed32
</a><a href="#h44-0-271" id="h44-0-271" class="d">-		p.valSize = sizeFixed32
</a><a href="#h44-0-272" id="h44-0-272" class="d">-	case &quot;fixed64&quot;:
</a><a href="#h44-0-273" id="h44-0-273" class="d">-		p.WireType = WireFixed64
</a><a href="#h44-0-274" id="h44-0-274" class="d">-		p.valEnc = (*Buffer).EncodeFixed64
</a><a href="#h44-0-275" id="h44-0-275" class="d">-		p.valDec = (*Buffer).DecodeFixed64
</a><a href="#h44-0-276" id="h44-0-276" class="d">-		p.valSize = sizeFixed64
</a><a href="#h44-0-277" id="h44-0-277" class="d">-	case &quot;zigzag32&quot;:
</a><a href="#h44-0-278" id="h44-0-278" class="d">-		p.WireType = WireVarint
</a><a href="#h44-0-279" id="h44-0-279" class="d">-		p.valEnc = (*Buffer).EncodeZigzag32
</a><a href="#h44-0-280" id="h44-0-280" class="d">-		p.valDec = (*Buffer).DecodeZigzag32
</a><a href="#h44-0-281" id="h44-0-281" class="d">-		p.valSize = sizeZigzag32
</a><a href="#h44-0-282" id="h44-0-282" class="d">-	case &quot;zigzag64&quot;:
</a><a href="#h44-0-283" id="h44-0-283" class="d">-		p.WireType = WireVarint
</a><a href="#h44-0-284" id="h44-0-284" class="d">-		p.valEnc = (*Buffer).EncodeZigzag64
</a><a href="#h44-0-285" id="h44-0-285" class="d">-		p.valDec = (*Buffer).DecodeZigzag64
</a><a href="#h44-0-286" id="h44-0-286" class="d">-		p.valSize = sizeZigzag64
</a><a href="#h44-0-287" id="h44-0-287" class="d">-	case &quot;bytes&quot;, &quot;group&quot;:
</a><a href="#h44-0-288" id="h44-0-288" class="d">-		p.WireType = WireBytes
</a><a href="#h44-0-289" id="h44-0-289" class="d">-		// no numeric converter for non-numeric types
</a><a href="#h44-0-290" id="h44-0-290" class="d">-	default:
</a><a href="#h44-0-291" id="h44-0-291" class="d">-		fmt.Fprintf(os.Stderr, &quot;proto: tag has unknown wire type: %q\n&quot;, s)
</a><a href="#h44-0-292" id="h44-0-292" class="d">-		return
</a><a href="#h44-0-293" id="h44-0-293" class="d">-	}
</a><a href="#h44-0-294" id="h44-0-294" class="d">-
</a><a href="#h44-0-295" id="h44-0-295" class="d">-	var err error
</a><a href="#h44-0-296" id="h44-0-296" class="d">-	p.Tag, err = strconv.Atoi(fields[1])
</a><a href="#h44-0-297" id="h44-0-297" class="d">-	if err != nil {
</a><a href="#h44-0-298" id="h44-0-298" class="d">-		return
</a><a href="#h44-0-299" id="h44-0-299" class="d">-	}
</a><a href="#h44-0-300" id="h44-0-300" class="d">-
</a><a href="#h44-0-301" id="h44-0-301" class="d">-	for i := 2; i &lt; len(fields); i++ {
</a><a href="#h44-0-302" id="h44-0-302" class="d">-		f := fields[i]
</a><a href="#h44-0-303" id="h44-0-303" class="d">-		switch {
</a><a href="#h44-0-304" id="h44-0-304" class="d">-		case f == &quot;req&quot;:
</a><a href="#h44-0-305" id="h44-0-305" class="d">-			p.Required = true
</a><a href="#h44-0-306" id="h44-0-306" class="d">-		case f == &quot;opt&quot;:
</a><a href="#h44-0-307" id="h44-0-307" class="d">-			p.Optional = true
</a><a href="#h44-0-308" id="h44-0-308" class="d">-		case f == &quot;rep&quot;:
</a><a href="#h44-0-309" id="h44-0-309" class="d">-			p.Repeated = true
</a><a href="#h44-0-310" id="h44-0-310" class="d">-		case f == &quot;packed&quot;:
</a><a href="#h44-0-311" id="h44-0-311" class="d">-			p.Packed = true
</a><a href="#h44-0-312" id="h44-0-312" class="d">-		case strings.HasPrefix(f, &quot;name=&quot;):
</a><a href="#h44-0-313" id="h44-0-313" class="d">-			p.OrigName = f[5:]
</a><a href="#h44-0-314" id="h44-0-314" class="d">-		case strings.HasPrefix(f, &quot;json=&quot;):
</a><a href="#h44-0-315" id="h44-0-315" class="d">-			p.JSONName = f[5:]
</a><a href="#h44-0-316" id="h44-0-316" class="d">-		case strings.HasPrefix(f, &quot;enum=&quot;):
</a><a href="#h44-0-317" id="h44-0-317" class="d">-			p.Enum = f[5:]
</a><a href="#h44-0-318" id="h44-0-318" class="d">-		case f == &quot;proto3&quot;:
</a><a href="#h44-0-319" id="h44-0-319" class="d">-			p.proto3 = true
</a><a href="#h44-0-320" id="h44-0-320" class="d">-		case f == &quot;oneof&quot;:
</a><a href="#h44-0-321" id="h44-0-321" class="d">-			p.oneof = true
</a><a href="#h44-0-322" id="h44-0-322" class="d">-		case strings.HasPrefix(f, &quot;def=&quot;):
</a><a href="#h44-0-323" id="h44-0-323" class="d">-			p.HasDefault = true
</a><a href="#h44-0-324" id="h44-0-324" class="d">-			p.Default = f[4:] // rest of string
</a><a href="#h44-0-325" id="h44-0-325" class="d">-			if i+1 &lt; len(fields) {
</a><a href="#h44-0-326" id="h44-0-326" class="d">-				// Commas aren&#39;t escaped, and def is always last.
</a><a href="#h44-0-327" id="h44-0-327" class="d">-				p.Default += &quot;,&quot; + strings.Join(fields[i+1:], &quot;,&quot;)
</a><a href="#h44-0-328" id="h44-0-328" class="d">-				break
</a><a href="#h44-0-329" id="h44-0-329" class="d">-			}
</a><a href="#h44-0-330" id="h44-0-330" class="d">-		}
</a><a href="#h44-0-331" id="h44-0-331" class="d">-	}
</a><a href="#h44-0-332" id="h44-0-332" class="d">-}
</a><a href="#h44-0-333" id="h44-0-333" class="d">-
</a><a href="#h44-0-334" id="h44-0-334" class="d">-func logNoSliceEnc(t1, t2 reflect.Type) {
</a><a href="#h44-0-335" id="h44-0-335" class="d">-	fmt.Fprintf(os.Stderr, &quot;proto: no slice oenc for %T = []%T\n&quot;, t1, t2)
</a><a href="#h44-0-336" id="h44-0-336" class="d">-}
</a><a href="#h44-0-337" id="h44-0-337" class="d">-
</a><a href="#h44-0-338" id="h44-0-338" class="d">-var protoMessageType = reflect.TypeOf((*Message)(nil)).Elem()
</a><a href="#h44-0-339" id="h44-0-339" class="d">-
</a><a href="#h44-0-340" id="h44-0-340" class="d">-// Initialize the fields for encoding and decoding.
</a><a href="#h44-0-341" id="h44-0-341" class="d">-func (p *Properties) setEncAndDec(typ reflect.Type, f *reflect.StructField, lockGetProp bool) {
</a><a href="#h44-0-342" id="h44-0-342" class="d">-	p.enc = nil
</a><a href="#h44-0-343" id="h44-0-343" class="d">-	p.dec = nil
</a><a href="#h44-0-344" id="h44-0-344" class="d">-	p.size = nil
</a><a href="#h44-0-345" id="h44-0-345" class="d">-
</a><a href="#h44-0-346" id="h44-0-346" class="d">-	switch t1 := typ; t1.Kind() {
</a><a href="#h44-0-347" id="h44-0-347" class="d">-	default:
</a><a href="#h44-0-348" id="h44-0-348" class="d">-		fmt.Fprintf(os.Stderr, &quot;proto: no coders for %v\n&quot;, t1)
</a><a href="#h44-0-349" id="h44-0-349" class="d">-
</a><a href="#h44-0-350" id="h44-0-350" class="d">-	// proto3 scalar types
</a><a href="#h44-0-351" id="h44-0-351" class="d">-
</a><a href="#h44-0-352" id="h44-0-352" class="d">-	case reflect.Bool:
</a><a href="#h44-0-353" id="h44-0-353" class="d">-		p.enc = (*Buffer).enc_proto3_bool
</a><a href="#h44-0-354" id="h44-0-354" class="d">-		p.dec = (*Buffer).dec_proto3_bool
</a><a href="#h44-0-355" id="h44-0-355" class="d">-		p.size = size_proto3_bool
</a><a href="#h44-0-356" id="h44-0-356" class="d">-	case reflect.Int32:
</a><a href="#h44-0-357" id="h44-0-357" class="d">-		p.enc = (*Buffer).enc_proto3_int32
</a><a href="#h44-0-358" id="h44-0-358" class="d">-		p.dec = (*Buffer).dec_proto3_int32
</a><a href="#h44-0-359" id="h44-0-359" class="d">-		p.size = size_proto3_int32
</a><a href="#h44-0-360" id="h44-0-360" class="d">-	case reflect.Uint32:
</a><a href="#h44-0-361" id="h44-0-361" class="d">-		p.enc = (*Buffer).enc_proto3_uint32
</a><a href="#h44-0-362" id="h44-0-362" class="d">-		p.dec = (*Buffer).dec_proto3_int32 // can reuse
</a><a href="#h44-0-363" id="h44-0-363" class="d">-		p.size = size_proto3_uint32
</a><a href="#h44-0-364" id="h44-0-364" class="d">-	case reflect.Int64, reflect.Uint64:
</a><a href="#h44-0-365" id="h44-0-365" class="d">-		p.enc = (*Buffer).enc_proto3_int64
</a><a href="#h44-0-366" id="h44-0-366" class="d">-		p.dec = (*Buffer).dec_proto3_int64
</a><a href="#h44-0-367" id="h44-0-367" class="d">-		p.size = size_proto3_int64
</a><a href="#h44-0-368" id="h44-0-368" class="d">-	case reflect.Float32:
</a><a href="#h44-0-369" id="h44-0-369" class="d">-		p.enc = (*Buffer).enc_proto3_uint32 // can just treat them as bits
</a><a href="#h44-0-370" id="h44-0-370" class="d">-		p.dec = (*Buffer).dec_proto3_int32
</a><a href="#h44-0-371" id="h44-0-371" class="d">-		p.size = size_proto3_uint32
</a><a href="#h44-0-372" id="h44-0-372" class="d">-	case reflect.Float64:
</a><a href="#h44-0-373" id="h44-0-373" class="d">-		p.enc = (*Buffer).enc_proto3_int64 // can just treat them as bits
</a><a href="#h44-0-374" id="h44-0-374" class="d">-		p.dec = (*Buffer).dec_proto3_int64
</a><a href="#h44-0-375" id="h44-0-375" class="d">-		p.size = size_proto3_int64
</a><a href="#h44-0-376" id="h44-0-376" class="d">-	case reflect.String:
</a><a href="#h44-0-377" id="h44-0-377" class="d">-		p.enc = (*Buffer).enc_proto3_string
</a><a href="#h44-0-378" id="h44-0-378" class="d">-		p.dec = (*Buffer).dec_proto3_string
</a><a href="#h44-0-379" id="h44-0-379" class="d">-		p.size = size_proto3_string
</a><a href="#h44-0-380" id="h44-0-380" class="d">-
</a><a href="#h44-0-381" id="h44-0-381" class="d">-	case reflect.Ptr:
</a><a href="#h44-0-382" id="h44-0-382" class="d">-		switch t2 := t1.Elem(); t2.Kind() {
</a><a href="#h44-0-383" id="h44-0-383" class="d">-		default:
</a><a href="#h44-0-384" id="h44-0-384" class="d">-			fmt.Fprintf(os.Stderr, &quot;proto: no encoder function for %v -&gt; %v\n&quot;, t1, t2)
</a><a href="#h44-0-385" id="h44-0-385" class="d">-			break
</a><a href="#h44-0-386" id="h44-0-386" class="d">-		case reflect.Bool:
</a><a href="#h44-0-387" id="h44-0-387" class="d">-			p.enc = (*Buffer).enc_bool
</a><a href="#h44-0-388" id="h44-0-388" class="d">-			p.dec = (*Buffer).dec_bool
</a><a href="#h44-0-389" id="h44-0-389" class="d">-			p.size = size_bool
</a><a href="#h44-0-390" id="h44-0-390" class="d">-		case reflect.Int32:
</a><a href="#h44-0-391" id="h44-0-391" class="d">-			p.enc = (*Buffer).enc_int32
</a><a href="#h44-0-392" id="h44-0-392" class="d">-			p.dec = (*Buffer).dec_int32
</a><a href="#h44-0-393" id="h44-0-393" class="d">-			p.size = size_int32
</a><a href="#h44-0-394" id="h44-0-394" class="d">-		case reflect.Uint32:
</a><a href="#h44-0-395" id="h44-0-395" class="d">-			p.enc = (*Buffer).enc_uint32
</a><a href="#h44-0-396" id="h44-0-396" class="d">-			p.dec = (*Buffer).dec_int32 // can reuse
</a><a href="#h44-0-397" id="h44-0-397" class="d">-			p.size = size_uint32
</a><a href="#h44-0-398" id="h44-0-398" class="d">-		case reflect.Int64, reflect.Uint64:
</a><a href="#h44-0-399" id="h44-0-399" class="d">-			p.enc = (*Buffer).enc_int64
</a><a href="#h44-0-400" id="h44-0-400" class="d">-			p.dec = (*Buffer).dec_int64
</a><a href="#h44-0-401" id="h44-0-401" class="d">-			p.size = size_int64
</a><a href="#h44-0-402" id="h44-0-402" class="d">-		case reflect.Float32:
</a><a href="#h44-0-403" id="h44-0-403" class="d">-			p.enc = (*Buffer).enc_uint32 // can just treat them as bits
</a><a href="#h44-0-404" id="h44-0-404" class="d">-			p.dec = (*Buffer).dec_int32
</a><a href="#h44-0-405" id="h44-0-405" class="d">-			p.size = size_uint32
</a><a href="#h44-0-406" id="h44-0-406" class="d">-		case reflect.Float64:
</a><a href="#h44-0-407" id="h44-0-407" class="d">-			p.enc = (*Buffer).enc_int64 // can just treat them as bits
</a><a href="#h44-0-408" id="h44-0-408" class="d">-			p.dec = (*Buffer).dec_int64
</a><a href="#h44-0-409" id="h44-0-409" class="d">-			p.size = size_int64
</a><a href="#h44-0-410" id="h44-0-410" class="d">-		case reflect.String:
</a><a href="#h44-0-411" id="h44-0-411" class="d">-			p.enc = (*Buffer).enc_string
</a><a href="#h44-0-412" id="h44-0-412" class="d">-			p.dec = (*Buffer).dec_string
</a><a href="#h44-0-413" id="h44-0-413" class="d">-			p.size = size_string
</a><a href="#h44-0-414" id="h44-0-414" class="d">-		case reflect.Struct:
</a><a href="#h44-0-415" id="h44-0-415" class="d">-			p.stype = t1.Elem()
</a><a href="#h44-0-416" id="h44-0-416" class="d">-			p.isMarshaler = isMarshaler(t1)
</a><a href="#h44-0-417" id="h44-0-417" class="d">-			p.isUnmarshaler = isUnmarshaler(t1)
</a><a href="#h44-0-418" id="h44-0-418" class="d">-			if p.Wire == &quot;bytes&quot; {
</a><a href="#h44-0-419" id="h44-0-419" class="d">-				p.enc = (*Buffer).enc_struct_message
</a><a href="#h44-0-420" id="h44-0-420" class="d">-				p.dec = (*Buffer).dec_struct_message
</a><a href="#h44-0-421" id="h44-0-421" class="d">-				p.size = size_struct_message
</a><a href="#h44-0-422" id="h44-0-422" class="d">-			} else {
</a><a href="#h44-0-423" id="h44-0-423" class="d">-				p.enc = (*Buffer).enc_struct_group
</a><a href="#h44-0-424" id="h44-0-424" class="d">-				p.dec = (*Buffer).dec_struct_group
</a><a href="#h44-0-425" id="h44-0-425" class="d">-				p.size = size_struct_group
</a><a href="#h44-0-426" id="h44-0-426" class="d">-			}
</a><a href="#h44-0-427" id="h44-0-427" class="d">-		}
</a><a href="#h44-0-428" id="h44-0-428" class="d">-
</a><a href="#h44-0-429" id="h44-0-429" class="d">-	case reflect.Slice:
</a><a href="#h44-0-430" id="h44-0-430" class="d">-		switch t2 := t1.Elem(); t2.Kind() {
</a><a href="#h44-0-431" id="h44-0-431" class="d">-		default:
</a><a href="#h44-0-432" id="h44-0-432" class="d">-			logNoSliceEnc(t1, t2)
</a><a href="#h44-0-433" id="h44-0-433" class="d">-			break
</a><a href="#h44-0-434" id="h44-0-434" class="d">-		case reflect.Bool:
</a><a href="#h44-0-435" id="h44-0-435" class="d">-			if p.Packed {
</a><a href="#h44-0-436" id="h44-0-436" class="d">-				p.enc = (*Buffer).enc_slice_packed_bool
</a><a href="#h44-0-437" id="h44-0-437" class="d">-				p.size = size_slice_packed_bool
</a><a href="#h44-0-438" id="h44-0-438" class="d">-			} else {
</a><a href="#h44-0-439" id="h44-0-439" class="d">-				p.enc = (*Buffer).enc_slice_bool
</a><a href="#h44-0-440" id="h44-0-440" class="d">-				p.size = size_slice_bool
</a><a href="#h44-0-441" id="h44-0-441" class="d">-			}
</a><a href="#h44-0-442" id="h44-0-442" class="d">-			p.dec = (*Buffer).dec_slice_bool
</a><a href="#h44-0-443" id="h44-0-443" class="d">-			p.packedDec = (*Buffer).dec_slice_packed_bool
</a><a href="#h44-0-444" id="h44-0-444" class="d">-		case reflect.Int32:
</a><a href="#h44-0-445" id="h44-0-445" class="d">-			if p.Packed {
</a><a href="#h44-0-446" id="h44-0-446" class="d">-				p.enc = (*Buffer).enc_slice_packed_int32
</a><a href="#h44-0-447" id="h44-0-447" class="d">-				p.size = size_slice_packed_int32
</a><a href="#h44-0-448" id="h44-0-448" class="d">-			} else {
</a><a href="#h44-0-449" id="h44-0-449" class="d">-				p.enc = (*Buffer).enc_slice_int32
</a><a href="#h44-0-450" id="h44-0-450" class="d">-				p.size = size_slice_int32
</a><a href="#h44-0-451" id="h44-0-451" class="d">-			}
</a><a href="#h44-0-452" id="h44-0-452" class="d">-			p.dec = (*Buffer).dec_slice_int32
</a><a href="#h44-0-453" id="h44-0-453" class="d">-			p.packedDec = (*Buffer).dec_slice_packed_int32
</a><a href="#h44-0-454" id="h44-0-454" class="d">-		case reflect.Uint32:
</a><a href="#h44-0-455" id="h44-0-455" class="d">-			if p.Packed {
</a><a href="#h44-0-456" id="h44-0-456" class="d">-				p.enc = (*Buffer).enc_slice_packed_uint32
</a><a href="#h44-0-457" id="h44-0-457" class="d">-				p.size = size_slice_packed_uint32
</a><a href="#h44-0-458" id="h44-0-458" class="d">-			} else {
</a><a href="#h44-0-459" id="h44-0-459" class="d">-				p.enc = (*Buffer).enc_slice_uint32
</a><a href="#h44-0-460" id="h44-0-460" class="d">-				p.size = size_slice_uint32
</a><a href="#h44-0-461" id="h44-0-461" class="d">-			}
</a><a href="#h44-0-462" id="h44-0-462" class="d">-			p.dec = (*Buffer).dec_slice_int32
</a><a href="#h44-0-463" id="h44-0-463" class="d">-			p.packedDec = (*Buffer).dec_slice_packed_int32
</a><a href="#h44-0-464" id="h44-0-464" class="d">-		case reflect.Int64, reflect.Uint64:
</a><a href="#h44-0-465" id="h44-0-465" class="d">-			if p.Packed {
</a><a href="#h44-0-466" id="h44-0-466" class="d">-				p.enc = (*Buffer).enc_slice_packed_int64
</a><a href="#h44-0-467" id="h44-0-467" class="d">-				p.size = size_slice_packed_int64
</a><a href="#h44-0-468" id="h44-0-468" class="d">-			} else {
</a><a href="#h44-0-469" id="h44-0-469" class="d">-				p.enc = (*Buffer).enc_slice_int64
</a><a href="#h44-0-470" id="h44-0-470" class="d">-				p.size = size_slice_int64
</a><a href="#h44-0-471" id="h44-0-471" class="d">-			}
</a><a href="#h44-0-472" id="h44-0-472" class="d">-			p.dec = (*Buffer).dec_slice_int64
</a><a href="#h44-0-473" id="h44-0-473" class="d">-			p.packedDec = (*Buffer).dec_slice_packed_int64
</a><a href="#h44-0-474" id="h44-0-474" class="d">-		case reflect.Uint8:
</a><a href="#h44-0-475" id="h44-0-475" class="d">-			p.dec = (*Buffer).dec_slice_byte
</a><a href="#h44-0-476" id="h44-0-476" class="d">-			if p.proto3 {
</a><a href="#h44-0-477" id="h44-0-477" class="d">-				p.enc = (*Buffer).enc_proto3_slice_byte
</a><a href="#h44-0-478" id="h44-0-478" class="d">-				p.size = size_proto3_slice_byte
</a><a href="#h44-0-479" id="h44-0-479" class="d">-			} else {
</a><a href="#h44-0-480" id="h44-0-480" class="d">-				p.enc = (*Buffer).enc_slice_byte
</a><a href="#h44-0-481" id="h44-0-481" class="d">-				p.size = size_slice_byte
</a><a href="#h44-0-482" id="h44-0-482" class="d">-			}
</a><a href="#h44-0-483" id="h44-0-483" class="d">-		case reflect.Float32, reflect.Float64:
</a><a href="#h44-0-484" id="h44-0-484" class="d">-			switch t2.Bits() {
</a><a href="#h44-0-485" id="h44-0-485" class="d">-			case 32:
</a><a href="#h44-0-486" id="h44-0-486" class="d">-				// can just treat them as bits
</a><a href="#h44-0-487" id="h44-0-487" class="d">-				if p.Packed {
</a><a href="#h44-0-488" id="h44-0-488" class="d">-					p.enc = (*Buffer).enc_slice_packed_uint32
</a><a href="#h44-0-489" id="h44-0-489" class="d">-					p.size = size_slice_packed_uint32
</a><a href="#h44-0-490" id="h44-0-490" class="d">-				} else {
</a><a href="#h44-0-491" id="h44-0-491" class="d">-					p.enc = (*Buffer).enc_slice_uint32
</a><a href="#h44-0-492" id="h44-0-492" class="d">-					p.size = size_slice_uint32
</a><a href="#h44-0-493" id="h44-0-493" class="d">-				}
</a><a href="#h44-0-494" id="h44-0-494" class="d">-				p.dec = (*Buffer).dec_slice_int32
</a><a href="#h44-0-495" id="h44-0-495" class="d">-				p.packedDec = (*Buffer).dec_slice_packed_int32
</a><a href="#h44-0-496" id="h44-0-496" class="d">-			case 64:
</a><a href="#h44-0-497" id="h44-0-497" class="d">-				// can just treat them as bits
</a><a href="#h44-0-498" id="h44-0-498" class="d">-				if p.Packed {
</a><a href="#h44-0-499" id="h44-0-499" class="d">-					p.enc = (*Buffer).enc_slice_packed_int64
</a><a href="#h44-0-500" id="h44-0-500" class="d">-					p.size = size_slice_packed_int64
</a><a href="#h44-0-501" id="h44-0-501" class="d">-				} else {
</a><a href="#h44-0-502" id="h44-0-502" class="d">-					p.enc = (*Buffer).enc_slice_int64
</a><a href="#h44-0-503" id="h44-0-503" class="d">-					p.size = size_slice_int64
</a><a href="#h44-0-504" id="h44-0-504" class="d">-				}
</a><a href="#h44-0-505" id="h44-0-505" class="d">-				p.dec = (*Buffer).dec_slice_int64
</a><a href="#h44-0-506" id="h44-0-506" class="d">-				p.packedDec = (*Buffer).dec_slice_packed_int64
</a><a href="#h44-0-507" id="h44-0-507" class="d">-			default:
</a><a href="#h44-0-508" id="h44-0-508" class="d">-				logNoSliceEnc(t1, t2)
</a><a href="#h44-0-509" id="h44-0-509" class="d">-				break
</a><a href="#h44-0-510" id="h44-0-510" class="d">-			}
</a><a href="#h44-0-511" id="h44-0-511" class="d">-		case reflect.String:
</a><a href="#h44-0-512" id="h44-0-512" class="d">-			p.enc = (*Buffer).enc_slice_string
</a><a href="#h44-0-513" id="h44-0-513" class="d">-			p.dec = (*Buffer).dec_slice_string
</a><a href="#h44-0-514" id="h44-0-514" class="d">-			p.size = size_slice_string
</a><a href="#h44-0-515" id="h44-0-515" class="d">-		case reflect.Ptr:
</a><a href="#h44-0-516" id="h44-0-516" class="d">-			switch t3 := t2.Elem(); t3.Kind() {
</a><a href="#h44-0-517" id="h44-0-517" class="d">-			default:
</a><a href="#h44-0-518" id="h44-0-518" class="d">-				fmt.Fprintf(os.Stderr, &quot;proto: no ptr oenc for %T -&gt; %T -&gt; %T\n&quot;, t1, t2, t3)
</a><a href="#h44-0-519" id="h44-0-519" class="d">-				break
</a><a href="#h44-0-520" id="h44-0-520" class="d">-			case reflect.Struct:
</a><a href="#h44-0-521" id="h44-0-521" class="d">-				p.stype = t2.Elem()
</a><a href="#h44-0-522" id="h44-0-522" class="d">-				p.isMarshaler = isMarshaler(t2)
</a><a href="#h44-0-523" id="h44-0-523" class="d">-				p.isUnmarshaler = isUnmarshaler(t2)
</a><a href="#h44-0-524" id="h44-0-524" class="d">-				if p.Wire == &quot;bytes&quot; {
</a><a href="#h44-0-525" id="h44-0-525" class="d">-					p.enc = (*Buffer).enc_slice_struct_message
</a><a href="#h44-0-526" id="h44-0-526" class="d">-					p.dec = (*Buffer).dec_slice_struct_message
</a><a href="#h44-0-527" id="h44-0-527" class="d">-					p.size = size_slice_struct_message
</a><a href="#h44-0-528" id="h44-0-528" class="d">-				} else {
</a><a href="#h44-0-529" id="h44-0-529" class="d">-					p.enc = (*Buffer).enc_slice_struct_group
</a><a href="#h44-0-530" id="h44-0-530" class="d">-					p.dec = (*Buffer).dec_slice_struct_group
</a><a href="#h44-0-531" id="h44-0-531" class="d">-					p.size = size_slice_struct_group
</a><a href="#h44-0-532" id="h44-0-532" class="d">-				}
</a><a href="#h44-0-533" id="h44-0-533" class="d">-			}
</a><a href="#h44-0-534" id="h44-0-534" class="d">-		case reflect.Slice:
</a><a href="#h44-0-535" id="h44-0-535" class="d">-			switch t2.Elem().Kind() {
</a><a href="#h44-0-536" id="h44-0-536" class="d">-			default:
</a><a href="#h44-0-537" id="h44-0-537" class="d">-				fmt.Fprintf(os.Stderr, &quot;proto: no slice elem oenc for %T -&gt; %T -&gt; %T\n&quot;, t1, t2, t2.Elem())
</a><a href="#h44-0-538" id="h44-0-538" class="d">-				break
</a><a href="#h44-0-539" id="h44-0-539" class="d">-			case reflect.Uint8:
</a><a href="#h44-0-540" id="h44-0-540" class="d">-				p.enc = (*Buffer).enc_slice_slice_byte
</a><a href="#h44-0-541" id="h44-0-541" class="d">-				p.dec = (*Buffer).dec_slice_slice_byte
</a><a href="#h44-0-542" id="h44-0-542" class="d">-				p.size = size_slice_slice_byte
</a><a href="#h44-0-543" id="h44-0-543" class="d">-			}
</a><a href="#h44-0-544" id="h44-0-544" class="d">-		}
</a><a href="#h44-0-545" id="h44-0-545" class="d">-
</a><a href="#h44-0-546" id="h44-0-546" class="d">-	case reflect.Map:
</a><a href="#h44-0-547" id="h44-0-547" class="d">-		p.enc = (*Buffer).enc_new_map
</a><a href="#h44-0-548" id="h44-0-548" class="d">-		p.dec = (*Buffer).dec_new_map
</a><a href="#h44-0-549" id="h44-0-549" class="d">-		p.size = size_new_map
</a><a href="#h44-0-550" id="h44-0-550" class="d">-
</a><a href="#h44-0-551" id="h44-0-551" class="d">-		p.mtype = t1
</a><a href="#h44-0-552" id="h44-0-552" class="d">-		p.mkeyprop = &amp;Properties{}
</a><a href="#h44-0-553" id="h44-0-553" class="d">-		p.mkeyprop.init(reflect.PtrTo(p.mtype.Key()), &quot;Key&quot;, f.Tag.Get(&quot;protobuf_key&quot;), nil, lockGetProp)
</a><a href="#h44-0-554" id="h44-0-554" class="d">-		p.mvalprop = &amp;Properties{}
</a><a href="#h44-0-555" id="h44-0-555" class="d">-		vtype := p.mtype.Elem()
</a><a href="#h44-0-556" id="h44-0-556" class="d">-		if vtype.Kind() != reflect.Ptr &amp;&amp; vtype.Kind() != reflect.Slice {
</a><a href="#h44-0-557" id="h44-0-557" class="d">-			// The value type is not a message (*T) or bytes ([]byte),
</a><a href="#h44-0-558" id="h44-0-558" class="d">-			// so we need encoders for the pointer to this type.
</a><a href="#h44-0-559" id="h44-0-559" class="d">-			vtype = reflect.PtrTo(vtype)
</a><a href="#h44-0-560" id="h44-0-560" class="d">-		}
</a><a href="#h44-0-561" id="h44-0-561" class="d">-		p.mvalprop.init(vtype, &quot;Value&quot;, f.Tag.Get(&quot;protobuf_val&quot;), nil, lockGetProp)
</a><a href="#h44-0-562" id="h44-0-562" class="d">-	}
</a><a href="#h44-0-563" id="h44-0-563" class="d">-
</a><a href="#h44-0-564" id="h44-0-564" class="d">-	// precalculate tag code
</a><a href="#h44-0-565" id="h44-0-565" class="d">-	wire := p.WireType
</a><a href="#h44-0-566" id="h44-0-566" class="d">-	if p.Packed {
</a><a href="#h44-0-567" id="h44-0-567" class="d">-		wire = WireBytes
</a><a href="#h44-0-568" id="h44-0-568" class="d">-	}
</a><a href="#h44-0-569" id="h44-0-569" class="d">-	x := uint32(p.Tag)&lt;&lt;3 | uint32(wire)
</a><a href="#h44-0-570" id="h44-0-570" class="d">-	i := 0
</a><a href="#h44-0-571" id="h44-0-571" class="d">-	for i = 0; x &gt; 127; i++ {
</a><a href="#h44-0-572" id="h44-0-572" class="d">-		p.tagbuf[i] = 0x80 | uint8(x&amp;0x7F)
</a><a href="#h44-0-573" id="h44-0-573" class="d">-		x &gt;&gt;= 7
</a><a href="#h44-0-574" id="h44-0-574" class="d">-	}
</a><a href="#h44-0-575" id="h44-0-575" class="d">-	p.tagbuf[i] = uint8(x)
</a><a href="#h44-0-576" id="h44-0-576" class="d">-	p.tagcode = p.tagbuf[0 : i+1]
</a><a href="#h44-0-577" id="h44-0-577" class="d">-
</a><a href="#h44-0-578" id="h44-0-578" class="d">-	if p.stype != nil {
</a><a href="#h44-0-579" id="h44-0-579" class="d">-		if lockGetProp {
</a><a href="#h44-0-580" id="h44-0-580" class="d">-			p.sprop = GetProperties(p.stype)
</a><a href="#h44-0-581" id="h44-0-581" class="d">-		} else {
</a><a href="#h44-0-582" id="h44-0-582" class="d">-			p.sprop = getPropertiesLocked(p.stype)
</a><a href="#h44-0-583" id="h44-0-583" class="d">-		}
</a><a href="#h44-0-584" id="h44-0-584" class="d">-	}
</a><a href="#h44-0-585" id="h44-0-585" class="d">-}
</a><a href="#h44-0-586" id="h44-0-586" class="d">-
</a><a href="#h44-0-587" id="h44-0-587" class="d">-var (
</a><a href="#h44-0-588" id="h44-0-588" class="d">-	marshalerType   = reflect.TypeOf((*Marshaler)(nil)).Elem()
</a><a href="#h44-0-589" id="h44-0-589" class="d">-	unmarshalerType = reflect.TypeOf((*Unmarshaler)(nil)).Elem()
</a><a href="#h44-0-590" id="h44-0-590" class="d">-)
</a><a href="#h44-0-591" id="h44-0-591" class="d">-
</a><a href="#h44-0-592" id="h44-0-592" class="d">-// isMarshaler reports whether type t implements Marshaler.
</a><a href="#h44-0-593" id="h44-0-593" class="d">-func isMarshaler(t reflect.Type) bool {
</a><a href="#h44-0-594" id="h44-0-594" class="d">-	// We&#39;re checking for (likely) pointer-receiver methods
</a><a href="#h44-0-595" id="h44-0-595" class="d">-	// so if t is not a pointer, something is very wrong.
</a><a href="#h44-0-596" id="h44-0-596" class="d">-	// The calls above only invoke isMarshaler on pointer types.
</a><a href="#h44-0-597" id="h44-0-597" class="d">-	if t.Kind() != reflect.Ptr {
</a><a href="#h44-0-598" id="h44-0-598" class="d">-		panic(&quot;proto: misuse of isMarshaler&quot;)
</a><a href="#h44-0-599" id="h44-0-599" class="d">-	}
</a><a href="#h44-0-600" id="h44-0-600" class="d">-	return t.Implements(marshalerType)
</a><a href="#h44-0-601" id="h44-0-601" class="d">-}
</a><a href="#h44-0-602" id="h44-0-602" class="d">-
</a><a href="#h44-0-603" id="h44-0-603" class="d">-// isUnmarshaler reports whether type t implements Unmarshaler.
</a><a href="#h44-0-604" id="h44-0-604" class="d">-func isUnmarshaler(t reflect.Type) bool {
</a><a href="#h44-0-605" id="h44-0-605" class="d">-	// We&#39;re checking for (likely) pointer-receiver methods
</a><a href="#h44-0-606" id="h44-0-606" class="d">-	// so if t is not a pointer, something is very wrong.
</a><a href="#h44-0-607" id="h44-0-607" class="d">-	// The calls above only invoke isUnmarshaler on pointer types.
</a><a href="#h44-0-608" id="h44-0-608" class="d">-	if t.Kind() != reflect.Ptr {
</a><a href="#h44-0-609" id="h44-0-609" class="d">-		panic(&quot;proto: misuse of isUnmarshaler&quot;)
</a><a href="#h44-0-610" id="h44-0-610" class="d">-	}
</a><a href="#h44-0-611" id="h44-0-611" class="d">-	return t.Implements(unmarshalerType)
</a><a href="#h44-0-612" id="h44-0-612" class="d">-}
</a><a href="#h44-0-613" id="h44-0-613" class="d">-
</a><a href="#h44-0-614" id="h44-0-614" class="d">-// Init populates the properties from a protocol buffer struct tag.
</a><a href="#h44-0-615" id="h44-0-615" class="d">-func (p *Properties) Init(typ reflect.Type, name, tag string, f *reflect.StructField) {
</a><a href="#h44-0-616" id="h44-0-616" class="d">-	p.init(typ, name, tag, f, true)
</a><a href="#h44-0-617" id="h44-0-617" class="d">-}
</a><a href="#h44-0-618" id="h44-0-618" class="d">-
</a><a href="#h44-0-619" id="h44-0-619" class="d">-func (p *Properties) init(typ reflect.Type, name, tag string, f *reflect.StructField, lockGetProp bool) {
</a><a href="#h44-0-620" id="h44-0-620" class="d">-	// &quot;bytes,49,opt,def=hello!&quot;
</a><a href="#h44-0-621" id="h44-0-621" class="d">-	p.Name = name
</a><a href="#h44-0-622" id="h44-0-622" class="d">-	p.OrigName = name
</a><a href="#h44-0-623" id="h44-0-623" class="d">-	if f != nil {
</a><a href="#h44-0-624" id="h44-0-624" class="d">-		p.field = toField(f)
</a><a href="#h44-0-625" id="h44-0-625" class="d">-	}
</a><a href="#h44-0-626" id="h44-0-626" class="d">-	if tag == &quot;&quot; {
</a><a href="#h44-0-627" id="h44-0-627" class="d">-		return
</a><a href="#h44-0-628" id="h44-0-628" class="d">-	}
</a><a href="#h44-0-629" id="h44-0-629" class="d">-	p.Parse(tag)
</a><a href="#h44-0-630" id="h44-0-630" class="d">-	p.setEncAndDec(typ, f, lockGetProp)
</a><a href="#h44-0-631" id="h44-0-631" class="d">-}
</a><a href="#h44-0-632" id="h44-0-632" class="d">-
</a><a href="#h44-0-633" id="h44-0-633" class="d">-var (
</a><a href="#h44-0-634" id="h44-0-634" class="d">-	propertiesMu  sync.RWMutex
</a><a href="#h44-0-635" id="h44-0-635" class="d">-	propertiesMap = make(map[reflect.Type]*StructProperties)
</a><a href="#h44-0-636" id="h44-0-636" class="d">-)
</a><a href="#h44-0-637" id="h44-0-637" class="d">-
</a><a href="#h44-0-638" id="h44-0-638" class="d">-// GetProperties returns the list of properties for the type represented by t.
</a><a href="#h44-0-639" id="h44-0-639" class="d">-// t must represent a generated struct type of a protocol message.
</a><a href="#h44-0-640" id="h44-0-640" class="d">-func GetProperties(t reflect.Type) *StructProperties {
</a><a href="#h44-0-641" id="h44-0-641" class="d">-	if t.Kind() != reflect.Struct {
</a><a href="#h44-0-642" id="h44-0-642" class="d">-		panic(&quot;proto: type must have kind struct&quot;)
</a><a href="#h44-0-643" id="h44-0-643" class="d">-	}
</a><a href="#h44-0-644" id="h44-0-644" class="d">-
</a><a href="#h44-0-645" id="h44-0-645" class="d">-	// Most calls to GetProperties in a long-running program will be
</a><a href="#h44-0-646" id="h44-0-646" class="d">-	// retrieving details for types we have seen before.
</a><a href="#h44-0-647" id="h44-0-647" class="d">-	propertiesMu.RLock()
</a><a href="#h44-0-648" id="h44-0-648" class="d">-	sprop, ok := propertiesMap[t]
</a><a href="#h44-0-649" id="h44-0-649" class="d">-	propertiesMu.RUnlock()
</a><a href="#h44-0-650" id="h44-0-650" class="d">-	if ok {
</a><a href="#h44-0-651" id="h44-0-651" class="d">-		if collectStats {
</a><a href="#h44-0-652" id="h44-0-652" class="d">-			stats.Chit++
</a><a href="#h44-0-653" id="h44-0-653" class="d">-		}
</a><a href="#h44-0-654" id="h44-0-654" class="d">-		return sprop
</a><a href="#h44-0-655" id="h44-0-655" class="d">-	}
</a><a href="#h44-0-656" id="h44-0-656" class="d">-
</a><a href="#h44-0-657" id="h44-0-657" class="d">-	propertiesMu.Lock()
</a><a href="#h44-0-658" id="h44-0-658" class="d">-	sprop = getPropertiesLocked(t)
</a><a href="#h44-0-659" id="h44-0-659" class="d">-	propertiesMu.Unlock()
</a><a href="#h44-0-660" id="h44-0-660" class="d">-	return sprop
</a><a href="#h44-0-661" id="h44-0-661" class="d">-}
</a><a href="#h44-0-662" id="h44-0-662" class="d">-
</a><a href="#h44-0-663" id="h44-0-663" class="d">-// getPropertiesLocked requires that propertiesMu is held.
</a><a href="#h44-0-664" id="h44-0-664" class="d">-func getPropertiesLocked(t reflect.Type) *StructProperties {
</a><a href="#h44-0-665" id="h44-0-665" class="d">-	if prop, ok := propertiesMap[t]; ok {
</a><a href="#h44-0-666" id="h44-0-666" class="d">-		if collectStats {
</a><a href="#h44-0-667" id="h44-0-667" class="d">-			stats.Chit++
</a><a href="#h44-0-668" id="h44-0-668" class="d">-		}
</a><a href="#h44-0-669" id="h44-0-669" class="d">-		return prop
</a><a href="#h44-0-670" id="h44-0-670" class="d">-	}
</a><a href="#h44-0-671" id="h44-0-671" class="d">-	if collectStats {
</a><a href="#h44-0-672" id="h44-0-672" class="d">-		stats.Cmiss++
</a><a href="#h44-0-673" id="h44-0-673" class="d">-	}
</a><a href="#h44-0-674" id="h44-0-674" class="d">-
</a><a href="#h44-0-675" id="h44-0-675" class="d">-	prop := new(StructProperties)
</a><a href="#h44-0-676" id="h44-0-676" class="d">-	// in case of recursive protos, fill this in now.
</a><a href="#h44-0-677" id="h44-0-677" class="d">-	propertiesMap[t] = prop
</a><a href="#h44-0-678" id="h44-0-678" class="d">-
</a><a href="#h44-0-679" id="h44-0-679" class="d">-	// build properties
</a><a href="#h44-0-680" id="h44-0-680" class="d">-	prop.extendable = reflect.PtrTo(t).Implements(extendableProtoType) ||
</a><a href="#h44-0-681" id="h44-0-681" class="d">-		reflect.PtrTo(t).Implements(extendableProtoV1Type)
</a><a href="#h44-0-682" id="h44-0-682" class="d">-	prop.unrecField = invalidField
</a><a href="#h44-0-683" id="h44-0-683" class="d">-	prop.Prop = make([]*Properties, t.NumField())
</a><a href="#h44-0-684" id="h44-0-684" class="d">-	prop.order = make([]int, t.NumField())
</a><a href="#h44-0-685" id="h44-0-685" class="d">-
</a><a href="#h44-0-686" id="h44-0-686" class="d">-	for i := 0; i &lt; t.NumField(); i++ {
</a><a href="#h44-0-687" id="h44-0-687" class="d">-		f := t.Field(i)
</a><a href="#h44-0-688" id="h44-0-688" class="d">-		p := new(Properties)
</a><a href="#h44-0-689" id="h44-0-689" class="d">-		name := f.Name
</a><a href="#h44-0-690" id="h44-0-690" class="d">-		p.init(f.Type, name, f.Tag.Get(&quot;protobuf&quot;), &amp;f, false)
</a><a href="#h44-0-691" id="h44-0-691" class="d">-
</a><a href="#h44-0-692" id="h44-0-692" class="d">-		if f.Name == &quot;XXX_InternalExtensions&quot; { // special case
</a><a href="#h44-0-693" id="h44-0-693" class="d">-			p.enc = (*Buffer).enc_exts
</a><a href="#h44-0-694" id="h44-0-694" class="d">-			p.dec = nil // not needed
</a><a href="#h44-0-695" id="h44-0-695" class="d">-			p.size = size_exts
</a><a href="#h44-0-696" id="h44-0-696" class="d">-		} else if f.Name == &quot;XXX_extensions&quot; { // special case
</a><a href="#h44-0-697" id="h44-0-697" class="d">-			p.enc = (*Buffer).enc_map
</a><a href="#h44-0-698" id="h44-0-698" class="d">-			p.dec = nil // not needed
</a><a href="#h44-0-699" id="h44-0-699" class="d">-			p.size = size_map
</a><a href="#h44-0-700" id="h44-0-700" class="d">-		} else if f.Name == &quot;XXX_unrecognized&quot; { // special case
</a><a href="#h44-0-701" id="h44-0-701" class="d">-			prop.unrecField = toField(&amp;f)
</a><a href="#h44-0-702" id="h44-0-702" class="d">-		}
</a><a href="#h44-0-703" id="h44-0-703" class="d">-		oneof := f.Tag.Get(&quot;protobuf_oneof&quot;) // special case
</a><a href="#h44-0-704" id="h44-0-704" class="d">-		if oneof != &quot;&quot; {
</a><a href="#h44-0-705" id="h44-0-705" class="d">-			// Oneof fields don&#39;t use the traditional protobuf tag.
</a><a href="#h44-0-706" id="h44-0-706" class="d">-			p.OrigName = oneof
</a><a href="#h44-0-707" id="h44-0-707" class="d">-		}
</a><a href="#h44-0-708" id="h44-0-708" class="d">-		prop.Prop[i] = p
</a><a href="#h44-0-709" id="h44-0-709" class="d">-		prop.order[i] = i
</a><a href="#h44-0-710" id="h44-0-710" class="d">-		if debug {
</a><a href="#h44-0-711" id="h44-0-711" class="d">-			print(i, &quot; &quot;, f.Name, &quot; &quot;, t.String(), &quot; &quot;)
</a><a href="#h44-0-712" id="h44-0-712" class="d">-			if p.Tag &gt; 0 {
</a><a href="#h44-0-713" id="h44-0-713" class="d">-				print(p.String())
</a><a href="#h44-0-714" id="h44-0-714" class="d">-			}
</a><a href="#h44-0-715" id="h44-0-715" class="d">-			print(&quot;\n&quot;)
</a><a href="#h44-0-716" id="h44-0-716" class="d">-		}
</a><a href="#h44-0-717" id="h44-0-717" class="d">-		if p.enc == nil &amp;&amp; !strings.HasPrefix(f.Name, &quot;XXX_&quot;) &amp;&amp; oneof == &quot;&quot; {
</a><a href="#h44-0-718" id="h44-0-718" class="d">-			fmt.Fprintln(os.Stderr, &quot;proto: no encoder for&quot;, f.Name, f.Type.String(), &quot;[GetProperties]&quot;)
</a><a href="#h44-0-719" id="h44-0-719" class="d">-		}
</a><a href="#h44-0-720" id="h44-0-720" class="d">-	}
</a><a href="#h44-0-721" id="h44-0-721" class="d">-
</a><a href="#h44-0-722" id="h44-0-722" class="d">-	// Re-order prop.order.
</a><a href="#h44-0-723" id="h44-0-723" class="d">-	sort.Sort(prop)
</a><a href="#h44-0-724" id="h44-0-724" class="d">-
</a><a href="#h44-0-725" id="h44-0-725" class="d">-	type oneofMessage interface {
</a><a href="#h44-0-726" id="h44-0-726" class="d">-		XXX_OneofFuncs() (func(Message, *Buffer) error, func(Message, int, int, *Buffer) (bool, error), func(Message) int, []interface{})
</a><a href="#h44-0-727" id="h44-0-727" class="d">-	}
</a><a href="#h44-0-728" id="h44-0-728" class="d">-	if om, ok := reflect.Zero(reflect.PtrTo(t)).Interface().(oneofMessage); ok {
</a><a href="#h44-0-729" id="h44-0-729" class="d">-		var oots []interface{}
</a><a href="#h44-0-730" id="h44-0-730" class="d">-		prop.oneofMarshaler, prop.oneofUnmarshaler, prop.oneofSizer, oots = om.XXX_OneofFuncs()
</a><a href="#h44-0-731" id="h44-0-731" class="d">-		prop.stype = t
</a><a href="#h44-0-732" id="h44-0-732" class="d">-
</a><a href="#h44-0-733" id="h44-0-733" class="d">-		// Interpret oneof metadata.
</a><a href="#h44-0-734" id="h44-0-734" class="d">-		prop.OneofTypes = make(map[string]*OneofProperties)
</a><a href="#h44-0-735" id="h44-0-735" class="d">-		for _, oot := range oots {
</a><a href="#h44-0-736" id="h44-0-736" class="d">-			oop := &amp;OneofProperties{
</a><a href="#h44-0-737" id="h44-0-737" class="d">-				Type: reflect.ValueOf(oot).Type(), // *T
</a><a href="#h44-0-738" id="h44-0-738" class="d">-				Prop: new(Properties),
</a><a href="#h44-0-739" id="h44-0-739" class="d">-			}
</a><a href="#h44-0-740" id="h44-0-740" class="d">-			sft := oop.Type.Elem().Field(0)
</a><a href="#h44-0-741" id="h44-0-741" class="d">-			oop.Prop.Name = sft.Name
</a><a href="#h44-0-742" id="h44-0-742" class="d">-			oop.Prop.Parse(sft.Tag.Get(&quot;protobuf&quot;))
</a><a href="#h44-0-743" id="h44-0-743" class="d">-			// There will be exactly one interface field that
</a><a href="#h44-0-744" id="h44-0-744" class="d">-			// this new value is assignable to.
</a><a href="#h44-0-745" id="h44-0-745" class="d">-			for i := 0; i &lt; t.NumField(); i++ {
</a><a href="#h44-0-746" id="h44-0-746" class="d">-				f := t.Field(i)
</a><a href="#h44-0-747" id="h44-0-747" class="d">-				if f.Type.Kind() != reflect.Interface {
</a><a href="#h44-0-748" id="h44-0-748" class="d">-					continue
</a><a href="#h44-0-749" id="h44-0-749" class="d">-				}
</a><a href="#h44-0-750" id="h44-0-750" class="d">-				if !oop.Type.AssignableTo(f.Type) {
</a><a href="#h44-0-751" id="h44-0-751" class="d">-					continue
</a><a href="#h44-0-752" id="h44-0-752" class="d">-				}
</a><a href="#h44-0-753" id="h44-0-753" class="d">-				oop.Field = i
</a><a href="#h44-0-754" id="h44-0-754" class="d">-				break
</a><a href="#h44-0-755" id="h44-0-755" class="d">-			}
</a><a href="#h44-0-756" id="h44-0-756" class="d">-			prop.OneofTypes[oop.Prop.OrigName] = oop
</a><a href="#h44-0-757" id="h44-0-757" class="d">-		}
</a><a href="#h44-0-758" id="h44-0-758" class="d">-	}
</a><a href="#h44-0-759" id="h44-0-759" class="d">-
</a><a href="#h44-0-760" id="h44-0-760" class="d">-	// build required counts
</a><a href="#h44-0-761" id="h44-0-761" class="d">-	// build tags
</a><a href="#h44-0-762" id="h44-0-762" class="d">-	reqCount := 0
</a><a href="#h44-0-763" id="h44-0-763" class="d">-	prop.decoderOrigNames = make(map[string]int)
</a><a href="#h44-0-764" id="h44-0-764" class="d">-	for i, p := range prop.Prop {
</a><a href="#h44-0-765" id="h44-0-765" class="d">-		if strings.HasPrefix(p.Name, &quot;XXX_&quot;) {
</a><a href="#h44-0-766" id="h44-0-766" class="d">-			// Internal fields should not appear in tags/origNames maps.
</a><a href="#h44-0-767" id="h44-0-767" class="d">-			// They are handled specially when encoding and decoding.
</a><a href="#h44-0-768" id="h44-0-768" class="d">-			continue
</a><a href="#h44-0-769" id="h44-0-769" class="d">-		}
</a><a href="#h44-0-770" id="h44-0-770" class="d">-		if p.Required {
</a><a href="#h44-0-771" id="h44-0-771" class="d">-			reqCount++
</a><a href="#h44-0-772" id="h44-0-772" class="d">-		}
</a><a href="#h44-0-773" id="h44-0-773" class="d">-		prop.decoderTags.put(p.Tag, i)
</a><a href="#h44-0-774" id="h44-0-774" class="d">-		prop.decoderOrigNames[p.OrigName] = i
</a><a href="#h44-0-775" id="h44-0-775" class="d">-	}
</a><a href="#h44-0-776" id="h44-0-776" class="d">-	prop.reqCount = reqCount
</a><a href="#h44-0-777" id="h44-0-777" class="d">-
</a><a href="#h44-0-778" id="h44-0-778" class="d">-	return prop
</a><a href="#h44-0-779" id="h44-0-779" class="d">-}
</a><a href="#h44-0-780" id="h44-0-780" class="d">-
</a><a href="#h44-0-781" id="h44-0-781" class="d">-// Return the Properties object for the x[0]&#39;th field of the structure.
</a><a href="#h44-0-782" id="h44-0-782" class="d">-func propByIndex(t reflect.Type, x []int) *Properties {
</a><a href="#h44-0-783" id="h44-0-783" class="d">-	if len(x) != 1 {
</a><a href="#h44-0-784" id="h44-0-784" class="d">-		fmt.Fprintf(os.Stderr, &quot;proto: field index dimension %d (not 1) for type %s\n&quot;, len(x), t)
</a><a href="#h44-0-785" id="h44-0-785" class="d">-		return nil
</a><a href="#h44-0-786" id="h44-0-786" class="d">-	}
</a><a href="#h44-0-787" id="h44-0-787" class="d">-	prop := GetProperties(t)
</a><a href="#h44-0-788" id="h44-0-788" class="d">-	return prop.Prop[x[0]]
</a><a href="#h44-0-789" id="h44-0-789" class="d">-}
</a><a href="#h44-0-790" id="h44-0-790" class="d">-
</a><a href="#h44-0-791" id="h44-0-791" class="d">-// Get the address and type of a pointer to a struct from an interface.
</a><a href="#h44-0-792" id="h44-0-792" class="d">-func getbase(pb Message) (t reflect.Type, b structPointer, err error) {
</a><a href="#h44-0-793" id="h44-0-793" class="d">-	if pb == nil {
</a><a href="#h44-0-794" id="h44-0-794" class="d">-		err = ErrNil
</a><a href="#h44-0-795" id="h44-0-795" class="d">-		return
</a><a href="#h44-0-796" id="h44-0-796" class="d">-	}
</a><a href="#h44-0-797" id="h44-0-797" class="d">-	// get the reflect type of the pointer to the struct.
</a><a href="#h44-0-798" id="h44-0-798" class="d">-	t = reflect.TypeOf(pb)
</a><a href="#h44-0-799" id="h44-0-799" class="d">-	// get the address of the struct.
</a><a href="#h44-0-800" id="h44-0-800" class="d">-	value := reflect.ValueOf(pb)
</a><a href="#h44-0-801" id="h44-0-801" class="d">-	b = toStructPointer(value)
</a><a href="#h44-0-802" id="h44-0-802" class="d">-	return
</a><a href="#h44-0-803" id="h44-0-803" class="d">-}
</a><a href="#h44-0-804" id="h44-0-804" class="d">-
</a><a href="#h44-0-805" id="h44-0-805" class="d">-// A global registry of enum types.
</a><a href="#h44-0-806" id="h44-0-806" class="d">-// The generated code will register the generated maps by calling RegisterEnum.
</a><a href="#h44-0-807" id="h44-0-807" class="d">-
</a><a href="#h44-0-808" id="h44-0-808" class="d">-var enumValueMaps = make(map[string]map[string]int32)
</a><a href="#h44-0-809" id="h44-0-809" class="d">-
</a><a href="#h44-0-810" id="h44-0-810" class="d">-// RegisterEnum is called from the generated code to install the enum descriptor
</a><a href="#h44-0-811" id="h44-0-811" class="d">-// maps into the global table to aid parsing text format protocol buffers.
</a><a href="#h44-0-812" id="h44-0-812" class="d">-func RegisterEnum(typeName string, unusedNameMap map[int32]string, valueMap map[string]int32) {
</a><a href="#h44-0-813" id="h44-0-813" class="d">-	if _, ok := enumValueMaps[typeName]; ok {
</a><a href="#h44-0-814" id="h44-0-814" class="d">-		panic(&quot;proto: duplicate enum registered: &quot; + typeName)
</a><a href="#h44-0-815" id="h44-0-815" class="d">-	}
</a><a href="#h44-0-816" id="h44-0-816" class="d">-	enumValueMaps[typeName] = valueMap
</a><a href="#h44-0-817" id="h44-0-817" class="d">-}
</a><a href="#h44-0-818" id="h44-0-818" class="d">-
</a><a href="#h44-0-819" id="h44-0-819" class="d">-// EnumValueMap returns the mapping from names to integers of the
</a><a href="#h44-0-820" id="h44-0-820" class="d">-// enum type enumType, or a nil if not found.
</a><a href="#h44-0-821" id="h44-0-821" class="d">-func EnumValueMap(enumType string) map[string]int32 {
</a><a href="#h44-0-822" id="h44-0-822" class="d">-	return enumValueMaps[enumType]
</a><a href="#h44-0-823" id="h44-0-823" class="d">-}
</a><a href="#h44-0-824" id="h44-0-824" class="d">-
</a><a href="#h44-0-825" id="h44-0-825" class="d">-// A registry of all linked message types.
</a><a href="#h44-0-826" id="h44-0-826" class="d">-// The string is a fully-qualified proto name (&quot;pkg.Message&quot;).
</a><a href="#h44-0-827" id="h44-0-827" class="d">-var (
</a><a href="#h44-0-828" id="h44-0-828" class="d">-	protoTypes    = make(map[string]reflect.Type)
</a><a href="#h44-0-829" id="h44-0-829" class="d">-	revProtoTypes = make(map[reflect.Type]string)
</a><a href="#h44-0-830" id="h44-0-830" class="d">-)
</a><a href="#h44-0-831" id="h44-0-831" class="d">-
</a><a href="#h44-0-832" id="h44-0-832" class="d">-// RegisterType is called from generated code and maps from the fully qualified
</a><a href="#h44-0-833" id="h44-0-833" class="d">-// proto name to the type (pointer to struct) of the protocol buffer.
</a><a href="#h44-0-834" id="h44-0-834" class="d">-func RegisterType(x Message, name string) {
</a><a href="#h44-0-835" id="h44-0-835" class="d">-	if _, ok := protoTypes[name]; ok {
</a><a href="#h44-0-836" id="h44-0-836" class="d">-		// TODO: Some day, make this a panic.
</a><a href="#h44-0-837" id="h44-0-837" class="d">-		log.Printf(&quot;proto: duplicate proto type registered: %s&quot;, name)
</a><a href="#h44-0-838" id="h44-0-838" class="d">-		return
</a><a href="#h44-0-839" id="h44-0-839" class="d">-	}
</a><a href="#h44-0-840" id="h44-0-840" class="d">-	t := reflect.TypeOf(x)
</a><a href="#h44-0-841" id="h44-0-841" class="d">-	protoTypes[name] = t
</a><a href="#h44-0-842" id="h44-0-842" class="d">-	revProtoTypes[t] = name
</a><a href="#h44-0-843" id="h44-0-843" class="d">-}
</a><a href="#h44-0-844" id="h44-0-844" class="d">-
</a><a href="#h44-0-845" id="h44-0-845" class="d">-// MessageName returns the fully-qualified proto name for the given message type.
</a><a href="#h44-0-846" id="h44-0-846" class="d">-func MessageName(x Message) string { return revProtoTypes[reflect.TypeOf(x)] }
</a><a href="#h44-0-847" id="h44-0-847" class="d">-
</a><a href="#h44-0-848" id="h44-0-848" class="d">-// MessageType returns the message type (pointer to struct) for a named message.
</a><a href="#h44-0-849" id="h44-0-849" class="d">-func MessageType(name string) reflect.Type { return protoTypes[name] }
</a><a href="#h44-0-850" id="h44-0-850" class="d">-
</a><a href="#h44-0-851" id="h44-0-851" class="d">-// A registry of all linked proto files.
</a><a href="#h44-0-852" id="h44-0-852" class="d">-var (
</a><a href="#h44-0-853" id="h44-0-853" class="d">-	protoFiles = make(map[string][]byte) // file name =&gt; fileDescriptor
</a><a href="#h44-0-854" id="h44-0-854" class="d">-)
</a><a href="#h44-0-855" id="h44-0-855" class="d">-
</a><a href="#h44-0-856" id="h44-0-856" class="d">-// RegisterFile is called from generated code and maps from the
</a><a href="#h44-0-857" id="h44-0-857" class="d">-// full file name of a .proto file to its compressed FileDescriptorProto.
</a><a href="#h44-0-858" id="h44-0-858" class="d">-func RegisterFile(filename string, fileDescriptor []byte) {
</a><a href="#h44-0-859" id="h44-0-859" class="d">-	protoFiles[filename] = fileDescriptor
</a><a href="#h44-0-860" id="h44-0-860" class="d">-}
</a><a href="#h44-0-861" id="h44-0-861" class="d">-
</a><a href="#h44-0-862" id="h44-0-862" class="d">-// FileDescriptor returns the compressed FileDescriptorProto for a .proto file.
</a><a href="#h44-0-863" id="h44-0-863" class="d">-func FileDescriptor(filename string) []byte { return protoFiles[filename] }
</a><b>diff --git a/<a id="h45" href="../file/vendor/github.com/golang/protobuf/proto/text.go">vendor/github.com/golang/protobuf/proto/text.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/text.go">vendor/github.com/golang/protobuf/proto/text.go</a></b>
<a href="#h45-0" id="h45-0" class="h">@@ -1,854 +0,0 @@
</a><a href="#h45-0-0" id="h45-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h45-0-1" id="h45-0-1" class="d">-//
</a><a href="#h45-0-2" id="h45-0-2" class="d">-// Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h45-0-3" id="h45-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h45-0-4" id="h45-0-4" class="d">-//
</a><a href="#h45-0-5" id="h45-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h45-0-6" id="h45-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h45-0-7" id="h45-0-7" class="d">-// met:
</a><a href="#h45-0-8" id="h45-0-8" class="d">-//
</a><a href="#h45-0-9" id="h45-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h45-0-10" id="h45-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h45-0-11" id="h45-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h45-0-12" id="h45-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h45-0-13" id="h45-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h45-0-14" id="h45-0-14" class="d">-// distribution.
</a><a href="#h45-0-15" id="h45-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h45-0-16" id="h45-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h45-0-17" id="h45-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h45-0-18" id="h45-0-18" class="d">-//
</a><a href="#h45-0-19" id="h45-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h45-0-20" id="h45-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h45-0-21" id="h45-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h45-0-22" id="h45-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h45-0-23" id="h45-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h45-0-24" id="h45-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h45-0-25" id="h45-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h45-0-26" id="h45-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h45-0-27" id="h45-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h45-0-28" id="h45-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h45-0-29" id="h45-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h45-0-30" id="h45-0-30" class="d">-
</a><a href="#h45-0-31" id="h45-0-31" class="d">-package proto
</a><a href="#h45-0-32" id="h45-0-32" class="d">-
</a><a href="#h45-0-33" id="h45-0-33" class="d">-// Functions for writing the text protocol buffer format.
</a><a href="#h45-0-34" id="h45-0-34" class="d">-
</a><a href="#h45-0-35" id="h45-0-35" class="d">-import (
</a><a href="#h45-0-36" id="h45-0-36" class="d">-	&quot;bufio&quot;
</a><a href="#h45-0-37" id="h45-0-37" class="d">-	&quot;bytes&quot;
</a><a href="#h45-0-38" id="h45-0-38" class="d">-	&quot;encoding&quot;
</a><a href="#h45-0-39" id="h45-0-39" class="d">-	&quot;errors&quot;
</a><a href="#h45-0-40" id="h45-0-40" class="d">-	&quot;fmt&quot;
</a><a href="#h45-0-41" id="h45-0-41" class="d">-	&quot;io&quot;
</a><a href="#h45-0-42" id="h45-0-42" class="d">-	&quot;log&quot;
</a><a href="#h45-0-43" id="h45-0-43" class="d">-	&quot;math&quot;
</a><a href="#h45-0-44" id="h45-0-44" class="d">-	&quot;reflect&quot;
</a><a href="#h45-0-45" id="h45-0-45" class="d">-	&quot;sort&quot;
</a><a href="#h45-0-46" id="h45-0-46" class="d">-	&quot;strings&quot;
</a><a href="#h45-0-47" id="h45-0-47" class="d">-)
</a><a href="#h45-0-48" id="h45-0-48" class="d">-
</a><a href="#h45-0-49" id="h45-0-49" class="d">-var (
</a><a href="#h45-0-50" id="h45-0-50" class="d">-	newline         = []byte(&quot;\n&quot;)
</a><a href="#h45-0-51" id="h45-0-51" class="d">-	spaces          = []byte(&quot;                                        &quot;)
</a><a href="#h45-0-52" id="h45-0-52" class="d">-	gtNewline       = []byte(&quot;&gt;\n&quot;)
</a><a href="#h45-0-53" id="h45-0-53" class="d">-	endBraceNewline = []byte(&quot;}\n&quot;)
</a><a href="#h45-0-54" id="h45-0-54" class="d">-	backslashN      = []byte{&#39;\\&#39;, &#39;n&#39;}
</a><a href="#h45-0-55" id="h45-0-55" class="d">-	backslashR      = []byte{&#39;\\&#39;, &#39;r&#39;}
</a><a href="#h45-0-56" id="h45-0-56" class="d">-	backslashT      = []byte{&#39;\\&#39;, &#39;t&#39;}
</a><a href="#h45-0-57" id="h45-0-57" class="d">-	backslashDQ     = []byte{&#39;\\&#39;, &#39;&quot;&#39;}
</a><a href="#h45-0-58" id="h45-0-58" class="d">-	backslashBS     = []byte{&#39;\\&#39;, &#39;\\&#39;}
</a><a href="#h45-0-59" id="h45-0-59" class="d">-	posInf          = []byte(&quot;inf&quot;)
</a><a href="#h45-0-60" id="h45-0-60" class="d">-	negInf          = []byte(&quot;-inf&quot;)
</a><a href="#h45-0-61" id="h45-0-61" class="d">-	nan             = []byte(&quot;nan&quot;)
</a><a href="#h45-0-62" id="h45-0-62" class="d">-)
</a><a href="#h45-0-63" id="h45-0-63" class="d">-
</a><a href="#h45-0-64" id="h45-0-64" class="d">-type writer interface {
</a><a href="#h45-0-65" id="h45-0-65" class="d">-	io.Writer
</a><a href="#h45-0-66" id="h45-0-66" class="d">-	WriteByte(byte) error
</a><a href="#h45-0-67" id="h45-0-67" class="d">-}
</a><a href="#h45-0-68" id="h45-0-68" class="d">-
</a><a href="#h45-0-69" id="h45-0-69" class="d">-// textWriter is an io.Writer that tracks its indentation level.
</a><a href="#h45-0-70" id="h45-0-70" class="d">-type textWriter struct {
</a><a href="#h45-0-71" id="h45-0-71" class="d">-	ind      int
</a><a href="#h45-0-72" id="h45-0-72" class="d">-	complete bool // if the current position is a complete line
</a><a href="#h45-0-73" id="h45-0-73" class="d">-	compact  bool // whether to write out as a one-liner
</a><a href="#h45-0-74" id="h45-0-74" class="d">-	w        writer
</a><a href="#h45-0-75" id="h45-0-75" class="d">-}
</a><a href="#h45-0-76" id="h45-0-76" class="d">-
</a><a href="#h45-0-77" id="h45-0-77" class="d">-func (w *textWriter) WriteString(s string) (n int, err error) {
</a><a href="#h45-0-78" id="h45-0-78" class="d">-	if !strings.Contains(s, &quot;\n&quot;) {
</a><a href="#h45-0-79" id="h45-0-79" class="d">-		if !w.compact &amp;&amp; w.complete {
</a><a href="#h45-0-80" id="h45-0-80" class="d">-			w.writeIndent()
</a><a href="#h45-0-81" id="h45-0-81" class="d">-		}
</a><a href="#h45-0-82" id="h45-0-82" class="d">-		w.complete = false
</a><a href="#h45-0-83" id="h45-0-83" class="d">-		return io.WriteString(w.w, s)
</a><a href="#h45-0-84" id="h45-0-84" class="d">-	}
</a><a href="#h45-0-85" id="h45-0-85" class="d">-	// WriteString is typically called without newlines, so this
</a><a href="#h45-0-86" id="h45-0-86" class="d">-	// codepath and its copy are rare.  We copy to avoid
</a><a href="#h45-0-87" id="h45-0-87" class="d">-	// duplicating all of Write&#39;s logic here.
</a><a href="#h45-0-88" id="h45-0-88" class="d">-	return w.Write([]byte(s))
</a><a href="#h45-0-89" id="h45-0-89" class="d">-}
</a><a href="#h45-0-90" id="h45-0-90" class="d">-
</a><a href="#h45-0-91" id="h45-0-91" class="d">-func (w *textWriter) Write(p []byte) (n int, err error) {
</a><a href="#h45-0-92" id="h45-0-92" class="d">-	newlines := bytes.Count(p, newline)
</a><a href="#h45-0-93" id="h45-0-93" class="d">-	if newlines == 0 {
</a><a href="#h45-0-94" id="h45-0-94" class="d">-		if !w.compact &amp;&amp; w.complete {
</a><a href="#h45-0-95" id="h45-0-95" class="d">-			w.writeIndent()
</a><a href="#h45-0-96" id="h45-0-96" class="d">-		}
</a><a href="#h45-0-97" id="h45-0-97" class="d">-		n, err = w.w.Write(p)
</a><a href="#h45-0-98" id="h45-0-98" class="d">-		w.complete = false
</a><a href="#h45-0-99" id="h45-0-99" class="d">-		return n, err
</a><a href="#h45-0-100" id="h45-0-100" class="d">-	}
</a><a href="#h45-0-101" id="h45-0-101" class="d">-
</a><a href="#h45-0-102" id="h45-0-102" class="d">-	frags := bytes.SplitN(p, newline, newlines+1)
</a><a href="#h45-0-103" id="h45-0-103" class="d">-	if w.compact {
</a><a href="#h45-0-104" id="h45-0-104" class="d">-		for i, frag := range frags {
</a><a href="#h45-0-105" id="h45-0-105" class="d">-			if i &gt; 0 {
</a><a href="#h45-0-106" id="h45-0-106" class="d">-				if err := w.w.WriteByte(&#39; &#39;); err != nil {
</a><a href="#h45-0-107" id="h45-0-107" class="d">-					return n, err
</a><a href="#h45-0-108" id="h45-0-108" class="d">-				}
</a><a href="#h45-0-109" id="h45-0-109" class="d">-				n++
</a><a href="#h45-0-110" id="h45-0-110" class="d">-			}
</a><a href="#h45-0-111" id="h45-0-111" class="d">-			nn, err := w.w.Write(frag)
</a><a href="#h45-0-112" id="h45-0-112" class="d">-			n += nn
</a><a href="#h45-0-113" id="h45-0-113" class="d">-			if err != nil {
</a><a href="#h45-0-114" id="h45-0-114" class="d">-				return n, err
</a><a href="#h45-0-115" id="h45-0-115" class="d">-			}
</a><a href="#h45-0-116" id="h45-0-116" class="d">-		}
</a><a href="#h45-0-117" id="h45-0-117" class="d">-		return n, nil
</a><a href="#h45-0-118" id="h45-0-118" class="d">-	}
</a><a href="#h45-0-119" id="h45-0-119" class="d">-
</a><a href="#h45-0-120" id="h45-0-120" class="d">-	for i, frag := range frags {
</a><a href="#h45-0-121" id="h45-0-121" class="d">-		if w.complete {
</a><a href="#h45-0-122" id="h45-0-122" class="d">-			w.writeIndent()
</a><a href="#h45-0-123" id="h45-0-123" class="d">-		}
</a><a href="#h45-0-124" id="h45-0-124" class="d">-		nn, err := w.w.Write(frag)
</a><a href="#h45-0-125" id="h45-0-125" class="d">-		n += nn
</a><a href="#h45-0-126" id="h45-0-126" class="d">-		if err != nil {
</a><a href="#h45-0-127" id="h45-0-127" class="d">-			return n, err
</a><a href="#h45-0-128" id="h45-0-128" class="d">-		}
</a><a href="#h45-0-129" id="h45-0-129" class="d">-		if i+1 &lt; len(frags) {
</a><a href="#h45-0-130" id="h45-0-130" class="d">-			if err := w.w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-131" id="h45-0-131" class="d">-				return n, err
</a><a href="#h45-0-132" id="h45-0-132" class="d">-			}
</a><a href="#h45-0-133" id="h45-0-133" class="d">-			n++
</a><a href="#h45-0-134" id="h45-0-134" class="d">-		}
</a><a href="#h45-0-135" id="h45-0-135" class="d">-	}
</a><a href="#h45-0-136" id="h45-0-136" class="d">-	w.complete = len(frags[len(frags)-1]) == 0
</a><a href="#h45-0-137" id="h45-0-137" class="d">-	return n, nil
</a><a href="#h45-0-138" id="h45-0-138" class="d">-}
</a><a href="#h45-0-139" id="h45-0-139" class="d">-
</a><a href="#h45-0-140" id="h45-0-140" class="d">-func (w *textWriter) WriteByte(c byte) error {
</a><a href="#h45-0-141" id="h45-0-141" class="d">-	if w.compact &amp;&amp; c == &#39;\n&#39; {
</a><a href="#h45-0-142" id="h45-0-142" class="d">-		c = &#39; &#39;
</a><a href="#h45-0-143" id="h45-0-143" class="d">-	}
</a><a href="#h45-0-144" id="h45-0-144" class="d">-	if !w.compact &amp;&amp; w.complete {
</a><a href="#h45-0-145" id="h45-0-145" class="d">-		w.writeIndent()
</a><a href="#h45-0-146" id="h45-0-146" class="d">-	}
</a><a href="#h45-0-147" id="h45-0-147" class="d">-	err := w.w.WriteByte(c)
</a><a href="#h45-0-148" id="h45-0-148" class="d">-	w.complete = c == &#39;\n&#39;
</a><a href="#h45-0-149" id="h45-0-149" class="d">-	return err
</a><a href="#h45-0-150" id="h45-0-150" class="d">-}
</a><a href="#h45-0-151" id="h45-0-151" class="d">-
</a><a href="#h45-0-152" id="h45-0-152" class="d">-func (w *textWriter) indent() { w.ind++ }
</a><a href="#h45-0-153" id="h45-0-153" class="d">-
</a><a href="#h45-0-154" id="h45-0-154" class="d">-func (w *textWriter) unindent() {
</a><a href="#h45-0-155" id="h45-0-155" class="d">-	if w.ind == 0 {
</a><a href="#h45-0-156" id="h45-0-156" class="d">-		log.Print(&quot;proto: textWriter unindented too far&quot;)
</a><a href="#h45-0-157" id="h45-0-157" class="d">-		return
</a><a href="#h45-0-158" id="h45-0-158" class="d">-	}
</a><a href="#h45-0-159" id="h45-0-159" class="d">-	w.ind--
</a><a href="#h45-0-160" id="h45-0-160" class="d">-}
</a><a href="#h45-0-161" id="h45-0-161" class="d">-
</a><a href="#h45-0-162" id="h45-0-162" class="d">-func writeName(w *textWriter, props *Properties) error {
</a><a href="#h45-0-163" id="h45-0-163" class="d">-	if _, err := w.WriteString(props.OrigName); err != nil {
</a><a href="#h45-0-164" id="h45-0-164" class="d">-		return err
</a><a href="#h45-0-165" id="h45-0-165" class="d">-	}
</a><a href="#h45-0-166" id="h45-0-166" class="d">-	if props.Wire != &quot;group&quot; {
</a><a href="#h45-0-167" id="h45-0-167" class="d">-		return w.WriteByte(&#39;:&#39;)
</a><a href="#h45-0-168" id="h45-0-168" class="d">-	}
</a><a href="#h45-0-169" id="h45-0-169" class="d">-	return nil
</a><a href="#h45-0-170" id="h45-0-170" class="d">-}
</a><a href="#h45-0-171" id="h45-0-171" class="d">-
</a><a href="#h45-0-172" id="h45-0-172" class="d">-// raw is the interface satisfied by RawMessage.
</a><a href="#h45-0-173" id="h45-0-173" class="d">-type raw interface {
</a><a href="#h45-0-174" id="h45-0-174" class="d">-	Bytes() []byte
</a><a href="#h45-0-175" id="h45-0-175" class="d">-}
</a><a href="#h45-0-176" id="h45-0-176" class="d">-
</a><a href="#h45-0-177" id="h45-0-177" class="d">-func requiresQuotes(u string) bool {
</a><a href="#h45-0-178" id="h45-0-178" class="d">-	// When type URL contains any characters except [0-9A-Za-z./\-]*, it must be quoted.
</a><a href="#h45-0-179" id="h45-0-179" class="d">-	for _, ch := range u {
</a><a href="#h45-0-180" id="h45-0-180" class="d">-		switch {
</a><a href="#h45-0-181" id="h45-0-181" class="d">-		case ch == &#39;.&#39; || ch == &#39;/&#39; || ch == &#39;_&#39;:
</a><a href="#h45-0-182" id="h45-0-182" class="d">-			continue
</a><a href="#h45-0-183" id="h45-0-183" class="d">-		case &#39;0&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;9&#39;:
</a><a href="#h45-0-184" id="h45-0-184" class="d">-			continue
</a><a href="#h45-0-185" id="h45-0-185" class="d">-		case &#39;A&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;Z&#39;:
</a><a href="#h45-0-186" id="h45-0-186" class="d">-			continue
</a><a href="#h45-0-187" id="h45-0-187" class="d">-		case &#39;a&#39; &lt;= ch &amp;&amp; ch &lt;= &#39;z&#39;:
</a><a href="#h45-0-188" id="h45-0-188" class="d">-			continue
</a><a href="#h45-0-189" id="h45-0-189" class="d">-		default:
</a><a href="#h45-0-190" id="h45-0-190" class="d">-			return true
</a><a href="#h45-0-191" id="h45-0-191" class="d">-		}
</a><a href="#h45-0-192" id="h45-0-192" class="d">-	}
</a><a href="#h45-0-193" id="h45-0-193" class="d">-	return false
</a><a href="#h45-0-194" id="h45-0-194" class="d">-}
</a><a href="#h45-0-195" id="h45-0-195" class="d">-
</a><a href="#h45-0-196" id="h45-0-196" class="d">-// isAny reports whether sv is a google.protobuf.Any message
</a><a href="#h45-0-197" id="h45-0-197" class="d">-func isAny(sv reflect.Value) bool {
</a><a href="#h45-0-198" id="h45-0-198" class="d">-	type wkt interface {
</a><a href="#h45-0-199" id="h45-0-199" class="d">-		XXX_WellKnownType() string
</a><a href="#h45-0-200" id="h45-0-200" class="d">-	}
</a><a href="#h45-0-201" id="h45-0-201" class="d">-	t, ok := sv.Addr().Interface().(wkt)
</a><a href="#h45-0-202" id="h45-0-202" class="d">-	return ok &amp;&amp; t.XXX_WellKnownType() == &quot;Any&quot;
</a><a href="#h45-0-203" id="h45-0-203" class="d">-}
</a><a href="#h45-0-204" id="h45-0-204" class="d">-
</a><a href="#h45-0-205" id="h45-0-205" class="d">-// writeProto3Any writes an expanded google.protobuf.Any message.
</a><a href="#h45-0-206" id="h45-0-206" class="d">-//
</a><a href="#h45-0-207" id="h45-0-207" class="d">-// It returns (false, nil) if sv value can&#39;t be unmarshaled (e.g. because
</a><a href="#h45-0-208" id="h45-0-208" class="d">-// required messages are not linked in).
</a><a href="#h45-0-209" id="h45-0-209" class="d">-//
</a><a href="#h45-0-210" id="h45-0-210" class="d">-// It returns (true, error) when sv was written in expanded format or an error
</a><a href="#h45-0-211" id="h45-0-211" class="d">-// was encountered.
</a><a href="#h45-0-212" id="h45-0-212" class="d">-func (tm *TextMarshaler) writeProto3Any(w *textWriter, sv reflect.Value) (bool, error) {
</a><a href="#h45-0-213" id="h45-0-213" class="d">-	turl := sv.FieldByName(&quot;TypeUrl&quot;)
</a><a href="#h45-0-214" id="h45-0-214" class="d">-	val := sv.FieldByName(&quot;Value&quot;)
</a><a href="#h45-0-215" id="h45-0-215" class="d">-	if !turl.IsValid() || !val.IsValid() {
</a><a href="#h45-0-216" id="h45-0-216" class="d">-		return true, errors.New(&quot;proto: invalid google.protobuf.Any message&quot;)
</a><a href="#h45-0-217" id="h45-0-217" class="d">-	}
</a><a href="#h45-0-218" id="h45-0-218" class="d">-
</a><a href="#h45-0-219" id="h45-0-219" class="d">-	b, ok := val.Interface().([]byte)
</a><a href="#h45-0-220" id="h45-0-220" class="d">-	if !ok {
</a><a href="#h45-0-221" id="h45-0-221" class="d">-		return true, errors.New(&quot;proto: invalid google.protobuf.Any message&quot;)
</a><a href="#h45-0-222" id="h45-0-222" class="d">-	}
</a><a href="#h45-0-223" id="h45-0-223" class="d">-
</a><a href="#h45-0-224" id="h45-0-224" class="d">-	parts := strings.Split(turl.String(), &quot;/&quot;)
</a><a href="#h45-0-225" id="h45-0-225" class="d">-	mt := MessageType(parts[len(parts)-1])
</a><a href="#h45-0-226" id="h45-0-226" class="d">-	if mt == nil {
</a><a href="#h45-0-227" id="h45-0-227" class="d">-		return false, nil
</a><a href="#h45-0-228" id="h45-0-228" class="d">-	}
</a><a href="#h45-0-229" id="h45-0-229" class="d">-	m := reflect.New(mt.Elem())
</a><a href="#h45-0-230" id="h45-0-230" class="d">-	if err := Unmarshal(b, m.Interface().(Message)); err != nil {
</a><a href="#h45-0-231" id="h45-0-231" class="d">-		return false, nil
</a><a href="#h45-0-232" id="h45-0-232" class="d">-	}
</a><a href="#h45-0-233" id="h45-0-233" class="d">-	w.Write([]byte(&quot;[&quot;))
</a><a href="#h45-0-234" id="h45-0-234" class="d">-	u := turl.String()
</a><a href="#h45-0-235" id="h45-0-235" class="d">-	if requiresQuotes(u) {
</a><a href="#h45-0-236" id="h45-0-236" class="d">-		writeString(w, u)
</a><a href="#h45-0-237" id="h45-0-237" class="d">-	} else {
</a><a href="#h45-0-238" id="h45-0-238" class="d">-		w.Write([]byte(u))
</a><a href="#h45-0-239" id="h45-0-239" class="d">-	}
</a><a href="#h45-0-240" id="h45-0-240" class="d">-	if w.compact {
</a><a href="#h45-0-241" id="h45-0-241" class="d">-		w.Write([]byte(&quot;]:&lt;&quot;))
</a><a href="#h45-0-242" id="h45-0-242" class="d">-	} else {
</a><a href="#h45-0-243" id="h45-0-243" class="d">-		w.Write([]byte(&quot;]: &lt;\n&quot;))
</a><a href="#h45-0-244" id="h45-0-244" class="d">-		w.ind++
</a><a href="#h45-0-245" id="h45-0-245" class="d">-	}
</a><a href="#h45-0-246" id="h45-0-246" class="d">-	if err := tm.writeStruct(w, m.Elem()); err != nil {
</a><a href="#h45-0-247" id="h45-0-247" class="d">-		return true, err
</a><a href="#h45-0-248" id="h45-0-248" class="d">-	}
</a><a href="#h45-0-249" id="h45-0-249" class="d">-	if w.compact {
</a><a href="#h45-0-250" id="h45-0-250" class="d">-		w.Write([]byte(&quot;&gt; &quot;))
</a><a href="#h45-0-251" id="h45-0-251" class="d">-	} else {
</a><a href="#h45-0-252" id="h45-0-252" class="d">-		w.ind--
</a><a href="#h45-0-253" id="h45-0-253" class="d">-		w.Write([]byte(&quot;&gt;\n&quot;))
</a><a href="#h45-0-254" id="h45-0-254" class="d">-	}
</a><a href="#h45-0-255" id="h45-0-255" class="d">-	return true, nil
</a><a href="#h45-0-256" id="h45-0-256" class="d">-}
</a><a href="#h45-0-257" id="h45-0-257" class="d">-
</a><a href="#h45-0-258" id="h45-0-258" class="d">-func (tm *TextMarshaler) writeStruct(w *textWriter, sv reflect.Value) error {
</a><a href="#h45-0-259" id="h45-0-259" class="d">-	if tm.ExpandAny &amp;&amp; isAny(sv) {
</a><a href="#h45-0-260" id="h45-0-260" class="d">-		if canExpand, err := tm.writeProto3Any(w, sv); canExpand {
</a><a href="#h45-0-261" id="h45-0-261" class="d">-			return err
</a><a href="#h45-0-262" id="h45-0-262" class="d">-		}
</a><a href="#h45-0-263" id="h45-0-263" class="d">-	}
</a><a href="#h45-0-264" id="h45-0-264" class="d">-	st := sv.Type()
</a><a href="#h45-0-265" id="h45-0-265" class="d">-	sprops := GetProperties(st)
</a><a href="#h45-0-266" id="h45-0-266" class="d">-	for i := 0; i &lt; sv.NumField(); i++ {
</a><a href="#h45-0-267" id="h45-0-267" class="d">-		fv := sv.Field(i)
</a><a href="#h45-0-268" id="h45-0-268" class="d">-		props := sprops.Prop[i]
</a><a href="#h45-0-269" id="h45-0-269" class="d">-		name := st.Field(i).Name
</a><a href="#h45-0-270" id="h45-0-270" class="d">-
</a><a href="#h45-0-271" id="h45-0-271" class="d">-		if strings.HasPrefix(name, &quot;XXX_&quot;) {
</a><a href="#h45-0-272" id="h45-0-272" class="d">-			// There are two XXX_ fields:
</a><a href="#h45-0-273" id="h45-0-273" class="d">-			//   XXX_unrecognized []byte
</a><a href="#h45-0-274" id="h45-0-274" class="d">-			//   XXX_extensions   map[int32]proto.Extension
</a><a href="#h45-0-275" id="h45-0-275" class="d">-			// The first is handled here;
</a><a href="#h45-0-276" id="h45-0-276" class="d">-			// the second is handled at the bottom of this function.
</a><a href="#h45-0-277" id="h45-0-277" class="d">-			if name == &quot;XXX_unrecognized&quot; &amp;&amp; !fv.IsNil() {
</a><a href="#h45-0-278" id="h45-0-278" class="d">-				if err := writeUnknownStruct(w, fv.Interface().([]byte)); err != nil {
</a><a href="#h45-0-279" id="h45-0-279" class="d">-					return err
</a><a href="#h45-0-280" id="h45-0-280" class="d">-				}
</a><a href="#h45-0-281" id="h45-0-281" class="d">-			}
</a><a href="#h45-0-282" id="h45-0-282" class="d">-			continue
</a><a href="#h45-0-283" id="h45-0-283" class="d">-		}
</a><a href="#h45-0-284" id="h45-0-284" class="d">-		if fv.Kind() == reflect.Ptr &amp;&amp; fv.IsNil() {
</a><a href="#h45-0-285" id="h45-0-285" class="d">-			// Field not filled in. This could be an optional field or
</a><a href="#h45-0-286" id="h45-0-286" class="d">-			// a required field that wasn&#39;t filled in. Either way, there
</a><a href="#h45-0-287" id="h45-0-287" class="d">-			// isn&#39;t anything we can show for it.
</a><a href="#h45-0-288" id="h45-0-288" class="d">-			continue
</a><a href="#h45-0-289" id="h45-0-289" class="d">-		}
</a><a href="#h45-0-290" id="h45-0-290" class="d">-		if fv.Kind() == reflect.Slice &amp;&amp; fv.IsNil() {
</a><a href="#h45-0-291" id="h45-0-291" class="d">-			// Repeated field that is empty, or a bytes field that is unused.
</a><a href="#h45-0-292" id="h45-0-292" class="d">-			continue
</a><a href="#h45-0-293" id="h45-0-293" class="d">-		}
</a><a href="#h45-0-294" id="h45-0-294" class="d">-
</a><a href="#h45-0-295" id="h45-0-295" class="d">-		if props.Repeated &amp;&amp; fv.Kind() == reflect.Slice {
</a><a href="#h45-0-296" id="h45-0-296" class="d">-			// Repeated field.
</a><a href="#h45-0-297" id="h45-0-297" class="d">-			for j := 0; j &lt; fv.Len(); j++ {
</a><a href="#h45-0-298" id="h45-0-298" class="d">-				if err := writeName(w, props); err != nil {
</a><a href="#h45-0-299" id="h45-0-299" class="d">-					return err
</a><a href="#h45-0-300" id="h45-0-300" class="d">-				}
</a><a href="#h45-0-301" id="h45-0-301" class="d">-				if !w.compact {
</a><a href="#h45-0-302" id="h45-0-302" class="d">-					if err := w.WriteByte(&#39; &#39;); err != nil {
</a><a href="#h45-0-303" id="h45-0-303" class="d">-						return err
</a><a href="#h45-0-304" id="h45-0-304" class="d">-					}
</a><a href="#h45-0-305" id="h45-0-305" class="d">-				}
</a><a href="#h45-0-306" id="h45-0-306" class="d">-				v := fv.Index(j)
</a><a href="#h45-0-307" id="h45-0-307" class="d">-				if v.Kind() == reflect.Ptr &amp;&amp; v.IsNil() {
</a><a href="#h45-0-308" id="h45-0-308" class="d">-					// A nil message in a repeated field is not valid,
</a><a href="#h45-0-309" id="h45-0-309" class="d">-					// but we can handle that more gracefully than panicking.
</a><a href="#h45-0-310" id="h45-0-310" class="d">-					if _, err := w.Write([]byte(&quot;&lt;nil&gt;\n&quot;)); err != nil {
</a><a href="#h45-0-311" id="h45-0-311" class="d">-						return err
</a><a href="#h45-0-312" id="h45-0-312" class="d">-					}
</a><a href="#h45-0-313" id="h45-0-313" class="d">-					continue
</a><a href="#h45-0-314" id="h45-0-314" class="d">-				}
</a><a href="#h45-0-315" id="h45-0-315" class="d">-				if err := tm.writeAny(w, v, props); err != nil {
</a><a href="#h45-0-316" id="h45-0-316" class="d">-					return err
</a><a href="#h45-0-317" id="h45-0-317" class="d">-				}
</a><a href="#h45-0-318" id="h45-0-318" class="d">-				if err := w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-319" id="h45-0-319" class="d">-					return err
</a><a href="#h45-0-320" id="h45-0-320" class="d">-				}
</a><a href="#h45-0-321" id="h45-0-321" class="d">-			}
</a><a href="#h45-0-322" id="h45-0-322" class="d">-			continue
</a><a href="#h45-0-323" id="h45-0-323" class="d">-		}
</a><a href="#h45-0-324" id="h45-0-324" class="d">-		if fv.Kind() == reflect.Map {
</a><a href="#h45-0-325" id="h45-0-325" class="d">-			// Map fields are rendered as a repeated struct with key/value fields.
</a><a href="#h45-0-326" id="h45-0-326" class="d">-			keys := fv.MapKeys()
</a><a href="#h45-0-327" id="h45-0-327" class="d">-			sort.Sort(mapKeys(keys))
</a><a href="#h45-0-328" id="h45-0-328" class="d">-			for _, key := range keys {
</a><a href="#h45-0-329" id="h45-0-329" class="d">-				val := fv.MapIndex(key)
</a><a href="#h45-0-330" id="h45-0-330" class="d">-				if err := writeName(w, props); err != nil {
</a><a href="#h45-0-331" id="h45-0-331" class="d">-					return err
</a><a href="#h45-0-332" id="h45-0-332" class="d">-				}
</a><a href="#h45-0-333" id="h45-0-333" class="d">-				if !w.compact {
</a><a href="#h45-0-334" id="h45-0-334" class="d">-					if err := w.WriteByte(&#39; &#39;); err != nil {
</a><a href="#h45-0-335" id="h45-0-335" class="d">-						return err
</a><a href="#h45-0-336" id="h45-0-336" class="d">-					}
</a><a href="#h45-0-337" id="h45-0-337" class="d">-				}
</a><a href="#h45-0-338" id="h45-0-338" class="d">-				// open struct
</a><a href="#h45-0-339" id="h45-0-339" class="d">-				if err := w.WriteByte(&#39;&lt;&#39;); err != nil {
</a><a href="#h45-0-340" id="h45-0-340" class="d">-					return err
</a><a href="#h45-0-341" id="h45-0-341" class="d">-				}
</a><a href="#h45-0-342" id="h45-0-342" class="d">-				if !w.compact {
</a><a href="#h45-0-343" id="h45-0-343" class="d">-					if err := w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-344" id="h45-0-344" class="d">-						return err
</a><a href="#h45-0-345" id="h45-0-345" class="d">-					}
</a><a href="#h45-0-346" id="h45-0-346" class="d">-				}
</a><a href="#h45-0-347" id="h45-0-347" class="d">-				w.indent()
</a><a href="#h45-0-348" id="h45-0-348" class="d">-				// key
</a><a href="#h45-0-349" id="h45-0-349" class="d">-				if _, err := w.WriteString(&quot;key:&quot;); err != nil {
</a><a href="#h45-0-350" id="h45-0-350" class="d">-					return err
</a><a href="#h45-0-351" id="h45-0-351" class="d">-				}
</a><a href="#h45-0-352" id="h45-0-352" class="d">-				if !w.compact {
</a><a href="#h45-0-353" id="h45-0-353" class="d">-					if err := w.WriteByte(&#39; &#39;); err != nil {
</a><a href="#h45-0-354" id="h45-0-354" class="d">-						return err
</a><a href="#h45-0-355" id="h45-0-355" class="d">-					}
</a><a href="#h45-0-356" id="h45-0-356" class="d">-				}
</a><a href="#h45-0-357" id="h45-0-357" class="d">-				if err := tm.writeAny(w, key, props.mkeyprop); err != nil {
</a><a href="#h45-0-358" id="h45-0-358" class="d">-					return err
</a><a href="#h45-0-359" id="h45-0-359" class="d">-				}
</a><a href="#h45-0-360" id="h45-0-360" class="d">-				if err := w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-361" id="h45-0-361" class="d">-					return err
</a><a href="#h45-0-362" id="h45-0-362" class="d">-				}
</a><a href="#h45-0-363" id="h45-0-363" class="d">-				// nil values aren&#39;t legal, but we can avoid panicking because of them.
</a><a href="#h45-0-364" id="h45-0-364" class="d">-				if val.Kind() != reflect.Ptr || !val.IsNil() {
</a><a href="#h45-0-365" id="h45-0-365" class="d">-					// value
</a><a href="#h45-0-366" id="h45-0-366" class="d">-					if _, err := w.WriteString(&quot;value:&quot;); err != nil {
</a><a href="#h45-0-367" id="h45-0-367" class="d">-						return err
</a><a href="#h45-0-368" id="h45-0-368" class="d">-					}
</a><a href="#h45-0-369" id="h45-0-369" class="d">-					if !w.compact {
</a><a href="#h45-0-370" id="h45-0-370" class="d">-						if err := w.WriteByte(&#39; &#39;); err != nil {
</a><a href="#h45-0-371" id="h45-0-371" class="d">-							return err
</a><a href="#h45-0-372" id="h45-0-372" class="d">-						}
</a><a href="#h45-0-373" id="h45-0-373" class="d">-					}
</a><a href="#h45-0-374" id="h45-0-374" class="d">-					if err := tm.writeAny(w, val, props.mvalprop); err != nil {
</a><a href="#h45-0-375" id="h45-0-375" class="d">-						return err
</a><a href="#h45-0-376" id="h45-0-376" class="d">-					}
</a><a href="#h45-0-377" id="h45-0-377" class="d">-					if err := w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-378" id="h45-0-378" class="d">-						return err
</a><a href="#h45-0-379" id="h45-0-379" class="d">-					}
</a><a href="#h45-0-380" id="h45-0-380" class="d">-				}
</a><a href="#h45-0-381" id="h45-0-381" class="d">-				// close struct
</a><a href="#h45-0-382" id="h45-0-382" class="d">-				w.unindent()
</a><a href="#h45-0-383" id="h45-0-383" class="d">-				if err := w.WriteByte(&#39;&gt;&#39;); err != nil {
</a><a href="#h45-0-384" id="h45-0-384" class="d">-					return err
</a><a href="#h45-0-385" id="h45-0-385" class="d">-				}
</a><a href="#h45-0-386" id="h45-0-386" class="d">-				if err := w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-387" id="h45-0-387" class="d">-					return err
</a><a href="#h45-0-388" id="h45-0-388" class="d">-				}
</a><a href="#h45-0-389" id="h45-0-389" class="d">-			}
</a><a href="#h45-0-390" id="h45-0-390" class="d">-			continue
</a><a href="#h45-0-391" id="h45-0-391" class="d">-		}
</a><a href="#h45-0-392" id="h45-0-392" class="d">-		if props.proto3 &amp;&amp; fv.Kind() == reflect.Slice &amp;&amp; fv.Len() == 0 {
</a><a href="#h45-0-393" id="h45-0-393" class="d">-			// empty bytes field
</a><a href="#h45-0-394" id="h45-0-394" class="d">-			continue
</a><a href="#h45-0-395" id="h45-0-395" class="d">-		}
</a><a href="#h45-0-396" id="h45-0-396" class="d">-		if fv.Kind() != reflect.Ptr &amp;&amp; fv.Kind() != reflect.Slice {
</a><a href="#h45-0-397" id="h45-0-397" class="d">-			// proto3 non-repeated scalar field; skip if zero value
</a><a href="#h45-0-398" id="h45-0-398" class="d">-			if isProto3Zero(fv) {
</a><a href="#h45-0-399" id="h45-0-399" class="d">-				continue
</a><a href="#h45-0-400" id="h45-0-400" class="d">-			}
</a><a href="#h45-0-401" id="h45-0-401" class="d">-		}
</a><a href="#h45-0-402" id="h45-0-402" class="d">-
</a><a href="#h45-0-403" id="h45-0-403" class="d">-		if fv.Kind() == reflect.Interface {
</a><a href="#h45-0-404" id="h45-0-404" class="d">-			// Check if it is a oneof.
</a><a href="#h45-0-405" id="h45-0-405" class="d">-			if st.Field(i).Tag.Get(&quot;protobuf_oneof&quot;) != &quot;&quot; {
</a><a href="#h45-0-406" id="h45-0-406" class="d">-				// fv is nil, or holds a pointer to generated struct.
</a><a href="#h45-0-407" id="h45-0-407" class="d">-				// That generated struct has exactly one field,
</a><a href="#h45-0-408" id="h45-0-408" class="d">-				// which has a protobuf struct tag.
</a><a href="#h45-0-409" id="h45-0-409" class="d">-				if fv.IsNil() {
</a><a href="#h45-0-410" id="h45-0-410" class="d">-					continue
</a><a href="#h45-0-411" id="h45-0-411" class="d">-				}
</a><a href="#h45-0-412" id="h45-0-412" class="d">-				inner := fv.Elem().Elem() // interface -&gt; *T -&gt; T
</a><a href="#h45-0-413" id="h45-0-413" class="d">-				tag := inner.Type().Field(0).Tag.Get(&quot;protobuf&quot;)
</a><a href="#h45-0-414" id="h45-0-414" class="d">-				props = new(Properties) // Overwrite the outer props var, but not its pointee.
</a><a href="#h45-0-415" id="h45-0-415" class="d">-				props.Parse(tag)
</a><a href="#h45-0-416" id="h45-0-416" class="d">-				// Write the value in the oneof, not the oneof itself.
</a><a href="#h45-0-417" id="h45-0-417" class="d">-				fv = inner.Field(0)
</a><a href="#h45-0-418" id="h45-0-418" class="d">-
</a><a href="#h45-0-419" id="h45-0-419" class="d">-				// Special case to cope with malformed messages gracefully:
</a><a href="#h45-0-420" id="h45-0-420" class="d">-				// If the value in the oneof is a nil pointer, don&#39;t panic
</a><a href="#h45-0-421" id="h45-0-421" class="d">-				// in writeAny.
</a><a href="#h45-0-422" id="h45-0-422" class="d">-				if fv.Kind() == reflect.Ptr &amp;&amp; fv.IsNil() {
</a><a href="#h45-0-423" id="h45-0-423" class="d">-					// Use errors.New so writeAny won&#39;t render quotes.
</a><a href="#h45-0-424" id="h45-0-424" class="d">-					msg := errors.New(&quot;/* nil */&quot;)
</a><a href="#h45-0-425" id="h45-0-425" class="d">-					fv = reflect.ValueOf(&amp;msg).Elem()
</a><a href="#h45-0-426" id="h45-0-426" class="d">-				}
</a><a href="#h45-0-427" id="h45-0-427" class="d">-			}
</a><a href="#h45-0-428" id="h45-0-428" class="d">-		}
</a><a href="#h45-0-429" id="h45-0-429" class="d">-
</a><a href="#h45-0-430" id="h45-0-430" class="d">-		if err := writeName(w, props); err != nil {
</a><a href="#h45-0-431" id="h45-0-431" class="d">-			return err
</a><a href="#h45-0-432" id="h45-0-432" class="d">-		}
</a><a href="#h45-0-433" id="h45-0-433" class="d">-		if !w.compact {
</a><a href="#h45-0-434" id="h45-0-434" class="d">-			if err := w.WriteByte(&#39; &#39;); err != nil {
</a><a href="#h45-0-435" id="h45-0-435" class="d">-				return err
</a><a href="#h45-0-436" id="h45-0-436" class="d">-			}
</a><a href="#h45-0-437" id="h45-0-437" class="d">-		}
</a><a href="#h45-0-438" id="h45-0-438" class="d">-		if b, ok := fv.Interface().(raw); ok {
</a><a href="#h45-0-439" id="h45-0-439" class="d">-			if err := writeRaw(w, b.Bytes()); err != nil {
</a><a href="#h45-0-440" id="h45-0-440" class="d">-				return err
</a><a href="#h45-0-441" id="h45-0-441" class="d">-			}
</a><a href="#h45-0-442" id="h45-0-442" class="d">-			continue
</a><a href="#h45-0-443" id="h45-0-443" class="d">-		}
</a><a href="#h45-0-444" id="h45-0-444" class="d">-
</a><a href="#h45-0-445" id="h45-0-445" class="d">-		// Enums have a String method, so writeAny will work fine.
</a><a href="#h45-0-446" id="h45-0-446" class="d">-		if err := tm.writeAny(w, fv, props); err != nil {
</a><a href="#h45-0-447" id="h45-0-447" class="d">-			return err
</a><a href="#h45-0-448" id="h45-0-448" class="d">-		}
</a><a href="#h45-0-449" id="h45-0-449" class="d">-
</a><a href="#h45-0-450" id="h45-0-450" class="d">-		if err := w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-451" id="h45-0-451" class="d">-			return err
</a><a href="#h45-0-452" id="h45-0-452" class="d">-		}
</a><a href="#h45-0-453" id="h45-0-453" class="d">-	}
</a><a href="#h45-0-454" id="h45-0-454" class="d">-
</a><a href="#h45-0-455" id="h45-0-455" class="d">-	// Extensions (the XXX_extensions field).
</a><a href="#h45-0-456" id="h45-0-456" class="d">-	pv := sv.Addr()
</a><a href="#h45-0-457" id="h45-0-457" class="d">-	if _, ok := extendable(pv.Interface()); ok {
</a><a href="#h45-0-458" id="h45-0-458" class="d">-		if err := tm.writeExtensions(w, pv); err != nil {
</a><a href="#h45-0-459" id="h45-0-459" class="d">-			return err
</a><a href="#h45-0-460" id="h45-0-460" class="d">-		}
</a><a href="#h45-0-461" id="h45-0-461" class="d">-	}
</a><a href="#h45-0-462" id="h45-0-462" class="d">-
</a><a href="#h45-0-463" id="h45-0-463" class="d">-	return nil
</a><a href="#h45-0-464" id="h45-0-464" class="d">-}
</a><a href="#h45-0-465" id="h45-0-465" class="d">-
</a><a href="#h45-0-466" id="h45-0-466" class="d">-// writeRaw writes an uninterpreted raw message.
</a><a href="#h45-0-467" id="h45-0-467" class="d">-func writeRaw(w *textWriter, b []byte) error {
</a><a href="#h45-0-468" id="h45-0-468" class="d">-	if err := w.WriteByte(&#39;&lt;&#39;); err != nil {
</a><a href="#h45-0-469" id="h45-0-469" class="d">-		return err
</a><a href="#h45-0-470" id="h45-0-470" class="d">-	}
</a><a href="#h45-0-471" id="h45-0-471" class="d">-	if !w.compact {
</a><a href="#h45-0-472" id="h45-0-472" class="d">-		if err := w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-473" id="h45-0-473" class="d">-			return err
</a><a href="#h45-0-474" id="h45-0-474" class="d">-		}
</a><a href="#h45-0-475" id="h45-0-475" class="d">-	}
</a><a href="#h45-0-476" id="h45-0-476" class="d">-	w.indent()
</a><a href="#h45-0-477" id="h45-0-477" class="d">-	if err := writeUnknownStruct(w, b); err != nil {
</a><a href="#h45-0-478" id="h45-0-478" class="d">-		return err
</a><a href="#h45-0-479" id="h45-0-479" class="d">-	}
</a><a href="#h45-0-480" id="h45-0-480" class="d">-	w.unindent()
</a><a href="#h45-0-481" id="h45-0-481" class="d">-	if err := w.WriteByte(&#39;&gt;&#39;); err != nil {
</a><a href="#h45-0-482" id="h45-0-482" class="d">-		return err
</a><a href="#h45-0-483" id="h45-0-483" class="d">-	}
</a><a href="#h45-0-484" id="h45-0-484" class="d">-	return nil
</a><a href="#h45-0-485" id="h45-0-485" class="d">-}
</a><a href="#h45-0-486" id="h45-0-486" class="d">-
</a><a href="#h45-0-487" id="h45-0-487" class="d">-// writeAny writes an arbitrary field.
</a><a href="#h45-0-488" id="h45-0-488" class="d">-func (tm *TextMarshaler) writeAny(w *textWriter, v reflect.Value, props *Properties) error {
</a><a href="#h45-0-489" id="h45-0-489" class="d">-	v = reflect.Indirect(v)
</a><a href="#h45-0-490" id="h45-0-490" class="d">-
</a><a href="#h45-0-491" id="h45-0-491" class="d">-	// Floats have special cases.
</a><a href="#h45-0-492" id="h45-0-492" class="d">-	if v.Kind() == reflect.Float32 || v.Kind() == reflect.Float64 {
</a><a href="#h45-0-493" id="h45-0-493" class="d">-		x := v.Float()
</a><a href="#h45-0-494" id="h45-0-494" class="d">-		var b []byte
</a><a href="#h45-0-495" id="h45-0-495" class="d">-		switch {
</a><a href="#h45-0-496" id="h45-0-496" class="d">-		case math.IsInf(x, 1):
</a><a href="#h45-0-497" id="h45-0-497" class="d">-			b = posInf
</a><a href="#h45-0-498" id="h45-0-498" class="d">-		case math.IsInf(x, -1):
</a><a href="#h45-0-499" id="h45-0-499" class="d">-			b = negInf
</a><a href="#h45-0-500" id="h45-0-500" class="d">-		case math.IsNaN(x):
</a><a href="#h45-0-501" id="h45-0-501" class="d">-			b = nan
</a><a href="#h45-0-502" id="h45-0-502" class="d">-		}
</a><a href="#h45-0-503" id="h45-0-503" class="d">-		if b != nil {
</a><a href="#h45-0-504" id="h45-0-504" class="d">-			_, err := w.Write(b)
</a><a href="#h45-0-505" id="h45-0-505" class="d">-			return err
</a><a href="#h45-0-506" id="h45-0-506" class="d">-		}
</a><a href="#h45-0-507" id="h45-0-507" class="d">-		// Other values are handled below.
</a><a href="#h45-0-508" id="h45-0-508" class="d">-	}
</a><a href="#h45-0-509" id="h45-0-509" class="d">-
</a><a href="#h45-0-510" id="h45-0-510" class="d">-	// We don&#39;t attempt to serialise every possible value type; only those
</a><a href="#h45-0-511" id="h45-0-511" class="d">-	// that can occur in protocol buffers.
</a><a href="#h45-0-512" id="h45-0-512" class="d">-	switch v.Kind() {
</a><a href="#h45-0-513" id="h45-0-513" class="d">-	case reflect.Slice:
</a><a href="#h45-0-514" id="h45-0-514" class="d">-		// Should only be a []byte; repeated fields are handled in writeStruct.
</a><a href="#h45-0-515" id="h45-0-515" class="d">-		if err := writeString(w, string(v.Bytes())); err != nil {
</a><a href="#h45-0-516" id="h45-0-516" class="d">-			return err
</a><a href="#h45-0-517" id="h45-0-517" class="d">-		}
</a><a href="#h45-0-518" id="h45-0-518" class="d">-	case reflect.String:
</a><a href="#h45-0-519" id="h45-0-519" class="d">-		if err := writeString(w, v.String()); err != nil {
</a><a href="#h45-0-520" id="h45-0-520" class="d">-			return err
</a><a href="#h45-0-521" id="h45-0-521" class="d">-		}
</a><a href="#h45-0-522" id="h45-0-522" class="d">-	case reflect.Struct:
</a><a href="#h45-0-523" id="h45-0-523" class="d">-		// Required/optional group/message.
</a><a href="#h45-0-524" id="h45-0-524" class="d">-		var bra, ket byte = &#39;&lt;&#39;, &#39;&gt;&#39;
</a><a href="#h45-0-525" id="h45-0-525" class="d">-		if props != nil &amp;&amp; props.Wire == &quot;group&quot; {
</a><a href="#h45-0-526" id="h45-0-526" class="d">-			bra, ket = &#39;{&#39;, &#39;}&#39;
</a><a href="#h45-0-527" id="h45-0-527" class="d">-		}
</a><a href="#h45-0-528" id="h45-0-528" class="d">-		if err := w.WriteByte(bra); err != nil {
</a><a href="#h45-0-529" id="h45-0-529" class="d">-			return err
</a><a href="#h45-0-530" id="h45-0-530" class="d">-		}
</a><a href="#h45-0-531" id="h45-0-531" class="d">-		if !w.compact {
</a><a href="#h45-0-532" id="h45-0-532" class="d">-			if err := w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-533" id="h45-0-533" class="d">-				return err
</a><a href="#h45-0-534" id="h45-0-534" class="d">-			}
</a><a href="#h45-0-535" id="h45-0-535" class="d">-		}
</a><a href="#h45-0-536" id="h45-0-536" class="d">-		w.indent()
</a><a href="#h45-0-537" id="h45-0-537" class="d">-		if etm, ok := v.Interface().(encoding.TextMarshaler); ok {
</a><a href="#h45-0-538" id="h45-0-538" class="d">-			text, err := etm.MarshalText()
</a><a href="#h45-0-539" id="h45-0-539" class="d">-			if err != nil {
</a><a href="#h45-0-540" id="h45-0-540" class="d">-				return err
</a><a href="#h45-0-541" id="h45-0-541" class="d">-			}
</a><a href="#h45-0-542" id="h45-0-542" class="d">-			if _, err = w.Write(text); err != nil {
</a><a href="#h45-0-543" id="h45-0-543" class="d">-				return err
</a><a href="#h45-0-544" id="h45-0-544" class="d">-			}
</a><a href="#h45-0-545" id="h45-0-545" class="d">-		} else if err := tm.writeStruct(w, v); err != nil {
</a><a href="#h45-0-546" id="h45-0-546" class="d">-			return err
</a><a href="#h45-0-547" id="h45-0-547" class="d">-		}
</a><a href="#h45-0-548" id="h45-0-548" class="d">-		w.unindent()
</a><a href="#h45-0-549" id="h45-0-549" class="d">-		if err := w.WriteByte(ket); err != nil {
</a><a href="#h45-0-550" id="h45-0-550" class="d">-			return err
</a><a href="#h45-0-551" id="h45-0-551" class="d">-		}
</a><a href="#h45-0-552" id="h45-0-552" class="d">-	default:
</a><a href="#h45-0-553" id="h45-0-553" class="d">-		_, err := fmt.Fprint(w, v.Interface())
</a><a href="#h45-0-554" id="h45-0-554" class="d">-		return err
</a><a href="#h45-0-555" id="h45-0-555" class="d">-	}
</a><a href="#h45-0-556" id="h45-0-556" class="d">-	return nil
</a><a href="#h45-0-557" id="h45-0-557" class="d">-}
</a><a href="#h45-0-558" id="h45-0-558" class="d">-
</a><a href="#h45-0-559" id="h45-0-559" class="d">-// equivalent to C&#39;s isprint.
</a><a href="#h45-0-560" id="h45-0-560" class="d">-func isprint(c byte) bool {
</a><a href="#h45-0-561" id="h45-0-561" class="d">-	return c &gt;= 0x20 &amp;&amp; c &lt; 0x7f
</a><a href="#h45-0-562" id="h45-0-562" class="d">-}
</a><a href="#h45-0-563" id="h45-0-563" class="d">-
</a><a href="#h45-0-564" id="h45-0-564" class="d">-// writeString writes a string in the protocol buffer text format.
</a><a href="#h45-0-565" id="h45-0-565" class="d">-// It is similar to strconv.Quote except we don&#39;t use Go escape sequences,
</a><a href="#h45-0-566" id="h45-0-566" class="d">-// we treat the string as a byte sequence, and we use octal escapes.
</a><a href="#h45-0-567" id="h45-0-567" class="d">-// These differences are to maintain interoperability with the other
</a><a href="#h45-0-568" id="h45-0-568" class="d">-// languages&#39; implementations of the text format.
</a><a href="#h45-0-569" id="h45-0-569" class="d">-func writeString(w *textWriter, s string) error {
</a><a href="#h45-0-570" id="h45-0-570" class="d">-	// use WriteByte here to get any needed indent
</a><a href="#h45-0-571" id="h45-0-571" class="d">-	if err := w.WriteByte(&#39;&quot;&#39;); err != nil {
</a><a href="#h45-0-572" id="h45-0-572" class="d">-		return err
</a><a href="#h45-0-573" id="h45-0-573" class="d">-	}
</a><a href="#h45-0-574" id="h45-0-574" class="d">-	// Loop over the bytes, not the runes.
</a><a href="#h45-0-575" id="h45-0-575" class="d">-	for i := 0; i &lt; len(s); i++ {
</a><a href="#h45-0-576" id="h45-0-576" class="d">-		var err error
</a><a href="#h45-0-577" id="h45-0-577" class="d">-		// Divergence from C++: we don&#39;t escape apostrophes.
</a><a href="#h45-0-578" id="h45-0-578" class="d">-		// There&#39;s no need to escape them, and the C++ parser
</a><a href="#h45-0-579" id="h45-0-579" class="d">-		// copes with a naked apostrophe.
</a><a href="#h45-0-580" id="h45-0-580" class="d">-		switch c := s[i]; c {
</a><a href="#h45-0-581" id="h45-0-581" class="d">-		case &#39;\n&#39;:
</a><a href="#h45-0-582" id="h45-0-582" class="d">-			_, err = w.w.Write(backslashN)
</a><a href="#h45-0-583" id="h45-0-583" class="d">-		case &#39;\r&#39;:
</a><a href="#h45-0-584" id="h45-0-584" class="d">-			_, err = w.w.Write(backslashR)
</a><a href="#h45-0-585" id="h45-0-585" class="d">-		case &#39;\t&#39;:
</a><a href="#h45-0-586" id="h45-0-586" class="d">-			_, err = w.w.Write(backslashT)
</a><a href="#h45-0-587" id="h45-0-587" class="d">-		case &#39;&quot;&#39;:
</a><a href="#h45-0-588" id="h45-0-588" class="d">-			_, err = w.w.Write(backslashDQ)
</a><a href="#h45-0-589" id="h45-0-589" class="d">-		case &#39;\\&#39;:
</a><a href="#h45-0-590" id="h45-0-590" class="d">-			_, err = w.w.Write(backslashBS)
</a><a href="#h45-0-591" id="h45-0-591" class="d">-		default:
</a><a href="#h45-0-592" id="h45-0-592" class="d">-			if isprint(c) {
</a><a href="#h45-0-593" id="h45-0-593" class="d">-				err = w.w.WriteByte(c)
</a><a href="#h45-0-594" id="h45-0-594" class="d">-			} else {
</a><a href="#h45-0-595" id="h45-0-595" class="d">-				_, err = fmt.Fprintf(w.w, &quot;\\%03o&quot;, c)
</a><a href="#h45-0-596" id="h45-0-596" class="d">-			}
</a><a href="#h45-0-597" id="h45-0-597" class="d">-		}
</a><a href="#h45-0-598" id="h45-0-598" class="d">-		if err != nil {
</a><a href="#h45-0-599" id="h45-0-599" class="d">-			return err
</a><a href="#h45-0-600" id="h45-0-600" class="d">-		}
</a><a href="#h45-0-601" id="h45-0-601" class="d">-	}
</a><a href="#h45-0-602" id="h45-0-602" class="d">-	return w.WriteByte(&#39;&quot;&#39;)
</a><a href="#h45-0-603" id="h45-0-603" class="d">-}
</a><a href="#h45-0-604" id="h45-0-604" class="d">-
</a><a href="#h45-0-605" id="h45-0-605" class="d">-func writeUnknownStruct(w *textWriter, data []byte) (err error) {
</a><a href="#h45-0-606" id="h45-0-606" class="d">-	if !w.compact {
</a><a href="#h45-0-607" id="h45-0-607" class="d">-		if _, err := fmt.Fprintf(w, &quot;/* %d unknown bytes */\n&quot;, len(data)); err != nil {
</a><a href="#h45-0-608" id="h45-0-608" class="d">-			return err
</a><a href="#h45-0-609" id="h45-0-609" class="d">-		}
</a><a href="#h45-0-610" id="h45-0-610" class="d">-	}
</a><a href="#h45-0-611" id="h45-0-611" class="d">-	b := NewBuffer(data)
</a><a href="#h45-0-612" id="h45-0-612" class="d">-	for b.index &lt; len(b.buf) {
</a><a href="#h45-0-613" id="h45-0-613" class="d">-		x, err := b.DecodeVarint()
</a><a href="#h45-0-614" id="h45-0-614" class="d">-		if err != nil {
</a><a href="#h45-0-615" id="h45-0-615" class="d">-			_, err := fmt.Fprintf(w, &quot;/* %v */\n&quot;, err)
</a><a href="#h45-0-616" id="h45-0-616" class="d">-			return err
</a><a href="#h45-0-617" id="h45-0-617" class="d">-		}
</a><a href="#h45-0-618" id="h45-0-618" class="d">-		wire, tag := x&amp;7, x&gt;&gt;3
</a><a href="#h45-0-619" id="h45-0-619" class="d">-		if wire == WireEndGroup {
</a><a href="#h45-0-620" id="h45-0-620" class="d">-			w.unindent()
</a><a href="#h45-0-621" id="h45-0-621" class="d">-			if _, err := w.Write(endBraceNewline); err != nil {
</a><a href="#h45-0-622" id="h45-0-622" class="d">-				return err
</a><a href="#h45-0-623" id="h45-0-623" class="d">-			}
</a><a href="#h45-0-624" id="h45-0-624" class="d">-			continue
</a><a href="#h45-0-625" id="h45-0-625" class="d">-		}
</a><a href="#h45-0-626" id="h45-0-626" class="d">-		if _, err := fmt.Fprint(w, tag); err != nil {
</a><a href="#h45-0-627" id="h45-0-627" class="d">-			return err
</a><a href="#h45-0-628" id="h45-0-628" class="d">-		}
</a><a href="#h45-0-629" id="h45-0-629" class="d">-		if wire != WireStartGroup {
</a><a href="#h45-0-630" id="h45-0-630" class="d">-			if err := w.WriteByte(&#39;:&#39;); err != nil {
</a><a href="#h45-0-631" id="h45-0-631" class="d">-				return err
</a><a href="#h45-0-632" id="h45-0-632" class="d">-			}
</a><a href="#h45-0-633" id="h45-0-633" class="d">-		}
</a><a href="#h45-0-634" id="h45-0-634" class="d">-		if !w.compact || wire == WireStartGroup {
</a><a href="#h45-0-635" id="h45-0-635" class="d">-			if err := w.WriteByte(&#39; &#39;); err != nil {
</a><a href="#h45-0-636" id="h45-0-636" class="d">-				return err
</a><a href="#h45-0-637" id="h45-0-637" class="d">-			}
</a><a href="#h45-0-638" id="h45-0-638" class="d">-		}
</a><a href="#h45-0-639" id="h45-0-639" class="d">-		switch wire {
</a><a href="#h45-0-640" id="h45-0-640" class="d">-		case WireBytes:
</a><a href="#h45-0-641" id="h45-0-641" class="d">-			buf, e := b.DecodeRawBytes(false)
</a><a href="#h45-0-642" id="h45-0-642" class="d">-			if e == nil {
</a><a href="#h45-0-643" id="h45-0-643" class="d">-				_, err = fmt.Fprintf(w, &quot;%q&quot;, buf)
</a><a href="#h45-0-644" id="h45-0-644" class="d">-			} else {
</a><a href="#h45-0-645" id="h45-0-645" class="d">-				_, err = fmt.Fprintf(w, &quot;/* %v */&quot;, e)
</a><a href="#h45-0-646" id="h45-0-646" class="d">-			}
</a><a href="#h45-0-647" id="h45-0-647" class="d">-		case WireFixed32:
</a><a href="#h45-0-648" id="h45-0-648" class="d">-			x, err = b.DecodeFixed32()
</a><a href="#h45-0-649" id="h45-0-649" class="d">-			err = writeUnknownInt(w, x, err)
</a><a href="#h45-0-650" id="h45-0-650" class="d">-		case WireFixed64:
</a><a href="#h45-0-651" id="h45-0-651" class="d">-			x, err = b.DecodeFixed64()
</a><a href="#h45-0-652" id="h45-0-652" class="d">-			err = writeUnknownInt(w, x, err)
</a><a href="#h45-0-653" id="h45-0-653" class="d">-		case WireStartGroup:
</a><a href="#h45-0-654" id="h45-0-654" class="d">-			err = w.WriteByte(&#39;{&#39;)
</a><a href="#h45-0-655" id="h45-0-655" class="d">-			w.indent()
</a><a href="#h45-0-656" id="h45-0-656" class="d">-		case WireVarint:
</a><a href="#h45-0-657" id="h45-0-657" class="d">-			x, err = b.DecodeVarint()
</a><a href="#h45-0-658" id="h45-0-658" class="d">-			err = writeUnknownInt(w, x, err)
</a><a href="#h45-0-659" id="h45-0-659" class="d">-		default:
</a><a href="#h45-0-660" id="h45-0-660" class="d">-			_, err = fmt.Fprintf(w, &quot;/* unknown wire type %d */&quot;, wire)
</a><a href="#h45-0-661" id="h45-0-661" class="d">-		}
</a><a href="#h45-0-662" id="h45-0-662" class="d">-		if err != nil {
</a><a href="#h45-0-663" id="h45-0-663" class="d">-			return err
</a><a href="#h45-0-664" id="h45-0-664" class="d">-		}
</a><a href="#h45-0-665" id="h45-0-665" class="d">-		if err = w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-666" id="h45-0-666" class="d">-			return err
</a><a href="#h45-0-667" id="h45-0-667" class="d">-		}
</a><a href="#h45-0-668" id="h45-0-668" class="d">-	}
</a><a href="#h45-0-669" id="h45-0-669" class="d">-	return nil
</a><a href="#h45-0-670" id="h45-0-670" class="d">-}
</a><a href="#h45-0-671" id="h45-0-671" class="d">-
</a><a href="#h45-0-672" id="h45-0-672" class="d">-func writeUnknownInt(w *textWriter, x uint64, err error) error {
</a><a href="#h45-0-673" id="h45-0-673" class="d">-	if err == nil {
</a><a href="#h45-0-674" id="h45-0-674" class="d">-		_, err = fmt.Fprint(w, x)
</a><a href="#h45-0-675" id="h45-0-675" class="d">-	} else {
</a><a href="#h45-0-676" id="h45-0-676" class="d">-		_, err = fmt.Fprintf(w, &quot;/* %v */&quot;, err)
</a><a href="#h45-0-677" id="h45-0-677" class="d">-	}
</a><a href="#h45-0-678" id="h45-0-678" class="d">-	return err
</a><a href="#h45-0-679" id="h45-0-679" class="d">-}
</a><a href="#h45-0-680" id="h45-0-680" class="d">-
</a><a href="#h45-0-681" id="h45-0-681" class="d">-type int32Slice []int32
</a><a href="#h45-0-682" id="h45-0-682" class="d">-
</a><a href="#h45-0-683" id="h45-0-683" class="d">-func (s int32Slice) Len() int           { return len(s) }
</a><a href="#h45-0-684" id="h45-0-684" class="d">-func (s int32Slice) Less(i, j int) bool { return s[i] &lt; s[j] }
</a><a href="#h45-0-685" id="h45-0-685" class="d">-func (s int32Slice) Swap(i, j int)      { s[i], s[j] = s[j], s[i] }
</a><a href="#h45-0-686" id="h45-0-686" class="d">-
</a><a href="#h45-0-687" id="h45-0-687" class="d">-// writeExtensions writes all the extensions in pv.
</a><a href="#h45-0-688" id="h45-0-688" class="d">-// pv is assumed to be a pointer to a protocol message struct that is extendable.
</a><a href="#h45-0-689" id="h45-0-689" class="d">-func (tm *TextMarshaler) writeExtensions(w *textWriter, pv reflect.Value) error {
</a><a href="#h45-0-690" id="h45-0-690" class="d">-	emap := extensionMaps[pv.Type().Elem()]
</a><a href="#h45-0-691" id="h45-0-691" class="d">-	ep, _ := extendable(pv.Interface())
</a><a href="#h45-0-692" id="h45-0-692" class="d">-
</a><a href="#h45-0-693" id="h45-0-693" class="d">-	// Order the extensions by ID.
</a><a href="#h45-0-694" id="h45-0-694" class="d">-	// This isn&#39;t strictly necessary, but it will give us
</a><a href="#h45-0-695" id="h45-0-695" class="d">-	// canonical output, which will also make testing easier.
</a><a href="#h45-0-696" id="h45-0-696" class="d">-	m, mu := ep.extensionsRead()
</a><a href="#h45-0-697" id="h45-0-697" class="d">-	if m == nil {
</a><a href="#h45-0-698" id="h45-0-698" class="d">-		return nil
</a><a href="#h45-0-699" id="h45-0-699" class="d">-	}
</a><a href="#h45-0-700" id="h45-0-700" class="d">-	mu.Lock()
</a><a href="#h45-0-701" id="h45-0-701" class="d">-	ids := make([]int32, 0, len(m))
</a><a href="#h45-0-702" id="h45-0-702" class="d">-	for id := range m {
</a><a href="#h45-0-703" id="h45-0-703" class="d">-		ids = append(ids, id)
</a><a href="#h45-0-704" id="h45-0-704" class="d">-	}
</a><a href="#h45-0-705" id="h45-0-705" class="d">-	sort.Sort(int32Slice(ids))
</a><a href="#h45-0-706" id="h45-0-706" class="d">-	mu.Unlock()
</a><a href="#h45-0-707" id="h45-0-707" class="d">-
</a><a href="#h45-0-708" id="h45-0-708" class="d">-	for _, extNum := range ids {
</a><a href="#h45-0-709" id="h45-0-709" class="d">-		ext := m[extNum]
</a><a href="#h45-0-710" id="h45-0-710" class="d">-		var desc *ExtensionDesc
</a><a href="#h45-0-711" id="h45-0-711" class="d">-		if emap != nil {
</a><a href="#h45-0-712" id="h45-0-712" class="d">-			desc = emap[extNum]
</a><a href="#h45-0-713" id="h45-0-713" class="d">-		}
</a><a href="#h45-0-714" id="h45-0-714" class="d">-		if desc == nil {
</a><a href="#h45-0-715" id="h45-0-715" class="d">-			// Unknown extension.
</a><a href="#h45-0-716" id="h45-0-716" class="d">-			if err := writeUnknownStruct(w, ext.enc); err != nil {
</a><a href="#h45-0-717" id="h45-0-717" class="d">-				return err
</a><a href="#h45-0-718" id="h45-0-718" class="d">-			}
</a><a href="#h45-0-719" id="h45-0-719" class="d">-			continue
</a><a href="#h45-0-720" id="h45-0-720" class="d">-		}
</a><a href="#h45-0-721" id="h45-0-721" class="d">-
</a><a href="#h45-0-722" id="h45-0-722" class="d">-		pb, err := GetExtension(ep, desc)
</a><a href="#h45-0-723" id="h45-0-723" class="d">-		if err != nil {
</a><a href="#h45-0-724" id="h45-0-724" class="d">-			return fmt.Errorf(&quot;failed getting extension: %v&quot;, err)
</a><a href="#h45-0-725" id="h45-0-725" class="d">-		}
</a><a href="#h45-0-726" id="h45-0-726" class="d">-
</a><a href="#h45-0-727" id="h45-0-727" class="d">-		// Repeated extensions will appear as a slice.
</a><a href="#h45-0-728" id="h45-0-728" class="d">-		if !desc.repeated() {
</a><a href="#h45-0-729" id="h45-0-729" class="d">-			if err := tm.writeExtension(w, desc.Name, pb); err != nil {
</a><a href="#h45-0-730" id="h45-0-730" class="d">-				return err
</a><a href="#h45-0-731" id="h45-0-731" class="d">-			}
</a><a href="#h45-0-732" id="h45-0-732" class="d">-		} else {
</a><a href="#h45-0-733" id="h45-0-733" class="d">-			v := reflect.ValueOf(pb)
</a><a href="#h45-0-734" id="h45-0-734" class="d">-			for i := 0; i &lt; v.Len(); i++ {
</a><a href="#h45-0-735" id="h45-0-735" class="d">-				if err := tm.writeExtension(w, desc.Name, v.Index(i).Interface()); err != nil {
</a><a href="#h45-0-736" id="h45-0-736" class="d">-					return err
</a><a href="#h45-0-737" id="h45-0-737" class="d">-				}
</a><a href="#h45-0-738" id="h45-0-738" class="d">-			}
</a><a href="#h45-0-739" id="h45-0-739" class="d">-		}
</a><a href="#h45-0-740" id="h45-0-740" class="d">-	}
</a><a href="#h45-0-741" id="h45-0-741" class="d">-	return nil
</a><a href="#h45-0-742" id="h45-0-742" class="d">-}
</a><a href="#h45-0-743" id="h45-0-743" class="d">-
</a><a href="#h45-0-744" id="h45-0-744" class="d">-func (tm *TextMarshaler) writeExtension(w *textWriter, name string, pb interface{}) error {
</a><a href="#h45-0-745" id="h45-0-745" class="d">-	if _, err := fmt.Fprintf(w, &quot;[%s]:&quot;, name); err != nil {
</a><a href="#h45-0-746" id="h45-0-746" class="d">-		return err
</a><a href="#h45-0-747" id="h45-0-747" class="d">-	}
</a><a href="#h45-0-748" id="h45-0-748" class="d">-	if !w.compact {
</a><a href="#h45-0-749" id="h45-0-749" class="d">-		if err := w.WriteByte(&#39; &#39;); err != nil {
</a><a href="#h45-0-750" id="h45-0-750" class="d">-			return err
</a><a href="#h45-0-751" id="h45-0-751" class="d">-		}
</a><a href="#h45-0-752" id="h45-0-752" class="d">-	}
</a><a href="#h45-0-753" id="h45-0-753" class="d">-	if err := tm.writeAny(w, reflect.ValueOf(pb), nil); err != nil {
</a><a href="#h45-0-754" id="h45-0-754" class="d">-		return err
</a><a href="#h45-0-755" id="h45-0-755" class="d">-	}
</a><a href="#h45-0-756" id="h45-0-756" class="d">-	if err := w.WriteByte(&#39;\n&#39;); err != nil {
</a><a href="#h45-0-757" id="h45-0-757" class="d">-		return err
</a><a href="#h45-0-758" id="h45-0-758" class="d">-	}
</a><a href="#h45-0-759" id="h45-0-759" class="d">-	return nil
</a><a href="#h45-0-760" id="h45-0-760" class="d">-}
</a><a href="#h45-0-761" id="h45-0-761" class="d">-
</a><a href="#h45-0-762" id="h45-0-762" class="d">-func (w *textWriter) writeIndent() {
</a><a href="#h45-0-763" id="h45-0-763" class="d">-	if !w.complete {
</a><a href="#h45-0-764" id="h45-0-764" class="d">-		return
</a><a href="#h45-0-765" id="h45-0-765" class="d">-	}
</a><a href="#h45-0-766" id="h45-0-766" class="d">-	remain := w.ind * 2
</a><a href="#h45-0-767" id="h45-0-767" class="d">-	for remain &gt; 0 {
</a><a href="#h45-0-768" id="h45-0-768" class="d">-		n := remain
</a><a href="#h45-0-769" id="h45-0-769" class="d">-		if n &gt; len(spaces) {
</a><a href="#h45-0-770" id="h45-0-770" class="d">-			n = len(spaces)
</a><a href="#h45-0-771" id="h45-0-771" class="d">-		}
</a><a href="#h45-0-772" id="h45-0-772" class="d">-		w.w.Write(spaces[:n])
</a><a href="#h45-0-773" id="h45-0-773" class="d">-		remain -= n
</a><a href="#h45-0-774" id="h45-0-774" class="d">-	}
</a><a href="#h45-0-775" id="h45-0-775" class="d">-	w.complete = false
</a><a href="#h45-0-776" id="h45-0-776" class="d">-}
</a><a href="#h45-0-777" id="h45-0-777" class="d">-
</a><a href="#h45-0-778" id="h45-0-778" class="d">-// TextMarshaler is a configurable text format marshaler.
</a><a href="#h45-0-779" id="h45-0-779" class="d">-type TextMarshaler struct {
</a><a href="#h45-0-780" id="h45-0-780" class="d">-	Compact   bool // use compact text format (one line).
</a><a href="#h45-0-781" id="h45-0-781" class="d">-	ExpandAny bool // expand google.protobuf.Any messages of known types
</a><a href="#h45-0-782" id="h45-0-782" class="d">-}
</a><a href="#h45-0-783" id="h45-0-783" class="d">-
</a><a href="#h45-0-784" id="h45-0-784" class="d">-// Marshal writes a given protocol buffer in text format.
</a><a href="#h45-0-785" id="h45-0-785" class="d">-// The only errors returned are from w.
</a><a href="#h45-0-786" id="h45-0-786" class="d">-func (tm *TextMarshaler) Marshal(w io.Writer, pb Message) error {
</a><a href="#h45-0-787" id="h45-0-787" class="d">-	val := reflect.ValueOf(pb)
</a><a href="#h45-0-788" id="h45-0-788" class="d">-	if pb == nil || val.IsNil() {
</a><a href="#h45-0-789" id="h45-0-789" class="d">-		w.Write([]byte(&quot;&lt;nil&gt;&quot;))
</a><a href="#h45-0-790" id="h45-0-790" class="d">-		return nil
</a><a href="#h45-0-791" id="h45-0-791" class="d">-	}
</a><a href="#h45-0-792" id="h45-0-792" class="d">-	var bw *bufio.Writer
</a><a href="#h45-0-793" id="h45-0-793" class="d">-	ww, ok := w.(writer)
</a><a href="#h45-0-794" id="h45-0-794" class="d">-	if !ok {
</a><a href="#h45-0-795" id="h45-0-795" class="d">-		bw = bufio.NewWriter(w)
</a><a href="#h45-0-796" id="h45-0-796" class="d">-		ww = bw
</a><a href="#h45-0-797" id="h45-0-797" class="d">-	}
</a><a href="#h45-0-798" id="h45-0-798" class="d">-	aw := &amp;textWriter{
</a><a href="#h45-0-799" id="h45-0-799" class="d">-		w:        ww,
</a><a href="#h45-0-800" id="h45-0-800" class="d">-		complete: true,
</a><a href="#h45-0-801" id="h45-0-801" class="d">-		compact:  tm.Compact,
</a><a href="#h45-0-802" id="h45-0-802" class="d">-	}
</a><a href="#h45-0-803" id="h45-0-803" class="d">-
</a><a href="#h45-0-804" id="h45-0-804" class="d">-	if etm, ok := pb.(encoding.TextMarshaler); ok {
</a><a href="#h45-0-805" id="h45-0-805" class="d">-		text, err := etm.MarshalText()
</a><a href="#h45-0-806" id="h45-0-806" class="d">-		if err != nil {
</a><a href="#h45-0-807" id="h45-0-807" class="d">-			return err
</a><a href="#h45-0-808" id="h45-0-808" class="d">-		}
</a><a href="#h45-0-809" id="h45-0-809" class="d">-		if _, err = aw.Write(text); err != nil {
</a><a href="#h45-0-810" id="h45-0-810" class="d">-			return err
</a><a href="#h45-0-811" id="h45-0-811" class="d">-		}
</a><a href="#h45-0-812" id="h45-0-812" class="d">-		if bw != nil {
</a><a href="#h45-0-813" id="h45-0-813" class="d">-			return bw.Flush()
</a><a href="#h45-0-814" id="h45-0-814" class="d">-		}
</a><a href="#h45-0-815" id="h45-0-815" class="d">-		return nil
</a><a href="#h45-0-816" id="h45-0-816" class="d">-	}
</a><a href="#h45-0-817" id="h45-0-817" class="d">-	// Dereference the received pointer so we don&#39;t have outer &lt; and &gt;.
</a><a href="#h45-0-818" id="h45-0-818" class="d">-	v := reflect.Indirect(val)
</a><a href="#h45-0-819" id="h45-0-819" class="d">-	if err := tm.writeStruct(aw, v); err != nil {
</a><a href="#h45-0-820" id="h45-0-820" class="d">-		return err
</a><a href="#h45-0-821" id="h45-0-821" class="d">-	}
</a><a href="#h45-0-822" id="h45-0-822" class="d">-	if bw != nil {
</a><a href="#h45-0-823" id="h45-0-823" class="d">-		return bw.Flush()
</a><a href="#h45-0-824" id="h45-0-824" class="d">-	}
</a><a href="#h45-0-825" id="h45-0-825" class="d">-	return nil
</a><a href="#h45-0-826" id="h45-0-826" class="d">-}
</a><a href="#h45-0-827" id="h45-0-827" class="d">-
</a><a href="#h45-0-828" id="h45-0-828" class="d">-// Text is the same as Marshal, but returns the string directly.
</a><a href="#h45-0-829" id="h45-0-829" class="d">-func (tm *TextMarshaler) Text(pb Message) string {
</a><a href="#h45-0-830" id="h45-0-830" class="d">-	var buf bytes.Buffer
</a><a href="#h45-0-831" id="h45-0-831" class="d">-	tm.Marshal(&amp;buf, pb)
</a><a href="#h45-0-832" id="h45-0-832" class="d">-	return buf.String()
</a><a href="#h45-0-833" id="h45-0-833" class="d">-}
</a><a href="#h45-0-834" id="h45-0-834" class="d">-
</a><a href="#h45-0-835" id="h45-0-835" class="d">-var (
</a><a href="#h45-0-836" id="h45-0-836" class="d">-	defaultTextMarshaler = TextMarshaler{}
</a><a href="#h45-0-837" id="h45-0-837" class="d">-	compactTextMarshaler = TextMarshaler{Compact: true}
</a><a href="#h45-0-838" id="h45-0-838" class="d">-)
</a><a href="#h45-0-839" id="h45-0-839" class="d">-
</a><a href="#h45-0-840" id="h45-0-840" class="d">-// TODO: consider removing some of the Marshal functions below.
</a><a href="#h45-0-841" id="h45-0-841" class="d">-
</a><a href="#h45-0-842" id="h45-0-842" class="d">-// MarshalText writes a given protocol buffer in text format.
</a><a href="#h45-0-843" id="h45-0-843" class="d">-// The only errors returned are from w.
</a><a href="#h45-0-844" id="h45-0-844" class="d">-func MarshalText(w io.Writer, pb Message) error { return defaultTextMarshaler.Marshal(w, pb) }
</a><a href="#h45-0-845" id="h45-0-845" class="d">-
</a><a href="#h45-0-846" id="h45-0-846" class="d">-// MarshalTextString is the same as MarshalText, but returns the string directly.
</a><a href="#h45-0-847" id="h45-0-847" class="d">-func MarshalTextString(pb Message) string { return defaultTextMarshaler.Text(pb) }
</a><a href="#h45-0-848" id="h45-0-848" class="d">-
</a><a href="#h45-0-849" id="h45-0-849" class="d">-// CompactText writes a given protocol buffer in compact text format (one line).
</a><a href="#h45-0-850" id="h45-0-850" class="d">-func CompactText(w io.Writer, pb Message) error { return compactTextMarshaler.Marshal(w, pb) }
</a><a href="#h45-0-851" id="h45-0-851" class="d">-
</a><a href="#h45-0-852" id="h45-0-852" class="d">-// CompactTextString is the same as CompactText, but returns the string directly.
</a><a href="#h45-0-853" id="h45-0-853" class="d">-func CompactTextString(pb Message) string { return compactTextMarshaler.Text(pb) }
</a><b>diff --git a/<a id="h46" href="../file/vendor/github.com/golang/protobuf/proto/text_parser.go">vendor/github.com/golang/protobuf/proto/text_parser.go</a> b/<a href="../file/vendor/github.com/golang/protobuf/proto/text_parser.go">vendor/github.com/golang/protobuf/proto/text_parser.go</a></b>
<a href="#h46-0" id="h46-0" class="h">@@ -1,891 +0,0 @@
</a><a href="#h46-0-0" id="h46-0-0" class="d">-// Go support for Protocol Buffers - Google&#39;s data interchange format
</a><a href="#h46-0-1" id="h46-0-1" class="d">-//
</a><a href="#h46-0-2" id="h46-0-2" class="d">-// Copyright 2010 The Go Authors.  All rights reserved.
</a><a href="#h46-0-3" id="h46-0-3" class="d">-// https://github.com/golang/protobuf
</a><a href="#h46-0-4" id="h46-0-4" class="d">-//
</a><a href="#h46-0-5" id="h46-0-5" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h46-0-6" id="h46-0-6" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h46-0-7" id="h46-0-7" class="d">-// met:
</a><a href="#h46-0-8" id="h46-0-8" class="d">-//
</a><a href="#h46-0-9" id="h46-0-9" class="d">-//     * Redistributions of source code must retain the above copyright
</a><a href="#h46-0-10" id="h46-0-10" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h46-0-11" id="h46-0-11" class="d">-//     * Redistributions in binary form must reproduce the above
</a><a href="#h46-0-12" id="h46-0-12" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h46-0-13" id="h46-0-13" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h46-0-14" id="h46-0-14" class="d">-// distribution.
</a><a href="#h46-0-15" id="h46-0-15" class="d">-//     * Neither the name of Google Inc. nor the names of its
</a><a href="#h46-0-16" id="h46-0-16" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h46-0-17" id="h46-0-17" class="d">-// this software without specific prior written permission.
</a><a href="#h46-0-18" id="h46-0-18" class="d">-//
</a><a href="#h46-0-19" id="h46-0-19" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h46-0-20" id="h46-0-20" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h46-0-21" id="h46-0-21" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h46-0-22" id="h46-0-22" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h46-0-23" id="h46-0-23" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h46-0-24" id="h46-0-24" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h46-0-25" id="h46-0-25" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h46-0-26" id="h46-0-26" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h46-0-27" id="h46-0-27" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h46-0-28" id="h46-0-28" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h46-0-29" id="h46-0-29" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h46-0-30" id="h46-0-30" class="d">-
</a><a href="#h46-0-31" id="h46-0-31" class="d">-package proto
</a><a href="#h46-0-32" id="h46-0-32" class="d">-
</a><a href="#h46-0-33" id="h46-0-33" class="d">-// Functions for parsing the Text protocol buffer format.
</a><a href="#h46-0-34" id="h46-0-34" class="d">-// TODO: message sets.
</a><a href="#h46-0-35" id="h46-0-35" class="d">-
</a><a href="#h46-0-36" id="h46-0-36" class="d">-import (
</a><a href="#h46-0-37" id="h46-0-37" class="d">-	&quot;encoding&quot;
</a><a href="#h46-0-38" id="h46-0-38" class="d">-	&quot;errors&quot;
</a><a href="#h46-0-39" id="h46-0-39" class="d">-	&quot;fmt&quot;
</a><a href="#h46-0-40" id="h46-0-40" class="d">-	&quot;reflect&quot;
</a><a href="#h46-0-41" id="h46-0-41" class="d">-	&quot;strconv&quot;
</a><a href="#h46-0-42" id="h46-0-42" class="d">-	&quot;strings&quot;
</a><a href="#h46-0-43" id="h46-0-43" class="d">-	&quot;unicode/utf8&quot;
</a><a href="#h46-0-44" id="h46-0-44" class="d">-)
</a><a href="#h46-0-45" id="h46-0-45" class="d">-
</a><a href="#h46-0-46" id="h46-0-46" class="d">-// Error string emitted when deserializing Any and fields are already set
</a><a href="#h46-0-47" id="h46-0-47" class="d">-const anyRepeatedlyUnpacked = &quot;Any message unpacked multiple times, or %q already set&quot;
</a><a href="#h46-0-48" id="h46-0-48" class="d">-
</a><a href="#h46-0-49" id="h46-0-49" class="d">-type ParseError struct {
</a><a href="#h46-0-50" id="h46-0-50" class="d">-	Message string
</a><a href="#h46-0-51" id="h46-0-51" class="d">-	Line    int // 1-based line number
</a><a href="#h46-0-52" id="h46-0-52" class="d">-	Offset  int // 0-based byte offset from start of input
</a><a href="#h46-0-53" id="h46-0-53" class="d">-}
</a><a href="#h46-0-54" id="h46-0-54" class="d">-
</a><a href="#h46-0-55" id="h46-0-55" class="d">-func (p *ParseError) Error() string {
</a><a href="#h46-0-56" id="h46-0-56" class="d">-	if p.Line == 1 {
</a><a href="#h46-0-57" id="h46-0-57" class="d">-		// show offset only for first line
</a><a href="#h46-0-58" id="h46-0-58" class="d">-		return fmt.Sprintf(&quot;line 1.%d: %v&quot;, p.Offset, p.Message)
</a><a href="#h46-0-59" id="h46-0-59" class="d">-	}
</a><a href="#h46-0-60" id="h46-0-60" class="d">-	return fmt.Sprintf(&quot;line %d: %v&quot;, p.Line, p.Message)
</a><a href="#h46-0-61" id="h46-0-61" class="d">-}
</a><a href="#h46-0-62" id="h46-0-62" class="d">-
</a><a href="#h46-0-63" id="h46-0-63" class="d">-type token struct {
</a><a href="#h46-0-64" id="h46-0-64" class="d">-	value    string
</a><a href="#h46-0-65" id="h46-0-65" class="d">-	err      *ParseError
</a><a href="#h46-0-66" id="h46-0-66" class="d">-	line     int    // line number
</a><a href="#h46-0-67" id="h46-0-67" class="d">-	offset   int    // byte number from start of input, not start of line
</a><a href="#h46-0-68" id="h46-0-68" class="d">-	unquoted string // the unquoted version of value, if it was a quoted string
</a><a href="#h46-0-69" id="h46-0-69" class="d">-}
</a><a href="#h46-0-70" id="h46-0-70" class="d">-
</a><a href="#h46-0-71" id="h46-0-71" class="d">-func (t *token) String() string {
</a><a href="#h46-0-72" id="h46-0-72" class="d">-	if t.err == nil {
</a><a href="#h46-0-73" id="h46-0-73" class="d">-		return fmt.Sprintf(&quot;%q (line=%d, offset=%d)&quot;, t.value, t.line, t.offset)
</a><a href="#h46-0-74" id="h46-0-74" class="d">-	}
</a><a href="#h46-0-75" id="h46-0-75" class="d">-	return fmt.Sprintf(&quot;parse error: %v&quot;, t.err)
</a><a href="#h46-0-76" id="h46-0-76" class="d">-}
</a><a href="#h46-0-77" id="h46-0-77" class="d">-
</a><a href="#h46-0-78" id="h46-0-78" class="d">-type textParser struct {
</a><a href="#h46-0-79" id="h46-0-79" class="d">-	s            string // remaining input
</a><a href="#h46-0-80" id="h46-0-80" class="d">-	done         bool   // whether the parsing is finished (success or error)
</a><a href="#h46-0-81" id="h46-0-81" class="d">-	backed       bool   // whether back() was called
</a><a href="#h46-0-82" id="h46-0-82" class="d">-	offset, line int
</a><a href="#h46-0-83" id="h46-0-83" class="d">-	cur          token
</a><a href="#h46-0-84" id="h46-0-84" class="d">-}
</a><a href="#h46-0-85" id="h46-0-85" class="d">-
</a><a href="#h46-0-86" id="h46-0-86" class="d">-func newTextParser(s string) *textParser {
</a><a href="#h46-0-87" id="h46-0-87" class="d">-	p := new(textParser)
</a><a href="#h46-0-88" id="h46-0-88" class="d">-	p.s = s
</a><a href="#h46-0-89" id="h46-0-89" class="d">-	p.line = 1
</a><a href="#h46-0-90" id="h46-0-90" class="d">-	p.cur.line = 1
</a><a href="#h46-0-91" id="h46-0-91" class="d">-	return p
</a><a href="#h46-0-92" id="h46-0-92" class="d">-}
</a><a href="#h46-0-93" id="h46-0-93" class="d">-
</a><a href="#h46-0-94" id="h46-0-94" class="d">-func (p *textParser) errorf(format string, a ...interface{}) *ParseError {
</a><a href="#h46-0-95" id="h46-0-95" class="d">-	pe := &amp;ParseError{fmt.Sprintf(format, a...), p.cur.line, p.cur.offset}
</a><a href="#h46-0-96" id="h46-0-96" class="d">-	p.cur.err = pe
</a><a href="#h46-0-97" id="h46-0-97" class="d">-	p.done = true
</a><a href="#h46-0-98" id="h46-0-98" class="d">-	return pe
</a><a href="#h46-0-99" id="h46-0-99" class="d">-}
</a><a href="#h46-0-100" id="h46-0-100" class="d">-
</a><a href="#h46-0-101" id="h46-0-101" class="d">-// Numbers and identifiers are matched by [-+._A-Za-z0-9]
</a><a href="#h46-0-102" id="h46-0-102" class="d">-func isIdentOrNumberChar(c byte) bool {
</a><a href="#h46-0-103" id="h46-0-103" class="d">-	switch {
</a><a href="#h46-0-104" id="h46-0-104" class="d">-	case &#39;A&#39; &lt;= c &amp;&amp; c &lt;= &#39;Z&#39;, &#39;a&#39; &lt;= c &amp;&amp; c &lt;= &#39;z&#39;:
</a><a href="#h46-0-105" id="h46-0-105" class="d">-		return true
</a><a href="#h46-0-106" id="h46-0-106" class="d">-	case &#39;0&#39; &lt;= c &amp;&amp; c &lt;= &#39;9&#39;:
</a><a href="#h46-0-107" id="h46-0-107" class="d">-		return true
</a><a href="#h46-0-108" id="h46-0-108" class="d">-	}
</a><a href="#h46-0-109" id="h46-0-109" class="d">-	switch c {
</a><a href="#h46-0-110" id="h46-0-110" class="d">-	case &#39;-&#39;, &#39;+&#39;, &#39;.&#39;, &#39;_&#39;:
</a><a href="#h46-0-111" id="h46-0-111" class="d">-		return true
</a><a href="#h46-0-112" id="h46-0-112" class="d">-	}
</a><a href="#h46-0-113" id="h46-0-113" class="d">-	return false
</a><a href="#h46-0-114" id="h46-0-114" class="d">-}
</a><a href="#h46-0-115" id="h46-0-115" class="d">-
</a><a href="#h46-0-116" id="h46-0-116" class="d">-func isWhitespace(c byte) bool {
</a><a href="#h46-0-117" id="h46-0-117" class="d">-	switch c {
</a><a href="#h46-0-118" id="h46-0-118" class="d">-	case &#39; &#39;, &#39;\t&#39;, &#39;\n&#39;, &#39;\r&#39;:
</a><a href="#h46-0-119" id="h46-0-119" class="d">-		return true
</a><a href="#h46-0-120" id="h46-0-120" class="d">-	}
</a><a href="#h46-0-121" id="h46-0-121" class="d">-	return false
</a><a href="#h46-0-122" id="h46-0-122" class="d">-}
</a><a href="#h46-0-123" id="h46-0-123" class="d">-
</a><a href="#h46-0-124" id="h46-0-124" class="d">-func isQuote(c byte) bool {
</a><a href="#h46-0-125" id="h46-0-125" class="d">-	switch c {
</a><a href="#h46-0-126" id="h46-0-126" class="d">-	case &#39;&quot;&#39;, &#39;\&#39;&#39;:
</a><a href="#h46-0-127" id="h46-0-127" class="d">-		return true
</a><a href="#h46-0-128" id="h46-0-128" class="d">-	}
</a><a href="#h46-0-129" id="h46-0-129" class="d">-	return false
</a><a href="#h46-0-130" id="h46-0-130" class="d">-}
</a><a href="#h46-0-131" id="h46-0-131" class="d">-
</a><a href="#h46-0-132" id="h46-0-132" class="d">-func (p *textParser) skipWhitespace() {
</a><a href="#h46-0-133" id="h46-0-133" class="d">-	i := 0
</a><a href="#h46-0-134" id="h46-0-134" class="d">-	for i &lt; len(p.s) &amp;&amp; (isWhitespace(p.s[i]) || p.s[i] == &#39;#&#39;) {
</a><a href="#h46-0-135" id="h46-0-135" class="d">-		if p.s[i] == &#39;#&#39; {
</a><a href="#h46-0-136" id="h46-0-136" class="d">-			// comment; skip to end of line or input
</a><a href="#h46-0-137" id="h46-0-137" class="d">-			for i &lt; len(p.s) &amp;&amp; p.s[i] != &#39;\n&#39; {
</a><a href="#h46-0-138" id="h46-0-138" class="d">-				i++
</a><a href="#h46-0-139" id="h46-0-139" class="d">-			}
</a><a href="#h46-0-140" id="h46-0-140" class="d">-			if i == len(p.s) {
</a><a href="#h46-0-141" id="h46-0-141" class="d">-				break
</a><a href="#h46-0-142" id="h46-0-142" class="d">-			}
</a><a href="#h46-0-143" id="h46-0-143" class="d">-		}
</a><a href="#h46-0-144" id="h46-0-144" class="d">-		if p.s[i] == &#39;\n&#39; {
</a><a href="#h46-0-145" id="h46-0-145" class="d">-			p.line++
</a><a href="#h46-0-146" id="h46-0-146" class="d">-		}
</a><a href="#h46-0-147" id="h46-0-147" class="d">-		i++
</a><a href="#h46-0-148" id="h46-0-148" class="d">-	}
</a><a href="#h46-0-149" id="h46-0-149" class="d">-	p.offset += i
</a><a href="#h46-0-150" id="h46-0-150" class="d">-	p.s = p.s[i:len(p.s)]
</a><a href="#h46-0-151" id="h46-0-151" class="d">-	if len(p.s) == 0 {
</a><a href="#h46-0-152" id="h46-0-152" class="d">-		p.done = true
</a><a href="#h46-0-153" id="h46-0-153" class="d">-	}
</a><a href="#h46-0-154" id="h46-0-154" class="d">-}
</a><a href="#h46-0-155" id="h46-0-155" class="d">-
</a><a href="#h46-0-156" id="h46-0-156" class="d">-func (p *textParser) advance() {
</a><a href="#h46-0-157" id="h46-0-157" class="d">-	// Skip whitespace
</a><a href="#h46-0-158" id="h46-0-158" class="d">-	p.skipWhitespace()
</a><a href="#h46-0-159" id="h46-0-159" class="d">-	if p.done {
</a><a href="#h46-0-160" id="h46-0-160" class="d">-		return
</a><a href="#h46-0-161" id="h46-0-161" class="d">-	}
</a><a href="#h46-0-162" id="h46-0-162" class="d">-
</a><a href="#h46-0-163" id="h46-0-163" class="d">-	// Start of non-whitespace
</a><a href="#h46-0-164" id="h46-0-164" class="d">-	p.cur.err = nil
</a><a href="#h46-0-165" id="h46-0-165" class="d">-	p.cur.offset, p.cur.line = p.offset, p.line
</a><a href="#h46-0-166" id="h46-0-166" class="d">-	p.cur.unquoted = &quot;&quot;
</a><a href="#h46-0-167" id="h46-0-167" class="d">-	switch p.s[0] {
</a><a href="#h46-0-168" id="h46-0-168" class="d">-	case &#39;&lt;&#39;, &#39;&gt;&#39;, &#39;{&#39;, &#39;}&#39;, &#39;:&#39;, &#39;[&#39;, &#39;]&#39;, &#39;;&#39;, &#39;,&#39;, &#39;/&#39;:
</a><a href="#h46-0-169" id="h46-0-169" class="d">-		// Single symbol
</a><a href="#h46-0-170" id="h46-0-170" class="d">-		p.cur.value, p.s = p.s[0:1], p.s[1:len(p.s)]
</a><a href="#h46-0-171" id="h46-0-171" class="d">-	case &#39;&quot;&#39;, &#39;\&#39;&#39;:
</a><a href="#h46-0-172" id="h46-0-172" class="d">-		// Quoted string
</a><a href="#h46-0-173" id="h46-0-173" class="d">-		i := 1
</a><a href="#h46-0-174" id="h46-0-174" class="d">-		for i &lt; len(p.s) &amp;&amp; p.s[i] != p.s[0] &amp;&amp; p.s[i] != &#39;\n&#39; {
</a><a href="#h46-0-175" id="h46-0-175" class="d">-			if p.s[i] == &#39;\\&#39; &amp;&amp; i+1 &lt; len(p.s) {
</a><a href="#h46-0-176" id="h46-0-176" class="d">-				// skip escaped char
</a><a href="#h46-0-177" id="h46-0-177" class="d">-				i++
</a><a href="#h46-0-178" id="h46-0-178" class="d">-			}
</a><a href="#h46-0-179" id="h46-0-179" class="d">-			i++
</a><a href="#h46-0-180" id="h46-0-180" class="d">-		}
</a><a href="#h46-0-181" id="h46-0-181" class="d">-		if i &gt;= len(p.s) || p.s[i] != p.s[0] {
</a><a href="#h46-0-182" id="h46-0-182" class="d">-			p.errorf(&quot;unmatched quote&quot;)
</a><a href="#h46-0-183" id="h46-0-183" class="d">-			return
</a><a href="#h46-0-184" id="h46-0-184" class="d">-		}
</a><a href="#h46-0-185" id="h46-0-185" class="d">-		unq, err := unquoteC(p.s[1:i], rune(p.s[0]))
</a><a href="#h46-0-186" id="h46-0-186" class="d">-		if err != nil {
</a><a href="#h46-0-187" id="h46-0-187" class="d">-			p.errorf(&quot;invalid quoted string %s: %v&quot;, p.s[0:i+1], err)
</a><a href="#h46-0-188" id="h46-0-188" class="d">-			return
</a><a href="#h46-0-189" id="h46-0-189" class="d">-		}
</a><a href="#h46-0-190" id="h46-0-190" class="d">-		p.cur.value, p.s = p.s[0:i+1], p.s[i+1:len(p.s)]
</a><a href="#h46-0-191" id="h46-0-191" class="d">-		p.cur.unquoted = unq
</a><a href="#h46-0-192" id="h46-0-192" class="d">-	default:
</a><a href="#h46-0-193" id="h46-0-193" class="d">-		i := 0
</a><a href="#h46-0-194" id="h46-0-194" class="d">-		for i &lt; len(p.s) &amp;&amp; isIdentOrNumberChar(p.s[i]) {
</a><a href="#h46-0-195" id="h46-0-195" class="d">-			i++
</a><a href="#h46-0-196" id="h46-0-196" class="d">-		}
</a><a href="#h46-0-197" id="h46-0-197" class="d">-		if i == 0 {
</a><a href="#h46-0-198" id="h46-0-198" class="d">-			p.errorf(&quot;unexpected byte %#x&quot;, p.s[0])
</a><a href="#h46-0-199" id="h46-0-199" class="d">-			return
</a><a href="#h46-0-200" id="h46-0-200" class="d">-		}
</a><a href="#h46-0-201" id="h46-0-201" class="d">-		p.cur.value, p.s = p.s[0:i], p.s[i:len(p.s)]
</a><a href="#h46-0-202" id="h46-0-202" class="d">-	}
</a><a href="#h46-0-203" id="h46-0-203" class="d">-	p.offset += len(p.cur.value)
</a><a href="#h46-0-204" id="h46-0-204" class="d">-}
</a><a href="#h46-0-205" id="h46-0-205" class="d">-
</a><a href="#h46-0-206" id="h46-0-206" class="d">-var (
</a><a href="#h46-0-207" id="h46-0-207" class="d">-	errBadUTF8 = errors.New(&quot;proto: bad UTF-8&quot;)
</a><a href="#h46-0-208" id="h46-0-208" class="d">-	errBadHex  = errors.New(&quot;proto: bad hexadecimal&quot;)
</a><a href="#h46-0-209" id="h46-0-209" class="d">-)
</a><a href="#h46-0-210" id="h46-0-210" class="d">-
</a><a href="#h46-0-211" id="h46-0-211" class="d">-func unquoteC(s string, quote rune) (string, error) {
</a><a href="#h46-0-212" id="h46-0-212" class="d">-	// This is based on C++&#39;s tokenizer.cc.
</a><a href="#h46-0-213" id="h46-0-213" class="d">-	// Despite its name, this is *not* parsing C syntax.
</a><a href="#h46-0-214" id="h46-0-214" class="d">-	// For instance, &quot;\0&quot; is an invalid quoted string.
</a><a href="#h46-0-215" id="h46-0-215" class="d">-
</a><a href="#h46-0-216" id="h46-0-216" class="d">-	// Avoid allocation in trivial cases.
</a><a href="#h46-0-217" id="h46-0-217" class="d">-	simple := true
</a><a href="#h46-0-218" id="h46-0-218" class="d">-	for _, r := range s {
</a><a href="#h46-0-219" id="h46-0-219" class="d">-		if r == &#39;\\&#39; || r == quote {
</a><a href="#h46-0-220" id="h46-0-220" class="d">-			simple = false
</a><a href="#h46-0-221" id="h46-0-221" class="d">-			break
</a><a href="#h46-0-222" id="h46-0-222" class="d">-		}
</a><a href="#h46-0-223" id="h46-0-223" class="d">-	}
</a><a href="#h46-0-224" id="h46-0-224" class="d">-	if simple {
</a><a href="#h46-0-225" id="h46-0-225" class="d">-		return s, nil
</a><a href="#h46-0-226" id="h46-0-226" class="d">-	}
</a><a href="#h46-0-227" id="h46-0-227" class="d">-
</a><a href="#h46-0-228" id="h46-0-228" class="d">-	buf := make([]byte, 0, 3*len(s)/2)
</a><a href="#h46-0-229" id="h46-0-229" class="d">-	for len(s) &gt; 0 {
</a><a href="#h46-0-230" id="h46-0-230" class="d">-		r, n := utf8.DecodeRuneInString(s)
</a><a href="#h46-0-231" id="h46-0-231" class="d">-		if r == utf8.RuneError &amp;&amp; n == 1 {
</a><a href="#h46-0-232" id="h46-0-232" class="d">-			return &quot;&quot;, errBadUTF8
</a><a href="#h46-0-233" id="h46-0-233" class="d">-		}
</a><a href="#h46-0-234" id="h46-0-234" class="d">-		s = s[n:]
</a><a href="#h46-0-235" id="h46-0-235" class="d">-		if r != &#39;\\&#39; {
</a><a href="#h46-0-236" id="h46-0-236" class="d">-			if r &lt; utf8.RuneSelf {
</a><a href="#h46-0-237" id="h46-0-237" class="d">-				buf = append(buf, byte(r))
</a><a href="#h46-0-238" id="h46-0-238" class="d">-			} else {
</a><a href="#h46-0-239" id="h46-0-239" class="d">-				buf = append(buf, string(r)...)
</a><a href="#h46-0-240" id="h46-0-240" class="d">-			}
</a><a href="#h46-0-241" id="h46-0-241" class="d">-			continue
</a><a href="#h46-0-242" id="h46-0-242" class="d">-		}
</a><a href="#h46-0-243" id="h46-0-243" class="d">-
</a><a href="#h46-0-244" id="h46-0-244" class="d">-		ch, tail, err := unescape(s)
</a><a href="#h46-0-245" id="h46-0-245" class="d">-		if err != nil {
</a><a href="#h46-0-246" id="h46-0-246" class="d">-			return &quot;&quot;, err
</a><a href="#h46-0-247" id="h46-0-247" class="d">-		}
</a><a href="#h46-0-248" id="h46-0-248" class="d">-		buf = append(buf, ch...)
</a><a href="#h46-0-249" id="h46-0-249" class="d">-		s = tail
</a><a href="#h46-0-250" id="h46-0-250" class="d">-	}
</a><a href="#h46-0-251" id="h46-0-251" class="d">-	return string(buf), nil
</a><a href="#h46-0-252" id="h46-0-252" class="d">-}
</a><a href="#h46-0-253" id="h46-0-253" class="d">-
</a><a href="#h46-0-254" id="h46-0-254" class="d">-func unescape(s string) (ch string, tail string, err error) {
</a><a href="#h46-0-255" id="h46-0-255" class="d">-	r, n := utf8.DecodeRuneInString(s)
</a><a href="#h46-0-256" id="h46-0-256" class="d">-	if r == utf8.RuneError &amp;&amp; n == 1 {
</a><a href="#h46-0-257" id="h46-0-257" class="d">-		return &quot;&quot;, &quot;&quot;, errBadUTF8
</a><a href="#h46-0-258" id="h46-0-258" class="d">-	}
</a><a href="#h46-0-259" id="h46-0-259" class="d">-	s = s[n:]
</a><a href="#h46-0-260" id="h46-0-260" class="d">-	switch r {
</a><a href="#h46-0-261" id="h46-0-261" class="d">-	case &#39;a&#39;:
</a><a href="#h46-0-262" id="h46-0-262" class="d">-		return &quot;\a&quot;, s, nil
</a><a href="#h46-0-263" id="h46-0-263" class="d">-	case &#39;b&#39;:
</a><a href="#h46-0-264" id="h46-0-264" class="d">-		return &quot;\b&quot;, s, nil
</a><a href="#h46-0-265" id="h46-0-265" class="d">-	case &#39;f&#39;:
</a><a href="#h46-0-266" id="h46-0-266" class="d">-		return &quot;\f&quot;, s, nil
</a><a href="#h46-0-267" id="h46-0-267" class="d">-	case &#39;n&#39;:
</a><a href="#h46-0-268" id="h46-0-268" class="d">-		return &quot;\n&quot;, s, nil
</a><a href="#h46-0-269" id="h46-0-269" class="d">-	case &#39;r&#39;:
</a><a href="#h46-0-270" id="h46-0-270" class="d">-		return &quot;\r&quot;, s, nil
</a><a href="#h46-0-271" id="h46-0-271" class="d">-	case &#39;t&#39;:
</a><a href="#h46-0-272" id="h46-0-272" class="d">-		return &quot;\t&quot;, s, nil
</a><a href="#h46-0-273" id="h46-0-273" class="d">-	case &#39;v&#39;:
</a><a href="#h46-0-274" id="h46-0-274" class="d">-		return &quot;\v&quot;, s, nil
</a><a href="#h46-0-275" id="h46-0-275" class="d">-	case &#39;?&#39;:
</a><a href="#h46-0-276" id="h46-0-276" class="d">-		return &quot;?&quot;, s, nil // trigraph workaround
</a><a href="#h46-0-277" id="h46-0-277" class="d">-	case &#39;\&#39;&#39;, &#39;&quot;&#39;, &#39;\\&#39;:
</a><a href="#h46-0-278" id="h46-0-278" class="d">-		return string(r), s, nil
</a><a href="#h46-0-279" id="h46-0-279" class="d">-	case &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;x&#39;, &#39;X&#39;:
</a><a href="#h46-0-280" id="h46-0-280" class="d">-		if len(s) &lt; 2 {
</a><a href="#h46-0-281" id="h46-0-281" class="d">-			return &quot;&quot;, &quot;&quot;, fmt.Errorf(`\%c requires 2 following digits`, r)
</a><a href="#h46-0-282" id="h46-0-282" class="d">-		}
</a><a href="#h46-0-283" id="h46-0-283" class="d">-		base := 8
</a><a href="#h46-0-284" id="h46-0-284" class="d">-		ss := s[:2]
</a><a href="#h46-0-285" id="h46-0-285" class="d">-		s = s[2:]
</a><a href="#h46-0-286" id="h46-0-286" class="d">-		if r == &#39;x&#39; || r == &#39;X&#39; {
</a><a href="#h46-0-287" id="h46-0-287" class="d">-			base = 16
</a><a href="#h46-0-288" id="h46-0-288" class="d">-		} else {
</a><a href="#h46-0-289" id="h46-0-289" class="d">-			ss = string(r) + ss
</a><a href="#h46-0-290" id="h46-0-290" class="d">-		}
</a><a href="#h46-0-291" id="h46-0-291" class="d">-		i, err := strconv.ParseUint(ss, base, 8)
</a><a href="#h46-0-292" id="h46-0-292" class="d">-		if err != nil {
</a><a href="#h46-0-293" id="h46-0-293" class="d">-			return &quot;&quot;, &quot;&quot;, err
</a><a href="#h46-0-294" id="h46-0-294" class="d">-		}
</a><a href="#h46-0-295" id="h46-0-295" class="d">-		return string([]byte{byte(i)}), s, nil
</a><a href="#h46-0-296" id="h46-0-296" class="d">-	case &#39;u&#39;, &#39;U&#39;:
</a><a href="#h46-0-297" id="h46-0-297" class="d">-		n := 4
</a><a href="#h46-0-298" id="h46-0-298" class="d">-		if r == &#39;U&#39; {
</a><a href="#h46-0-299" id="h46-0-299" class="d">-			n = 8
</a><a href="#h46-0-300" id="h46-0-300" class="d">-		}
</a><a href="#h46-0-301" id="h46-0-301" class="d">-		if len(s) &lt; n {
</a><a href="#h46-0-302" id="h46-0-302" class="d">-			return &quot;&quot;, &quot;&quot;, fmt.Errorf(`\%c requires %d digits`, r, n)
</a><a href="#h46-0-303" id="h46-0-303" class="d">-		}
</a><a href="#h46-0-304" id="h46-0-304" class="d">-
</a><a href="#h46-0-305" id="h46-0-305" class="d">-		bs := make([]byte, n/2)
</a><a href="#h46-0-306" id="h46-0-306" class="d">-		for i := 0; i &lt; n; i += 2 {
</a><a href="#h46-0-307" id="h46-0-307" class="d">-			a, ok1 := unhex(s[i])
</a><a href="#h46-0-308" id="h46-0-308" class="d">-			b, ok2 := unhex(s[i+1])
</a><a href="#h46-0-309" id="h46-0-309" class="d">-			if !ok1 || !ok2 {
</a><a href="#h46-0-310" id="h46-0-310" class="d">-				return &quot;&quot;, &quot;&quot;, errBadHex
</a><a href="#h46-0-311" id="h46-0-311" class="d">-			}
</a><a href="#h46-0-312" id="h46-0-312" class="d">-			bs[i/2] = a&lt;&lt;4 | b
</a><a href="#h46-0-313" id="h46-0-313" class="d">-		}
</a><a href="#h46-0-314" id="h46-0-314" class="d">-		s = s[n:]
</a><a href="#h46-0-315" id="h46-0-315" class="d">-		return string(bs), s, nil
</a><a href="#h46-0-316" id="h46-0-316" class="d">-	}
</a><a href="#h46-0-317" id="h46-0-317" class="d">-	return &quot;&quot;, &quot;&quot;, fmt.Errorf(`unknown escape \%c`, r)
</a><a href="#h46-0-318" id="h46-0-318" class="d">-}
</a><a href="#h46-0-319" id="h46-0-319" class="d">-
</a><a href="#h46-0-320" id="h46-0-320" class="d">-// Adapted from src/pkg/strconv/quote.go.
</a><a href="#h46-0-321" id="h46-0-321" class="d">-func unhex(b byte) (v byte, ok bool) {
</a><a href="#h46-0-322" id="h46-0-322" class="d">-	switch {
</a><a href="#h46-0-323" id="h46-0-323" class="d">-	case &#39;0&#39; &lt;= b &amp;&amp; b &lt;= &#39;9&#39;:
</a><a href="#h46-0-324" id="h46-0-324" class="d">-		return b - &#39;0&#39;, true
</a><a href="#h46-0-325" id="h46-0-325" class="d">-	case &#39;a&#39; &lt;= b &amp;&amp; b &lt;= &#39;f&#39;:
</a><a href="#h46-0-326" id="h46-0-326" class="d">-		return b - &#39;a&#39; + 10, true
</a><a href="#h46-0-327" id="h46-0-327" class="d">-	case &#39;A&#39; &lt;= b &amp;&amp; b &lt;= &#39;F&#39;:
</a><a href="#h46-0-328" id="h46-0-328" class="d">-		return b - &#39;A&#39; + 10, true
</a><a href="#h46-0-329" id="h46-0-329" class="d">-	}
</a><a href="#h46-0-330" id="h46-0-330" class="d">-	return 0, false
</a><a href="#h46-0-331" id="h46-0-331" class="d">-}
</a><a href="#h46-0-332" id="h46-0-332" class="d">-
</a><a href="#h46-0-333" id="h46-0-333" class="d">-// Back off the parser by one token. Can only be done between calls to next().
</a><a href="#h46-0-334" id="h46-0-334" class="d">-// It makes the next advance() a no-op.
</a><a href="#h46-0-335" id="h46-0-335" class="d">-func (p *textParser) back() { p.backed = true }
</a><a href="#h46-0-336" id="h46-0-336" class="d">-
</a><a href="#h46-0-337" id="h46-0-337" class="d">-// Advances the parser and returns the new current token.
</a><a href="#h46-0-338" id="h46-0-338" class="d">-func (p *textParser) next() *token {
</a><a href="#h46-0-339" id="h46-0-339" class="d">-	if p.backed || p.done {
</a><a href="#h46-0-340" id="h46-0-340" class="d">-		p.backed = false
</a><a href="#h46-0-341" id="h46-0-341" class="d">-		return &amp;p.cur
</a><a href="#h46-0-342" id="h46-0-342" class="d">-	}
</a><a href="#h46-0-343" id="h46-0-343" class="d">-	p.advance()
</a><a href="#h46-0-344" id="h46-0-344" class="d">-	if p.done {
</a><a href="#h46-0-345" id="h46-0-345" class="d">-		p.cur.value = &quot;&quot;
</a><a href="#h46-0-346" id="h46-0-346" class="d">-	} else if len(p.cur.value) &gt; 0 &amp;&amp; isQuote(p.cur.value[0]) {
</a><a href="#h46-0-347" id="h46-0-347" class="d">-		// Look for multiple quoted strings separated by whitespace,
</a><a href="#h46-0-348" id="h46-0-348" class="d">-		// and concatenate them.
</a><a href="#h46-0-349" id="h46-0-349" class="d">-		cat := p.cur
</a><a href="#h46-0-350" id="h46-0-350" class="d">-		for {
</a><a href="#h46-0-351" id="h46-0-351" class="d">-			p.skipWhitespace()
</a><a href="#h46-0-352" id="h46-0-352" class="d">-			if p.done || !isQuote(p.s[0]) {
</a><a href="#h46-0-353" id="h46-0-353" class="d">-				break
</a><a href="#h46-0-354" id="h46-0-354" class="d">-			}
</a><a href="#h46-0-355" id="h46-0-355" class="d">-			p.advance()
</a><a href="#h46-0-356" id="h46-0-356" class="d">-			if p.cur.err != nil {
</a><a href="#h46-0-357" id="h46-0-357" class="d">-				return &amp;p.cur
</a><a href="#h46-0-358" id="h46-0-358" class="d">-			}
</a><a href="#h46-0-359" id="h46-0-359" class="d">-			cat.value += &quot; &quot; + p.cur.value
</a><a href="#h46-0-360" id="h46-0-360" class="d">-			cat.unquoted += p.cur.unquoted
</a><a href="#h46-0-361" id="h46-0-361" class="d">-		}
</a><a href="#h46-0-362" id="h46-0-362" class="d">-		p.done = false // parser may have seen EOF, but we want to return cat
</a><a href="#h46-0-363" id="h46-0-363" class="d">-		p.cur = cat
</a><a href="#h46-0-364" id="h46-0-364" class="d">-	}
</a><a href="#h46-0-365" id="h46-0-365" class="d">-	return &amp;p.cur
</a><a href="#h46-0-366" id="h46-0-366" class="d">-}
</a><a href="#h46-0-367" id="h46-0-367" class="d">-
</a><a href="#h46-0-368" id="h46-0-368" class="d">-func (p *textParser) consumeToken(s string) error {
</a><a href="#h46-0-369" id="h46-0-369" class="d">-	tok := p.next()
</a><a href="#h46-0-370" id="h46-0-370" class="d">-	if tok.err != nil {
</a><a href="#h46-0-371" id="h46-0-371" class="d">-		return tok.err
</a><a href="#h46-0-372" id="h46-0-372" class="d">-	}
</a><a href="#h46-0-373" id="h46-0-373" class="d">-	if tok.value != s {
</a><a href="#h46-0-374" id="h46-0-374" class="d">-		p.back()
</a><a href="#h46-0-375" id="h46-0-375" class="d">-		return p.errorf(&quot;expected %q, found %q&quot;, s, tok.value)
</a><a href="#h46-0-376" id="h46-0-376" class="d">-	}
</a><a href="#h46-0-377" id="h46-0-377" class="d">-	return nil
</a><a href="#h46-0-378" id="h46-0-378" class="d">-}
</a><a href="#h46-0-379" id="h46-0-379" class="d">-
</a><a href="#h46-0-380" id="h46-0-380" class="d">-// Return a RequiredNotSetError indicating which required field was not set.
</a><a href="#h46-0-381" id="h46-0-381" class="d">-func (p *textParser) missingRequiredFieldError(sv reflect.Value) *RequiredNotSetError {
</a><a href="#h46-0-382" id="h46-0-382" class="d">-	st := sv.Type()
</a><a href="#h46-0-383" id="h46-0-383" class="d">-	sprops := GetProperties(st)
</a><a href="#h46-0-384" id="h46-0-384" class="d">-	for i := 0; i &lt; st.NumField(); i++ {
</a><a href="#h46-0-385" id="h46-0-385" class="d">-		if !isNil(sv.Field(i)) {
</a><a href="#h46-0-386" id="h46-0-386" class="d">-			continue
</a><a href="#h46-0-387" id="h46-0-387" class="d">-		}
</a><a href="#h46-0-388" id="h46-0-388" class="d">-
</a><a href="#h46-0-389" id="h46-0-389" class="d">-		props := sprops.Prop[i]
</a><a href="#h46-0-390" id="h46-0-390" class="d">-		if props.Required {
</a><a href="#h46-0-391" id="h46-0-391" class="d">-			return &amp;RequiredNotSetError{fmt.Sprintf(&quot;%v.%v&quot;, st, props.OrigName)}
</a><a href="#h46-0-392" id="h46-0-392" class="d">-		}
</a><a href="#h46-0-393" id="h46-0-393" class="d">-	}
</a><a href="#h46-0-394" id="h46-0-394" class="d">-	return &amp;RequiredNotSetError{fmt.Sprintf(&quot;%v.&lt;unknown field name&gt;&quot;, st)} // should not happen
</a><a href="#h46-0-395" id="h46-0-395" class="d">-}
</a><a href="#h46-0-396" id="h46-0-396" class="d">-
</a><a href="#h46-0-397" id="h46-0-397" class="d">-// Returns the index in the struct for the named field, as well as the parsed tag properties.
</a><a href="#h46-0-398" id="h46-0-398" class="d">-func structFieldByName(sprops *StructProperties, name string) (int, *Properties, bool) {
</a><a href="#h46-0-399" id="h46-0-399" class="d">-	i, ok := sprops.decoderOrigNames[name]
</a><a href="#h46-0-400" id="h46-0-400" class="d">-	if ok {
</a><a href="#h46-0-401" id="h46-0-401" class="d">-		return i, sprops.Prop[i], true
</a><a href="#h46-0-402" id="h46-0-402" class="d">-	}
</a><a href="#h46-0-403" id="h46-0-403" class="d">-	return -1, nil, false
</a><a href="#h46-0-404" id="h46-0-404" class="d">-}
</a><a href="#h46-0-405" id="h46-0-405" class="d">-
</a><a href="#h46-0-406" id="h46-0-406" class="d">-// Consume a &#39;:&#39; from the input stream (if the next token is a colon),
</a><a href="#h46-0-407" id="h46-0-407" class="d">-// returning an error if a colon is needed but not present.
</a><a href="#h46-0-408" id="h46-0-408" class="d">-func (p *textParser) checkForColon(props *Properties, typ reflect.Type) *ParseError {
</a><a href="#h46-0-409" id="h46-0-409" class="d">-	tok := p.next()
</a><a href="#h46-0-410" id="h46-0-410" class="d">-	if tok.err != nil {
</a><a href="#h46-0-411" id="h46-0-411" class="d">-		return tok.err
</a><a href="#h46-0-412" id="h46-0-412" class="d">-	}
</a><a href="#h46-0-413" id="h46-0-413" class="d">-	if tok.value != &quot;:&quot; {
</a><a href="#h46-0-414" id="h46-0-414" class="d">-		// Colon is optional when the field is a group or message.
</a><a href="#h46-0-415" id="h46-0-415" class="d">-		needColon := true
</a><a href="#h46-0-416" id="h46-0-416" class="d">-		switch props.Wire {
</a><a href="#h46-0-417" id="h46-0-417" class="d">-		case &quot;group&quot;:
</a><a href="#h46-0-418" id="h46-0-418" class="d">-			needColon = false
</a><a href="#h46-0-419" id="h46-0-419" class="d">-		case &quot;bytes&quot;:
</a><a href="#h46-0-420" id="h46-0-420" class="d">-			// A &quot;bytes&quot; field is either a message, a string, or a repeated field;
</a><a href="#h46-0-421" id="h46-0-421" class="d">-			// those three become *T, *string and []T respectively, so we can check for
</a><a href="#h46-0-422" id="h46-0-422" class="d">-			// this field being a pointer to a non-string.
</a><a href="#h46-0-423" id="h46-0-423" class="d">-			if typ.Kind() == reflect.Ptr {
</a><a href="#h46-0-424" id="h46-0-424" class="d">-				// *T or *string
</a><a href="#h46-0-425" id="h46-0-425" class="d">-				if typ.Elem().Kind() == reflect.String {
</a><a href="#h46-0-426" id="h46-0-426" class="d">-					break
</a><a href="#h46-0-427" id="h46-0-427" class="d">-				}
</a><a href="#h46-0-428" id="h46-0-428" class="d">-			} else if typ.Kind() == reflect.Slice {
</a><a href="#h46-0-429" id="h46-0-429" class="d">-				// []T or []*T
</a><a href="#h46-0-430" id="h46-0-430" class="d">-				if typ.Elem().Kind() != reflect.Ptr {
</a><a href="#h46-0-431" id="h46-0-431" class="d">-					break
</a><a href="#h46-0-432" id="h46-0-432" class="d">-				}
</a><a href="#h46-0-433" id="h46-0-433" class="d">-			} else if typ.Kind() == reflect.String {
</a><a href="#h46-0-434" id="h46-0-434" class="d">-				// The proto3 exception is for a string field,
</a><a href="#h46-0-435" id="h46-0-435" class="d">-				// which requires a colon.
</a><a href="#h46-0-436" id="h46-0-436" class="d">-				break
</a><a href="#h46-0-437" id="h46-0-437" class="d">-			}
</a><a href="#h46-0-438" id="h46-0-438" class="d">-			needColon = false
</a><a href="#h46-0-439" id="h46-0-439" class="d">-		}
</a><a href="#h46-0-440" id="h46-0-440" class="d">-		if needColon {
</a><a href="#h46-0-441" id="h46-0-441" class="d">-			return p.errorf(&quot;expected &#39;:&#39;, found %q&quot;, tok.value)
</a><a href="#h46-0-442" id="h46-0-442" class="d">-		}
</a><a href="#h46-0-443" id="h46-0-443" class="d">-		p.back()
</a><a href="#h46-0-444" id="h46-0-444" class="d">-	}
</a><a href="#h46-0-445" id="h46-0-445" class="d">-	return nil
</a><a href="#h46-0-446" id="h46-0-446" class="d">-}
</a><a href="#h46-0-447" id="h46-0-447" class="d">-
</a><a href="#h46-0-448" id="h46-0-448" class="d">-func (p *textParser) readStruct(sv reflect.Value, terminator string) error {
</a><a href="#h46-0-449" id="h46-0-449" class="d">-	st := sv.Type()
</a><a href="#h46-0-450" id="h46-0-450" class="d">-	sprops := GetProperties(st)
</a><a href="#h46-0-451" id="h46-0-451" class="d">-	reqCount := sprops.reqCount
</a><a href="#h46-0-452" id="h46-0-452" class="d">-	var reqFieldErr error
</a><a href="#h46-0-453" id="h46-0-453" class="d">-	fieldSet := make(map[string]bool)
</a><a href="#h46-0-454" id="h46-0-454" class="d">-	// A struct is a sequence of &quot;name: value&quot;, terminated by one of
</a><a href="#h46-0-455" id="h46-0-455" class="d">-	// &#39;&gt;&#39; or &#39;}&#39;, or the end of the input.  A name may also be
</a><a href="#h46-0-456" id="h46-0-456" class="d">-	// &quot;[extension]&quot; or &quot;[type/url]&quot;.
</a><a href="#h46-0-457" id="h46-0-457" class="d">-	//
</a><a href="#h46-0-458" id="h46-0-458" class="d">-	// The whole struct can also be an expanded Any message, like:
</a><a href="#h46-0-459" id="h46-0-459" class="d">-	// [type/url] &lt; ... struct contents ... &gt;
</a><a href="#h46-0-460" id="h46-0-460" class="d">-	for {
</a><a href="#h46-0-461" id="h46-0-461" class="d">-		tok := p.next()
</a><a href="#h46-0-462" id="h46-0-462" class="d">-		if tok.err != nil {
</a><a href="#h46-0-463" id="h46-0-463" class="d">-			return tok.err
</a><a href="#h46-0-464" id="h46-0-464" class="d">-		}
</a><a href="#h46-0-465" id="h46-0-465" class="d">-		if tok.value == terminator {
</a><a href="#h46-0-466" id="h46-0-466" class="d">-			break
</a><a href="#h46-0-467" id="h46-0-467" class="d">-		}
</a><a href="#h46-0-468" id="h46-0-468" class="d">-		if tok.value == &quot;[&quot; {
</a><a href="#h46-0-469" id="h46-0-469" class="d">-			// Looks like an extension or an Any.
</a><a href="#h46-0-470" id="h46-0-470" class="d">-			//
</a><a href="#h46-0-471" id="h46-0-471" class="d">-			// TODO: Check whether we need to handle
</a><a href="#h46-0-472" id="h46-0-472" class="d">-			// namespace rooted names (e.g. &quot;.something.Foo&quot;).
</a><a href="#h46-0-473" id="h46-0-473" class="d">-			extName, err := p.consumeExtName()
</a><a href="#h46-0-474" id="h46-0-474" class="d">-			if err != nil {
</a><a href="#h46-0-475" id="h46-0-475" class="d">-				return err
</a><a href="#h46-0-476" id="h46-0-476" class="d">-			}
</a><a href="#h46-0-477" id="h46-0-477" class="d">-
</a><a href="#h46-0-478" id="h46-0-478" class="d">-			if s := strings.LastIndex(extName, &quot;/&quot;); s &gt;= 0 {
</a><a href="#h46-0-479" id="h46-0-479" class="d">-				// If it contains a slash, it&#39;s an Any type URL.
</a><a href="#h46-0-480" id="h46-0-480" class="d">-				messageName := extName[s+1:]
</a><a href="#h46-0-481" id="h46-0-481" class="d">-				mt := MessageType(messageName)
</a><a href="#h46-0-482" id="h46-0-482" class="d">-				if mt == nil {
</a><a href="#h46-0-483" id="h46-0-483" class="d">-					return p.errorf(&quot;unrecognized message %q in google.protobuf.Any&quot;, messageName)
</a><a href="#h46-0-484" id="h46-0-484" class="d">-				}
</a><a href="#h46-0-485" id="h46-0-485" class="d">-				tok = p.next()
</a><a href="#h46-0-486" id="h46-0-486" class="d">-				if tok.err != nil {
</a><a href="#h46-0-487" id="h46-0-487" class="d">-					return tok.err
</a><a href="#h46-0-488" id="h46-0-488" class="d">-				}
</a><a href="#h46-0-489" id="h46-0-489" class="d">-				// consume an optional colon
</a><a href="#h46-0-490" id="h46-0-490" class="d">-				if tok.value == &quot;:&quot; {
</a><a href="#h46-0-491" id="h46-0-491" class="d">-					tok = p.next()
</a><a href="#h46-0-492" id="h46-0-492" class="d">-					if tok.err != nil {
</a><a href="#h46-0-493" id="h46-0-493" class="d">-						return tok.err
</a><a href="#h46-0-494" id="h46-0-494" class="d">-					}
</a><a href="#h46-0-495" id="h46-0-495" class="d">-				}
</a><a href="#h46-0-496" id="h46-0-496" class="d">-				var terminator string
</a><a href="#h46-0-497" id="h46-0-497" class="d">-				switch tok.value {
</a><a href="#h46-0-498" id="h46-0-498" class="d">-				case &quot;&lt;&quot;:
</a><a href="#h46-0-499" id="h46-0-499" class="d">-					terminator = &quot;&gt;&quot;
</a><a href="#h46-0-500" id="h46-0-500" class="d">-				case &quot;{&quot;:
</a><a href="#h46-0-501" id="h46-0-501" class="d">-					terminator = &quot;}&quot;
</a><a href="#h46-0-502" id="h46-0-502" class="d">-				default:
</a><a href="#h46-0-503" id="h46-0-503" class="d">-					return p.errorf(&quot;expected &#39;{&#39; or &#39;&lt;&#39;, found %q&quot;, tok.value)
</a><a href="#h46-0-504" id="h46-0-504" class="d">-				}
</a><a href="#h46-0-505" id="h46-0-505" class="d">-				v := reflect.New(mt.Elem())
</a><a href="#h46-0-506" id="h46-0-506" class="d">-				if pe := p.readStruct(v.Elem(), terminator); pe != nil {
</a><a href="#h46-0-507" id="h46-0-507" class="d">-					return pe
</a><a href="#h46-0-508" id="h46-0-508" class="d">-				}
</a><a href="#h46-0-509" id="h46-0-509" class="d">-				b, err := Marshal(v.Interface().(Message))
</a><a href="#h46-0-510" id="h46-0-510" class="d">-				if err != nil {
</a><a href="#h46-0-511" id="h46-0-511" class="d">-					return p.errorf(&quot;failed to marshal message of type %q: %v&quot;, messageName, err)
</a><a href="#h46-0-512" id="h46-0-512" class="d">-				}
</a><a href="#h46-0-513" id="h46-0-513" class="d">-				if fieldSet[&quot;type_url&quot;] {
</a><a href="#h46-0-514" id="h46-0-514" class="d">-					return p.errorf(anyRepeatedlyUnpacked, &quot;type_url&quot;)
</a><a href="#h46-0-515" id="h46-0-515" class="d">-				}
</a><a href="#h46-0-516" id="h46-0-516" class="d">-				if fieldSet[&quot;value&quot;] {
</a><a href="#h46-0-517" id="h46-0-517" class="d">-					return p.errorf(anyRepeatedlyUnpacked, &quot;value&quot;)
</a><a href="#h46-0-518" id="h46-0-518" class="d">-				}
</a><a href="#h46-0-519" id="h46-0-519" class="d">-				sv.FieldByName(&quot;TypeUrl&quot;).SetString(extName)
</a><a href="#h46-0-520" id="h46-0-520" class="d">-				sv.FieldByName(&quot;Value&quot;).SetBytes(b)
</a><a href="#h46-0-521" id="h46-0-521" class="d">-				fieldSet[&quot;type_url&quot;] = true
</a><a href="#h46-0-522" id="h46-0-522" class="d">-				fieldSet[&quot;value&quot;] = true
</a><a href="#h46-0-523" id="h46-0-523" class="d">-				continue
</a><a href="#h46-0-524" id="h46-0-524" class="d">-			}
</a><a href="#h46-0-525" id="h46-0-525" class="d">-
</a><a href="#h46-0-526" id="h46-0-526" class="d">-			var desc *ExtensionDesc
</a><a href="#h46-0-527" id="h46-0-527" class="d">-			// This could be faster, but it&#39;s functional.
</a><a href="#h46-0-528" id="h46-0-528" class="d">-			// TODO: Do something smarter than a linear scan.
</a><a href="#h46-0-529" id="h46-0-529" class="d">-			for _, d := range RegisteredExtensions(reflect.New(st).Interface().(Message)) {
</a><a href="#h46-0-530" id="h46-0-530" class="d">-				if d.Name == extName {
</a><a href="#h46-0-531" id="h46-0-531" class="d">-					desc = d
</a><a href="#h46-0-532" id="h46-0-532" class="d">-					break
</a><a href="#h46-0-533" id="h46-0-533" class="d">-				}
</a><a href="#h46-0-534" id="h46-0-534" class="d">-			}
</a><a href="#h46-0-535" id="h46-0-535" class="d">-			if desc == nil {
</a><a href="#h46-0-536" id="h46-0-536" class="d">-				return p.errorf(&quot;unrecognized extension %q&quot;, extName)
</a><a href="#h46-0-537" id="h46-0-537" class="d">-			}
</a><a href="#h46-0-538" id="h46-0-538" class="d">-
</a><a href="#h46-0-539" id="h46-0-539" class="d">-			props := &amp;Properties{}
</a><a href="#h46-0-540" id="h46-0-540" class="d">-			props.Parse(desc.Tag)
</a><a href="#h46-0-541" id="h46-0-541" class="d">-
</a><a href="#h46-0-542" id="h46-0-542" class="d">-			typ := reflect.TypeOf(desc.ExtensionType)
</a><a href="#h46-0-543" id="h46-0-543" class="d">-			if err := p.checkForColon(props, typ); err != nil {
</a><a href="#h46-0-544" id="h46-0-544" class="d">-				return err
</a><a href="#h46-0-545" id="h46-0-545" class="d">-			}
</a><a href="#h46-0-546" id="h46-0-546" class="d">-
</a><a href="#h46-0-547" id="h46-0-547" class="d">-			rep := desc.repeated()
</a><a href="#h46-0-548" id="h46-0-548" class="d">-
</a><a href="#h46-0-549" id="h46-0-549" class="d">-			// Read the extension structure, and set it in
</a><a href="#h46-0-550" id="h46-0-550" class="d">-			// the value we&#39;re constructing.
</a><a href="#h46-0-551" id="h46-0-551" class="d">-			var ext reflect.Value
</a><a href="#h46-0-552" id="h46-0-552" class="d">-			if !rep {
</a><a href="#h46-0-553" id="h46-0-553" class="d">-				ext = reflect.New(typ).Elem()
</a><a href="#h46-0-554" id="h46-0-554" class="d">-			} else {
</a><a href="#h46-0-555" id="h46-0-555" class="d">-				ext = reflect.New(typ.Elem()).Elem()
</a><a href="#h46-0-556" id="h46-0-556" class="d">-			}
</a><a href="#h46-0-557" id="h46-0-557" class="d">-			if err := p.readAny(ext, props); err != nil {
</a><a href="#h46-0-558" id="h46-0-558" class="d">-				if _, ok := err.(*RequiredNotSetError); !ok {
</a><a href="#h46-0-559" id="h46-0-559" class="d">-					return err
</a><a href="#h46-0-560" id="h46-0-560" class="d">-				}
</a><a href="#h46-0-561" id="h46-0-561" class="d">-				reqFieldErr = err
</a><a href="#h46-0-562" id="h46-0-562" class="d">-			}
</a><a href="#h46-0-563" id="h46-0-563" class="d">-			ep := sv.Addr().Interface().(Message)
</a><a href="#h46-0-564" id="h46-0-564" class="d">-			if !rep {
</a><a href="#h46-0-565" id="h46-0-565" class="d">-				SetExtension(ep, desc, ext.Interface())
</a><a href="#h46-0-566" id="h46-0-566" class="d">-			} else {
</a><a href="#h46-0-567" id="h46-0-567" class="d">-				old, err := GetExtension(ep, desc)
</a><a href="#h46-0-568" id="h46-0-568" class="d">-				var sl reflect.Value
</a><a href="#h46-0-569" id="h46-0-569" class="d">-				if err == nil {
</a><a href="#h46-0-570" id="h46-0-570" class="d">-					sl = reflect.ValueOf(old) // existing slice
</a><a href="#h46-0-571" id="h46-0-571" class="d">-				} else {
</a><a href="#h46-0-572" id="h46-0-572" class="d">-					sl = reflect.MakeSlice(typ, 0, 1)
</a><a href="#h46-0-573" id="h46-0-573" class="d">-				}
</a><a href="#h46-0-574" id="h46-0-574" class="d">-				sl = reflect.Append(sl, ext)
</a><a href="#h46-0-575" id="h46-0-575" class="d">-				SetExtension(ep, desc, sl.Interface())
</a><a href="#h46-0-576" id="h46-0-576" class="d">-			}
</a><a href="#h46-0-577" id="h46-0-577" class="d">-			if err := p.consumeOptionalSeparator(); err != nil {
</a><a href="#h46-0-578" id="h46-0-578" class="d">-				return err
</a><a href="#h46-0-579" id="h46-0-579" class="d">-			}
</a><a href="#h46-0-580" id="h46-0-580" class="d">-			continue
</a><a href="#h46-0-581" id="h46-0-581" class="d">-		}
</a><a href="#h46-0-582" id="h46-0-582" class="d">-
</a><a href="#h46-0-583" id="h46-0-583" class="d">-		// This is a normal, non-extension field.
</a><a href="#h46-0-584" id="h46-0-584" class="d">-		name := tok.value
</a><a href="#h46-0-585" id="h46-0-585" class="d">-		var dst reflect.Value
</a><a href="#h46-0-586" id="h46-0-586" class="d">-		fi, props, ok := structFieldByName(sprops, name)
</a><a href="#h46-0-587" id="h46-0-587" class="d">-		if ok {
</a><a href="#h46-0-588" id="h46-0-588" class="d">-			dst = sv.Field(fi)
</a><a href="#h46-0-589" id="h46-0-589" class="d">-		} else if oop, ok := sprops.OneofTypes[name]; ok {
</a><a href="#h46-0-590" id="h46-0-590" class="d">-			// It is a oneof.
</a><a href="#h46-0-591" id="h46-0-591" class="d">-			props = oop.Prop
</a><a href="#h46-0-592" id="h46-0-592" class="d">-			nv := reflect.New(oop.Type.Elem())
</a><a href="#h46-0-593" id="h46-0-593" class="d">-			dst = nv.Elem().Field(0)
</a><a href="#h46-0-594" id="h46-0-594" class="d">-			sv.Field(oop.Field).Set(nv)
</a><a href="#h46-0-595" id="h46-0-595" class="d">-		}
</a><a href="#h46-0-596" id="h46-0-596" class="d">-		if !dst.IsValid() {
</a><a href="#h46-0-597" id="h46-0-597" class="d">-			return p.errorf(&quot;unknown field name %q in %v&quot;, name, st)
</a><a href="#h46-0-598" id="h46-0-598" class="d">-		}
</a><a href="#h46-0-599" id="h46-0-599" class="d">-
</a><a href="#h46-0-600" id="h46-0-600" class="d">-		if dst.Kind() == reflect.Map {
</a><a href="#h46-0-601" id="h46-0-601" class="d">-			// Consume any colon.
</a><a href="#h46-0-602" id="h46-0-602" class="d">-			if err := p.checkForColon(props, dst.Type()); err != nil {
</a><a href="#h46-0-603" id="h46-0-603" class="d">-				return err
</a><a href="#h46-0-604" id="h46-0-604" class="d">-			}
</a><a href="#h46-0-605" id="h46-0-605" class="d">-
</a><a href="#h46-0-606" id="h46-0-606" class="d">-			// Construct the map if it doesn&#39;t already exist.
</a><a href="#h46-0-607" id="h46-0-607" class="d">-			if dst.IsNil() {
</a><a href="#h46-0-608" id="h46-0-608" class="d">-				dst.Set(reflect.MakeMap(dst.Type()))
</a><a href="#h46-0-609" id="h46-0-609" class="d">-			}
</a><a href="#h46-0-610" id="h46-0-610" class="d">-			key := reflect.New(dst.Type().Key()).Elem()
</a><a href="#h46-0-611" id="h46-0-611" class="d">-			val := reflect.New(dst.Type().Elem()).Elem()
</a><a href="#h46-0-612" id="h46-0-612" class="d">-
</a><a href="#h46-0-613" id="h46-0-613" class="d">-			// The map entry should be this sequence of tokens:
</a><a href="#h46-0-614" id="h46-0-614" class="d">-			//	&lt; key : KEY value : VALUE &gt;
</a><a href="#h46-0-615" id="h46-0-615" class="d">-			// However, implementations may omit key or value, and technically
</a><a href="#h46-0-616" id="h46-0-616" class="d">-			// we should support them in any order.  See b/28924776 for a time
</a><a href="#h46-0-617" id="h46-0-617" class="d">-			// this went wrong.
</a><a href="#h46-0-618" id="h46-0-618" class="d">-
</a><a href="#h46-0-619" id="h46-0-619" class="d">-			tok := p.next()
</a><a href="#h46-0-620" id="h46-0-620" class="d">-			var terminator string
</a><a href="#h46-0-621" id="h46-0-621" class="d">-			switch tok.value {
</a><a href="#h46-0-622" id="h46-0-622" class="d">-			case &quot;&lt;&quot;:
</a><a href="#h46-0-623" id="h46-0-623" class="d">-				terminator = &quot;&gt;&quot;
</a><a href="#h46-0-624" id="h46-0-624" class="d">-			case &quot;{&quot;:
</a><a href="#h46-0-625" id="h46-0-625" class="d">-				terminator = &quot;}&quot;
</a><a href="#h46-0-626" id="h46-0-626" class="d">-			default:
</a><a href="#h46-0-627" id="h46-0-627" class="d">-				return p.errorf(&quot;expected &#39;{&#39; or &#39;&lt;&#39;, found %q&quot;, tok.value)
</a><a href="#h46-0-628" id="h46-0-628" class="d">-			}
</a><a href="#h46-0-629" id="h46-0-629" class="d">-			for {
</a><a href="#h46-0-630" id="h46-0-630" class="d">-				tok := p.next()
</a><a href="#h46-0-631" id="h46-0-631" class="d">-				if tok.err != nil {
</a><a href="#h46-0-632" id="h46-0-632" class="d">-					return tok.err
</a><a href="#h46-0-633" id="h46-0-633" class="d">-				}
</a><a href="#h46-0-634" id="h46-0-634" class="d">-				if tok.value == terminator {
</a><a href="#h46-0-635" id="h46-0-635" class="d">-					break
</a><a href="#h46-0-636" id="h46-0-636" class="d">-				}
</a><a href="#h46-0-637" id="h46-0-637" class="d">-				switch tok.value {
</a><a href="#h46-0-638" id="h46-0-638" class="d">-				case &quot;key&quot;:
</a><a href="#h46-0-639" id="h46-0-639" class="d">-					if err := p.consumeToken(&quot;:&quot;); err != nil {
</a><a href="#h46-0-640" id="h46-0-640" class="d">-						return err
</a><a href="#h46-0-641" id="h46-0-641" class="d">-					}
</a><a href="#h46-0-642" id="h46-0-642" class="d">-					if err := p.readAny(key, props.mkeyprop); err != nil {
</a><a href="#h46-0-643" id="h46-0-643" class="d">-						return err
</a><a href="#h46-0-644" id="h46-0-644" class="d">-					}
</a><a href="#h46-0-645" id="h46-0-645" class="d">-					if err := p.consumeOptionalSeparator(); err != nil {
</a><a href="#h46-0-646" id="h46-0-646" class="d">-						return err
</a><a href="#h46-0-647" id="h46-0-647" class="d">-					}
</a><a href="#h46-0-648" id="h46-0-648" class="d">-				case &quot;value&quot;:
</a><a href="#h46-0-649" id="h46-0-649" class="d">-					if err := p.checkForColon(props.mvalprop, dst.Type().Elem()); err != nil {
</a><a href="#h46-0-650" id="h46-0-650" class="d">-						return err
</a><a href="#h46-0-651" id="h46-0-651" class="d">-					}
</a><a href="#h46-0-652" id="h46-0-652" class="d">-					if err := p.readAny(val, props.mvalprop); err != nil {
</a><a href="#h46-0-653" id="h46-0-653" class="d">-						return err
</a><a href="#h46-0-654" id="h46-0-654" class="d">-					}
</a><a href="#h46-0-655" id="h46-0-655" class="d">-					if err := p.consumeOptionalSeparator(); err != nil {
</a><a href="#h46-0-656" id="h46-0-656" class="d">-						return err
</a><a href="#h46-0-657" id="h46-0-657" class="d">-					}
</a><a href="#h46-0-658" id="h46-0-658" class="d">-				default:
</a><a href="#h46-0-659" id="h46-0-659" class="d">-					p.back()
</a><a href="#h46-0-660" id="h46-0-660" class="d">-					return p.errorf(`expected &quot;key&quot;, &quot;value&quot;, or %q, found %q`, terminator, tok.value)
</a><a href="#h46-0-661" id="h46-0-661" class="d">-				}
</a><a href="#h46-0-662" id="h46-0-662" class="d">-			}
</a><a href="#h46-0-663" id="h46-0-663" class="d">-
</a><a href="#h46-0-664" id="h46-0-664" class="d">-			dst.SetMapIndex(key, val)
</a><a href="#h46-0-665" id="h46-0-665" class="d">-			continue
</a><a href="#h46-0-666" id="h46-0-666" class="d">-		}
</a><a href="#h46-0-667" id="h46-0-667" class="d">-
</a><a href="#h46-0-668" id="h46-0-668" class="d">-		// Check that it&#39;s not already set if it&#39;s not a repeated field.
</a><a href="#h46-0-669" id="h46-0-669" class="d">-		if !props.Repeated &amp;&amp; fieldSet[name] {
</a><a href="#h46-0-670" id="h46-0-670" class="d">-			return p.errorf(&quot;non-repeated field %q was repeated&quot;, name)
</a><a href="#h46-0-671" id="h46-0-671" class="d">-		}
</a><a href="#h46-0-672" id="h46-0-672" class="d">-
</a><a href="#h46-0-673" id="h46-0-673" class="d">-		if err := p.checkForColon(props, dst.Type()); err != nil {
</a><a href="#h46-0-674" id="h46-0-674" class="d">-			return err
</a><a href="#h46-0-675" id="h46-0-675" class="d">-		}
</a><a href="#h46-0-676" id="h46-0-676" class="d">-
</a><a href="#h46-0-677" id="h46-0-677" class="d">-		// Parse into the field.
</a><a href="#h46-0-678" id="h46-0-678" class="d">-		fieldSet[name] = true
</a><a href="#h46-0-679" id="h46-0-679" class="d">-		if err := p.readAny(dst, props); err != nil {
</a><a href="#h46-0-680" id="h46-0-680" class="d">-			if _, ok := err.(*RequiredNotSetError); !ok {
</a><a href="#h46-0-681" id="h46-0-681" class="d">-				return err
</a><a href="#h46-0-682" id="h46-0-682" class="d">-			}
</a><a href="#h46-0-683" id="h46-0-683" class="d">-			reqFieldErr = err
</a><a href="#h46-0-684" id="h46-0-684" class="d">-		}
</a><a href="#h46-0-685" id="h46-0-685" class="d">-		if props.Required {
</a><a href="#h46-0-686" id="h46-0-686" class="d">-			reqCount--
</a><a href="#h46-0-687" id="h46-0-687" class="d">-		}
</a><a href="#h46-0-688" id="h46-0-688" class="d">-
</a><a href="#h46-0-689" id="h46-0-689" class="d">-		if err := p.consumeOptionalSeparator(); err != nil {
</a><a href="#h46-0-690" id="h46-0-690" class="d">-			return err
</a><a href="#h46-0-691" id="h46-0-691" class="d">-		}
</a><a href="#h46-0-692" id="h46-0-692" class="d">-
</a><a href="#h46-0-693" id="h46-0-693" class="d">-	}
</a><a href="#h46-0-694" id="h46-0-694" class="d">-
</a><a href="#h46-0-695" id="h46-0-695" class="d">-	if reqCount &gt; 0 {
</a><a href="#h46-0-696" id="h46-0-696" class="d">-		return p.missingRequiredFieldError(sv)
</a><a href="#h46-0-697" id="h46-0-697" class="d">-	}
</a><a href="#h46-0-698" id="h46-0-698" class="d">-	return reqFieldErr
</a><a href="#h46-0-699" id="h46-0-699" class="d">-}
</a><a href="#h46-0-700" id="h46-0-700" class="d">-
</a><a href="#h46-0-701" id="h46-0-701" class="d">-// consumeExtName consumes extension name or expanded Any type URL and the
</a><a href="#h46-0-702" id="h46-0-702" class="d">-// following &#39;]&#39;. It returns the name or URL consumed.
</a><a href="#h46-0-703" id="h46-0-703" class="d">-func (p *textParser) consumeExtName() (string, error) {
</a><a href="#h46-0-704" id="h46-0-704" class="d">-	tok := p.next()
</a><a href="#h46-0-705" id="h46-0-705" class="d">-	if tok.err != nil {
</a><a href="#h46-0-706" id="h46-0-706" class="d">-		return &quot;&quot;, tok.err
</a><a href="#h46-0-707" id="h46-0-707" class="d">-	}
</a><a href="#h46-0-708" id="h46-0-708" class="d">-
</a><a href="#h46-0-709" id="h46-0-709" class="d">-	// If extension name or type url is quoted, it&#39;s a single token.
</a><a href="#h46-0-710" id="h46-0-710" class="d">-	if len(tok.value) &gt; 2 &amp;&amp; isQuote(tok.value[0]) &amp;&amp; tok.value[len(tok.value)-1] == tok.value[0] {
</a><a href="#h46-0-711" id="h46-0-711" class="d">-		name, err := unquoteC(tok.value[1:len(tok.value)-1], rune(tok.value[0]))
</a><a href="#h46-0-712" id="h46-0-712" class="d">-		if err != nil {
</a><a href="#h46-0-713" id="h46-0-713" class="d">-			return &quot;&quot;, err
</a><a href="#h46-0-714" id="h46-0-714" class="d">-		}
</a><a href="#h46-0-715" id="h46-0-715" class="d">-		return name, p.consumeToken(&quot;]&quot;)
</a><a href="#h46-0-716" id="h46-0-716" class="d">-	}
</a><a href="#h46-0-717" id="h46-0-717" class="d">-
</a><a href="#h46-0-718" id="h46-0-718" class="d">-	// Consume everything up to &quot;]&quot;
</a><a href="#h46-0-719" id="h46-0-719" class="d">-	var parts []string
</a><a href="#h46-0-720" id="h46-0-720" class="d">-	for tok.value != &quot;]&quot; {
</a><a href="#h46-0-721" id="h46-0-721" class="d">-		parts = append(parts, tok.value)
</a><a href="#h46-0-722" id="h46-0-722" class="d">-		tok = p.next()
</a><a href="#h46-0-723" id="h46-0-723" class="d">-		if tok.err != nil {
</a><a href="#h46-0-724" id="h46-0-724" class="d">-			return &quot;&quot;, p.errorf(&quot;unrecognized type_url or extension name: %s&quot;, tok.err)
</a><a href="#h46-0-725" id="h46-0-725" class="d">-		}
</a><a href="#h46-0-726" id="h46-0-726" class="d">-	}
</a><a href="#h46-0-727" id="h46-0-727" class="d">-	return strings.Join(parts, &quot;&quot;), nil
</a><a href="#h46-0-728" id="h46-0-728" class="d">-}
</a><a href="#h46-0-729" id="h46-0-729" class="d">-
</a><a href="#h46-0-730" id="h46-0-730" class="d">-// consumeOptionalSeparator consumes an optional semicolon or comma.
</a><a href="#h46-0-731" id="h46-0-731" class="d">-// It is used in readStruct to provide backward compatibility.
</a><a href="#h46-0-732" id="h46-0-732" class="d">-func (p *textParser) consumeOptionalSeparator() error {
</a><a href="#h46-0-733" id="h46-0-733" class="d">-	tok := p.next()
</a><a href="#h46-0-734" id="h46-0-734" class="d">-	if tok.err != nil {
</a><a href="#h46-0-735" id="h46-0-735" class="d">-		return tok.err
</a><a href="#h46-0-736" id="h46-0-736" class="d">-	}
</a><a href="#h46-0-737" id="h46-0-737" class="d">-	if tok.value != &quot;;&quot; &amp;&amp; tok.value != &quot;,&quot; {
</a><a href="#h46-0-738" id="h46-0-738" class="d">-		p.back()
</a><a href="#h46-0-739" id="h46-0-739" class="d">-	}
</a><a href="#h46-0-740" id="h46-0-740" class="d">-	return nil
</a><a href="#h46-0-741" id="h46-0-741" class="d">-}
</a><a href="#h46-0-742" id="h46-0-742" class="d">-
</a><a href="#h46-0-743" id="h46-0-743" class="d">-func (p *textParser) readAny(v reflect.Value, props *Properties) error {
</a><a href="#h46-0-744" id="h46-0-744" class="d">-	tok := p.next()
</a><a href="#h46-0-745" id="h46-0-745" class="d">-	if tok.err != nil {
</a><a href="#h46-0-746" id="h46-0-746" class="d">-		return tok.err
</a><a href="#h46-0-747" id="h46-0-747" class="d">-	}
</a><a href="#h46-0-748" id="h46-0-748" class="d">-	if tok.value == &quot;&quot; {
</a><a href="#h46-0-749" id="h46-0-749" class="d">-		return p.errorf(&quot;unexpected EOF&quot;)
</a><a href="#h46-0-750" id="h46-0-750" class="d">-	}
</a><a href="#h46-0-751" id="h46-0-751" class="d">-
</a><a href="#h46-0-752" id="h46-0-752" class="d">-	switch fv := v; fv.Kind() {
</a><a href="#h46-0-753" id="h46-0-753" class="d">-	case reflect.Slice:
</a><a href="#h46-0-754" id="h46-0-754" class="d">-		at := v.Type()
</a><a href="#h46-0-755" id="h46-0-755" class="d">-		if at.Elem().Kind() == reflect.Uint8 {
</a><a href="#h46-0-756" id="h46-0-756" class="d">-			// Special case for []byte
</a><a href="#h46-0-757" id="h46-0-757" class="d">-			if tok.value[0] != &#39;&quot;&#39; &amp;&amp; tok.value[0] != &#39;\&#39;&#39; {
</a><a href="#h46-0-758" id="h46-0-758" class="d">-				// Deliberately written out here, as the error after
</a><a href="#h46-0-759" id="h46-0-759" class="d">-				// this switch statement would write &quot;invalid []byte: ...&quot;,
</a><a href="#h46-0-760" id="h46-0-760" class="d">-				// which is not as user-friendly.
</a><a href="#h46-0-761" id="h46-0-761" class="d">-				return p.errorf(&quot;invalid string: %v&quot;, tok.value)
</a><a href="#h46-0-762" id="h46-0-762" class="d">-			}
</a><a href="#h46-0-763" id="h46-0-763" class="d">-			bytes := []byte(tok.unquoted)
</a><a href="#h46-0-764" id="h46-0-764" class="d">-			fv.Set(reflect.ValueOf(bytes))
</a><a href="#h46-0-765" id="h46-0-765" class="d">-			return nil
</a><a href="#h46-0-766" id="h46-0-766" class="d">-		}
</a><a href="#h46-0-767" id="h46-0-767" class="d">-		// Repeated field.
</a><a href="#h46-0-768" id="h46-0-768" class="d">-		if tok.value == &quot;[&quot; {
</a><a href="#h46-0-769" id="h46-0-769" class="d">-			// Repeated field with list notation, like [1,2,3].
</a><a href="#h46-0-770" id="h46-0-770" class="d">-			for {
</a><a href="#h46-0-771" id="h46-0-771" class="d">-				fv.Set(reflect.Append(fv, reflect.New(at.Elem()).Elem()))
</a><a href="#h46-0-772" id="h46-0-772" class="d">-				err := p.readAny(fv.Index(fv.Len()-1), props)
</a><a href="#h46-0-773" id="h46-0-773" class="d">-				if err != nil {
</a><a href="#h46-0-774" id="h46-0-774" class="d">-					return err
</a><a href="#h46-0-775" id="h46-0-775" class="d">-				}
</a><a href="#h46-0-776" id="h46-0-776" class="d">-				tok := p.next()
</a><a href="#h46-0-777" id="h46-0-777" class="d">-				if tok.err != nil {
</a><a href="#h46-0-778" id="h46-0-778" class="d">-					return tok.err
</a><a href="#h46-0-779" id="h46-0-779" class="d">-				}
</a><a href="#h46-0-780" id="h46-0-780" class="d">-				if tok.value == &quot;]&quot; {
</a><a href="#h46-0-781" id="h46-0-781" class="d">-					break
</a><a href="#h46-0-782" id="h46-0-782" class="d">-				}
</a><a href="#h46-0-783" id="h46-0-783" class="d">-				if tok.value != &quot;,&quot; {
</a><a href="#h46-0-784" id="h46-0-784" class="d">-					return p.errorf(&quot;Expected &#39;]&#39; or &#39;,&#39; found %q&quot;, tok.value)
</a><a href="#h46-0-785" id="h46-0-785" class="d">-				}
</a><a href="#h46-0-786" id="h46-0-786" class="d">-			}
</a><a href="#h46-0-787" id="h46-0-787" class="d">-			return nil
</a><a href="#h46-0-788" id="h46-0-788" class="d">-		}
</a><a href="#h46-0-789" id="h46-0-789" class="d">-		// One value of the repeated field.
</a><a href="#h46-0-790" id="h46-0-790" class="d">-		p.back()
</a><a href="#h46-0-791" id="h46-0-791" class="d">-		fv.Set(reflect.Append(fv, reflect.New(at.Elem()).Elem()))
</a><a href="#h46-0-792" id="h46-0-792" class="d">-		return p.readAny(fv.Index(fv.Len()-1), props)
</a><a href="#h46-0-793" id="h46-0-793" class="d">-	case reflect.Bool:
</a><a href="#h46-0-794" id="h46-0-794" class="d">-		// Either &quot;true&quot;, &quot;false&quot;, 1 or 0.
</a><a href="#h46-0-795" id="h46-0-795" class="d">-		switch tok.value {
</a><a href="#h46-0-796" id="h46-0-796" class="d">-		case &quot;true&quot;, &quot;1&quot;:
</a><a href="#h46-0-797" id="h46-0-797" class="d">-			fv.SetBool(true)
</a><a href="#h46-0-798" id="h46-0-798" class="d">-			return nil
</a><a href="#h46-0-799" id="h46-0-799" class="d">-		case &quot;false&quot;, &quot;0&quot;:
</a><a href="#h46-0-800" id="h46-0-800" class="d">-			fv.SetBool(false)
</a><a href="#h46-0-801" id="h46-0-801" class="d">-			return nil
</a><a href="#h46-0-802" id="h46-0-802" class="d">-		}
</a><a href="#h46-0-803" id="h46-0-803" class="d">-	case reflect.Float32, reflect.Float64:
</a><a href="#h46-0-804" id="h46-0-804" class="d">-		v := tok.value
</a><a href="#h46-0-805" id="h46-0-805" class="d">-		// Ignore &#39;f&#39; for compatibility with output generated by C++, but don&#39;t
</a><a href="#h46-0-806" id="h46-0-806" class="d">-		// remove &#39;f&#39; when the value is &quot;-inf&quot; or &quot;inf&quot;.
</a><a href="#h46-0-807" id="h46-0-807" class="d">-		if strings.HasSuffix(v, &quot;f&quot;) &amp;&amp; tok.value != &quot;-inf&quot; &amp;&amp; tok.value != &quot;inf&quot; {
</a><a href="#h46-0-808" id="h46-0-808" class="d">-			v = v[:len(v)-1]
</a><a href="#h46-0-809" id="h46-0-809" class="d">-		}
</a><a href="#h46-0-810" id="h46-0-810" class="d">-		if f, err := strconv.ParseFloat(v, fv.Type().Bits()); err == nil {
</a><a href="#h46-0-811" id="h46-0-811" class="d">-			fv.SetFloat(f)
</a><a href="#h46-0-812" id="h46-0-812" class="d">-			return nil
</a><a href="#h46-0-813" id="h46-0-813" class="d">-		}
</a><a href="#h46-0-814" id="h46-0-814" class="d">-	case reflect.Int32:
</a><a href="#h46-0-815" id="h46-0-815" class="d">-		if x, err := strconv.ParseInt(tok.value, 0, 32); err == nil {
</a><a href="#h46-0-816" id="h46-0-816" class="d">-			fv.SetInt(x)
</a><a href="#h46-0-817" id="h46-0-817" class="d">-			return nil
</a><a href="#h46-0-818" id="h46-0-818" class="d">-		}
</a><a href="#h46-0-819" id="h46-0-819" class="d">-
</a><a href="#h46-0-820" id="h46-0-820" class="d">-		if len(props.Enum) == 0 {
</a><a href="#h46-0-821" id="h46-0-821" class="d">-			break
</a><a href="#h46-0-822" id="h46-0-822" class="d">-		}
</a><a href="#h46-0-823" id="h46-0-823" class="d">-		m, ok := enumValueMaps[props.Enum]
</a><a href="#h46-0-824" id="h46-0-824" class="d">-		if !ok {
</a><a href="#h46-0-825" id="h46-0-825" class="d">-			break
</a><a href="#h46-0-826" id="h46-0-826" class="d">-		}
</a><a href="#h46-0-827" id="h46-0-827" class="d">-		x, ok := m[tok.value]
</a><a href="#h46-0-828" id="h46-0-828" class="d">-		if !ok {
</a><a href="#h46-0-829" id="h46-0-829" class="d">-			break
</a><a href="#h46-0-830" id="h46-0-830" class="d">-		}
</a><a href="#h46-0-831" id="h46-0-831" class="d">-		fv.SetInt(int64(x))
</a><a href="#h46-0-832" id="h46-0-832" class="d">-		return nil
</a><a href="#h46-0-833" id="h46-0-833" class="d">-	case reflect.Int64:
</a><a href="#h46-0-834" id="h46-0-834" class="d">-		if x, err := strconv.ParseInt(tok.value, 0, 64); err == nil {
</a><a href="#h46-0-835" id="h46-0-835" class="d">-			fv.SetInt(x)
</a><a href="#h46-0-836" id="h46-0-836" class="d">-			return nil
</a><a href="#h46-0-837" id="h46-0-837" class="d">-		}
</a><a href="#h46-0-838" id="h46-0-838" class="d">-
</a><a href="#h46-0-839" id="h46-0-839" class="d">-	case reflect.Ptr:
</a><a href="#h46-0-840" id="h46-0-840" class="d">-		// A basic field (indirected through pointer), or a repeated message/group
</a><a href="#h46-0-841" id="h46-0-841" class="d">-		p.back()
</a><a href="#h46-0-842" id="h46-0-842" class="d">-		fv.Set(reflect.New(fv.Type().Elem()))
</a><a href="#h46-0-843" id="h46-0-843" class="d">-		return p.readAny(fv.Elem(), props)
</a><a href="#h46-0-844" id="h46-0-844" class="d">-	case reflect.String:
</a><a href="#h46-0-845" id="h46-0-845" class="d">-		if tok.value[0] == &#39;&quot;&#39; || tok.value[0] == &#39;\&#39;&#39; {
</a><a href="#h46-0-846" id="h46-0-846" class="d">-			fv.SetString(tok.unquoted)
</a><a href="#h46-0-847" id="h46-0-847" class="d">-			return nil
</a><a href="#h46-0-848" id="h46-0-848" class="d">-		}
</a><a href="#h46-0-849" id="h46-0-849" class="d">-	case reflect.Struct:
</a><a href="#h46-0-850" id="h46-0-850" class="d">-		var terminator string
</a><a href="#h46-0-851" id="h46-0-851" class="d">-		switch tok.value {
</a><a href="#h46-0-852" id="h46-0-852" class="d">-		case &quot;{&quot;:
</a><a href="#h46-0-853" id="h46-0-853" class="d">-			terminator = &quot;}&quot;
</a><a href="#h46-0-854" id="h46-0-854" class="d">-		case &quot;&lt;&quot;:
</a><a href="#h46-0-855" id="h46-0-855" class="d">-			terminator = &quot;&gt;&quot;
</a><a href="#h46-0-856" id="h46-0-856" class="d">-		default:
</a><a href="#h46-0-857" id="h46-0-857" class="d">-			return p.errorf(&quot;expected &#39;{&#39; or &#39;&lt;&#39;, found %q&quot;, tok.value)
</a><a href="#h46-0-858" id="h46-0-858" class="d">-		}
</a><a href="#h46-0-859" id="h46-0-859" class="d">-		// TODO: Handle nested messages which implement encoding.TextUnmarshaler.
</a><a href="#h46-0-860" id="h46-0-860" class="d">-		return p.readStruct(fv, terminator)
</a><a href="#h46-0-861" id="h46-0-861" class="d">-	case reflect.Uint32:
</a><a href="#h46-0-862" id="h46-0-862" class="d">-		if x, err := strconv.ParseUint(tok.value, 0, 32); err == nil {
</a><a href="#h46-0-863" id="h46-0-863" class="d">-			fv.SetUint(uint64(x))
</a><a href="#h46-0-864" id="h46-0-864" class="d">-			return nil
</a><a href="#h46-0-865" id="h46-0-865" class="d">-		}
</a><a href="#h46-0-866" id="h46-0-866" class="d">-	case reflect.Uint64:
</a><a href="#h46-0-867" id="h46-0-867" class="d">-		if x, err := strconv.ParseUint(tok.value, 0, 64); err == nil {
</a><a href="#h46-0-868" id="h46-0-868" class="d">-			fv.SetUint(x)
</a><a href="#h46-0-869" id="h46-0-869" class="d">-			return nil
</a><a href="#h46-0-870" id="h46-0-870" class="d">-		}
</a><a href="#h46-0-871" id="h46-0-871" class="d">-	}
</a><a href="#h46-0-872" id="h46-0-872" class="d">-	return p.errorf(&quot;invalid %v: %v&quot;, v.Type(), tok.value)
</a><a href="#h46-0-873" id="h46-0-873" class="d">-}
</a><a href="#h46-0-874" id="h46-0-874" class="d">-
</a><a href="#h46-0-875" id="h46-0-875" class="d">-// UnmarshalText reads a protocol buffer in Text format. UnmarshalText resets pb
</a><a href="#h46-0-876" id="h46-0-876" class="d">-// before starting to unmarshal, so any existing data in pb is always removed.
</a><a href="#h46-0-877" id="h46-0-877" class="d">-// If a required field is not set and no other error occurs,
</a><a href="#h46-0-878" id="h46-0-878" class="d">-// UnmarshalText returns *RequiredNotSetError.
</a><a href="#h46-0-879" id="h46-0-879" class="d">-func UnmarshalText(s string, pb Message) error {
</a><a href="#h46-0-880" id="h46-0-880" class="d">-	if um, ok := pb.(encoding.TextUnmarshaler); ok {
</a><a href="#h46-0-881" id="h46-0-881" class="d">-		err := um.UnmarshalText([]byte(s))
</a><a href="#h46-0-882" id="h46-0-882" class="d">-		return err
</a><a href="#h46-0-883" id="h46-0-883" class="d">-	}
</a><a href="#h46-0-884" id="h46-0-884" class="d">-	pb.Reset()
</a><a href="#h46-0-885" id="h46-0-885" class="d">-	v := reflect.ValueOf(pb)
</a><a href="#h46-0-886" id="h46-0-886" class="d">-	if pe := newTextParser(s).readStruct(v.Elem(), &quot;&quot;); pe != nil {
</a><a href="#h46-0-887" id="h46-0-887" class="d">-		return pe
</a><a href="#h46-0-888" id="h46-0-888" class="d">-	}
</a><a href="#h46-0-889" id="h46-0-889" class="d">-	return nil
</a><a href="#h46-0-890" id="h46-0-890" class="d">-}
</a><b>diff --git a/<a id="h47" href="../file/vendor/github.com/google/go-github/LICENSE">vendor/github.com/google/go-github/LICENSE</a> b/<a href="../file/vendor/github.com/google/go-github/LICENSE">vendor/github.com/google/go-github/LICENSE</a></b>
<a href="#h47-0" id="h47-0" class="h">@@ -1,341 +0,0 @@
</a><a href="#h47-0-0" id="h47-0-0" class="d">-Copyright (c) 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h47-0-1" id="h47-0-1" class="d">-
</a><a href="#h47-0-2" id="h47-0-2" class="d">-Redistribution and use in source and binary forms, with or without
</a><a href="#h47-0-3" id="h47-0-3" class="d">-modification, are permitted provided that the following conditions are
</a><a href="#h47-0-4" id="h47-0-4" class="d">-met:
</a><a href="#h47-0-5" id="h47-0-5" class="d">-
</a><a href="#h47-0-6" id="h47-0-6" class="d">-   * Redistributions of source code must retain the above copyright
</a><a href="#h47-0-7" id="h47-0-7" class="d">-notice, this list of conditions and the following disclaimer.
</a><a href="#h47-0-8" id="h47-0-8" class="d">-   * Redistributions in binary form must reproduce the above
</a><a href="#h47-0-9" id="h47-0-9" class="d">-copyright notice, this list of conditions and the following disclaimer
</a><a href="#h47-0-10" id="h47-0-10" class="d">-in the documentation and/or other materials provided with the
</a><a href="#h47-0-11" id="h47-0-11" class="d">-distribution.
</a><a href="#h47-0-12" id="h47-0-12" class="d">-   * Neither the name of Google Inc. nor the names of its
</a><a href="#h47-0-13" id="h47-0-13" class="d">-contributors may be used to endorse or promote products derived from
</a><a href="#h47-0-14" id="h47-0-14" class="d">-this software without specific prior written permission.
</a><a href="#h47-0-15" id="h47-0-15" class="d">-
</a><a href="#h47-0-16" id="h47-0-16" class="d">-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h47-0-17" id="h47-0-17" class="d">-&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h47-0-18" id="h47-0-18" class="d">-LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h47-0-19" id="h47-0-19" class="d">-A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h47-0-20" id="h47-0-20" class="d">-OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h47-0-21" id="h47-0-21" class="d">-SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h47-0-22" id="h47-0-22" class="d">-LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h47-0-23" id="h47-0-23" class="d">-DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h47-0-24" id="h47-0-24" class="d">-THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h47-0-25" id="h47-0-25" class="d">-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h47-0-26" id="h47-0-26" class="d">-OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h47-0-27" id="h47-0-27" class="d">-
</a><a href="#h47-0-28" id="h47-0-28" class="d">-----------
</a><a href="#h47-0-29" id="h47-0-29" class="d">-
</a><a href="#h47-0-30" id="h47-0-30" class="d">-Some documentation is taken from the GitHub Developer site
</a><a href="#h47-0-31" id="h47-0-31" class="d">-&lt;http://developer.github.com/&gt;, which is available under the following Creative
</a><a href="#h47-0-32" id="h47-0-32" class="d">-Commons Attribution 3.0 License.  This applies only to the go-github source
</a><a href="#h47-0-33" id="h47-0-33" class="d">-code and would not apply to any compiled binaries.
</a><a href="#h47-0-34" id="h47-0-34" class="d">-
</a><a href="#h47-0-35" id="h47-0-35" class="d">-THE WORK (AS DEFINED BELOW) IS PROVIDED UNDER THE TERMS OF THIS CREATIVE
</a><a href="#h47-0-36" id="h47-0-36" class="d">-COMMONS PUBLIC LICENSE (&quot;CCPL&quot; OR &quot;LICENSE&quot;). THE WORK IS PROTECTED BY
</a><a href="#h47-0-37" id="h47-0-37" class="d">-COPYRIGHT AND/OR OTHER APPLICABLE LAW. ANY USE OF THE WORK OTHER THAN AS
</a><a href="#h47-0-38" id="h47-0-38" class="d">-AUTHORIZED UNDER THIS LICENSE OR COPYRIGHT LAW IS PROHIBITED.
</a><a href="#h47-0-39" id="h47-0-39" class="d">-
</a><a href="#h47-0-40" id="h47-0-40" class="d">-BY EXERCISING ANY RIGHTS TO THE WORK PROVIDED HERE, YOU ACCEPT AND AGREE
</a><a href="#h47-0-41" id="h47-0-41" class="d">-TO BE BOUND BY THE TERMS OF THIS LICENSE. TO THE EXTENT THIS LICENSE MAY
</a><a href="#h47-0-42" id="h47-0-42" class="d">-BE CONSIDERED TO BE A CONTRACT, THE LICENSOR GRANTS YOU THE RIGHTS
</a><a href="#h47-0-43" id="h47-0-43" class="d">-CONTAINED HERE IN CONSIDERATION OF YOUR ACCEPTANCE OF SUCH TERMS AND
</a><a href="#h47-0-44" id="h47-0-44" class="d">-CONDITIONS.
</a><a href="#h47-0-45" id="h47-0-45" class="d">-
</a><a href="#h47-0-46" id="h47-0-46" class="d">-1. Definitions
</a><a href="#h47-0-47" id="h47-0-47" class="d">-
</a><a href="#h47-0-48" id="h47-0-48" class="d">- a. &quot;Adaptation&quot; means a work based upon the Work, or upon the Work and
</a><a href="#h47-0-49" id="h47-0-49" class="d">-    other pre-existing works, such as a translation, adaptation,
</a><a href="#h47-0-50" id="h47-0-50" class="d">-    derivative work, arrangement of music or other alterations of a
</a><a href="#h47-0-51" id="h47-0-51" class="d">-    literary or artistic work, or phonogram or performance and includes
</a><a href="#h47-0-52" id="h47-0-52" class="d">-    cinematographic adaptations or any other form in which the Work may be
</a><a href="#h47-0-53" id="h47-0-53" class="d">-    recast, transformed, or adapted including in any form recognizably
</a><a href="#h47-0-54" id="h47-0-54" class="d">-    derived from the original, except that a work that constitutes a
</a><a href="#h47-0-55" id="h47-0-55" class="d">-    Collection will not be considered an Adaptation for the purpose of
</a><a href="#h47-0-56" id="h47-0-56" class="d">-    this License. For the avoidance of doubt, where the Work is a musical
</a><a href="#h47-0-57" id="h47-0-57" class="d">-    work, performance or phonogram, the synchronization of the Work in
</a><a href="#h47-0-58" id="h47-0-58" class="d">-    timed-relation with a moving image (&quot;synching&quot;) will be considered an
</a><a href="#h47-0-59" id="h47-0-59" class="d">-    Adaptation for the purpose of this License.
</a><a href="#h47-0-60" id="h47-0-60" class="d">- b. &quot;Collection&quot; means a collection of literary or artistic works, such as
</a><a href="#h47-0-61" id="h47-0-61" class="d">-    encyclopedias and anthologies, or performances, phonograms or
</a><a href="#h47-0-62" id="h47-0-62" class="d">-    broadcasts, or other works or subject matter other than works listed
</a><a href="#h47-0-63" id="h47-0-63" class="d">-    in Section 1(f) below, which, by reason of the selection and
</a><a href="#h47-0-64" id="h47-0-64" class="d">-    arrangement of their contents, constitute intellectual creations, in
</a><a href="#h47-0-65" id="h47-0-65" class="d">-    which the Work is included in its entirety in unmodified form along
</a><a href="#h47-0-66" id="h47-0-66" class="d">-    with one or more other contributions, each constituting separate and
</a><a href="#h47-0-67" id="h47-0-67" class="d">-    independent works in themselves, which together are assembled into a
</a><a href="#h47-0-68" id="h47-0-68" class="d">-    collective whole. A work that constitutes a Collection will not be
</a><a href="#h47-0-69" id="h47-0-69" class="d">-    considered an Adaptation (as defined above) for the purposes of this
</a><a href="#h47-0-70" id="h47-0-70" class="d">-    License.
</a><a href="#h47-0-71" id="h47-0-71" class="d">- c. &quot;Distribute&quot; means to make available to the public the original and
</a><a href="#h47-0-72" id="h47-0-72" class="d">-    copies of the Work or Adaptation, as appropriate, through sale or
</a><a href="#h47-0-73" id="h47-0-73" class="d">-    other transfer of ownership.
</a><a href="#h47-0-74" id="h47-0-74" class="d">- d. &quot;Licensor&quot; means the individual, individuals, entity or entities that
</a><a href="#h47-0-75" id="h47-0-75" class="d">-    offer(s) the Work under the terms of this License.
</a><a href="#h47-0-76" id="h47-0-76" class="d">- e. &quot;Original Author&quot; means, in the case of a literary or artistic work,
</a><a href="#h47-0-77" id="h47-0-77" class="d">-    the individual, individuals, entity or entities who created the Work
</a><a href="#h47-0-78" id="h47-0-78" class="d">-    or if no individual or entity can be identified, the publisher; and in
</a><a href="#h47-0-79" id="h47-0-79" class="d">-    addition (i) in the case of a performance the actors, singers,
</a><a href="#h47-0-80" id="h47-0-80" class="d">-    musicians, dancers, and other persons who act, sing, deliver, declaim,
</a><a href="#h47-0-81" id="h47-0-81" class="d">-    play in, interpret or otherwise perform literary or artistic works or
</a><a href="#h47-0-82" id="h47-0-82" class="d">-    expressions of folklore; (ii) in the case of a phonogram the producer
</a><a href="#h47-0-83" id="h47-0-83" class="d">-    being the person or legal entity who first fixes the sounds of a
</a><a href="#h47-0-84" id="h47-0-84" class="d">-    performance or other sounds; and, (iii) in the case of broadcasts, the
</a><a href="#h47-0-85" id="h47-0-85" class="d">-    organization that transmits the broadcast.
</a><a href="#h47-0-86" id="h47-0-86" class="d">- f. &quot;Work&quot; means the literary and/or artistic work offered under the terms
</a><a href="#h47-0-87" id="h47-0-87" class="d">-    of this License including without limitation any production in the
</a><a href="#h47-0-88" id="h47-0-88" class="d">-    literary, scientific and artistic domain, whatever may be the mode or
</a><a href="#h47-0-89" id="h47-0-89" class="d">-    form of its expression including digital form, such as a book,
</a><a href="#h47-0-90" id="h47-0-90" class="d">-    pamphlet and other writing; a lecture, address, sermon or other work
</a><a href="#h47-0-91" id="h47-0-91" class="d">-    of the same nature; a dramatic or dramatico-musical work; a
</a><a href="#h47-0-92" id="h47-0-92" class="d">-    choreographic work or entertainment in dumb show; a musical
</a><a href="#h47-0-93" id="h47-0-93" class="d">-    composition with or without words; a cinematographic work to which are
</a><a href="#h47-0-94" id="h47-0-94" class="d">-    assimilated works expressed by a process analogous to cinematography;
</a><a href="#h47-0-95" id="h47-0-95" class="d">-    a work of drawing, painting, architecture, sculpture, engraving or
</a><a href="#h47-0-96" id="h47-0-96" class="d">-    lithography; a photographic work to which are assimilated works
</a><a href="#h47-0-97" id="h47-0-97" class="d">-    expressed by a process analogous to photography; a work of applied
</a><a href="#h47-0-98" id="h47-0-98" class="d">-    art; an illustration, map, plan, sketch or three-dimensional work
</a><a href="#h47-0-99" id="h47-0-99" class="d">-    relative to geography, topography, architecture or science; a
</a><a href="#h47-0-100" id="h47-0-100" class="d">-    performance; a broadcast; a phonogram; a compilation of data to the
</a><a href="#h47-0-101" id="h47-0-101" class="d">-    extent it is protected as a copyrightable work; or a work performed by
</a><a href="#h47-0-102" id="h47-0-102" class="d">-    a variety or circus performer to the extent it is not otherwise
</a><a href="#h47-0-103" id="h47-0-103" class="d">-    considered a literary or artistic work.
</a><a href="#h47-0-104" id="h47-0-104" class="d">- g. &quot;You&quot; means an individual or entity exercising rights under this
</a><a href="#h47-0-105" id="h47-0-105" class="d">-    License who has not previously violated the terms of this License with
</a><a href="#h47-0-106" id="h47-0-106" class="d">-    respect to the Work, or who has received express permission from the
</a><a href="#h47-0-107" id="h47-0-107" class="d">-    Licensor to exercise rights under this License despite a previous
</a><a href="#h47-0-108" id="h47-0-108" class="d">-    violation.
</a><a href="#h47-0-109" id="h47-0-109" class="d">- h. &quot;Publicly Perform&quot; means to perform public recitations of the Work and
</a><a href="#h47-0-110" id="h47-0-110" class="d">-    to communicate to the public those public recitations, by any means or
</a><a href="#h47-0-111" id="h47-0-111" class="d">-    process, including by wire or wireless means or public digital
</a><a href="#h47-0-112" id="h47-0-112" class="d">-    performances; to make available to the public Works in such a way that
</a><a href="#h47-0-113" id="h47-0-113" class="d">-    members of the public may access these Works from a place and at a
</a><a href="#h47-0-114" id="h47-0-114" class="d">-    place individually chosen by them; to perform the Work to the public
</a><a href="#h47-0-115" id="h47-0-115" class="d">-    by any means or process and the communication to the public of the
</a><a href="#h47-0-116" id="h47-0-116" class="d">-    performances of the Work, including by public digital performance; to
</a><a href="#h47-0-117" id="h47-0-117" class="d">-    broadcast and rebroadcast the Work by any means including signs,
</a><a href="#h47-0-118" id="h47-0-118" class="d">-    sounds or images.
</a><a href="#h47-0-119" id="h47-0-119" class="d">- i. &quot;Reproduce&quot; means to make copies of the Work by any means including
</a><a href="#h47-0-120" id="h47-0-120" class="d">-    without limitation by sound or visual recordings and the right of
</a><a href="#h47-0-121" id="h47-0-121" class="d">-    fixation and reproducing fixations of the Work, including storage of a
</a><a href="#h47-0-122" id="h47-0-122" class="d">-    protected performance or phonogram in digital form or other electronic
</a><a href="#h47-0-123" id="h47-0-123" class="d">-    medium.
</a><a href="#h47-0-124" id="h47-0-124" class="d">-
</a><a href="#h47-0-125" id="h47-0-125" class="d">-2. Fair Dealing Rights. Nothing in this License is intended to reduce,
</a><a href="#h47-0-126" id="h47-0-126" class="d">-limit, or restrict any uses free from copyright or rights arising from
</a><a href="#h47-0-127" id="h47-0-127" class="d">-limitations or exceptions that are provided for in connection with the
</a><a href="#h47-0-128" id="h47-0-128" class="d">-copyright protection under copyright law or other applicable laws.
</a><a href="#h47-0-129" id="h47-0-129" class="d">-
</a><a href="#h47-0-130" id="h47-0-130" class="d">-3. License Grant. Subject to the terms and conditions of this License,
</a><a href="#h47-0-131" id="h47-0-131" class="d">-Licensor hereby grants You a worldwide, royalty-free, non-exclusive,
</a><a href="#h47-0-132" id="h47-0-132" class="d">-perpetual (for the duration of the applicable copyright) license to
</a><a href="#h47-0-133" id="h47-0-133" class="d">-exercise the rights in the Work as stated below:
</a><a href="#h47-0-134" id="h47-0-134" class="d">-
</a><a href="#h47-0-135" id="h47-0-135" class="d">- a. to Reproduce the Work, to incorporate the Work into one or more
</a><a href="#h47-0-136" id="h47-0-136" class="d">-    Collections, and to Reproduce the Work as incorporated in the
</a><a href="#h47-0-137" id="h47-0-137" class="d">-    Collections;
</a><a href="#h47-0-138" id="h47-0-138" class="d">- b. to create and Reproduce Adaptations provided that any such Adaptation,
</a><a href="#h47-0-139" id="h47-0-139" class="d">-    including any translation in any medium, takes reasonable steps to
</a><a href="#h47-0-140" id="h47-0-140" class="d">-    clearly label, demarcate or otherwise identify that changes were made
</a><a href="#h47-0-141" id="h47-0-141" class="d">-    to the original Work. For example, a translation could be marked &quot;The
</a><a href="#h47-0-142" id="h47-0-142" class="d">-    original work was translated from English to Spanish,&quot; or a
</a><a href="#h47-0-143" id="h47-0-143" class="d">-    modification could indicate &quot;The original work has been modified.&quot;;
</a><a href="#h47-0-144" id="h47-0-144" class="d">- c. to Distribute and Publicly Perform the Work including as incorporated
</a><a href="#h47-0-145" id="h47-0-145" class="d">-    in Collections; and,
</a><a href="#h47-0-146" id="h47-0-146" class="d">- d. to Distribute and Publicly Perform Adaptations.
</a><a href="#h47-0-147" id="h47-0-147" class="d">- e. For the avoidance of doubt:
</a><a href="#h47-0-148" id="h47-0-148" class="d">-
</a><a href="#h47-0-149" id="h47-0-149" class="d">-     i. Non-waivable Compulsory License Schemes. In those jurisdictions in
</a><a href="#h47-0-150" id="h47-0-150" class="d">-        which the right to collect royalties through any statutory or
</a><a href="#h47-0-151" id="h47-0-151" class="d">-        compulsory licensing scheme cannot be waived, the Licensor
</a><a href="#h47-0-152" id="h47-0-152" class="d">-        reserves the exclusive right to collect such royalties for any
</a><a href="#h47-0-153" id="h47-0-153" class="d">-        exercise by You of the rights granted under this License;
</a><a href="#h47-0-154" id="h47-0-154" class="d">-    ii. Waivable Compulsory License Schemes. In those jurisdictions in
</a><a href="#h47-0-155" id="h47-0-155" class="d">-        which the right to collect royalties through any statutory or
</a><a href="#h47-0-156" id="h47-0-156" class="d">-        compulsory licensing scheme can be waived, the Licensor waives the
</a><a href="#h47-0-157" id="h47-0-157" class="d">-        exclusive right to collect such royalties for any exercise by You
</a><a href="#h47-0-158" id="h47-0-158" class="d">-        of the rights granted under this License; and,
</a><a href="#h47-0-159" id="h47-0-159" class="d">-   iii. Voluntary License Schemes. The Licensor waives the right to
</a><a href="#h47-0-160" id="h47-0-160" class="d">-        collect royalties, whether individually or, in the event that the
</a><a href="#h47-0-161" id="h47-0-161" class="d">-        Licensor is a member of a collecting society that administers
</a><a href="#h47-0-162" id="h47-0-162" class="d">-        voluntary licensing schemes, via that society, from any exercise
</a><a href="#h47-0-163" id="h47-0-163" class="d">-        by You of the rights granted under this License.
</a><a href="#h47-0-164" id="h47-0-164" class="d">-
</a><a href="#h47-0-165" id="h47-0-165" class="d">-The above rights may be exercised in all media and formats whether now
</a><a href="#h47-0-166" id="h47-0-166" class="d">-known or hereafter devised. The above rights include the right to make
</a><a href="#h47-0-167" id="h47-0-167" class="d">-such modifications as are technically necessary to exercise the rights in
</a><a href="#h47-0-168" id="h47-0-168" class="d">-other media and formats. Subject to Section 8(f), all rights not expressly
</a><a href="#h47-0-169" id="h47-0-169" class="d">-granted by Licensor are hereby reserved.
</a><a href="#h47-0-170" id="h47-0-170" class="d">-
</a><a href="#h47-0-171" id="h47-0-171" class="d">-4. Restrictions. The license granted in Section 3 above is expressly made
</a><a href="#h47-0-172" id="h47-0-172" class="d">-subject to and limited by the following restrictions:
</a><a href="#h47-0-173" id="h47-0-173" class="d">-
</a><a href="#h47-0-174" id="h47-0-174" class="d">- a. You may Distribute or Publicly Perform the Work only under the terms
</a><a href="#h47-0-175" id="h47-0-175" class="d">-    of this License. You must include a copy of, or the Uniform Resource
</a><a href="#h47-0-176" id="h47-0-176" class="d">-    Identifier (URI) for, this License with every copy of the Work You
</a><a href="#h47-0-177" id="h47-0-177" class="d">-    Distribute or Publicly Perform. You may not offer or impose any terms
</a><a href="#h47-0-178" id="h47-0-178" class="d">-    on the Work that restrict the terms of this License or the ability of
</a><a href="#h47-0-179" id="h47-0-179" class="d">-    the recipient of the Work to exercise the rights granted to that
</a><a href="#h47-0-180" id="h47-0-180" class="d">-    recipient under the terms of the License. You may not sublicense the
</a><a href="#h47-0-181" id="h47-0-181" class="d">-    Work. You must keep intact all notices that refer to this License and
</a><a href="#h47-0-182" id="h47-0-182" class="d">-    to the disclaimer of warranties with every copy of the Work You
</a><a href="#h47-0-183" id="h47-0-183" class="d">-    Distribute or Publicly Perform. When You Distribute or Publicly
</a><a href="#h47-0-184" id="h47-0-184" class="d">-    Perform the Work, You may not impose any effective technological
</a><a href="#h47-0-185" id="h47-0-185" class="d">-    measures on the Work that restrict the ability of a recipient of the
</a><a href="#h47-0-186" id="h47-0-186" class="d">-    Work from You to exercise the rights granted to that recipient under
</a><a href="#h47-0-187" id="h47-0-187" class="d">-    the terms of the License. This Section 4(a) applies to the Work as
</a><a href="#h47-0-188" id="h47-0-188" class="d">-    incorporated in a Collection, but this does not require the Collection
</a><a href="#h47-0-189" id="h47-0-189" class="d">-    apart from the Work itself to be made subject to the terms of this
</a><a href="#h47-0-190" id="h47-0-190" class="d">-    License. If You create a Collection, upon notice from any Licensor You
</a><a href="#h47-0-191" id="h47-0-191" class="d">-    must, to the extent practicable, remove from the Collection any credit
</a><a href="#h47-0-192" id="h47-0-192" class="d">-    as required by Section 4(b), as requested. If You create an
</a><a href="#h47-0-193" id="h47-0-193" class="d">-    Adaptation, upon notice from any Licensor You must, to the extent
</a><a href="#h47-0-194" id="h47-0-194" class="d">-    practicable, remove from the Adaptation any credit as required by
</a><a href="#h47-0-195" id="h47-0-195" class="d">-    Section 4(b), as requested.
</a><a href="#h47-0-196" id="h47-0-196" class="d">- b. If You Distribute, or Publicly Perform the Work or any Adaptations or
</a><a href="#h47-0-197" id="h47-0-197" class="d">-    Collections, You must, unless a request has been made pursuant to
</a><a href="#h47-0-198" id="h47-0-198" class="d">-    Section 4(a), keep intact all copyright notices for the Work and
</a><a href="#h47-0-199" id="h47-0-199" class="d">-    provide, reasonable to the medium or means You are utilizing: (i) the
</a><a href="#h47-0-200" id="h47-0-200" class="d">-    name of the Original Author (or pseudonym, if applicable) if supplied,
</a><a href="#h47-0-201" id="h47-0-201" class="d">-    and/or if the Original Author and/or Licensor designate another party
</a><a href="#h47-0-202" id="h47-0-202" class="d">-    or parties (e.g., a sponsor institute, publishing entity, journal) for
</a><a href="#h47-0-203" id="h47-0-203" class="d">-    attribution (&quot;Attribution Parties&quot;) in Licensor&#39;s copyright notice,
</a><a href="#h47-0-204" id="h47-0-204" class="d">-    terms of service or by other reasonable means, the name of such party
</a><a href="#h47-0-205" id="h47-0-205" class="d">-    or parties; (ii) the title of the Work if supplied; (iii) to the
</a><a href="#h47-0-206" id="h47-0-206" class="d">-    extent reasonably practicable, the URI, if any, that Licensor
</a><a href="#h47-0-207" id="h47-0-207" class="d">-    specifies to be associated with the Work, unless such URI does not
</a><a href="#h47-0-208" id="h47-0-208" class="d">-    refer to the copyright notice or licensing information for the Work;
</a><a href="#h47-0-209" id="h47-0-209" class="d">-    and (iv) , consistent with Section 3(b), in the case of an Adaptation,
</a><a href="#h47-0-210" id="h47-0-210" class="d">-    a credit identifying the use of the Work in the Adaptation (e.g.,
</a><a href="#h47-0-211" id="h47-0-211" class="d">-    &quot;French translation of the Work by Original Author,&quot; or &quot;Screenplay
</a><a href="#h47-0-212" id="h47-0-212" class="d">-    based on original Work by Original Author&quot;). The credit required by
</a><a href="#h47-0-213" id="h47-0-213" class="d">-    this Section 4 (b) may be implemented in any reasonable manner;
</a><a href="#h47-0-214" id="h47-0-214" class="d">-    provided, however, that in the case of a Adaptation or Collection, at
</a><a href="#h47-0-215" id="h47-0-215" class="d">-    a minimum such credit will appear, if a credit for all contributing
</a><a href="#h47-0-216" id="h47-0-216" class="d">-    authors of the Adaptation or Collection appears, then as part of these
</a><a href="#h47-0-217" id="h47-0-217" class="d">-    credits and in a manner at least as prominent as the credits for the
</a><a href="#h47-0-218" id="h47-0-218" class="d">-    other contributing authors. For the avoidance of doubt, You may only
</a><a href="#h47-0-219" id="h47-0-219" class="d">-    use the credit required by this Section for the purpose of attribution
</a><a href="#h47-0-220" id="h47-0-220" class="d">-    in the manner set out above and, by exercising Your rights under this
</a><a href="#h47-0-221" id="h47-0-221" class="d">-    License, You may not implicitly or explicitly assert or imply any
</a><a href="#h47-0-222" id="h47-0-222" class="d">-    connection with, sponsorship or endorsement by the Original Author,
</a><a href="#h47-0-223" id="h47-0-223" class="d">-    Licensor and/or Attribution Parties, as appropriate, of You or Your
</a><a href="#h47-0-224" id="h47-0-224" class="d">-    use of the Work, without the separate, express prior written
</a><a href="#h47-0-225" id="h47-0-225" class="d">-    permission of the Original Author, Licensor and/or Attribution
</a><a href="#h47-0-226" id="h47-0-226" class="d">-    Parties.
</a><a href="#h47-0-227" id="h47-0-227" class="d">- c. Except as otherwise agreed in writing by the Licensor or as may be
</a><a href="#h47-0-228" id="h47-0-228" class="d">-    otherwise permitted by applicable law, if You Reproduce, Distribute or
</a><a href="#h47-0-229" id="h47-0-229" class="d">-    Publicly Perform the Work either by itself or as part of any
</a><a href="#h47-0-230" id="h47-0-230" class="d">-    Adaptations or Collections, You must not distort, mutilate, modify or
</a><a href="#h47-0-231" id="h47-0-231" class="d">-    take other derogatory action in relation to the Work which would be
</a><a href="#h47-0-232" id="h47-0-232" class="d">-    prejudicial to the Original Author&#39;s honor or reputation. Licensor
</a><a href="#h47-0-233" id="h47-0-233" class="d">-    agrees that in those jurisdictions (e.g. Japan), in which any exercise
</a><a href="#h47-0-234" id="h47-0-234" class="d">-    of the right granted in Section 3(b) of this License (the right to
</a><a href="#h47-0-235" id="h47-0-235" class="d">-    make Adaptations) would be deemed to be a distortion, mutilation,
</a><a href="#h47-0-236" id="h47-0-236" class="d">-    modification or other derogatory action prejudicial to the Original
</a><a href="#h47-0-237" id="h47-0-237" class="d">-    Author&#39;s honor and reputation, the Licensor will waive or not assert,
</a><a href="#h47-0-238" id="h47-0-238" class="d">-    as appropriate, this Section, to the fullest extent permitted by the
</a><a href="#h47-0-239" id="h47-0-239" class="d">-    applicable national law, to enable You to reasonably exercise Your
</a><a href="#h47-0-240" id="h47-0-240" class="d">-    right under Section 3(b) of this License (right to make Adaptations)
</a><a href="#h47-0-241" id="h47-0-241" class="d">-    but not otherwise.
</a><a href="#h47-0-242" id="h47-0-242" class="d">-
</a><a href="#h47-0-243" id="h47-0-243" class="d">-5. Representations, Warranties and Disclaimer
</a><a href="#h47-0-244" id="h47-0-244" class="d">-
</a><a href="#h47-0-245" id="h47-0-245" class="d">-UNLESS OTHERWISE MUTUALLY AGREED TO BY THE PARTIES IN WRITING, LICENSOR
</a><a href="#h47-0-246" id="h47-0-246" class="d">-OFFERS THE WORK AS-IS AND MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY
</a><a href="#h47-0-247" id="h47-0-247" class="d">-KIND CONCERNING THE WORK, EXPRESS, IMPLIED, STATUTORY OR OTHERWISE,
</a><a href="#h47-0-248" id="h47-0-248" class="d">-INCLUDING, WITHOUT LIMITATION, WARRANTIES OF TITLE, MERCHANTIBILITY,
</a><a href="#h47-0-249" id="h47-0-249" class="d">-FITNESS FOR A PARTICULAR PURPOSE, NONINFRINGEMENT, OR THE ABSENCE OF
</a><a href="#h47-0-250" id="h47-0-250" class="d">-LATENT OR OTHER DEFECTS, ACCURACY, OR THE PRESENCE OF ABSENCE OF ERRORS,
</a><a href="#h47-0-251" id="h47-0-251" class="d">-WHETHER OR NOT DISCOVERABLE. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION
</a><a href="#h47-0-252" id="h47-0-252" class="d">-OF IMPLIED WARRANTIES, SO SUCH EXCLUSION MAY NOT APPLY TO YOU.
</a><a href="#h47-0-253" id="h47-0-253" class="d">-
</a><a href="#h47-0-254" id="h47-0-254" class="d">-6. Limitation on Liability. EXCEPT TO THE EXTENT REQUIRED BY APPLICABLE
</a><a href="#h47-0-255" id="h47-0-255" class="d">-LAW, IN NO EVENT WILL LICENSOR BE LIABLE TO YOU ON ANY LEGAL THEORY FOR
</a><a href="#h47-0-256" id="h47-0-256" class="d">-ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL, PUNITIVE OR EXEMPLARY DAMAGES
</a><a href="#h47-0-257" id="h47-0-257" class="d">-ARISING OUT OF THIS LICENSE OR THE USE OF THE WORK, EVEN IF LICENSOR HAS
</a><a href="#h47-0-258" id="h47-0-258" class="d">-BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
</a><a href="#h47-0-259" id="h47-0-259" class="d">-
</a><a href="#h47-0-260" id="h47-0-260" class="d">-7. Termination
</a><a href="#h47-0-261" id="h47-0-261" class="d">-
</a><a href="#h47-0-262" id="h47-0-262" class="d">- a. This License and the rights granted hereunder will terminate
</a><a href="#h47-0-263" id="h47-0-263" class="d">-    automatically upon any breach by You of the terms of this License.
</a><a href="#h47-0-264" id="h47-0-264" class="d">-    Individuals or entities who have received Adaptations or Collections
</a><a href="#h47-0-265" id="h47-0-265" class="d">-    from You under this License, however, will not have their licenses
</a><a href="#h47-0-266" id="h47-0-266" class="d">-    terminated provided such individuals or entities remain in full
</a><a href="#h47-0-267" id="h47-0-267" class="d">-    compliance with those licenses. Sections 1, 2, 5, 6, 7, and 8 will
</a><a href="#h47-0-268" id="h47-0-268" class="d">-    survive any termination of this License.
</a><a href="#h47-0-269" id="h47-0-269" class="d">- b. Subject to the above terms and conditions, the license granted here is
</a><a href="#h47-0-270" id="h47-0-270" class="d">-    perpetual (for the duration of the applicable copyright in the Work).
</a><a href="#h47-0-271" id="h47-0-271" class="d">-    Notwithstanding the above, Licensor reserves the right to release the
</a><a href="#h47-0-272" id="h47-0-272" class="d">-    Work under different license terms or to stop distributing the Work at
</a><a href="#h47-0-273" id="h47-0-273" class="d">-    any time; provided, however that any such election will not serve to
</a><a href="#h47-0-274" id="h47-0-274" class="d">-    withdraw this License (or any other license that has been, or is
</a><a href="#h47-0-275" id="h47-0-275" class="d">-    required to be, granted under the terms of this License), and this
</a><a href="#h47-0-276" id="h47-0-276" class="d">-    License will continue in full force and effect unless terminated as
</a><a href="#h47-0-277" id="h47-0-277" class="d">-    stated above.
</a><a href="#h47-0-278" id="h47-0-278" class="d">-
</a><a href="#h47-0-279" id="h47-0-279" class="d">-8. Miscellaneous
</a><a href="#h47-0-280" id="h47-0-280" class="d">-
</a><a href="#h47-0-281" id="h47-0-281" class="d">- a. Each time You Distribute or Publicly Perform the Work or a Collection,
</a><a href="#h47-0-282" id="h47-0-282" class="d">-    the Licensor offers to the recipient a license to the Work on the same
</a><a href="#h47-0-283" id="h47-0-283" class="d">-    terms and conditions as the license granted to You under this License.
</a><a href="#h47-0-284" id="h47-0-284" class="d">- b. Each time You Distribute or Publicly Perform an Adaptation, Licensor
</a><a href="#h47-0-285" id="h47-0-285" class="d">-    offers to the recipient a license to the original Work on the same
</a><a href="#h47-0-286" id="h47-0-286" class="d">-    terms and conditions as the license granted to You under this License.
</a><a href="#h47-0-287" id="h47-0-287" class="d">- c. If any provision of this License is invalid or unenforceable under
</a><a href="#h47-0-288" id="h47-0-288" class="d">-    applicable law, it shall not affect the validity or enforceability of
</a><a href="#h47-0-289" id="h47-0-289" class="d">-    the remainder of the terms of this License, and without further action
</a><a href="#h47-0-290" id="h47-0-290" class="d">-    by the parties to this agreement, such provision shall be reformed to
</a><a href="#h47-0-291" id="h47-0-291" class="d">-    the minimum extent necessary to make such provision valid and
</a><a href="#h47-0-292" id="h47-0-292" class="d">-    enforceable.
</a><a href="#h47-0-293" id="h47-0-293" class="d">- d. No term or provision of this License shall be deemed waived and no
</a><a href="#h47-0-294" id="h47-0-294" class="d">-    breach consented to unless such waiver or consent shall be in writing
</a><a href="#h47-0-295" id="h47-0-295" class="d">-    and signed by the party to be charged with such waiver or consent.
</a><a href="#h47-0-296" id="h47-0-296" class="d">- e. This License constitutes the entire agreement between the parties with
</a><a href="#h47-0-297" id="h47-0-297" class="d">-    respect to the Work licensed here. There are no understandings,
</a><a href="#h47-0-298" id="h47-0-298" class="d">-    agreements or representations with respect to the Work not specified
</a><a href="#h47-0-299" id="h47-0-299" class="d">-    here. Licensor shall not be bound by any additional provisions that
</a><a href="#h47-0-300" id="h47-0-300" class="d">-    may appear in any communication from You. This License may not be
</a><a href="#h47-0-301" id="h47-0-301" class="d">-    modified without the mutual written agreement of the Licensor and You.
</a><a href="#h47-0-302" id="h47-0-302" class="d">- f. The rights granted under, and the subject matter referenced, in this
</a><a href="#h47-0-303" id="h47-0-303" class="d">-    License were drafted utilizing the terminology of the Berne Convention
</a><a href="#h47-0-304" id="h47-0-304" class="d">-    for the Protection of Literary and Artistic Works (as amended on
</a><a href="#h47-0-305" id="h47-0-305" class="d">-    September 28, 1979), the Rome Convention of 1961, the WIPO Copyright
</a><a href="#h47-0-306" id="h47-0-306" class="d">-    Treaty of 1996, the WIPO Performances and Phonograms Treaty of 1996
</a><a href="#h47-0-307" id="h47-0-307" class="d">-    and the Universal Copyright Convention (as revised on July 24, 1971).
</a><a href="#h47-0-308" id="h47-0-308" class="d">-    These rights and subject matter take effect in the relevant
</a><a href="#h47-0-309" id="h47-0-309" class="d">-    jurisdiction in which the License terms are sought to be enforced
</a><a href="#h47-0-310" id="h47-0-310" class="d">-    according to the corresponding provisions of the implementation of
</a><a href="#h47-0-311" id="h47-0-311" class="d">-    those treaty provisions in the applicable national law. If the
</a><a href="#h47-0-312" id="h47-0-312" class="d">-    standard suite of rights granted under applicable copyright law
</a><a href="#h47-0-313" id="h47-0-313" class="d">-    includes additional rights not granted under this License, such
</a><a href="#h47-0-314" id="h47-0-314" class="d">-    additional rights are deemed to be included in the License; this
</a><a href="#h47-0-315" id="h47-0-315" class="d">-    License is not intended to restrict the license of any rights under
</a><a href="#h47-0-316" id="h47-0-316" class="d">-    applicable law.
</a><a href="#h47-0-317" id="h47-0-317" class="d">-
</a><a href="#h47-0-318" id="h47-0-318" class="d">-
</a><a href="#h47-0-319" id="h47-0-319" class="d">-Creative Commons Notice
</a><a href="#h47-0-320" id="h47-0-320" class="d">-
</a><a href="#h47-0-321" id="h47-0-321" class="d">-    Creative Commons is not a party to this License, and makes no warranty
</a><a href="#h47-0-322" id="h47-0-322" class="d">-    whatsoever in connection with the Work. Creative Commons will not be
</a><a href="#h47-0-323" id="h47-0-323" class="d">-    liable to You or any party on any legal theory for any damages
</a><a href="#h47-0-324" id="h47-0-324" class="d">-    whatsoever, including without limitation any general, special,
</a><a href="#h47-0-325" id="h47-0-325" class="d">-    incidental or consequential damages arising in connection to this
</a><a href="#h47-0-326" id="h47-0-326" class="d">-    license. Notwithstanding the foregoing two (2) sentences, if Creative
</a><a href="#h47-0-327" id="h47-0-327" class="d">-    Commons has expressly identified itself as the Licensor hereunder, it
</a><a href="#h47-0-328" id="h47-0-328" class="d">-    shall have all rights and obligations of Licensor.
</a><a href="#h47-0-329" id="h47-0-329" class="d">-
</a><a href="#h47-0-330" id="h47-0-330" class="d">-    Except for the limited purpose of indicating to the public that the
</a><a href="#h47-0-331" id="h47-0-331" class="d">-    Work is licensed under the CCPL, Creative Commons does not authorize
</a><a href="#h47-0-332" id="h47-0-332" class="d">-    the use by either party of the trademark &quot;Creative Commons&quot; or any
</a><a href="#h47-0-333" id="h47-0-333" class="d">-    related trademark or logo of Creative Commons without the prior
</a><a href="#h47-0-334" id="h47-0-334" class="d">-    written consent of Creative Commons. Any permitted use will be in
</a><a href="#h47-0-335" id="h47-0-335" class="d">-    compliance with Creative Commons&#39; then-current trademark usage
</a><a href="#h47-0-336" id="h47-0-336" class="d">-    guidelines, as may be published on its website or otherwise made
</a><a href="#h47-0-337" id="h47-0-337" class="d">-    available upon request from time to time. For the avoidance of doubt,
</a><a href="#h47-0-338" id="h47-0-338" class="d">-    this trademark restriction does not form part of this License.
</a><a href="#h47-0-339" id="h47-0-339" class="d">-
</a><a href="#h47-0-340" id="h47-0-340" class="d">-    Creative Commons may be contacted at http://creativecommons.org/.
</a><b>diff --git a/<a id="h48" href="../file/vendor/github.com/google/go-github/github/BUILD">vendor/github.com/google/go-github/github/BUILD</a> b/<a href="../file/vendor/github.com/google/go-github/github/BUILD">vendor/github.com/google/go-github/github/BUILD</a></b>
<a href="#h48-0" id="h48-0" class="h">@@ -1,73 +0,0 @@
</a><a href="#h48-0-0" id="h48-0-0" class="d">-
</a><a href="#h48-0-1" id="h48-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h48-0-2" id="h48-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h48-0-3" id="h48-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h48-0-4" id="h48-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h48-0-5" id="h48-0-5" class="d">-)
</a><a href="#h48-0-6" id="h48-0-6" class="d">-
</a><a href="#h48-0-7" id="h48-0-7" class="d">-go_library(
</a><a href="#h48-0-8" id="h48-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h48-0-9" id="h48-0-9" class="d">-  srcs = [
</a><a href="#h48-0-10" id="h48-0-10" class="d">-    &quot;activity.go&quot;,
</a><a href="#h48-0-11" id="h48-0-11" class="d">-    &quot;activity_events.go&quot;,
</a><a href="#h48-0-12" id="h48-0-12" class="d">-    &quot;activity_notifications.go&quot;,
</a><a href="#h48-0-13" id="h48-0-13" class="d">-    &quot;activity_star.go&quot;,
</a><a href="#h48-0-14" id="h48-0-14" class="d">-    &quot;activity_watching.go&quot;,
</a><a href="#h48-0-15" id="h48-0-15" class="d">-    &quot;authorizations.go&quot;,
</a><a href="#h48-0-16" id="h48-0-16" class="d">-    &quot;doc.go&quot;,
</a><a href="#h48-0-17" id="h48-0-17" class="d">-    &quot;event_types.go&quot;,
</a><a href="#h48-0-18" id="h48-0-18" class="d">-    &quot;gists.go&quot;,
</a><a href="#h48-0-19" id="h48-0-19" class="d">-    &quot;gists_comments.go&quot;,
</a><a href="#h48-0-20" id="h48-0-20" class="d">-    &quot;git.go&quot;,
</a><a href="#h48-0-21" id="h48-0-21" class="d">-    &quot;git_blobs.go&quot;,
</a><a href="#h48-0-22" id="h48-0-22" class="d">-    &quot;git_commits.go&quot;,
</a><a href="#h48-0-23" id="h48-0-23" class="d">-    &quot;git_refs.go&quot;,
</a><a href="#h48-0-24" id="h48-0-24" class="d">-    &quot;git_tags.go&quot;,
</a><a href="#h48-0-25" id="h48-0-25" class="d">-    &quot;git_trees.go&quot;,
</a><a href="#h48-0-26" id="h48-0-26" class="d">-    &quot;github.go&quot;,
</a><a href="#h48-0-27" id="h48-0-27" class="d">-    &quot;gitignore.go&quot;,
</a><a href="#h48-0-28" id="h48-0-28" class="d">-    &quot;issues.go&quot;,
</a><a href="#h48-0-29" id="h48-0-29" class="d">-    &quot;issues_assignees.go&quot;,
</a><a href="#h48-0-30" id="h48-0-30" class="d">-    &quot;issues_comments.go&quot;,
</a><a href="#h48-0-31" id="h48-0-31" class="d">-    &quot;issues_events.go&quot;,
</a><a href="#h48-0-32" id="h48-0-32" class="d">-    &quot;issues_labels.go&quot;,
</a><a href="#h48-0-33" id="h48-0-33" class="d">-    &quot;issues_milestones.go&quot;,
</a><a href="#h48-0-34" id="h48-0-34" class="d">-    &quot;licenses.go&quot;,
</a><a href="#h48-0-35" id="h48-0-35" class="d">-    &quot;migrations.go&quot;,
</a><a href="#h48-0-36" id="h48-0-36" class="d">-    &quot;misc.go&quot;,
</a><a href="#h48-0-37" id="h48-0-37" class="d">-    &quot;orgs.go&quot;,
</a><a href="#h48-0-38" id="h48-0-38" class="d">-    &quot;orgs_hooks.go&quot;,
</a><a href="#h48-0-39" id="h48-0-39" class="d">-    &quot;orgs_members.go&quot;,
</a><a href="#h48-0-40" id="h48-0-40" class="d">-    &quot;orgs_teams.go&quot;,
</a><a href="#h48-0-41" id="h48-0-41" class="d">-    &quot;pulls.go&quot;,
</a><a href="#h48-0-42" id="h48-0-42" class="d">-    &quot;pulls_comments.go&quot;,
</a><a href="#h48-0-43" id="h48-0-43" class="d">-    &quot;repos.go&quot;,
</a><a href="#h48-0-44" id="h48-0-44" class="d">-    &quot;repos_collaborators.go&quot;,
</a><a href="#h48-0-45" id="h48-0-45" class="d">-    &quot;repos_comments.go&quot;,
</a><a href="#h48-0-46" id="h48-0-46" class="d">-    &quot;repos_commits.go&quot;,
</a><a href="#h48-0-47" id="h48-0-47" class="d">-    &quot;repos_contents.go&quot;,
</a><a href="#h48-0-48" id="h48-0-48" class="d">-    &quot;repos_deployments.go&quot;,
</a><a href="#h48-0-49" id="h48-0-49" class="d">-    &quot;repos_forks.go&quot;,
</a><a href="#h48-0-50" id="h48-0-50" class="d">-    &quot;repos_hooks.go&quot;,
</a><a href="#h48-0-51" id="h48-0-51" class="d">-    &quot;repos_keys.go&quot;,
</a><a href="#h48-0-52" id="h48-0-52" class="d">-    &quot;repos_merging.go&quot;,
</a><a href="#h48-0-53" id="h48-0-53" class="d">-    &quot;repos_pages.go&quot;,
</a><a href="#h48-0-54" id="h48-0-54" class="d">-    &quot;repos_releases.go&quot;,
</a><a href="#h48-0-55" id="h48-0-55" class="d">-    &quot;repos_stats.go&quot;,
</a><a href="#h48-0-56" id="h48-0-56" class="d">-    &quot;repos_statuses.go&quot;,
</a><a href="#h48-0-57" id="h48-0-57" class="d">-    &quot;search.go&quot;,
</a><a href="#h48-0-58" id="h48-0-58" class="d">-    &quot;strings.go&quot;,
</a><a href="#h48-0-59" id="h48-0-59" class="d">-    &quot;timestamp.go&quot;,
</a><a href="#h48-0-60" id="h48-0-60" class="d">-    &quot;users.go&quot;,
</a><a href="#h48-0-61" id="h48-0-61" class="d">-    &quot;users_administration.go&quot;,
</a><a href="#h48-0-62" id="h48-0-62" class="d">-    &quot;users_emails.go&quot;,
</a><a href="#h48-0-63" id="h48-0-63" class="d">-    &quot;users_followers.go&quot;,
</a><a href="#h48-0-64" id="h48-0-64" class="d">-    &quot;users_keys.go&quot;,
</a><a href="#h48-0-65" id="h48-0-65" class="d">-  ],
</a><a href="#h48-0-66" id="h48-0-66" class="d">-  deps = [
</a><a href="#h48-0-67" id="h48-0-67" class="d">-    &quot;//vendor/github.com/google/go-querystring/query:go_default_library&quot;,
</a><a href="#h48-0-68" id="h48-0-68" class="d">-  ],
</a><a href="#h48-0-69" id="h48-0-69" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h48-0-70" id="h48-0-70" class="d">-)
</a><a href="#h48-0-71" id="h48-0-71" class="d">-
</a><a href="#h48-0-72" id="h48-0-72" class="d">-
</a><b>diff --git a/<a id="h49" href="../file/vendor/github.com/google/go-github/github/activity.go">vendor/github.com/google/go-github/github/activity.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/activity.go">vendor/github.com/google/go-github/github/activity.go</a></b>
<a href="#h49-0" id="h49-0" class="h">@@ -1,69 +0,0 @@
</a><a href="#h49-0-0" id="h49-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h49-0-1" id="h49-0-1" class="d">-//
</a><a href="#h49-0-2" id="h49-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h49-0-3" id="h49-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h49-0-4" id="h49-0-4" class="d">-
</a><a href="#h49-0-5" id="h49-0-5" class="d">-package github
</a><a href="#h49-0-6" id="h49-0-6" class="d">-
</a><a href="#h49-0-7" id="h49-0-7" class="d">-// ActivityService handles communication with the activity related
</a><a href="#h49-0-8" id="h49-0-8" class="d">-// methods of the GitHub API.
</a><a href="#h49-0-9" id="h49-0-9" class="d">-//
</a><a href="#h49-0-10" id="h49-0-10" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/
</a><a href="#h49-0-11" id="h49-0-11" class="d">-type ActivityService struct {
</a><a href="#h49-0-12" id="h49-0-12" class="d">-	client *Client
</a><a href="#h49-0-13" id="h49-0-13" class="d">-}
</a><a href="#h49-0-14" id="h49-0-14" class="d">-
</a><a href="#h49-0-15" id="h49-0-15" class="d">-// FeedLink represents a link to a related resource.
</a><a href="#h49-0-16" id="h49-0-16" class="d">-type FeedLink struct {
</a><a href="#h49-0-17" id="h49-0-17" class="d">-	HRef *string `json:&quot;href,omitempty&quot;`
</a><a href="#h49-0-18" id="h49-0-18" class="d">-	Type *string `json:&quot;type,omitempty&quot;`
</a><a href="#h49-0-19" id="h49-0-19" class="d">-}
</a><a href="#h49-0-20" id="h49-0-20" class="d">-
</a><a href="#h49-0-21" id="h49-0-21" class="d">-// Feeds represents timeline resources in Atom format.
</a><a href="#h49-0-22" id="h49-0-22" class="d">-type Feeds struct {
</a><a href="#h49-0-23" id="h49-0-23" class="d">-	TimelineURL                 *string  `json:&quot;timeline_url,omitempty&quot;`
</a><a href="#h49-0-24" id="h49-0-24" class="d">-	UserURL                     *string  `json:&quot;user_url,omitempty&quot;`
</a><a href="#h49-0-25" id="h49-0-25" class="d">-	CurrentUserPublicURL        *string  `json:&quot;current_user_public_url,omitempty&quot;`
</a><a href="#h49-0-26" id="h49-0-26" class="d">-	CurrentUserURL              *string  `json:&quot;current_user_url,omitempty&quot;`
</a><a href="#h49-0-27" id="h49-0-27" class="d">-	CurrentUserActorURL         *string  `json:&quot;current_user_actor_url,omitempty&quot;`
</a><a href="#h49-0-28" id="h49-0-28" class="d">-	CurrentUserOrganizationURL  *string  `json:&quot;current_user_organization_url,omitempty&quot;`
</a><a href="#h49-0-29" id="h49-0-29" class="d">-	CurrentUserOrganizationURLs []string `json:&quot;current_user_organization_urls,omitempty&quot;`
</a><a href="#h49-0-30" id="h49-0-30" class="d">-	Links                       *struct {
</a><a href="#h49-0-31" id="h49-0-31" class="d">-		Timeline                 *FeedLink  `json:&quot;timeline,omitempty&quot;`
</a><a href="#h49-0-32" id="h49-0-32" class="d">-		User                     *FeedLink  `json:&quot;user,omitempty&quot;`
</a><a href="#h49-0-33" id="h49-0-33" class="d">-		CurrentUserPublic        *FeedLink  `json:&quot;current_user_public,omitempty&quot;`
</a><a href="#h49-0-34" id="h49-0-34" class="d">-		CurrentUser              *FeedLink  `json:&quot;current_user,omitempty&quot;`
</a><a href="#h49-0-35" id="h49-0-35" class="d">-		CurrentUserActor         *FeedLink  `json:&quot;current_user_actor,omitempty&quot;`
</a><a href="#h49-0-36" id="h49-0-36" class="d">-		CurrentUserOrganization  *FeedLink  `json:&quot;current_user_organization,omitempty&quot;`
</a><a href="#h49-0-37" id="h49-0-37" class="d">-		CurrentUserOrganizations []FeedLink `json:&quot;current_user_organizations,omitempty&quot;`
</a><a href="#h49-0-38" id="h49-0-38" class="d">-	} `json:&quot;_links,omitempty&quot;`
</a><a href="#h49-0-39" id="h49-0-39" class="d">-}
</a><a href="#h49-0-40" id="h49-0-40" class="d">-
</a><a href="#h49-0-41" id="h49-0-41" class="d">-// ListFeeds lists all the feeds available to the authenticated user.
</a><a href="#h49-0-42" id="h49-0-42" class="d">-//
</a><a href="#h49-0-43" id="h49-0-43" class="d">-// GitHub provides several timeline resources in Atom format:
</a><a href="#h49-0-44" id="h49-0-44" class="d">-//     Timeline: The GitHub global public timeline
</a><a href="#h49-0-45" id="h49-0-45" class="d">-//     User: The public timeline for any user, using URI template
</a><a href="#h49-0-46" id="h49-0-46" class="d">-//     Current user public: The public timeline for the authenticated user
</a><a href="#h49-0-47" id="h49-0-47" class="d">-//     Current user: The private timeline for the authenticated user
</a><a href="#h49-0-48" id="h49-0-48" class="d">-//     Current user actor: The private timeline for activity created by the
</a><a href="#h49-0-49" id="h49-0-49" class="d">-//         authenticated user
</a><a href="#h49-0-50" id="h49-0-50" class="d">-//     Current user organizations: The private timeline for the organizations
</a><a href="#h49-0-51" id="h49-0-51" class="d">-//         the authenticated user is a member of.
</a><a href="#h49-0-52" id="h49-0-52" class="d">-//
</a><a href="#h49-0-53" id="h49-0-53" class="d">-// Note: Private feeds are only returned when authenticating via Basic Auth
</a><a href="#h49-0-54" id="h49-0-54" class="d">-// since current feed URIs use the older, non revocable auth tokens.
</a><a href="#h49-0-55" id="h49-0-55" class="d">-func (s *ActivityService) ListFeeds() (*Feeds, *Response, error) {
</a><a href="#h49-0-56" id="h49-0-56" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, &quot;feeds&quot;, nil)
</a><a href="#h49-0-57" id="h49-0-57" class="d">-	if err != nil {
</a><a href="#h49-0-58" id="h49-0-58" class="d">-		return nil, nil, err
</a><a href="#h49-0-59" id="h49-0-59" class="d">-	}
</a><a href="#h49-0-60" id="h49-0-60" class="d">-
</a><a href="#h49-0-61" id="h49-0-61" class="d">-	f := &amp;Feeds{}
</a><a href="#h49-0-62" id="h49-0-62" class="d">-	resp, err := s.client.Do(req, f)
</a><a href="#h49-0-63" id="h49-0-63" class="d">-	if err != nil {
</a><a href="#h49-0-64" id="h49-0-64" class="d">-		return nil, resp, err
</a><a href="#h49-0-65" id="h49-0-65" class="d">-	}
</a><a href="#h49-0-66" id="h49-0-66" class="d">-
</a><a href="#h49-0-67" id="h49-0-67" class="d">-	return f, resp, nil
</a><a href="#h49-0-68" id="h49-0-68" class="d">-}
</a><b>diff --git a/<a id="h50" href="../file/vendor/github.com/google/go-github/github/activity_events.go">vendor/github.com/google/go-github/github/activity_events.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/activity_events.go">vendor/github.com/google/go-github/github/activity_events.go</a></b>
<a href="#h50-0" id="h50-0" class="h">@@ -1,245 +0,0 @@
</a><a href="#h50-0-0" id="h50-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h50-0-1" id="h50-0-1" class="d">-//
</a><a href="#h50-0-2" id="h50-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h50-0-3" id="h50-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h50-0-4" id="h50-0-4" class="d">-
</a><a href="#h50-0-5" id="h50-0-5" class="d">-package github
</a><a href="#h50-0-6" id="h50-0-6" class="d">-
</a><a href="#h50-0-7" id="h50-0-7" class="d">-import (
</a><a href="#h50-0-8" id="h50-0-8" class="d">-	&quot;encoding/json&quot;
</a><a href="#h50-0-9" id="h50-0-9" class="d">-	&quot;fmt&quot;
</a><a href="#h50-0-10" id="h50-0-10" class="d">-	&quot;time&quot;
</a><a href="#h50-0-11" id="h50-0-11" class="d">-)
</a><a href="#h50-0-12" id="h50-0-12" class="d">-
</a><a href="#h50-0-13" id="h50-0-13" class="d">-// Event represents a GitHub event.
</a><a href="#h50-0-14" id="h50-0-14" class="d">-type Event struct {
</a><a href="#h50-0-15" id="h50-0-15" class="d">-	Type       *string          `json:&quot;type,omitempty&quot;`
</a><a href="#h50-0-16" id="h50-0-16" class="d">-	Public     *bool            `json:&quot;public&quot;`
</a><a href="#h50-0-17" id="h50-0-17" class="d">-	RawPayload *json.RawMessage `json:&quot;payload,omitempty&quot;`
</a><a href="#h50-0-18" id="h50-0-18" class="d">-	Repo       *Repository      `json:&quot;repo,omitempty&quot;`
</a><a href="#h50-0-19" id="h50-0-19" class="d">-	Actor      *User            `json:&quot;actor,omitempty&quot;`
</a><a href="#h50-0-20" id="h50-0-20" class="d">-	Org        *Organization    `json:&quot;org,omitempty&quot;`
</a><a href="#h50-0-21" id="h50-0-21" class="d">-	CreatedAt  *time.Time       `json:&quot;created_at,omitempty&quot;`
</a><a href="#h50-0-22" id="h50-0-22" class="d">-	ID         *string          `json:&quot;id,omitempty&quot;`
</a><a href="#h50-0-23" id="h50-0-23" class="d">-}
</a><a href="#h50-0-24" id="h50-0-24" class="d">-
</a><a href="#h50-0-25" id="h50-0-25" class="d">-func (e Event) String() string {
</a><a href="#h50-0-26" id="h50-0-26" class="d">-	return Stringify(e)
</a><a href="#h50-0-27" id="h50-0-27" class="d">-}
</a><a href="#h50-0-28" id="h50-0-28" class="d">-
</a><a href="#h50-0-29" id="h50-0-29" class="d">-// Payload returns the parsed event payload. For recognized event types
</a><a href="#h50-0-30" id="h50-0-30" class="d">-// (PushEvent), a value of the corresponding struct type will be returned.
</a><a href="#h50-0-31" id="h50-0-31" class="d">-func (e *Event) Payload() (payload interface{}) {
</a><a href="#h50-0-32" id="h50-0-32" class="d">-	switch *e.Type {
</a><a href="#h50-0-33" id="h50-0-33" class="d">-	case &quot;PushEvent&quot;:
</a><a href="#h50-0-34" id="h50-0-34" class="d">-		payload = &amp;PushEvent{}
</a><a href="#h50-0-35" id="h50-0-35" class="d">-	}
</a><a href="#h50-0-36" id="h50-0-36" class="d">-	if err := json.Unmarshal(*e.RawPayload, &amp;payload); err != nil {
</a><a href="#h50-0-37" id="h50-0-37" class="d">-		panic(err.Error())
</a><a href="#h50-0-38" id="h50-0-38" class="d">-	}
</a><a href="#h50-0-39" id="h50-0-39" class="d">-	return payload
</a><a href="#h50-0-40" id="h50-0-40" class="d">-}
</a><a href="#h50-0-41" id="h50-0-41" class="d">-
</a><a href="#h50-0-42" id="h50-0-42" class="d">-// ListEvents drinks from the firehose of all public events across GitHub.
</a><a href="#h50-0-43" id="h50-0-43" class="d">-//
</a><a href="#h50-0-44" id="h50-0-44" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/events/#list-public-events
</a><a href="#h50-0-45" id="h50-0-45" class="d">-func (s *ActivityService) ListEvents(opt *ListOptions) ([]Event, *Response, error) {
</a><a href="#h50-0-46" id="h50-0-46" class="d">-	u, err := addOptions(&quot;events&quot;, opt)
</a><a href="#h50-0-47" id="h50-0-47" class="d">-	if err != nil {
</a><a href="#h50-0-48" id="h50-0-48" class="d">-		return nil, nil, err
</a><a href="#h50-0-49" id="h50-0-49" class="d">-	}
</a><a href="#h50-0-50" id="h50-0-50" class="d">-
</a><a href="#h50-0-51" id="h50-0-51" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h50-0-52" id="h50-0-52" class="d">-	if err != nil {
</a><a href="#h50-0-53" id="h50-0-53" class="d">-		return nil, nil, err
</a><a href="#h50-0-54" id="h50-0-54" class="d">-	}
</a><a href="#h50-0-55" id="h50-0-55" class="d">-
</a><a href="#h50-0-56" id="h50-0-56" class="d">-	events := new([]Event)
</a><a href="#h50-0-57" id="h50-0-57" class="d">-	resp, err := s.client.Do(req, events)
</a><a href="#h50-0-58" id="h50-0-58" class="d">-	if err != nil {
</a><a href="#h50-0-59" id="h50-0-59" class="d">-		return nil, resp, err
</a><a href="#h50-0-60" id="h50-0-60" class="d">-	}
</a><a href="#h50-0-61" id="h50-0-61" class="d">-
</a><a href="#h50-0-62" id="h50-0-62" class="d">-	return *events, resp, err
</a><a href="#h50-0-63" id="h50-0-63" class="d">-}
</a><a href="#h50-0-64" id="h50-0-64" class="d">-
</a><a href="#h50-0-65" id="h50-0-65" class="d">-// ListRepositoryEvents lists events for a repository.
</a><a href="#h50-0-66" id="h50-0-66" class="d">-//
</a><a href="#h50-0-67" id="h50-0-67" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/events/#list-repository-events
</a><a href="#h50-0-68" id="h50-0-68" class="d">-func (s *ActivityService) ListRepositoryEvents(owner, repo string, opt *ListOptions) ([]Event, *Response, error) {
</a><a href="#h50-0-69" id="h50-0-69" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/events&quot;, owner, repo)
</a><a href="#h50-0-70" id="h50-0-70" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h50-0-71" id="h50-0-71" class="d">-	if err != nil {
</a><a href="#h50-0-72" id="h50-0-72" class="d">-		return nil, nil, err
</a><a href="#h50-0-73" id="h50-0-73" class="d">-	}
</a><a href="#h50-0-74" id="h50-0-74" class="d">-
</a><a href="#h50-0-75" id="h50-0-75" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h50-0-76" id="h50-0-76" class="d">-	if err != nil {
</a><a href="#h50-0-77" id="h50-0-77" class="d">-		return nil, nil, err
</a><a href="#h50-0-78" id="h50-0-78" class="d">-	}
</a><a href="#h50-0-79" id="h50-0-79" class="d">-
</a><a href="#h50-0-80" id="h50-0-80" class="d">-	events := new([]Event)
</a><a href="#h50-0-81" id="h50-0-81" class="d">-	resp, err := s.client.Do(req, events)
</a><a href="#h50-0-82" id="h50-0-82" class="d">-	if err != nil {
</a><a href="#h50-0-83" id="h50-0-83" class="d">-		return nil, resp, err
</a><a href="#h50-0-84" id="h50-0-84" class="d">-	}
</a><a href="#h50-0-85" id="h50-0-85" class="d">-
</a><a href="#h50-0-86" id="h50-0-86" class="d">-	return *events, resp, err
</a><a href="#h50-0-87" id="h50-0-87" class="d">-}
</a><a href="#h50-0-88" id="h50-0-88" class="d">-
</a><a href="#h50-0-89" id="h50-0-89" class="d">-// ListIssueEventsForRepository lists issue events for a repository.
</a><a href="#h50-0-90" id="h50-0-90" class="d">-//
</a><a href="#h50-0-91" id="h50-0-91" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/events/#list-issue-events-for-a-repository
</a><a href="#h50-0-92" id="h50-0-92" class="d">-func (s *ActivityService) ListIssueEventsForRepository(owner, repo string, opt *ListOptions) ([]Event, *Response, error) {
</a><a href="#h50-0-93" id="h50-0-93" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/events&quot;, owner, repo)
</a><a href="#h50-0-94" id="h50-0-94" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h50-0-95" id="h50-0-95" class="d">-	if err != nil {
</a><a href="#h50-0-96" id="h50-0-96" class="d">-		return nil, nil, err
</a><a href="#h50-0-97" id="h50-0-97" class="d">-	}
</a><a href="#h50-0-98" id="h50-0-98" class="d">-
</a><a href="#h50-0-99" id="h50-0-99" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h50-0-100" id="h50-0-100" class="d">-	if err != nil {
</a><a href="#h50-0-101" id="h50-0-101" class="d">-		return nil, nil, err
</a><a href="#h50-0-102" id="h50-0-102" class="d">-	}
</a><a href="#h50-0-103" id="h50-0-103" class="d">-
</a><a href="#h50-0-104" id="h50-0-104" class="d">-	events := new([]Event)
</a><a href="#h50-0-105" id="h50-0-105" class="d">-	resp, err := s.client.Do(req, events)
</a><a href="#h50-0-106" id="h50-0-106" class="d">-	if err != nil {
</a><a href="#h50-0-107" id="h50-0-107" class="d">-		return nil, resp, err
</a><a href="#h50-0-108" id="h50-0-108" class="d">-	}
</a><a href="#h50-0-109" id="h50-0-109" class="d">-
</a><a href="#h50-0-110" id="h50-0-110" class="d">-	return *events, resp, err
</a><a href="#h50-0-111" id="h50-0-111" class="d">-}
</a><a href="#h50-0-112" id="h50-0-112" class="d">-
</a><a href="#h50-0-113" id="h50-0-113" class="d">-// ListEventsForRepoNetwork lists public events for a network of repositories.
</a><a href="#h50-0-114" id="h50-0-114" class="d">-//
</a><a href="#h50-0-115" id="h50-0-115" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/events/#list-public-events-for-a-network-of-repositories
</a><a href="#h50-0-116" id="h50-0-116" class="d">-func (s *ActivityService) ListEventsForRepoNetwork(owner, repo string, opt *ListOptions) ([]Event, *Response, error) {
</a><a href="#h50-0-117" id="h50-0-117" class="d">-	u := fmt.Sprintf(&quot;networks/%v/%v/events&quot;, owner, repo)
</a><a href="#h50-0-118" id="h50-0-118" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h50-0-119" id="h50-0-119" class="d">-	if err != nil {
</a><a href="#h50-0-120" id="h50-0-120" class="d">-		return nil, nil, err
</a><a href="#h50-0-121" id="h50-0-121" class="d">-	}
</a><a href="#h50-0-122" id="h50-0-122" class="d">-
</a><a href="#h50-0-123" id="h50-0-123" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h50-0-124" id="h50-0-124" class="d">-	if err != nil {
</a><a href="#h50-0-125" id="h50-0-125" class="d">-		return nil, nil, err
</a><a href="#h50-0-126" id="h50-0-126" class="d">-	}
</a><a href="#h50-0-127" id="h50-0-127" class="d">-
</a><a href="#h50-0-128" id="h50-0-128" class="d">-	events := new([]Event)
</a><a href="#h50-0-129" id="h50-0-129" class="d">-	resp, err := s.client.Do(req, events)
</a><a href="#h50-0-130" id="h50-0-130" class="d">-	if err != nil {
</a><a href="#h50-0-131" id="h50-0-131" class="d">-		return nil, resp, err
</a><a href="#h50-0-132" id="h50-0-132" class="d">-	}
</a><a href="#h50-0-133" id="h50-0-133" class="d">-
</a><a href="#h50-0-134" id="h50-0-134" class="d">-	return *events, resp, err
</a><a href="#h50-0-135" id="h50-0-135" class="d">-}
</a><a href="#h50-0-136" id="h50-0-136" class="d">-
</a><a href="#h50-0-137" id="h50-0-137" class="d">-// ListEventsForOrganization lists public events for an organization.
</a><a href="#h50-0-138" id="h50-0-138" class="d">-//
</a><a href="#h50-0-139" id="h50-0-139" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/events/#list-public-events-for-an-organization
</a><a href="#h50-0-140" id="h50-0-140" class="d">-func (s *ActivityService) ListEventsForOrganization(org string, opt *ListOptions) ([]Event, *Response, error) {
</a><a href="#h50-0-141" id="h50-0-141" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/events&quot;, org)
</a><a href="#h50-0-142" id="h50-0-142" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h50-0-143" id="h50-0-143" class="d">-	if err != nil {
</a><a href="#h50-0-144" id="h50-0-144" class="d">-		return nil, nil, err
</a><a href="#h50-0-145" id="h50-0-145" class="d">-	}
</a><a href="#h50-0-146" id="h50-0-146" class="d">-
</a><a href="#h50-0-147" id="h50-0-147" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h50-0-148" id="h50-0-148" class="d">-	if err != nil {
</a><a href="#h50-0-149" id="h50-0-149" class="d">-		return nil, nil, err
</a><a href="#h50-0-150" id="h50-0-150" class="d">-	}
</a><a href="#h50-0-151" id="h50-0-151" class="d">-
</a><a href="#h50-0-152" id="h50-0-152" class="d">-	events := new([]Event)
</a><a href="#h50-0-153" id="h50-0-153" class="d">-	resp, err := s.client.Do(req, events)
</a><a href="#h50-0-154" id="h50-0-154" class="d">-	if err != nil {
</a><a href="#h50-0-155" id="h50-0-155" class="d">-		return nil, resp, err
</a><a href="#h50-0-156" id="h50-0-156" class="d">-	}
</a><a href="#h50-0-157" id="h50-0-157" class="d">-
</a><a href="#h50-0-158" id="h50-0-158" class="d">-	return *events, resp, err
</a><a href="#h50-0-159" id="h50-0-159" class="d">-}
</a><a href="#h50-0-160" id="h50-0-160" class="d">-
</a><a href="#h50-0-161" id="h50-0-161" class="d">-// ListEventsPerformedByUser lists the events performed by a user. If publicOnly is
</a><a href="#h50-0-162" id="h50-0-162" class="d">-// true, only public events will be returned.
</a><a href="#h50-0-163" id="h50-0-163" class="d">-//
</a><a href="#h50-0-164" id="h50-0-164" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/events/#list-events-performed-by-a-user
</a><a href="#h50-0-165" id="h50-0-165" class="d">-func (s *ActivityService) ListEventsPerformedByUser(user string, publicOnly bool, opt *ListOptions) ([]Event, *Response, error) {
</a><a href="#h50-0-166" id="h50-0-166" class="d">-	var u string
</a><a href="#h50-0-167" id="h50-0-167" class="d">-	if publicOnly {
</a><a href="#h50-0-168" id="h50-0-168" class="d">-		u = fmt.Sprintf(&quot;users/%v/events/public&quot;, user)
</a><a href="#h50-0-169" id="h50-0-169" class="d">-	} else {
</a><a href="#h50-0-170" id="h50-0-170" class="d">-		u = fmt.Sprintf(&quot;users/%v/events&quot;, user)
</a><a href="#h50-0-171" id="h50-0-171" class="d">-	}
</a><a href="#h50-0-172" id="h50-0-172" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h50-0-173" id="h50-0-173" class="d">-	if err != nil {
</a><a href="#h50-0-174" id="h50-0-174" class="d">-		return nil, nil, err
</a><a href="#h50-0-175" id="h50-0-175" class="d">-	}
</a><a href="#h50-0-176" id="h50-0-176" class="d">-
</a><a href="#h50-0-177" id="h50-0-177" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h50-0-178" id="h50-0-178" class="d">-	if err != nil {
</a><a href="#h50-0-179" id="h50-0-179" class="d">-		return nil, nil, err
</a><a href="#h50-0-180" id="h50-0-180" class="d">-	}
</a><a href="#h50-0-181" id="h50-0-181" class="d">-
</a><a href="#h50-0-182" id="h50-0-182" class="d">-	events := new([]Event)
</a><a href="#h50-0-183" id="h50-0-183" class="d">-	resp, err := s.client.Do(req, events)
</a><a href="#h50-0-184" id="h50-0-184" class="d">-	if err != nil {
</a><a href="#h50-0-185" id="h50-0-185" class="d">-		return nil, resp, err
</a><a href="#h50-0-186" id="h50-0-186" class="d">-	}
</a><a href="#h50-0-187" id="h50-0-187" class="d">-
</a><a href="#h50-0-188" id="h50-0-188" class="d">-	return *events, resp, err
</a><a href="#h50-0-189" id="h50-0-189" class="d">-}
</a><a href="#h50-0-190" id="h50-0-190" class="d">-
</a><a href="#h50-0-191" id="h50-0-191" class="d">-// ListEventsReceivedByUser lists the events received by a user. If publicOnly is
</a><a href="#h50-0-192" id="h50-0-192" class="d">-// true, only public events will be returned.
</a><a href="#h50-0-193" id="h50-0-193" class="d">-//
</a><a href="#h50-0-194" id="h50-0-194" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/events/#list-events-that-a-user-has-received
</a><a href="#h50-0-195" id="h50-0-195" class="d">-func (s *ActivityService) ListEventsReceivedByUser(user string, publicOnly bool, opt *ListOptions) ([]Event, *Response, error) {
</a><a href="#h50-0-196" id="h50-0-196" class="d">-	var u string
</a><a href="#h50-0-197" id="h50-0-197" class="d">-	if publicOnly {
</a><a href="#h50-0-198" id="h50-0-198" class="d">-		u = fmt.Sprintf(&quot;users/%v/received_events/public&quot;, user)
</a><a href="#h50-0-199" id="h50-0-199" class="d">-	} else {
</a><a href="#h50-0-200" id="h50-0-200" class="d">-		u = fmt.Sprintf(&quot;users/%v/received_events&quot;, user)
</a><a href="#h50-0-201" id="h50-0-201" class="d">-	}
</a><a href="#h50-0-202" id="h50-0-202" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h50-0-203" id="h50-0-203" class="d">-	if err != nil {
</a><a href="#h50-0-204" id="h50-0-204" class="d">-		return nil, nil, err
</a><a href="#h50-0-205" id="h50-0-205" class="d">-	}
</a><a href="#h50-0-206" id="h50-0-206" class="d">-
</a><a href="#h50-0-207" id="h50-0-207" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h50-0-208" id="h50-0-208" class="d">-	if err != nil {
</a><a href="#h50-0-209" id="h50-0-209" class="d">-		return nil, nil, err
</a><a href="#h50-0-210" id="h50-0-210" class="d">-	}
</a><a href="#h50-0-211" id="h50-0-211" class="d">-
</a><a href="#h50-0-212" id="h50-0-212" class="d">-	events := new([]Event)
</a><a href="#h50-0-213" id="h50-0-213" class="d">-	resp, err := s.client.Do(req, events)
</a><a href="#h50-0-214" id="h50-0-214" class="d">-	if err != nil {
</a><a href="#h50-0-215" id="h50-0-215" class="d">-		return nil, resp, err
</a><a href="#h50-0-216" id="h50-0-216" class="d">-	}
</a><a href="#h50-0-217" id="h50-0-217" class="d">-
</a><a href="#h50-0-218" id="h50-0-218" class="d">-	return *events, resp, err
</a><a href="#h50-0-219" id="h50-0-219" class="d">-}
</a><a href="#h50-0-220" id="h50-0-220" class="d">-
</a><a href="#h50-0-221" id="h50-0-221" class="d">-// ListUserEventsForOrganization provides the users organization dashboard. You
</a><a href="#h50-0-222" id="h50-0-222" class="d">-// must be authenticated as the user to view this.
</a><a href="#h50-0-223" id="h50-0-223" class="d">-//
</a><a href="#h50-0-224" id="h50-0-224" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/events/#list-events-for-an-organization
</a><a href="#h50-0-225" id="h50-0-225" class="d">-func (s *ActivityService) ListUserEventsForOrganization(org, user string, opt *ListOptions) ([]Event, *Response, error) {
</a><a href="#h50-0-226" id="h50-0-226" class="d">-	u := fmt.Sprintf(&quot;users/%v/events/orgs/%v&quot;, user, org)
</a><a href="#h50-0-227" id="h50-0-227" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h50-0-228" id="h50-0-228" class="d">-	if err != nil {
</a><a href="#h50-0-229" id="h50-0-229" class="d">-		return nil, nil, err
</a><a href="#h50-0-230" id="h50-0-230" class="d">-	}
</a><a href="#h50-0-231" id="h50-0-231" class="d">-
</a><a href="#h50-0-232" id="h50-0-232" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h50-0-233" id="h50-0-233" class="d">-	if err != nil {
</a><a href="#h50-0-234" id="h50-0-234" class="d">-		return nil, nil, err
</a><a href="#h50-0-235" id="h50-0-235" class="d">-	}
</a><a href="#h50-0-236" id="h50-0-236" class="d">-
</a><a href="#h50-0-237" id="h50-0-237" class="d">-	events := new([]Event)
</a><a href="#h50-0-238" id="h50-0-238" class="d">-	resp, err := s.client.Do(req, events)
</a><a href="#h50-0-239" id="h50-0-239" class="d">-	if err != nil {
</a><a href="#h50-0-240" id="h50-0-240" class="d">-		return nil, resp, err
</a><a href="#h50-0-241" id="h50-0-241" class="d">-	}
</a><a href="#h50-0-242" id="h50-0-242" class="d">-
</a><a href="#h50-0-243" id="h50-0-243" class="d">-	return *events, resp, err
</a><a href="#h50-0-244" id="h50-0-244" class="d">-}
</a><b>diff --git a/<a id="h51" href="../file/vendor/github.com/google/go-github/github/activity_notifications.go">vendor/github.com/google/go-github/github/activity_notifications.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/activity_notifications.go">vendor/github.com/google/go-github/github/activity_notifications.go</a></b>
<a href="#h51-0" id="h51-0" class="h">@@ -1,225 +0,0 @@
</a><a href="#h51-0-0" id="h51-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h51-0-1" id="h51-0-1" class="d">-//
</a><a href="#h51-0-2" id="h51-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h51-0-3" id="h51-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h51-0-4" id="h51-0-4" class="d">-
</a><a href="#h51-0-5" id="h51-0-5" class="d">-package github
</a><a href="#h51-0-6" id="h51-0-6" class="d">-
</a><a href="#h51-0-7" id="h51-0-7" class="d">-import (
</a><a href="#h51-0-8" id="h51-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h51-0-9" id="h51-0-9" class="d">-	&quot;time&quot;
</a><a href="#h51-0-10" id="h51-0-10" class="d">-)
</a><a href="#h51-0-11" id="h51-0-11" class="d">-
</a><a href="#h51-0-12" id="h51-0-12" class="d">-// Notification identifies a GitHub notification for a user.
</a><a href="#h51-0-13" id="h51-0-13" class="d">-type Notification struct {
</a><a href="#h51-0-14" id="h51-0-14" class="d">-	ID         *string              `json:&quot;id,omitempty&quot;`
</a><a href="#h51-0-15" id="h51-0-15" class="d">-	Repository *Repository          `json:&quot;repository,omitempty&quot;`
</a><a href="#h51-0-16" id="h51-0-16" class="d">-	Subject    *NotificationSubject `json:&quot;subject,omitempty&quot;`
</a><a href="#h51-0-17" id="h51-0-17" class="d">-
</a><a href="#h51-0-18" id="h51-0-18" class="d">-	// Reason identifies the event that triggered the notification.
</a><a href="#h51-0-19" id="h51-0-19" class="d">-	//
</a><a href="#h51-0-20" id="h51-0-20" class="d">-	// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#notification-reasons
</a><a href="#h51-0-21" id="h51-0-21" class="d">-	Reason *string `json:&quot;reason,omitempty&quot;`
</a><a href="#h51-0-22" id="h51-0-22" class="d">-
</a><a href="#h51-0-23" id="h51-0-23" class="d">-	Unread     *bool      `json:&quot;unread,omitempty&quot;`
</a><a href="#h51-0-24" id="h51-0-24" class="d">-	UpdatedAt  *time.Time `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h51-0-25" id="h51-0-25" class="d">-	LastReadAt *time.Time `json:&quot;last_read_at,omitempty&quot;`
</a><a href="#h51-0-26" id="h51-0-26" class="d">-	URL        *string    `json:&quot;url,omitempty&quot;`
</a><a href="#h51-0-27" id="h51-0-27" class="d">-}
</a><a href="#h51-0-28" id="h51-0-28" class="d">-
</a><a href="#h51-0-29" id="h51-0-29" class="d">-// NotificationSubject identifies the subject of a notification.
</a><a href="#h51-0-30" id="h51-0-30" class="d">-type NotificationSubject struct {
</a><a href="#h51-0-31" id="h51-0-31" class="d">-	Title            *string `json:&quot;title,omitempty&quot;`
</a><a href="#h51-0-32" id="h51-0-32" class="d">-	URL              *string `json:&quot;url,omitempty&quot;`
</a><a href="#h51-0-33" id="h51-0-33" class="d">-	LatestCommentURL *string `json:&quot;latest_comment_url,omitempty&quot;`
</a><a href="#h51-0-34" id="h51-0-34" class="d">-	Type             *string `json:&quot;type,omitempty&quot;`
</a><a href="#h51-0-35" id="h51-0-35" class="d">-}
</a><a href="#h51-0-36" id="h51-0-36" class="d">-
</a><a href="#h51-0-37" id="h51-0-37" class="d">-// NotificationListOptions specifies the optional parameters to the
</a><a href="#h51-0-38" id="h51-0-38" class="d">-// ActivityService.ListNotifications method.
</a><a href="#h51-0-39" id="h51-0-39" class="d">-type NotificationListOptions struct {
</a><a href="#h51-0-40" id="h51-0-40" class="d">-	All           bool      `url:&quot;all,omitempty&quot;`
</a><a href="#h51-0-41" id="h51-0-41" class="d">-	Participating bool      `url:&quot;participating,omitempty&quot;`
</a><a href="#h51-0-42" id="h51-0-42" class="d">-	Since         time.Time `url:&quot;since,omitempty&quot;`
</a><a href="#h51-0-43" id="h51-0-43" class="d">-	Before        time.Time `url:&quot;before,omitempty&quot;`
</a><a href="#h51-0-44" id="h51-0-44" class="d">-}
</a><a href="#h51-0-45" id="h51-0-45" class="d">-
</a><a href="#h51-0-46" id="h51-0-46" class="d">-// ListNotifications lists all notifications for the authenticated user.
</a><a href="#h51-0-47" id="h51-0-47" class="d">-//
</a><a href="#h51-0-48" id="h51-0-48" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#list-your-notifications
</a><a href="#h51-0-49" id="h51-0-49" class="d">-func (s *ActivityService) ListNotifications(opt *NotificationListOptions) ([]Notification, *Response, error) {
</a><a href="#h51-0-50" id="h51-0-50" class="d">-	u := fmt.Sprintf(&quot;notifications&quot;)
</a><a href="#h51-0-51" id="h51-0-51" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h51-0-52" id="h51-0-52" class="d">-	if err != nil {
</a><a href="#h51-0-53" id="h51-0-53" class="d">-		return nil, nil, err
</a><a href="#h51-0-54" id="h51-0-54" class="d">-	}
</a><a href="#h51-0-55" id="h51-0-55" class="d">-
</a><a href="#h51-0-56" id="h51-0-56" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h51-0-57" id="h51-0-57" class="d">-	if err != nil {
</a><a href="#h51-0-58" id="h51-0-58" class="d">-		return nil, nil, err
</a><a href="#h51-0-59" id="h51-0-59" class="d">-	}
</a><a href="#h51-0-60" id="h51-0-60" class="d">-
</a><a href="#h51-0-61" id="h51-0-61" class="d">-	var notifications []Notification
</a><a href="#h51-0-62" id="h51-0-62" class="d">-	resp, err := s.client.Do(req, &amp;notifications)
</a><a href="#h51-0-63" id="h51-0-63" class="d">-	if err != nil {
</a><a href="#h51-0-64" id="h51-0-64" class="d">-		return nil, resp, err
</a><a href="#h51-0-65" id="h51-0-65" class="d">-	}
</a><a href="#h51-0-66" id="h51-0-66" class="d">-
</a><a href="#h51-0-67" id="h51-0-67" class="d">-	return notifications, resp, err
</a><a href="#h51-0-68" id="h51-0-68" class="d">-}
</a><a href="#h51-0-69" id="h51-0-69" class="d">-
</a><a href="#h51-0-70" id="h51-0-70" class="d">-// ListRepositoryNotifications lists all notifications in a given repository
</a><a href="#h51-0-71" id="h51-0-71" class="d">-// for the authenticated user.
</a><a href="#h51-0-72" id="h51-0-72" class="d">-//
</a><a href="#h51-0-73" id="h51-0-73" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#list-your-notifications-in-a-repository
</a><a href="#h51-0-74" id="h51-0-74" class="d">-func (s *ActivityService) ListRepositoryNotifications(owner, repo string, opt *NotificationListOptions) ([]Notification, *Response, error) {
</a><a href="#h51-0-75" id="h51-0-75" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/notifications&quot;, owner, repo)
</a><a href="#h51-0-76" id="h51-0-76" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h51-0-77" id="h51-0-77" class="d">-	if err != nil {
</a><a href="#h51-0-78" id="h51-0-78" class="d">-		return nil, nil, err
</a><a href="#h51-0-79" id="h51-0-79" class="d">-	}
</a><a href="#h51-0-80" id="h51-0-80" class="d">-
</a><a href="#h51-0-81" id="h51-0-81" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h51-0-82" id="h51-0-82" class="d">-	if err != nil {
</a><a href="#h51-0-83" id="h51-0-83" class="d">-		return nil, nil, err
</a><a href="#h51-0-84" id="h51-0-84" class="d">-	}
</a><a href="#h51-0-85" id="h51-0-85" class="d">-
</a><a href="#h51-0-86" id="h51-0-86" class="d">-	var notifications []Notification
</a><a href="#h51-0-87" id="h51-0-87" class="d">-	resp, err := s.client.Do(req, &amp;notifications)
</a><a href="#h51-0-88" id="h51-0-88" class="d">-	if err != nil {
</a><a href="#h51-0-89" id="h51-0-89" class="d">-		return nil, resp, err
</a><a href="#h51-0-90" id="h51-0-90" class="d">-	}
</a><a href="#h51-0-91" id="h51-0-91" class="d">-
</a><a href="#h51-0-92" id="h51-0-92" class="d">-	return notifications, resp, err
</a><a href="#h51-0-93" id="h51-0-93" class="d">-}
</a><a href="#h51-0-94" id="h51-0-94" class="d">-
</a><a href="#h51-0-95" id="h51-0-95" class="d">-type markReadOptions struct {
</a><a href="#h51-0-96" id="h51-0-96" class="d">-	LastReadAt time.Time `url:&quot;last_read_at,omitempty&quot;`
</a><a href="#h51-0-97" id="h51-0-97" class="d">-}
</a><a href="#h51-0-98" id="h51-0-98" class="d">-
</a><a href="#h51-0-99" id="h51-0-99" class="d">-// MarkNotificationsRead marks all notifications up to lastRead as read.
</a><a href="#h51-0-100" id="h51-0-100" class="d">-//
</a><a href="#h51-0-101" id="h51-0-101" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#mark-as-read
</a><a href="#h51-0-102" id="h51-0-102" class="d">-func (s *ActivityService) MarkNotificationsRead(lastRead time.Time) (*Response, error) {
</a><a href="#h51-0-103" id="h51-0-103" class="d">-	u := fmt.Sprintf(&quot;notifications&quot;)
</a><a href="#h51-0-104" id="h51-0-104" class="d">-	u, err := addOptions(u, markReadOptions{lastRead})
</a><a href="#h51-0-105" id="h51-0-105" class="d">-	if err != nil {
</a><a href="#h51-0-106" id="h51-0-106" class="d">-		return nil, err
</a><a href="#h51-0-107" id="h51-0-107" class="d">-	}
</a><a href="#h51-0-108" id="h51-0-108" class="d">-
</a><a href="#h51-0-109" id="h51-0-109" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, nil)
</a><a href="#h51-0-110" id="h51-0-110" class="d">-	if err != nil {
</a><a href="#h51-0-111" id="h51-0-111" class="d">-		return nil, err
</a><a href="#h51-0-112" id="h51-0-112" class="d">-	}
</a><a href="#h51-0-113" id="h51-0-113" class="d">-
</a><a href="#h51-0-114" id="h51-0-114" class="d">-	return s.client.Do(req, nil)
</a><a href="#h51-0-115" id="h51-0-115" class="d">-}
</a><a href="#h51-0-116" id="h51-0-116" class="d">-
</a><a href="#h51-0-117" id="h51-0-117" class="d">-// MarkRepositoryNotificationsRead marks all notifications up to lastRead in
</a><a href="#h51-0-118" id="h51-0-118" class="d">-// the specified repository as read.
</a><a href="#h51-0-119" id="h51-0-119" class="d">-//
</a><a href="#h51-0-120" id="h51-0-120" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#mark-notifications-as-read-in-a-repository
</a><a href="#h51-0-121" id="h51-0-121" class="d">-func (s *ActivityService) MarkRepositoryNotificationsRead(owner, repo string, lastRead time.Time) (*Response, error) {
</a><a href="#h51-0-122" id="h51-0-122" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/notifications&quot;, owner, repo)
</a><a href="#h51-0-123" id="h51-0-123" class="d">-	u, err := addOptions(u, markReadOptions{lastRead})
</a><a href="#h51-0-124" id="h51-0-124" class="d">-	if err != nil {
</a><a href="#h51-0-125" id="h51-0-125" class="d">-		return nil, err
</a><a href="#h51-0-126" id="h51-0-126" class="d">-	}
</a><a href="#h51-0-127" id="h51-0-127" class="d">-
</a><a href="#h51-0-128" id="h51-0-128" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, nil)
</a><a href="#h51-0-129" id="h51-0-129" class="d">-	if err != nil {
</a><a href="#h51-0-130" id="h51-0-130" class="d">-		return nil, err
</a><a href="#h51-0-131" id="h51-0-131" class="d">-	}
</a><a href="#h51-0-132" id="h51-0-132" class="d">-
</a><a href="#h51-0-133" id="h51-0-133" class="d">-	return s.client.Do(req, nil)
</a><a href="#h51-0-134" id="h51-0-134" class="d">-}
</a><a href="#h51-0-135" id="h51-0-135" class="d">-
</a><a href="#h51-0-136" id="h51-0-136" class="d">-// GetThread gets the specified notification thread.
</a><a href="#h51-0-137" id="h51-0-137" class="d">-//
</a><a href="#h51-0-138" id="h51-0-138" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#view-a-single-thread
</a><a href="#h51-0-139" id="h51-0-139" class="d">-func (s *ActivityService) GetThread(id string) (*Notification, *Response, error) {
</a><a href="#h51-0-140" id="h51-0-140" class="d">-	u := fmt.Sprintf(&quot;notifications/threads/%v&quot;, id)
</a><a href="#h51-0-141" id="h51-0-141" class="d">-
</a><a href="#h51-0-142" id="h51-0-142" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h51-0-143" id="h51-0-143" class="d">-	if err != nil {
</a><a href="#h51-0-144" id="h51-0-144" class="d">-		return nil, nil, err
</a><a href="#h51-0-145" id="h51-0-145" class="d">-	}
</a><a href="#h51-0-146" id="h51-0-146" class="d">-
</a><a href="#h51-0-147" id="h51-0-147" class="d">-	notification := new(Notification)
</a><a href="#h51-0-148" id="h51-0-148" class="d">-	resp, err := s.client.Do(req, notification)
</a><a href="#h51-0-149" id="h51-0-149" class="d">-	if err != nil {
</a><a href="#h51-0-150" id="h51-0-150" class="d">-		return nil, resp, err
</a><a href="#h51-0-151" id="h51-0-151" class="d">-	}
</a><a href="#h51-0-152" id="h51-0-152" class="d">-
</a><a href="#h51-0-153" id="h51-0-153" class="d">-	return notification, resp, err
</a><a href="#h51-0-154" id="h51-0-154" class="d">-}
</a><a href="#h51-0-155" id="h51-0-155" class="d">-
</a><a href="#h51-0-156" id="h51-0-156" class="d">-// MarkThreadRead marks the specified thread as read.
</a><a href="#h51-0-157" id="h51-0-157" class="d">-//
</a><a href="#h51-0-158" id="h51-0-158" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#mark-a-thread-as-read
</a><a href="#h51-0-159" id="h51-0-159" class="d">-func (s *ActivityService) MarkThreadRead(id string) (*Response, error) {
</a><a href="#h51-0-160" id="h51-0-160" class="d">-	u := fmt.Sprintf(&quot;notifications/threads/%v&quot;, id)
</a><a href="#h51-0-161" id="h51-0-161" class="d">-
</a><a href="#h51-0-162" id="h51-0-162" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, nil)
</a><a href="#h51-0-163" id="h51-0-163" class="d">-	if err != nil {
</a><a href="#h51-0-164" id="h51-0-164" class="d">-		return nil, err
</a><a href="#h51-0-165" id="h51-0-165" class="d">-	}
</a><a href="#h51-0-166" id="h51-0-166" class="d">-
</a><a href="#h51-0-167" id="h51-0-167" class="d">-	return s.client.Do(req, nil)
</a><a href="#h51-0-168" id="h51-0-168" class="d">-}
</a><a href="#h51-0-169" id="h51-0-169" class="d">-
</a><a href="#h51-0-170" id="h51-0-170" class="d">-// GetThreadSubscription checks to see if the authenticated user is subscribed
</a><a href="#h51-0-171" id="h51-0-171" class="d">-// to a thread.
</a><a href="#h51-0-172" id="h51-0-172" class="d">-//
</a><a href="#h51-0-173" id="h51-0-173" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#get-a-thread-subscription
</a><a href="#h51-0-174" id="h51-0-174" class="d">-func (s *ActivityService) GetThreadSubscription(id string) (*Subscription, *Response, error) {
</a><a href="#h51-0-175" id="h51-0-175" class="d">-	u := fmt.Sprintf(&quot;notifications/threads/%v/subscription&quot;, id)
</a><a href="#h51-0-176" id="h51-0-176" class="d">-
</a><a href="#h51-0-177" id="h51-0-177" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h51-0-178" id="h51-0-178" class="d">-	if err != nil {
</a><a href="#h51-0-179" id="h51-0-179" class="d">-		return nil, nil, err
</a><a href="#h51-0-180" id="h51-0-180" class="d">-	}
</a><a href="#h51-0-181" id="h51-0-181" class="d">-
</a><a href="#h51-0-182" id="h51-0-182" class="d">-	sub := new(Subscription)
</a><a href="#h51-0-183" id="h51-0-183" class="d">-	resp, err := s.client.Do(req, sub)
</a><a href="#h51-0-184" id="h51-0-184" class="d">-	if err != nil {
</a><a href="#h51-0-185" id="h51-0-185" class="d">-		return nil, resp, err
</a><a href="#h51-0-186" id="h51-0-186" class="d">-	}
</a><a href="#h51-0-187" id="h51-0-187" class="d">-
</a><a href="#h51-0-188" id="h51-0-188" class="d">-	return sub, resp, err
</a><a href="#h51-0-189" id="h51-0-189" class="d">-}
</a><a href="#h51-0-190" id="h51-0-190" class="d">-
</a><a href="#h51-0-191" id="h51-0-191" class="d">-// SetThreadSubscription sets the subscription for the specified thread for the
</a><a href="#h51-0-192" id="h51-0-192" class="d">-// authenticated user.
</a><a href="#h51-0-193" id="h51-0-193" class="d">-//
</a><a href="#h51-0-194" id="h51-0-194" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#set-a-thread-subscription
</a><a href="#h51-0-195" id="h51-0-195" class="d">-func (s *ActivityService) SetThreadSubscription(id string, subscription *Subscription) (*Subscription, *Response, error) {
</a><a href="#h51-0-196" id="h51-0-196" class="d">-	u := fmt.Sprintf(&quot;notifications/threads/%v/subscription&quot;, id)
</a><a href="#h51-0-197" id="h51-0-197" class="d">-
</a><a href="#h51-0-198" id="h51-0-198" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, subscription)
</a><a href="#h51-0-199" id="h51-0-199" class="d">-	if err != nil {
</a><a href="#h51-0-200" id="h51-0-200" class="d">-		return nil, nil, err
</a><a href="#h51-0-201" id="h51-0-201" class="d">-	}
</a><a href="#h51-0-202" id="h51-0-202" class="d">-
</a><a href="#h51-0-203" id="h51-0-203" class="d">-	sub := new(Subscription)
</a><a href="#h51-0-204" id="h51-0-204" class="d">-	resp, err := s.client.Do(req, sub)
</a><a href="#h51-0-205" id="h51-0-205" class="d">-	if err != nil {
</a><a href="#h51-0-206" id="h51-0-206" class="d">-		return nil, resp, err
</a><a href="#h51-0-207" id="h51-0-207" class="d">-	}
</a><a href="#h51-0-208" id="h51-0-208" class="d">-
</a><a href="#h51-0-209" id="h51-0-209" class="d">-	return sub, resp, err
</a><a href="#h51-0-210" id="h51-0-210" class="d">-}
</a><a href="#h51-0-211" id="h51-0-211" class="d">-
</a><a href="#h51-0-212" id="h51-0-212" class="d">-// DeleteThreadSubscription deletes the subscription for the specified thread
</a><a href="#h51-0-213" id="h51-0-213" class="d">-// for the authenticated user.
</a><a href="#h51-0-214" id="h51-0-214" class="d">-//
</a><a href="#h51-0-215" id="h51-0-215" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/notifications/#delete-a-thread-subscription
</a><a href="#h51-0-216" id="h51-0-216" class="d">-func (s *ActivityService) DeleteThreadSubscription(id string) (*Response, error) {
</a><a href="#h51-0-217" id="h51-0-217" class="d">-	u := fmt.Sprintf(&quot;notifications/threads/%v/subscription&quot;, id)
</a><a href="#h51-0-218" id="h51-0-218" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h51-0-219" id="h51-0-219" class="d">-	if err != nil {
</a><a href="#h51-0-220" id="h51-0-220" class="d">-		return nil, err
</a><a href="#h51-0-221" id="h51-0-221" class="d">-	}
</a><a href="#h51-0-222" id="h51-0-222" class="d">-
</a><a href="#h51-0-223" id="h51-0-223" class="d">-	return s.client.Do(req, nil)
</a><a href="#h51-0-224" id="h51-0-224" class="d">-}
</a><b>diff --git a/<a id="h52" href="../file/vendor/github.com/google/go-github/github/activity_star.go">vendor/github.com/google/go-github/github/activity_star.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/activity_star.go">vendor/github.com/google/go-github/github/activity_star.go</a></b>
<a href="#h52-0" id="h52-0" class="h">@@ -1,123 +0,0 @@
</a><a href="#h52-0-0" id="h52-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h52-0-1" id="h52-0-1" class="d">-//
</a><a href="#h52-0-2" id="h52-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h52-0-3" id="h52-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h52-0-4" id="h52-0-4" class="d">-
</a><a href="#h52-0-5" id="h52-0-5" class="d">-package github
</a><a href="#h52-0-6" id="h52-0-6" class="d">-
</a><a href="#h52-0-7" id="h52-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h52-0-8" id="h52-0-8" class="d">-
</a><a href="#h52-0-9" id="h52-0-9" class="d">-// StarredRepository is returned by ListStarred.
</a><a href="#h52-0-10" id="h52-0-10" class="d">-type StarredRepository struct {
</a><a href="#h52-0-11" id="h52-0-11" class="d">-	StarredAt  *Timestamp  `json:&quot;starred_at,omitempty&quot;`
</a><a href="#h52-0-12" id="h52-0-12" class="d">-	Repository *Repository `json:&quot;repo,omitempty&quot;`
</a><a href="#h52-0-13" id="h52-0-13" class="d">-}
</a><a href="#h52-0-14" id="h52-0-14" class="d">-
</a><a href="#h52-0-15" id="h52-0-15" class="d">-// ListStargazers lists people who have starred the specified repo.
</a><a href="#h52-0-16" id="h52-0-16" class="d">-//
</a><a href="#h52-0-17" id="h52-0-17" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/starring/#list-stargazers
</a><a href="#h52-0-18" id="h52-0-18" class="d">-func (s *ActivityService) ListStargazers(owner, repo string, opt *ListOptions) ([]User, *Response, error) {
</a><a href="#h52-0-19" id="h52-0-19" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/stargazers&quot;, owner, repo)
</a><a href="#h52-0-20" id="h52-0-20" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h52-0-21" id="h52-0-21" class="d">-	if err != nil {
</a><a href="#h52-0-22" id="h52-0-22" class="d">-		return nil, nil, err
</a><a href="#h52-0-23" id="h52-0-23" class="d">-	}
</a><a href="#h52-0-24" id="h52-0-24" class="d">-
</a><a href="#h52-0-25" id="h52-0-25" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h52-0-26" id="h52-0-26" class="d">-	if err != nil {
</a><a href="#h52-0-27" id="h52-0-27" class="d">-		return nil, nil, err
</a><a href="#h52-0-28" id="h52-0-28" class="d">-	}
</a><a href="#h52-0-29" id="h52-0-29" class="d">-
</a><a href="#h52-0-30" id="h52-0-30" class="d">-	stargazers := new([]User)
</a><a href="#h52-0-31" id="h52-0-31" class="d">-	resp, err := s.client.Do(req, stargazers)
</a><a href="#h52-0-32" id="h52-0-32" class="d">-	if err != nil {
</a><a href="#h52-0-33" id="h52-0-33" class="d">-		return nil, resp, err
</a><a href="#h52-0-34" id="h52-0-34" class="d">-	}
</a><a href="#h52-0-35" id="h52-0-35" class="d">-
</a><a href="#h52-0-36" id="h52-0-36" class="d">-	return *stargazers, resp, err
</a><a href="#h52-0-37" id="h52-0-37" class="d">-}
</a><a href="#h52-0-38" id="h52-0-38" class="d">-
</a><a href="#h52-0-39" id="h52-0-39" class="d">-// ActivityListStarredOptions specifies the optional parameters to the
</a><a href="#h52-0-40" id="h52-0-40" class="d">-// ActivityService.ListStarred method.
</a><a href="#h52-0-41" id="h52-0-41" class="d">-type ActivityListStarredOptions struct {
</a><a href="#h52-0-42" id="h52-0-42" class="d">-	// How to sort the repository list.  Possible values are: created, updated,
</a><a href="#h52-0-43" id="h52-0-43" class="d">-	// pushed, full_name.  Default is &quot;full_name&quot;.
</a><a href="#h52-0-44" id="h52-0-44" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h52-0-45" id="h52-0-45" class="d">-
</a><a href="#h52-0-46" id="h52-0-46" class="d">-	// Direction in which to sort repositories.  Possible values are: asc, desc.
</a><a href="#h52-0-47" id="h52-0-47" class="d">-	// Default is &quot;asc&quot; when sort is &quot;full_name&quot;, otherwise default is &quot;desc&quot;.
</a><a href="#h52-0-48" id="h52-0-48" class="d">-	Direction string `url:&quot;direction,omitempty&quot;`
</a><a href="#h52-0-49" id="h52-0-49" class="d">-
</a><a href="#h52-0-50" id="h52-0-50" class="d">-	ListOptions
</a><a href="#h52-0-51" id="h52-0-51" class="d">-}
</a><a href="#h52-0-52" id="h52-0-52" class="d">-
</a><a href="#h52-0-53" id="h52-0-53" class="d">-// ListStarred lists all the repos starred by a user.  Passing the empty string
</a><a href="#h52-0-54" id="h52-0-54" class="d">-// will list the starred repositories for the authenticated user.
</a><a href="#h52-0-55" id="h52-0-55" class="d">-//
</a><a href="#h52-0-56" id="h52-0-56" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/starring/#list-repositories-being-starred
</a><a href="#h52-0-57" id="h52-0-57" class="d">-func (s *ActivityService) ListStarred(user string, opt *ActivityListStarredOptions) ([]StarredRepository, *Response, error) {
</a><a href="#h52-0-58" id="h52-0-58" class="d">-	var u string
</a><a href="#h52-0-59" id="h52-0-59" class="d">-	if user != &quot;&quot; {
</a><a href="#h52-0-60" id="h52-0-60" class="d">-		u = fmt.Sprintf(&quot;users/%v/starred&quot;, user)
</a><a href="#h52-0-61" id="h52-0-61" class="d">-	} else {
</a><a href="#h52-0-62" id="h52-0-62" class="d">-		u = &quot;user/starred&quot;
</a><a href="#h52-0-63" id="h52-0-63" class="d">-	}
</a><a href="#h52-0-64" id="h52-0-64" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h52-0-65" id="h52-0-65" class="d">-	if err != nil {
</a><a href="#h52-0-66" id="h52-0-66" class="d">-		return nil, nil, err
</a><a href="#h52-0-67" id="h52-0-67" class="d">-	}
</a><a href="#h52-0-68" id="h52-0-68" class="d">-
</a><a href="#h52-0-69" id="h52-0-69" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h52-0-70" id="h52-0-70" class="d">-	if err != nil {
</a><a href="#h52-0-71" id="h52-0-71" class="d">-		return nil, nil, err
</a><a href="#h52-0-72" id="h52-0-72" class="d">-	}
</a><a href="#h52-0-73" id="h52-0-73" class="d">-
</a><a href="#h52-0-74" id="h52-0-74" class="d">-	// TODO: remove custom Accept header when this API fully launches
</a><a href="#h52-0-75" id="h52-0-75" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeStarringPreview)
</a><a href="#h52-0-76" id="h52-0-76" class="d">-
</a><a href="#h52-0-77" id="h52-0-77" class="d">-	repos := new([]StarredRepository)
</a><a href="#h52-0-78" id="h52-0-78" class="d">-	resp, err := s.client.Do(req, repos)
</a><a href="#h52-0-79" id="h52-0-79" class="d">-	if err != nil {
</a><a href="#h52-0-80" id="h52-0-80" class="d">-		return nil, resp, err
</a><a href="#h52-0-81" id="h52-0-81" class="d">-	}
</a><a href="#h52-0-82" id="h52-0-82" class="d">-
</a><a href="#h52-0-83" id="h52-0-83" class="d">-	return *repos, resp, err
</a><a href="#h52-0-84" id="h52-0-84" class="d">-}
</a><a href="#h52-0-85" id="h52-0-85" class="d">-
</a><a href="#h52-0-86" id="h52-0-86" class="d">-// IsStarred checks if a repository is starred by authenticated user.
</a><a href="#h52-0-87" id="h52-0-87" class="d">-//
</a><a href="#h52-0-88" id="h52-0-88" class="d">-// GitHub API docs: https://developer.github.com/v3/activity/starring/#check-if-you-are-starring-a-repository
</a><a href="#h52-0-89" id="h52-0-89" class="d">-func (s *ActivityService) IsStarred(owner, repo string) (bool, *Response, error) {
</a><a href="#h52-0-90" id="h52-0-90" class="d">-	u := fmt.Sprintf(&quot;user/starred/%v/%v&quot;, owner, repo)
</a><a href="#h52-0-91" id="h52-0-91" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h52-0-92" id="h52-0-92" class="d">-	if err != nil {
</a><a href="#h52-0-93" id="h52-0-93" class="d">-		return false, nil, err
</a><a href="#h52-0-94" id="h52-0-94" class="d">-	}
</a><a href="#h52-0-95" id="h52-0-95" class="d">-	resp, err := s.client.Do(req, nil)
</a><a href="#h52-0-96" id="h52-0-96" class="d">-	starred, err := parseBoolResponse(err)
</a><a href="#h52-0-97" id="h52-0-97" class="d">-	return starred, resp, err
</a><a href="#h52-0-98" id="h52-0-98" class="d">-}
</a><a href="#h52-0-99" id="h52-0-99" class="d">-
</a><a href="#h52-0-100" id="h52-0-100" class="d">-// Star a repository as the authenticated user.
</a><a href="#h52-0-101" id="h52-0-101" class="d">-//
</a><a href="#h52-0-102" id="h52-0-102" class="d">-// GitHub API docs: https://developer.github.com/v3/activity/starring/#star-a-repository
</a><a href="#h52-0-103" id="h52-0-103" class="d">-func (s *ActivityService) Star(owner, repo string) (*Response, error) {
</a><a href="#h52-0-104" id="h52-0-104" class="d">-	u := fmt.Sprintf(&quot;user/starred/%v/%v&quot;, owner, repo)
</a><a href="#h52-0-105" id="h52-0-105" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, nil)
</a><a href="#h52-0-106" id="h52-0-106" class="d">-	if err != nil {
</a><a href="#h52-0-107" id="h52-0-107" class="d">-		return nil, err
</a><a href="#h52-0-108" id="h52-0-108" class="d">-	}
</a><a href="#h52-0-109" id="h52-0-109" class="d">-	return s.client.Do(req, nil)
</a><a href="#h52-0-110" id="h52-0-110" class="d">-}
</a><a href="#h52-0-111" id="h52-0-111" class="d">-
</a><a href="#h52-0-112" id="h52-0-112" class="d">-// Unstar a repository as the authenticated user.
</a><a href="#h52-0-113" id="h52-0-113" class="d">-//
</a><a href="#h52-0-114" id="h52-0-114" class="d">-// GitHub API docs: https://developer.github.com/v3/activity/starring/#unstar-a-repository
</a><a href="#h52-0-115" id="h52-0-115" class="d">-func (s *ActivityService) Unstar(owner, repo string) (*Response, error) {
</a><a href="#h52-0-116" id="h52-0-116" class="d">-	u := fmt.Sprintf(&quot;user/starred/%v/%v&quot;, owner, repo)
</a><a href="#h52-0-117" id="h52-0-117" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h52-0-118" id="h52-0-118" class="d">-	if err != nil {
</a><a href="#h52-0-119" id="h52-0-119" class="d">-		return nil, err
</a><a href="#h52-0-120" id="h52-0-120" class="d">-	}
</a><a href="#h52-0-121" id="h52-0-121" class="d">-	return s.client.Do(req, nil)
</a><a href="#h52-0-122" id="h52-0-122" class="d">-}
</a><b>diff --git a/<a id="h53" href="../file/vendor/github.com/google/go-github/github/activity_watching.go">vendor/github.com/google/go-github/github/activity_watching.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/activity_watching.go">vendor/github.com/google/go-github/github/activity_watching.go</a></b>
<a href="#h53-0" id="h53-0" class="h">@@ -1,136 +0,0 @@
</a><a href="#h53-0-0" id="h53-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h53-0-1" id="h53-0-1" class="d">-//
</a><a href="#h53-0-2" id="h53-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h53-0-3" id="h53-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h53-0-4" id="h53-0-4" class="d">-
</a><a href="#h53-0-5" id="h53-0-5" class="d">-package github
</a><a href="#h53-0-6" id="h53-0-6" class="d">-
</a><a href="#h53-0-7" id="h53-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h53-0-8" id="h53-0-8" class="d">-
</a><a href="#h53-0-9" id="h53-0-9" class="d">-// Subscription identifies a repository or thread subscription.
</a><a href="#h53-0-10" id="h53-0-10" class="d">-type Subscription struct {
</a><a href="#h53-0-11" id="h53-0-11" class="d">-	Subscribed *bool      `json:&quot;subscribed,omitempty&quot;`
</a><a href="#h53-0-12" id="h53-0-12" class="d">-	Ignored    *bool      `json:&quot;ignored,omitempty&quot;`
</a><a href="#h53-0-13" id="h53-0-13" class="d">-	Reason     *string    `json:&quot;reason,omitempty&quot;`
</a><a href="#h53-0-14" id="h53-0-14" class="d">-	CreatedAt  *Timestamp `json:&quot;created_at,omitempty&quot;`
</a><a href="#h53-0-15" id="h53-0-15" class="d">-	URL        *string    `json:&quot;url,omitempty&quot;`
</a><a href="#h53-0-16" id="h53-0-16" class="d">-
</a><a href="#h53-0-17" id="h53-0-17" class="d">-	// only populated for repository subscriptions
</a><a href="#h53-0-18" id="h53-0-18" class="d">-	RepositoryURL *string `json:&quot;repository_url,omitempty&quot;`
</a><a href="#h53-0-19" id="h53-0-19" class="d">-
</a><a href="#h53-0-20" id="h53-0-20" class="d">-	// only populated for thread subscriptions
</a><a href="#h53-0-21" id="h53-0-21" class="d">-	ThreadURL *string `json:&quot;thread_url,omitempty&quot;`
</a><a href="#h53-0-22" id="h53-0-22" class="d">-}
</a><a href="#h53-0-23" id="h53-0-23" class="d">-
</a><a href="#h53-0-24" id="h53-0-24" class="d">-// ListWatchers lists watchers of a particular repo.
</a><a href="#h53-0-25" id="h53-0-25" class="d">-//
</a><a href="#h53-0-26" id="h53-0-26" class="d">-// GitHub API Docs: http://developer.github.com/v3/activity/watching/#list-watchers
</a><a href="#h53-0-27" id="h53-0-27" class="d">-func (s *ActivityService) ListWatchers(owner, repo string, opt *ListOptions) ([]User, *Response, error) {
</a><a href="#h53-0-28" id="h53-0-28" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/subscribers&quot;, owner, repo)
</a><a href="#h53-0-29" id="h53-0-29" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h53-0-30" id="h53-0-30" class="d">-	if err != nil {
</a><a href="#h53-0-31" id="h53-0-31" class="d">-		return nil, nil, err
</a><a href="#h53-0-32" id="h53-0-32" class="d">-	}
</a><a href="#h53-0-33" id="h53-0-33" class="d">-
</a><a href="#h53-0-34" id="h53-0-34" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h53-0-35" id="h53-0-35" class="d">-	if err != nil {
</a><a href="#h53-0-36" id="h53-0-36" class="d">-		return nil, nil, err
</a><a href="#h53-0-37" id="h53-0-37" class="d">-	}
</a><a href="#h53-0-38" id="h53-0-38" class="d">-
</a><a href="#h53-0-39" id="h53-0-39" class="d">-	watchers := new([]User)
</a><a href="#h53-0-40" id="h53-0-40" class="d">-	resp, err := s.client.Do(req, watchers)
</a><a href="#h53-0-41" id="h53-0-41" class="d">-	if err != nil {
</a><a href="#h53-0-42" id="h53-0-42" class="d">-		return nil, resp, err
</a><a href="#h53-0-43" id="h53-0-43" class="d">-	}
</a><a href="#h53-0-44" id="h53-0-44" class="d">-
</a><a href="#h53-0-45" id="h53-0-45" class="d">-	return *watchers, resp, err
</a><a href="#h53-0-46" id="h53-0-46" class="d">-}
</a><a href="#h53-0-47" id="h53-0-47" class="d">-
</a><a href="#h53-0-48" id="h53-0-48" class="d">-// ListWatched lists the repositories the specified user is watching.  Passing
</a><a href="#h53-0-49" id="h53-0-49" class="d">-// the empty string will fetch watched repos for the authenticated user.
</a><a href="#h53-0-50" id="h53-0-50" class="d">-//
</a><a href="#h53-0-51" id="h53-0-51" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/watching/#list-repositories-being-watched
</a><a href="#h53-0-52" id="h53-0-52" class="d">-func (s *ActivityService) ListWatched(user string, opt *ListOptions) ([]Repository, *Response, error) {
</a><a href="#h53-0-53" id="h53-0-53" class="d">-	var u string
</a><a href="#h53-0-54" id="h53-0-54" class="d">-	if user != &quot;&quot; {
</a><a href="#h53-0-55" id="h53-0-55" class="d">-		u = fmt.Sprintf(&quot;users/%v/subscriptions&quot;, user)
</a><a href="#h53-0-56" id="h53-0-56" class="d">-	} else {
</a><a href="#h53-0-57" id="h53-0-57" class="d">-		u = &quot;user/subscriptions&quot;
</a><a href="#h53-0-58" id="h53-0-58" class="d">-	}
</a><a href="#h53-0-59" id="h53-0-59" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h53-0-60" id="h53-0-60" class="d">-	if err != nil {
</a><a href="#h53-0-61" id="h53-0-61" class="d">-		return nil, nil, err
</a><a href="#h53-0-62" id="h53-0-62" class="d">-	}
</a><a href="#h53-0-63" id="h53-0-63" class="d">-
</a><a href="#h53-0-64" id="h53-0-64" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h53-0-65" id="h53-0-65" class="d">-	if err != nil {
</a><a href="#h53-0-66" id="h53-0-66" class="d">-		return nil, nil, err
</a><a href="#h53-0-67" id="h53-0-67" class="d">-	}
</a><a href="#h53-0-68" id="h53-0-68" class="d">-
</a><a href="#h53-0-69" id="h53-0-69" class="d">-	watched := new([]Repository)
</a><a href="#h53-0-70" id="h53-0-70" class="d">-	resp, err := s.client.Do(req, watched)
</a><a href="#h53-0-71" id="h53-0-71" class="d">-	if err != nil {
</a><a href="#h53-0-72" id="h53-0-72" class="d">-		return nil, resp, err
</a><a href="#h53-0-73" id="h53-0-73" class="d">-	}
</a><a href="#h53-0-74" id="h53-0-74" class="d">-
</a><a href="#h53-0-75" id="h53-0-75" class="d">-	return *watched, resp, err
</a><a href="#h53-0-76" id="h53-0-76" class="d">-}
</a><a href="#h53-0-77" id="h53-0-77" class="d">-
</a><a href="#h53-0-78" id="h53-0-78" class="d">-// GetRepositorySubscription returns the subscription for the specified
</a><a href="#h53-0-79" id="h53-0-79" class="d">-// repository for the authenticated user.  If the authenticated user is not
</a><a href="#h53-0-80" id="h53-0-80" class="d">-// watching the repository, a nil Subscription is returned.
</a><a href="#h53-0-81" id="h53-0-81" class="d">-//
</a><a href="#h53-0-82" id="h53-0-82" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/watching/#get-a-repository-subscription
</a><a href="#h53-0-83" id="h53-0-83" class="d">-func (s *ActivityService) GetRepositorySubscription(owner, repo string) (*Subscription, *Response, error) {
</a><a href="#h53-0-84" id="h53-0-84" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/subscription&quot;, owner, repo)
</a><a href="#h53-0-85" id="h53-0-85" class="d">-
</a><a href="#h53-0-86" id="h53-0-86" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h53-0-87" id="h53-0-87" class="d">-	if err != nil {
</a><a href="#h53-0-88" id="h53-0-88" class="d">-		return nil, nil, err
</a><a href="#h53-0-89" id="h53-0-89" class="d">-	}
</a><a href="#h53-0-90" id="h53-0-90" class="d">-
</a><a href="#h53-0-91" id="h53-0-91" class="d">-	sub := new(Subscription)
</a><a href="#h53-0-92" id="h53-0-92" class="d">-	resp, err := s.client.Do(req, sub)
</a><a href="#h53-0-93" id="h53-0-93" class="d">-	if err != nil {
</a><a href="#h53-0-94" id="h53-0-94" class="d">-		// if it&#39;s just a 404, don&#39;t return that as an error
</a><a href="#h53-0-95" id="h53-0-95" class="d">-		_, err = parseBoolResponse(err)
</a><a href="#h53-0-96" id="h53-0-96" class="d">-		return nil, resp, err
</a><a href="#h53-0-97" id="h53-0-97" class="d">-	}
</a><a href="#h53-0-98" id="h53-0-98" class="d">-
</a><a href="#h53-0-99" id="h53-0-99" class="d">-	return sub, resp, err
</a><a href="#h53-0-100" id="h53-0-100" class="d">-}
</a><a href="#h53-0-101" id="h53-0-101" class="d">-
</a><a href="#h53-0-102" id="h53-0-102" class="d">-// SetRepositorySubscription sets the subscription for the specified repository
</a><a href="#h53-0-103" id="h53-0-103" class="d">-// for the authenticated user.
</a><a href="#h53-0-104" id="h53-0-104" class="d">-//
</a><a href="#h53-0-105" id="h53-0-105" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/watching/#set-a-repository-subscription
</a><a href="#h53-0-106" id="h53-0-106" class="d">-func (s *ActivityService) SetRepositorySubscription(owner, repo string, subscription *Subscription) (*Subscription, *Response, error) {
</a><a href="#h53-0-107" id="h53-0-107" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/subscription&quot;, owner, repo)
</a><a href="#h53-0-108" id="h53-0-108" class="d">-
</a><a href="#h53-0-109" id="h53-0-109" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, subscription)
</a><a href="#h53-0-110" id="h53-0-110" class="d">-	if err != nil {
</a><a href="#h53-0-111" id="h53-0-111" class="d">-		return nil, nil, err
</a><a href="#h53-0-112" id="h53-0-112" class="d">-	}
</a><a href="#h53-0-113" id="h53-0-113" class="d">-
</a><a href="#h53-0-114" id="h53-0-114" class="d">-	sub := new(Subscription)
</a><a href="#h53-0-115" id="h53-0-115" class="d">-	resp, err := s.client.Do(req, sub)
</a><a href="#h53-0-116" id="h53-0-116" class="d">-	if err != nil {
</a><a href="#h53-0-117" id="h53-0-117" class="d">-		return nil, resp, err
</a><a href="#h53-0-118" id="h53-0-118" class="d">-	}
</a><a href="#h53-0-119" id="h53-0-119" class="d">-
</a><a href="#h53-0-120" id="h53-0-120" class="d">-	return sub, resp, err
</a><a href="#h53-0-121" id="h53-0-121" class="d">-}
</a><a href="#h53-0-122" id="h53-0-122" class="d">-
</a><a href="#h53-0-123" id="h53-0-123" class="d">-// DeleteRepositorySubscription deletes the subscription for the specified
</a><a href="#h53-0-124" id="h53-0-124" class="d">-// repository for the authenticated user.
</a><a href="#h53-0-125" id="h53-0-125" class="d">-//
</a><a href="#h53-0-126" id="h53-0-126" class="d">-// GitHub API Docs: https://developer.github.com/v3/activity/watching/#delete-a-repository-subscription
</a><a href="#h53-0-127" id="h53-0-127" class="d">-func (s *ActivityService) DeleteRepositorySubscription(owner, repo string) (*Response, error) {
</a><a href="#h53-0-128" id="h53-0-128" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/subscription&quot;, owner, repo)
</a><a href="#h53-0-129" id="h53-0-129" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h53-0-130" id="h53-0-130" class="d">-	if err != nil {
</a><a href="#h53-0-131" id="h53-0-131" class="d">-		return nil, err
</a><a href="#h53-0-132" id="h53-0-132" class="d">-	}
</a><a href="#h53-0-133" id="h53-0-133" class="d">-
</a><a href="#h53-0-134" id="h53-0-134" class="d">-	return s.client.Do(req, nil)
</a><a href="#h53-0-135" id="h53-0-135" class="d">-}
</a><b>diff --git a/<a id="h54" href="../file/vendor/github.com/google/go-github/github/authorizations.go">vendor/github.com/google/go-github/github/authorizations.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/authorizations.go">vendor/github.com/google/go-github/github/authorizations.go</a></b>
<a href="#h54-0" id="h54-0" class="h">@@ -1,320 +0,0 @@
</a><a href="#h54-0-0" id="h54-0-0" class="d">-// Copyright 2015 The go-github AUTHORS. All rights reserved.
</a><a href="#h54-0-1" id="h54-0-1" class="d">-//
</a><a href="#h54-0-2" id="h54-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h54-0-3" id="h54-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h54-0-4" id="h54-0-4" class="d">-
</a><a href="#h54-0-5" id="h54-0-5" class="d">-package github
</a><a href="#h54-0-6" id="h54-0-6" class="d">-
</a><a href="#h54-0-7" id="h54-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h54-0-8" id="h54-0-8" class="d">-
</a><a href="#h54-0-9" id="h54-0-9" class="d">-// Scope models a GitHub authorization scope.
</a><a href="#h54-0-10" id="h54-0-10" class="d">-//
</a><a href="#h54-0-11" id="h54-0-11" class="d">-// GitHub API docs:https://developer.github.com/v3/oauth/#scopes
</a><a href="#h54-0-12" id="h54-0-12" class="d">-type Scope string
</a><a href="#h54-0-13" id="h54-0-13" class="d">-
</a><a href="#h54-0-14" id="h54-0-14" class="d">-// This is the set of scopes for GitHub API V3
</a><a href="#h54-0-15" id="h54-0-15" class="d">-const (
</a><a href="#h54-0-16" id="h54-0-16" class="d">-	ScopeNone           Scope = &quot;(no scope)&quot; // REVISIT: is this actually returned, or just a documentation artifact?
</a><a href="#h54-0-17" id="h54-0-17" class="d">-	ScopeUser           Scope = &quot;user&quot;
</a><a href="#h54-0-18" id="h54-0-18" class="d">-	ScopeUserEmail      Scope = &quot;user:email&quot;
</a><a href="#h54-0-19" id="h54-0-19" class="d">-	ScopeUserFollow     Scope = &quot;user:follow&quot;
</a><a href="#h54-0-20" id="h54-0-20" class="d">-	ScopePublicRepo     Scope = &quot;public_repo&quot;
</a><a href="#h54-0-21" id="h54-0-21" class="d">-	ScopeRepo           Scope = &quot;repo&quot;
</a><a href="#h54-0-22" id="h54-0-22" class="d">-	ScopeRepoDeployment Scope = &quot;repo_deployment&quot;
</a><a href="#h54-0-23" id="h54-0-23" class="d">-	ScopeRepoStatus     Scope = &quot;repo:status&quot;
</a><a href="#h54-0-24" id="h54-0-24" class="d">-	ScopeDeleteRepo     Scope = &quot;delete_repo&quot;
</a><a href="#h54-0-25" id="h54-0-25" class="d">-	ScopeNotifications  Scope = &quot;notifications&quot;
</a><a href="#h54-0-26" id="h54-0-26" class="d">-	ScopeGist           Scope = &quot;gist&quot;
</a><a href="#h54-0-27" id="h54-0-27" class="d">-	ScopeReadRepoHook   Scope = &quot;read:repo_hook&quot;
</a><a href="#h54-0-28" id="h54-0-28" class="d">-	ScopeWriteRepoHook  Scope = &quot;write:repo_hook&quot;
</a><a href="#h54-0-29" id="h54-0-29" class="d">-	ScopeAdminRepoHook  Scope = &quot;admin:repo_hook&quot;
</a><a href="#h54-0-30" id="h54-0-30" class="d">-	ScopeAdminOrgHook   Scope = &quot;admin:org_hook&quot;
</a><a href="#h54-0-31" id="h54-0-31" class="d">-	ScopeReadOrg        Scope = &quot;read:org&quot;
</a><a href="#h54-0-32" id="h54-0-32" class="d">-	ScopeWriteOrg       Scope = &quot;write:org&quot;
</a><a href="#h54-0-33" id="h54-0-33" class="d">-	ScopeAdminOrg       Scope = &quot;admin:org&quot;
</a><a href="#h54-0-34" id="h54-0-34" class="d">-	ScopeReadPublicKey  Scope = &quot;read:public_key&quot;
</a><a href="#h54-0-35" id="h54-0-35" class="d">-	ScopeWritePublicKey Scope = &quot;write:public_key&quot;
</a><a href="#h54-0-36" id="h54-0-36" class="d">-	ScopeAdminPublicKey Scope = &quot;admin:public_key&quot;
</a><a href="#h54-0-37" id="h54-0-37" class="d">-)
</a><a href="#h54-0-38" id="h54-0-38" class="d">-
</a><a href="#h54-0-39" id="h54-0-39" class="d">-// AuthorizationsService handles communication with the authorization related
</a><a href="#h54-0-40" id="h54-0-40" class="d">-// methods of the GitHub API.
</a><a href="#h54-0-41" id="h54-0-41" class="d">-//
</a><a href="#h54-0-42" id="h54-0-42" class="d">-// This service requires HTTP Basic Authentication; it cannot be accessed using
</a><a href="#h54-0-43" id="h54-0-43" class="d">-// an OAuth token.
</a><a href="#h54-0-44" id="h54-0-44" class="d">-//
</a><a href="#h54-0-45" id="h54-0-45" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/
</a><a href="#h54-0-46" id="h54-0-46" class="d">-type AuthorizationsService struct {
</a><a href="#h54-0-47" id="h54-0-47" class="d">-	client *Client
</a><a href="#h54-0-48" id="h54-0-48" class="d">-}
</a><a href="#h54-0-49" id="h54-0-49" class="d">-
</a><a href="#h54-0-50" id="h54-0-50" class="d">-// Authorization represents an individual GitHub authorization.
</a><a href="#h54-0-51" id="h54-0-51" class="d">-type Authorization struct {
</a><a href="#h54-0-52" id="h54-0-52" class="d">-	ID             *int              `json:&quot;id,omitempty&quot;`
</a><a href="#h54-0-53" id="h54-0-53" class="d">-	URL            *string           `json:&quot;url,omitempty&quot;`
</a><a href="#h54-0-54" id="h54-0-54" class="d">-	Scopes         []Scope           `json:&quot;scopes,omitempty&quot;`
</a><a href="#h54-0-55" id="h54-0-55" class="d">-	Token          *string           `json:&quot;token,omitempty&quot;`
</a><a href="#h54-0-56" id="h54-0-56" class="d">-	TokenLastEight *string           `json:&quot;token_last_eight,omitempty&quot;`
</a><a href="#h54-0-57" id="h54-0-57" class="d">-	HashedToken    *string           `json:&quot;hashed_token,omitempty&quot;`
</a><a href="#h54-0-58" id="h54-0-58" class="d">-	App            *AuthorizationApp `json:&quot;app,omitempty&quot;`
</a><a href="#h54-0-59" id="h54-0-59" class="d">-	Note           *string           `json:&quot;note,omitempty&quot;`
</a><a href="#h54-0-60" id="h54-0-60" class="d">-	NoteURL        *string           `json:&quot;note_url,omitempty&quot;`
</a><a href="#h54-0-61" id="h54-0-61" class="d">-	UpdateAt       *Timestamp        `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h54-0-62" id="h54-0-62" class="d">-	CreatedAt      *Timestamp        `json:&quot;created_at,omitempty&quot;`
</a><a href="#h54-0-63" id="h54-0-63" class="d">-	Fingerprint    *string           `json:&quot;fingerprint,omitempty&quot;`
</a><a href="#h54-0-64" id="h54-0-64" class="d">-
</a><a href="#h54-0-65" id="h54-0-65" class="d">-	// User is only populated by the Check and Reset methods.
</a><a href="#h54-0-66" id="h54-0-66" class="d">-	User *User `json:&quot;user,omitempty&quot;`
</a><a href="#h54-0-67" id="h54-0-67" class="d">-}
</a><a href="#h54-0-68" id="h54-0-68" class="d">-
</a><a href="#h54-0-69" id="h54-0-69" class="d">-func (a Authorization) String() string {
</a><a href="#h54-0-70" id="h54-0-70" class="d">-	return Stringify(a)
</a><a href="#h54-0-71" id="h54-0-71" class="d">-}
</a><a href="#h54-0-72" id="h54-0-72" class="d">-
</a><a href="#h54-0-73" id="h54-0-73" class="d">-// AuthorizationApp represents an individual GitHub app (in the context of authorization).
</a><a href="#h54-0-74" id="h54-0-74" class="d">-type AuthorizationApp struct {
</a><a href="#h54-0-75" id="h54-0-75" class="d">-	URL      *string `json:&quot;url,omitempty&quot;`
</a><a href="#h54-0-76" id="h54-0-76" class="d">-	Name     *string `json:&quot;name,omitempty&quot;`
</a><a href="#h54-0-77" id="h54-0-77" class="d">-	ClientID *string `json:&quot;client_id,omitempty&quot;`
</a><a href="#h54-0-78" id="h54-0-78" class="d">-}
</a><a href="#h54-0-79" id="h54-0-79" class="d">-
</a><a href="#h54-0-80" id="h54-0-80" class="d">-func (a AuthorizationApp) String() string {
</a><a href="#h54-0-81" id="h54-0-81" class="d">-	return Stringify(a)
</a><a href="#h54-0-82" id="h54-0-82" class="d">-}
</a><a href="#h54-0-83" id="h54-0-83" class="d">-
</a><a href="#h54-0-84" id="h54-0-84" class="d">-// AuthorizationRequest represents a request to create an authorization.
</a><a href="#h54-0-85" id="h54-0-85" class="d">-type AuthorizationRequest struct {
</a><a href="#h54-0-86" id="h54-0-86" class="d">-	Scopes       []Scope `json:&quot;scopes,omitempty&quot;`
</a><a href="#h54-0-87" id="h54-0-87" class="d">-	Note         *string `json:&quot;note,omitempty&quot;`
</a><a href="#h54-0-88" id="h54-0-88" class="d">-	NoteURL      *string `json:&quot;note_url,omitempty&quot;`
</a><a href="#h54-0-89" id="h54-0-89" class="d">-	ClientID     *string `json:&quot;client_id,omitempty&quot;`
</a><a href="#h54-0-90" id="h54-0-90" class="d">-	ClientSecret *string `json:&quot;client_secret,omitempty&quot;`
</a><a href="#h54-0-91" id="h54-0-91" class="d">-	Fingerprint  *string `json:&quot;fingerprint,omitempty&quot;`
</a><a href="#h54-0-92" id="h54-0-92" class="d">-}
</a><a href="#h54-0-93" id="h54-0-93" class="d">-
</a><a href="#h54-0-94" id="h54-0-94" class="d">-func (a AuthorizationRequest) String() string {
</a><a href="#h54-0-95" id="h54-0-95" class="d">-	return Stringify(a)
</a><a href="#h54-0-96" id="h54-0-96" class="d">-}
</a><a href="#h54-0-97" id="h54-0-97" class="d">-
</a><a href="#h54-0-98" id="h54-0-98" class="d">-// AuthorizationUpdateRequest represents a request to update an authorization.
</a><a href="#h54-0-99" id="h54-0-99" class="d">-//
</a><a href="#h54-0-100" id="h54-0-100" class="d">-// Note that for any one update, you must only provide one of the &quot;scopes&quot;
</a><a href="#h54-0-101" id="h54-0-101" class="d">-// fields.  That is, you may provide only one of &quot;Scopes&quot;, or &quot;AddScopes&quot;, or
</a><a href="#h54-0-102" id="h54-0-102" class="d">-// &quot;RemoveScopes&quot;.
</a><a href="#h54-0-103" id="h54-0-103" class="d">-//
</a><a href="#h54-0-104" id="h54-0-104" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/#update-an-existing-authorization
</a><a href="#h54-0-105" id="h54-0-105" class="d">-type AuthorizationUpdateRequest struct {
</a><a href="#h54-0-106" id="h54-0-106" class="d">-	Scopes       []string `json:&quot;scopes,omitempty&quot;`
</a><a href="#h54-0-107" id="h54-0-107" class="d">-	AddScopes    []string `json:&quot;add_scopes,omitempty&quot;`
</a><a href="#h54-0-108" id="h54-0-108" class="d">-	RemoveScopes []string `json:&quot;remove_scopes,omitempty&quot;`
</a><a href="#h54-0-109" id="h54-0-109" class="d">-	Note         *string  `json:&quot;note,omitempty&quot;`
</a><a href="#h54-0-110" id="h54-0-110" class="d">-	NoteURL      *string  `json:&quot;note_url,omitempty&quot;`
</a><a href="#h54-0-111" id="h54-0-111" class="d">-	Fingerprint  *string  `json:&quot;fingerprint,omitempty&quot;`
</a><a href="#h54-0-112" id="h54-0-112" class="d">-}
</a><a href="#h54-0-113" id="h54-0-113" class="d">-
</a><a href="#h54-0-114" id="h54-0-114" class="d">-func (a AuthorizationUpdateRequest) String() string {
</a><a href="#h54-0-115" id="h54-0-115" class="d">-	return Stringify(a)
</a><a href="#h54-0-116" id="h54-0-116" class="d">-}
</a><a href="#h54-0-117" id="h54-0-117" class="d">-
</a><a href="#h54-0-118" id="h54-0-118" class="d">-// List the authorizations for the authenticated user.
</a><a href="#h54-0-119" id="h54-0-119" class="d">-//
</a><a href="#h54-0-120" id="h54-0-120" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/#list-your-authorizations
</a><a href="#h54-0-121" id="h54-0-121" class="d">-func (s *AuthorizationsService) List(opt *ListOptions) ([]Authorization, *Response, error) {
</a><a href="#h54-0-122" id="h54-0-122" class="d">-	u := &quot;authorizations&quot;
</a><a href="#h54-0-123" id="h54-0-123" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h54-0-124" id="h54-0-124" class="d">-	if err != nil {
</a><a href="#h54-0-125" id="h54-0-125" class="d">-		return nil, nil, err
</a><a href="#h54-0-126" id="h54-0-126" class="d">-	}
</a><a href="#h54-0-127" id="h54-0-127" class="d">-
</a><a href="#h54-0-128" id="h54-0-128" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h54-0-129" id="h54-0-129" class="d">-	if err != nil {
</a><a href="#h54-0-130" id="h54-0-130" class="d">-		return nil, nil, err
</a><a href="#h54-0-131" id="h54-0-131" class="d">-	}
</a><a href="#h54-0-132" id="h54-0-132" class="d">-
</a><a href="#h54-0-133" id="h54-0-133" class="d">-	auths := new([]Authorization)
</a><a href="#h54-0-134" id="h54-0-134" class="d">-	resp, err := s.client.Do(req, auths)
</a><a href="#h54-0-135" id="h54-0-135" class="d">-	if err != nil {
</a><a href="#h54-0-136" id="h54-0-136" class="d">-		return nil, resp, err
</a><a href="#h54-0-137" id="h54-0-137" class="d">-	}
</a><a href="#h54-0-138" id="h54-0-138" class="d">-	return *auths, resp, err
</a><a href="#h54-0-139" id="h54-0-139" class="d">-}
</a><a href="#h54-0-140" id="h54-0-140" class="d">-
</a><a href="#h54-0-141" id="h54-0-141" class="d">-// Get a single authorization.
</a><a href="#h54-0-142" id="h54-0-142" class="d">-//
</a><a href="#h54-0-143" id="h54-0-143" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/#get-a-single-authorization
</a><a href="#h54-0-144" id="h54-0-144" class="d">-func (s *AuthorizationsService) Get(id int) (*Authorization, *Response, error) {
</a><a href="#h54-0-145" id="h54-0-145" class="d">-	u := fmt.Sprintf(&quot;authorizations/%d&quot;, id)
</a><a href="#h54-0-146" id="h54-0-146" class="d">-
</a><a href="#h54-0-147" id="h54-0-147" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h54-0-148" id="h54-0-148" class="d">-	if err != nil {
</a><a href="#h54-0-149" id="h54-0-149" class="d">-		return nil, nil, err
</a><a href="#h54-0-150" id="h54-0-150" class="d">-	}
</a><a href="#h54-0-151" id="h54-0-151" class="d">-
</a><a href="#h54-0-152" id="h54-0-152" class="d">-	a := new(Authorization)
</a><a href="#h54-0-153" id="h54-0-153" class="d">-	resp, err := s.client.Do(req, a)
</a><a href="#h54-0-154" id="h54-0-154" class="d">-	if err != nil {
</a><a href="#h54-0-155" id="h54-0-155" class="d">-		return nil, resp, err
</a><a href="#h54-0-156" id="h54-0-156" class="d">-	}
</a><a href="#h54-0-157" id="h54-0-157" class="d">-	return a, resp, err
</a><a href="#h54-0-158" id="h54-0-158" class="d">-}
</a><a href="#h54-0-159" id="h54-0-159" class="d">-
</a><a href="#h54-0-160" id="h54-0-160" class="d">-// Create a new authorization for the specified OAuth application.
</a><a href="#h54-0-161" id="h54-0-161" class="d">-//
</a><a href="#h54-0-162" id="h54-0-162" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/#create-a-new-authorization
</a><a href="#h54-0-163" id="h54-0-163" class="d">-func (s *AuthorizationsService) Create(auth *AuthorizationRequest) (*Authorization, *Response, error) {
</a><a href="#h54-0-164" id="h54-0-164" class="d">-	u := &quot;authorizations&quot;
</a><a href="#h54-0-165" id="h54-0-165" class="d">-
</a><a href="#h54-0-166" id="h54-0-166" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, auth)
</a><a href="#h54-0-167" id="h54-0-167" class="d">-	if err != nil {
</a><a href="#h54-0-168" id="h54-0-168" class="d">-		return nil, nil, err
</a><a href="#h54-0-169" id="h54-0-169" class="d">-	}
</a><a href="#h54-0-170" id="h54-0-170" class="d">-
</a><a href="#h54-0-171" id="h54-0-171" class="d">-	a := new(Authorization)
</a><a href="#h54-0-172" id="h54-0-172" class="d">-	resp, err := s.client.Do(req, a)
</a><a href="#h54-0-173" id="h54-0-173" class="d">-	if err != nil {
</a><a href="#h54-0-174" id="h54-0-174" class="d">-		return nil, resp, err
</a><a href="#h54-0-175" id="h54-0-175" class="d">-	}
</a><a href="#h54-0-176" id="h54-0-176" class="d">-	return a, resp, err
</a><a href="#h54-0-177" id="h54-0-177" class="d">-}
</a><a href="#h54-0-178" id="h54-0-178" class="d">-
</a><a href="#h54-0-179" id="h54-0-179" class="d">-// GetOrCreateForApp creates a new authorization for the specified OAuth
</a><a href="#h54-0-180" id="h54-0-180" class="d">-// application, only if an authorization for that application doesnt already
</a><a href="#h54-0-181" id="h54-0-181" class="d">-// exist for the user.
</a><a href="#h54-0-182" id="h54-0-182" class="d">-//
</a><a href="#h54-0-183" id="h54-0-183" class="d">-// If a new token is created, the HTTP status code will be &quot;201 Created&quot;, and
</a><a href="#h54-0-184" id="h54-0-184" class="d">-// the returned Authorization.Token field will be populated. If an existing
</a><a href="#h54-0-185" id="h54-0-185" class="d">-// token is returned, the status code will be &quot;200 OK&quot; and the
</a><a href="#h54-0-186" id="h54-0-186" class="d">-// Authorization.Token field will be empty.
</a><a href="#h54-0-187" id="h54-0-187" class="d">-//
</a><a href="#h54-0-188" id="h54-0-188" class="d">-// clientID is the OAuth Client ID with which to create the token.
</a><a href="#h54-0-189" id="h54-0-189" class="d">-//
</a><a href="#h54-0-190" id="h54-0-190" class="d">-// GitHub API docs:
</a><a href="#h54-0-191" id="h54-0-191" class="d">-// - https://developer.github.com/v3/oauth_authorizations/#get-or-create-an-authorization-for-a-specific-app
</a><a href="#h54-0-192" id="h54-0-192" class="d">-// - https://developer.github.com/v3/oauth_authorizations/#get-or-create-an-authorization-for-a-specific-app-and-fingerprint
</a><a href="#h54-0-193" id="h54-0-193" class="d">-func (s *AuthorizationsService) GetOrCreateForApp(clientID string, auth *AuthorizationRequest) (*Authorization, *Response, error) {
</a><a href="#h54-0-194" id="h54-0-194" class="d">-	var u string
</a><a href="#h54-0-195" id="h54-0-195" class="d">-	if auth.Fingerprint == nil || *auth.Fingerprint == &quot;&quot; {
</a><a href="#h54-0-196" id="h54-0-196" class="d">-		u = fmt.Sprintf(&quot;authorizations/clients/%v&quot;, clientID)
</a><a href="#h54-0-197" id="h54-0-197" class="d">-	} else {
</a><a href="#h54-0-198" id="h54-0-198" class="d">-		u = fmt.Sprintf(&quot;authorizations/clients/%v/%v&quot;, clientID, *auth.Fingerprint)
</a><a href="#h54-0-199" id="h54-0-199" class="d">-	}
</a><a href="#h54-0-200" id="h54-0-200" class="d">-
</a><a href="#h54-0-201" id="h54-0-201" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, auth)
</a><a href="#h54-0-202" id="h54-0-202" class="d">-	if err != nil {
</a><a href="#h54-0-203" id="h54-0-203" class="d">-		return nil, nil, err
</a><a href="#h54-0-204" id="h54-0-204" class="d">-	}
</a><a href="#h54-0-205" id="h54-0-205" class="d">-
</a><a href="#h54-0-206" id="h54-0-206" class="d">-	a := new(Authorization)
</a><a href="#h54-0-207" id="h54-0-207" class="d">-	resp, err := s.client.Do(req, a)
</a><a href="#h54-0-208" id="h54-0-208" class="d">-	if err != nil {
</a><a href="#h54-0-209" id="h54-0-209" class="d">-		return nil, resp, err
</a><a href="#h54-0-210" id="h54-0-210" class="d">-	}
</a><a href="#h54-0-211" id="h54-0-211" class="d">-
</a><a href="#h54-0-212" id="h54-0-212" class="d">-	return a, resp, err
</a><a href="#h54-0-213" id="h54-0-213" class="d">-}
</a><a href="#h54-0-214" id="h54-0-214" class="d">-
</a><a href="#h54-0-215" id="h54-0-215" class="d">-// Edit a single authorization.
</a><a href="#h54-0-216" id="h54-0-216" class="d">-//
</a><a href="#h54-0-217" id="h54-0-217" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/#update-an-existing-authorization
</a><a href="#h54-0-218" id="h54-0-218" class="d">-func (s *AuthorizationsService) Edit(id int, auth *AuthorizationUpdateRequest) (*Authorization, *Response, error) {
</a><a href="#h54-0-219" id="h54-0-219" class="d">-	u := fmt.Sprintf(&quot;authorizations/%d&quot;, id)
</a><a href="#h54-0-220" id="h54-0-220" class="d">-
</a><a href="#h54-0-221" id="h54-0-221" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, auth)
</a><a href="#h54-0-222" id="h54-0-222" class="d">-	if err != nil {
</a><a href="#h54-0-223" id="h54-0-223" class="d">-		return nil, nil, err
</a><a href="#h54-0-224" id="h54-0-224" class="d">-	}
</a><a href="#h54-0-225" id="h54-0-225" class="d">-
</a><a href="#h54-0-226" id="h54-0-226" class="d">-	a := new(Authorization)
</a><a href="#h54-0-227" id="h54-0-227" class="d">-	resp, err := s.client.Do(req, a)
</a><a href="#h54-0-228" id="h54-0-228" class="d">-	if err != nil {
</a><a href="#h54-0-229" id="h54-0-229" class="d">-		return nil, resp, err
</a><a href="#h54-0-230" id="h54-0-230" class="d">-	}
</a><a href="#h54-0-231" id="h54-0-231" class="d">-
</a><a href="#h54-0-232" id="h54-0-232" class="d">-	return a, resp, err
</a><a href="#h54-0-233" id="h54-0-233" class="d">-}
</a><a href="#h54-0-234" id="h54-0-234" class="d">-
</a><a href="#h54-0-235" id="h54-0-235" class="d">-// Delete a single authorization.
</a><a href="#h54-0-236" id="h54-0-236" class="d">-//
</a><a href="#h54-0-237" id="h54-0-237" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/#delete-an-authorization
</a><a href="#h54-0-238" id="h54-0-238" class="d">-func (s *AuthorizationsService) Delete(id int) (*Response, error) {
</a><a href="#h54-0-239" id="h54-0-239" class="d">-	u := fmt.Sprintf(&quot;authorizations/%d&quot;, id)
</a><a href="#h54-0-240" id="h54-0-240" class="d">-
</a><a href="#h54-0-241" id="h54-0-241" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h54-0-242" id="h54-0-242" class="d">-	if err != nil {
</a><a href="#h54-0-243" id="h54-0-243" class="d">-		return nil, err
</a><a href="#h54-0-244" id="h54-0-244" class="d">-	}
</a><a href="#h54-0-245" id="h54-0-245" class="d">-
</a><a href="#h54-0-246" id="h54-0-246" class="d">-	return s.client.Do(req, nil)
</a><a href="#h54-0-247" id="h54-0-247" class="d">-}
</a><a href="#h54-0-248" id="h54-0-248" class="d">-
</a><a href="#h54-0-249" id="h54-0-249" class="d">-// Check if an OAuth token is valid for a specific app.
</a><a href="#h54-0-250" id="h54-0-250" class="d">-//
</a><a href="#h54-0-251" id="h54-0-251" class="d">-// Note that this operation requires the use of BasicAuth, but where the
</a><a href="#h54-0-252" id="h54-0-252" class="d">-// username is the OAuth application clientID, and the password is its
</a><a href="#h54-0-253" id="h54-0-253" class="d">-// clientSecret. Invalid tokens will return a 404 Not Found.
</a><a href="#h54-0-254" id="h54-0-254" class="d">-//
</a><a href="#h54-0-255" id="h54-0-255" class="d">-// The returned Authorization.User field will be populated.
</a><a href="#h54-0-256" id="h54-0-256" class="d">-//
</a><a href="#h54-0-257" id="h54-0-257" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/#check-an-authorization
</a><a href="#h54-0-258" id="h54-0-258" class="d">-func (s *AuthorizationsService) Check(clientID string, token string) (*Authorization, *Response, error) {
</a><a href="#h54-0-259" id="h54-0-259" class="d">-	u := fmt.Sprintf(&quot;applications/%v/tokens/%v&quot;, clientID, token)
</a><a href="#h54-0-260" id="h54-0-260" class="d">-
</a><a href="#h54-0-261" id="h54-0-261" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h54-0-262" id="h54-0-262" class="d">-	if err != nil {
</a><a href="#h54-0-263" id="h54-0-263" class="d">-		return nil, nil, err
</a><a href="#h54-0-264" id="h54-0-264" class="d">-	}
</a><a href="#h54-0-265" id="h54-0-265" class="d">-
</a><a href="#h54-0-266" id="h54-0-266" class="d">-	a := new(Authorization)
</a><a href="#h54-0-267" id="h54-0-267" class="d">-	resp, err := s.client.Do(req, a)
</a><a href="#h54-0-268" id="h54-0-268" class="d">-	if err != nil {
</a><a href="#h54-0-269" id="h54-0-269" class="d">-		return nil, resp, err
</a><a href="#h54-0-270" id="h54-0-270" class="d">-	}
</a><a href="#h54-0-271" id="h54-0-271" class="d">-
</a><a href="#h54-0-272" id="h54-0-272" class="d">-	return a, resp, err
</a><a href="#h54-0-273" id="h54-0-273" class="d">-}
</a><a href="#h54-0-274" id="h54-0-274" class="d">-
</a><a href="#h54-0-275" id="h54-0-275" class="d">-// Reset is used to reset a valid OAuth token without end user involvement.
</a><a href="#h54-0-276" id="h54-0-276" class="d">-// Applications must save the &quot;token&quot; property in the response, because changes
</a><a href="#h54-0-277" id="h54-0-277" class="d">-// take effect immediately.
</a><a href="#h54-0-278" id="h54-0-278" class="d">-//
</a><a href="#h54-0-279" id="h54-0-279" class="d">-// Note that this operation requires the use of BasicAuth, but where the
</a><a href="#h54-0-280" id="h54-0-280" class="d">-// username is the OAuth application clientID, and the password is its
</a><a href="#h54-0-281" id="h54-0-281" class="d">-// clientSecret. Invalid tokens will return a 404 Not Found.
</a><a href="#h54-0-282" id="h54-0-282" class="d">-//
</a><a href="#h54-0-283" id="h54-0-283" class="d">-// The returned Authorization.User field will be populated.
</a><a href="#h54-0-284" id="h54-0-284" class="d">-//
</a><a href="#h54-0-285" id="h54-0-285" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/#reset-an-authorization
</a><a href="#h54-0-286" id="h54-0-286" class="d">-func (s *AuthorizationsService) Reset(clientID string, token string) (*Authorization, *Response, error) {
</a><a href="#h54-0-287" id="h54-0-287" class="d">-	u := fmt.Sprintf(&quot;applications/%v/tokens/%v&quot;, clientID, token)
</a><a href="#h54-0-288" id="h54-0-288" class="d">-
</a><a href="#h54-0-289" id="h54-0-289" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, nil)
</a><a href="#h54-0-290" id="h54-0-290" class="d">-	if err != nil {
</a><a href="#h54-0-291" id="h54-0-291" class="d">-		return nil, nil, err
</a><a href="#h54-0-292" id="h54-0-292" class="d">-	}
</a><a href="#h54-0-293" id="h54-0-293" class="d">-
</a><a href="#h54-0-294" id="h54-0-294" class="d">-	a := new(Authorization)
</a><a href="#h54-0-295" id="h54-0-295" class="d">-	resp, err := s.client.Do(req, a)
</a><a href="#h54-0-296" id="h54-0-296" class="d">-	if err != nil {
</a><a href="#h54-0-297" id="h54-0-297" class="d">-		return nil, resp, err
</a><a href="#h54-0-298" id="h54-0-298" class="d">-	}
</a><a href="#h54-0-299" id="h54-0-299" class="d">-
</a><a href="#h54-0-300" id="h54-0-300" class="d">-	return a, resp, err
</a><a href="#h54-0-301" id="h54-0-301" class="d">-}
</a><a href="#h54-0-302" id="h54-0-302" class="d">-
</a><a href="#h54-0-303" id="h54-0-303" class="d">-// Revoke an authorization for an application.
</a><a href="#h54-0-304" id="h54-0-304" class="d">-//
</a><a href="#h54-0-305" id="h54-0-305" class="d">-// Note that this operation requires the use of BasicAuth, but where the
</a><a href="#h54-0-306" id="h54-0-306" class="d">-// username is the OAuth application clientID, and the password is its
</a><a href="#h54-0-307" id="h54-0-307" class="d">-// clientSecret. Invalid tokens will return a 404 Not Found.
</a><a href="#h54-0-308" id="h54-0-308" class="d">-//
</a><a href="#h54-0-309" id="h54-0-309" class="d">-// GitHub API docs: https://developer.github.com/v3/oauth_authorizations/#revoke-an-authorization-for-an-application
</a><a href="#h54-0-310" id="h54-0-310" class="d">-func (s *AuthorizationsService) Revoke(clientID string, token string) (*Response, error) {
</a><a href="#h54-0-311" id="h54-0-311" class="d">-	u := fmt.Sprintf(&quot;applications/%v/tokens/%v&quot;, clientID, token)
</a><a href="#h54-0-312" id="h54-0-312" class="d">-
</a><a href="#h54-0-313" id="h54-0-313" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h54-0-314" id="h54-0-314" class="d">-	if err != nil {
</a><a href="#h54-0-315" id="h54-0-315" class="d">-		return nil, err
</a><a href="#h54-0-316" id="h54-0-316" class="d">-	}
</a><a href="#h54-0-317" id="h54-0-317" class="d">-
</a><a href="#h54-0-318" id="h54-0-318" class="d">-	return s.client.Do(req, nil)
</a><a href="#h54-0-319" id="h54-0-319" class="d">-}
</a><b>diff --git a/<a id="h55" href="../file/vendor/github.com/google/go-github/github/doc.go">vendor/github.com/google/go-github/github/doc.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/doc.go">vendor/github.com/google/go-github/github/doc.go</a></b>
<a href="#h55-0" id="h55-0" class="h">@@ -1,133 +0,0 @@
</a><a href="#h55-0-0" id="h55-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h55-0-1" id="h55-0-1" class="d">-//
</a><a href="#h55-0-2" id="h55-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h55-0-3" id="h55-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h55-0-4" id="h55-0-4" class="d">-
</a><a href="#h55-0-5" id="h55-0-5" class="d">-/*
</a><a href="#h55-0-6" id="h55-0-6" class="d">-Package github provides a client for using the GitHub API.
</a><a href="#h55-0-7" id="h55-0-7" class="d">-
</a><a href="#h55-0-8" id="h55-0-8" class="d">-Construct a new GitHub client, then use the various services on the client to
</a><a href="#h55-0-9" id="h55-0-9" class="d">-access different parts of the GitHub API. For example:
</a><a href="#h55-0-10" id="h55-0-10" class="d">-
</a><a href="#h55-0-11" id="h55-0-11" class="d">-	client := github.NewClient(nil)
</a><a href="#h55-0-12" id="h55-0-12" class="d">-
</a><a href="#h55-0-13" id="h55-0-13" class="d">-	// list all organizations for user &quot;willnorris&quot;
</a><a href="#h55-0-14" id="h55-0-14" class="d">-	orgs, _, err := client.Organizations.List(&quot;willnorris&quot;, nil)
</a><a href="#h55-0-15" id="h55-0-15" class="d">-
</a><a href="#h55-0-16" id="h55-0-16" class="d">-Set optional parameters for an API method by passing an Options object.
</a><a href="#h55-0-17" id="h55-0-17" class="d">-
</a><a href="#h55-0-18" id="h55-0-18" class="d">-	// list recently updated repositories for org &quot;github&quot;
</a><a href="#h55-0-19" id="h55-0-19" class="d">-	opt := &amp;github.RepositoryListByOrgOptions{Sort: &quot;updated&quot;}
</a><a href="#h55-0-20" id="h55-0-20" class="d">-	repos, _, err := client.Repositories.ListByOrg(&quot;github&quot;, opt)
</a><a href="#h55-0-21" id="h55-0-21" class="d">-
</a><a href="#h55-0-22" id="h55-0-22" class="d">-The services of a client divide the API into logical chunks and correspond to
</a><a href="#h55-0-23" id="h55-0-23" class="d">-the structure of the GitHub API documentation at
</a><a href="#h55-0-24" id="h55-0-24" class="d">-http://developer.github.com/v3/.
</a><a href="#h55-0-25" id="h55-0-25" class="d">-
</a><a href="#h55-0-26" id="h55-0-26" class="d">-Authentication
</a><a href="#h55-0-27" id="h55-0-27" class="d">-
</a><a href="#h55-0-28" id="h55-0-28" class="d">-The go-github library does not directly handle authentication. Instead, when
</a><a href="#h55-0-29" id="h55-0-29" class="d">-creating a new client, pass an http.Client that can handle authentication for
</a><a href="#h55-0-30" id="h55-0-30" class="d">-you. The easiest and recommended way to do this is using the golang.org/x/oauth2
</a><a href="#h55-0-31" id="h55-0-31" class="d">-library, but you can always use any other library that provides an http.Client.
</a><a href="#h55-0-32" id="h55-0-32" class="d">-If you have an OAuth2 access token (for example, a personal API token), you can
</a><a href="#h55-0-33" id="h55-0-33" class="d">-use it with the oauth2 library using:
</a><a href="#h55-0-34" id="h55-0-34" class="d">-
</a><a href="#h55-0-35" id="h55-0-35" class="d">-	import &quot;golang.org/x/oauth2&quot;
</a><a href="#h55-0-36" id="h55-0-36" class="d">-
</a><a href="#h55-0-37" id="h55-0-37" class="d">-	func main() {
</a><a href="#h55-0-38" id="h55-0-38" class="d">-		ts := oauth2.StaticTokenSource(
</a><a href="#h55-0-39" id="h55-0-39" class="d">-			&amp;oauth2.Token{AccessToken: &quot;... your access token ...&quot;},
</a><a href="#h55-0-40" id="h55-0-40" class="d">-		)
</a><a href="#h55-0-41" id="h55-0-41" class="d">-		tc := oauth2.NewClient(oauth2.NoContext, ts)
</a><a href="#h55-0-42" id="h55-0-42" class="d">-
</a><a href="#h55-0-43" id="h55-0-43" class="d">-		client := github.NewClient(tc)
</a><a href="#h55-0-44" id="h55-0-44" class="d">-
</a><a href="#h55-0-45" id="h55-0-45" class="d">-		// list all repositories for the authenticated user
</a><a href="#h55-0-46" id="h55-0-46" class="d">-		repos, _, err := client.Repositories.List(&quot;&quot;, nil)
</a><a href="#h55-0-47" id="h55-0-47" class="d">-	}
</a><a href="#h55-0-48" id="h55-0-48" class="d">-
</a><a href="#h55-0-49" id="h55-0-49" class="d">-Note that when using an authenticated Client, all calls made by the client will
</a><a href="#h55-0-50" id="h55-0-50" class="d">-include the specified OAuth token. Therefore, authenticated clients should
</a><a href="#h55-0-51" id="h55-0-51" class="d">-almost never be shared between different users.
</a><a href="#h55-0-52" id="h55-0-52" class="d">-
</a><a href="#h55-0-53" id="h55-0-53" class="d">-Rate Limiting
</a><a href="#h55-0-54" id="h55-0-54" class="d">-
</a><a href="#h55-0-55" id="h55-0-55" class="d">-GitHub imposes a rate limit on all API clients.  Unauthenticated clients are
</a><a href="#h55-0-56" id="h55-0-56" class="d">-limited to 60 requests per hour, while authenticated clients can make up to
</a><a href="#h55-0-57" id="h55-0-57" class="d">-5,000 requests per hour.  To receive the higher rate limit when making calls
</a><a href="#h55-0-58" id="h55-0-58" class="d">-that are not issued on behalf of a user, use the
</a><a href="#h55-0-59" id="h55-0-59" class="d">-UnauthenticatedRateLimitedTransport.
</a><a href="#h55-0-60" id="h55-0-60" class="d">-
</a><a href="#h55-0-61" id="h55-0-61" class="d">-The Rate method on a client returns the rate limit information based on the most
</a><a href="#h55-0-62" id="h55-0-62" class="d">-recent API call.  This is updated on every call, but may be out of date if it&#39;s
</a><a href="#h55-0-63" id="h55-0-63" class="d">-been some time since the last API call and other clients have made subsequent
</a><a href="#h55-0-64" id="h55-0-64" class="d">-requests since then.  You can always call RateLimits() directly to get the most
</a><a href="#h55-0-65" id="h55-0-65" class="d">-up-to-date rate limit data for the client.
</a><a href="#h55-0-66" id="h55-0-66" class="d">-
</a><a href="#h55-0-67" id="h55-0-67" class="d">-To detect an API rate limit error, you can check if its type is *github.RateLimitError:
</a><a href="#h55-0-68" id="h55-0-68" class="d">-
</a><a href="#h55-0-69" id="h55-0-69" class="d">-	repos, _, err := client.Repositories.List(&quot;&quot;, nil)
</a><a href="#h55-0-70" id="h55-0-70" class="d">-	if _, ok := err.(*github.RateLimitError); ok {
</a><a href="#h55-0-71" id="h55-0-71" class="d">-		log.Println(&quot;hit rate limit&quot;)
</a><a href="#h55-0-72" id="h55-0-72" class="d">-	}
</a><a href="#h55-0-73" id="h55-0-73" class="d">-
</a><a href="#h55-0-74" id="h55-0-74" class="d">-Learn more about GitHub rate limiting at
</a><a href="#h55-0-75" id="h55-0-75" class="d">-http://developer.github.com/v3/#rate-limiting.
</a><a href="#h55-0-76" id="h55-0-76" class="d">-
</a><a href="#h55-0-77" id="h55-0-77" class="d">-Conditional Requests
</a><a href="#h55-0-78" id="h55-0-78" class="d">-
</a><a href="#h55-0-79" id="h55-0-79" class="d">-The GitHub API has good support for conditional requests which will help
</a><a href="#h55-0-80" id="h55-0-80" class="d">-prevent you from burning through your rate limit, as well as help speed up your
</a><a href="#h55-0-81" id="h55-0-81" class="d">-application.  go-github does not handle conditional requests directly, but is
</a><a href="#h55-0-82" id="h55-0-82" class="d">-instead designed to work with a caching http.Transport.  We recommend using
</a><a href="#h55-0-83" id="h55-0-83" class="d">-https://github.com/gregjones/httpcache, which can be used in conjunction with
</a><a href="#h55-0-84" id="h55-0-84" class="d">-https://github.com/sourcegraph/apiproxy to provide additional flexibility and
</a><a href="#h55-0-85" id="h55-0-85" class="d">-control of caching rules.
</a><a href="#h55-0-86" id="h55-0-86" class="d">-
</a><a href="#h55-0-87" id="h55-0-87" class="d">-Learn more about GitHub conditional requests at
</a><a href="#h55-0-88" id="h55-0-88" class="d">-https://developer.github.com/v3/#conditional-requests.
</a><a href="#h55-0-89" id="h55-0-89" class="d">-
</a><a href="#h55-0-90" id="h55-0-90" class="d">-Creating and Updating Resources
</a><a href="#h55-0-91" id="h55-0-91" class="d">-
</a><a href="#h55-0-92" id="h55-0-92" class="d">-All structs for GitHub resources use pointer values for all non-repeated fields.
</a><a href="#h55-0-93" id="h55-0-93" class="d">-This allows distinguishing between unset fields and those set to a zero-value.
</a><a href="#h55-0-94" id="h55-0-94" class="d">-Helper functions have been provided to easily create these pointers for string,
</a><a href="#h55-0-95" id="h55-0-95" class="d">-bool, and int values.  For example:
</a><a href="#h55-0-96" id="h55-0-96" class="d">-
</a><a href="#h55-0-97" id="h55-0-97" class="d">-	// create a new private repository named &quot;foo&quot;
</a><a href="#h55-0-98" id="h55-0-98" class="d">-	repo := &amp;github.Repository{
</a><a href="#h55-0-99" id="h55-0-99" class="d">-		Name:    github.String(&quot;foo&quot;),
</a><a href="#h55-0-100" id="h55-0-100" class="d">-		Private: github.Bool(true),
</a><a href="#h55-0-101" id="h55-0-101" class="d">-	}
</a><a href="#h55-0-102" id="h55-0-102" class="d">-	client.Repositories.Create(&quot;&quot;, repo)
</a><a href="#h55-0-103" id="h55-0-103" class="d">-
</a><a href="#h55-0-104" id="h55-0-104" class="d">-Users who have worked with protocol buffers should find this pattern familiar.
</a><a href="#h55-0-105" id="h55-0-105" class="d">-
</a><a href="#h55-0-106" id="h55-0-106" class="d">-Pagination
</a><a href="#h55-0-107" id="h55-0-107" class="d">-
</a><a href="#h55-0-108" id="h55-0-108" class="d">-All requests for resource collections (repos, pull requests, issues, etc)
</a><a href="#h55-0-109" id="h55-0-109" class="d">-support pagination. Pagination options are described in the
</a><a href="#h55-0-110" id="h55-0-110" class="d">-ListOptions struct and passed to the list methods directly or as an
</a><a href="#h55-0-111" id="h55-0-111" class="d">-embedded type of a more specific list options struct (for example
</a><a href="#h55-0-112" id="h55-0-112" class="d">-PullRequestListOptions).  Pages information is available via Response struct.
</a><a href="#h55-0-113" id="h55-0-113" class="d">-
</a><a href="#h55-0-114" id="h55-0-114" class="d">-	opt := &amp;github.RepositoryListByOrgOptions{
</a><a href="#h55-0-115" id="h55-0-115" class="d">-		ListOptions: github.ListOptions{PerPage: 10},
</a><a href="#h55-0-116" id="h55-0-116" class="d">-	}
</a><a href="#h55-0-117" id="h55-0-117" class="d">-	// get all pages of results
</a><a href="#h55-0-118" id="h55-0-118" class="d">-	var allRepos []github.Repository
</a><a href="#h55-0-119" id="h55-0-119" class="d">-	for {
</a><a href="#h55-0-120" id="h55-0-120" class="d">-		repos, resp, err := client.Repositories.ListByOrg(&quot;github&quot;, opt)
</a><a href="#h55-0-121" id="h55-0-121" class="d">-		if err != nil {
</a><a href="#h55-0-122" id="h55-0-122" class="d">-			return err
</a><a href="#h55-0-123" id="h55-0-123" class="d">-		}
</a><a href="#h55-0-124" id="h55-0-124" class="d">-		allRepos = append(allRepos, repos...)
</a><a href="#h55-0-125" id="h55-0-125" class="d">-		if resp.NextPage == 0 {
</a><a href="#h55-0-126" id="h55-0-126" class="d">-			break
</a><a href="#h55-0-127" id="h55-0-127" class="d">-		}
</a><a href="#h55-0-128" id="h55-0-128" class="d">-		opt.ListOptions.Page = resp.NextPage
</a><a href="#h55-0-129" id="h55-0-129" class="d">-	}
</a><a href="#h55-0-130" id="h55-0-130" class="d">-
</a><a href="#h55-0-131" id="h55-0-131" class="d">-*/
</a><a href="#h55-0-132" id="h55-0-132" class="d">-package github
</a><b>diff --git a/<a id="h56" href="../file/vendor/github.com/google/go-github/github/event_types.go">vendor/github.com/google/go-github/github/event_types.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/event_types.go">vendor/github.com/google/go-github/github/event_types.go</a></b>
<a href="#h56-0" id="h56-0" class="h">@@ -1,444 +0,0 @@
</a><a href="#h56-0-0" id="h56-0-0" class="d">-// Copyright 2016 The go-github AUTHORS. All rights reserved.
</a><a href="#h56-0-1" id="h56-0-1" class="d">-//
</a><a href="#h56-0-2" id="h56-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h56-0-3" id="h56-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h56-0-4" id="h56-0-4" class="d">-
</a><a href="#h56-0-5" id="h56-0-5" class="d">-// These event types are shared between the Events API and used as Webhook payloads.
</a><a href="#h56-0-6" id="h56-0-6" class="d">-
</a><a href="#h56-0-7" id="h56-0-7" class="d">-package github
</a><a href="#h56-0-8" id="h56-0-8" class="d">-
</a><a href="#h56-0-9" id="h56-0-9" class="d">-// CommitCommentEvent is triggered when a commit comment is created.
</a><a href="#h56-0-10" id="h56-0-10" class="d">-// The Webhook event name is &quot;commit_comment&quot;.
</a><a href="#h56-0-11" id="h56-0-11" class="d">-//
</a><a href="#h56-0-12" id="h56-0-12" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#commitcommentevent
</a><a href="#h56-0-13" id="h56-0-13" class="d">-type CommitCommentEvent struct {
</a><a href="#h56-0-14" id="h56-0-14" class="d">-	Comment *RepositoryComment `json:&quot;comment,omitempty&quot;`
</a><a href="#h56-0-15" id="h56-0-15" class="d">-
</a><a href="#h56-0-16" id="h56-0-16" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-17" id="h56-0-17" class="d">-	Action *string     `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-18" id="h56-0-18" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-19" id="h56-0-19" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-20" id="h56-0-20" class="d">-}
</a><a href="#h56-0-21" id="h56-0-21" class="d">-
</a><a href="#h56-0-22" id="h56-0-22" class="d">-// CreateEvent represents a created repository, branch, or tag.
</a><a href="#h56-0-23" id="h56-0-23" class="d">-// The Webhook event name is &quot;create&quot;.
</a><a href="#h56-0-24" id="h56-0-24" class="d">-//
</a><a href="#h56-0-25" id="h56-0-25" class="d">-// Note: webhooks will not receive this event for created repositories.
</a><a href="#h56-0-26" id="h56-0-26" class="d">-// Additionally, webhooks will not receive this event for tags if more
</a><a href="#h56-0-27" id="h56-0-27" class="d">-// than three tags are pushed at once.
</a><a href="#h56-0-28" id="h56-0-28" class="d">-//
</a><a href="#h56-0-29" id="h56-0-29" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#createevent
</a><a href="#h56-0-30" id="h56-0-30" class="d">-type CreateEvent struct {
</a><a href="#h56-0-31" id="h56-0-31" class="d">-	Ref *string `json:&quot;ref,omitempty&quot;`
</a><a href="#h56-0-32" id="h56-0-32" class="d">-	// RefType is the object that was created. Possible values are: &quot;repository&quot;, &quot;branch&quot;, &quot;tag&quot;.
</a><a href="#h56-0-33" id="h56-0-33" class="d">-	RefType      *string `json:&quot;ref_type,omitempty&quot;`
</a><a href="#h56-0-34" id="h56-0-34" class="d">-	MasterBranch *string `json:&quot;master_branch,omitempty&quot;`
</a><a href="#h56-0-35" id="h56-0-35" class="d">-	Description  *string `json:&quot;description,omitempty&quot;`
</a><a href="#h56-0-36" id="h56-0-36" class="d">-
</a><a href="#h56-0-37" id="h56-0-37" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-38" id="h56-0-38" class="d">-	PusherType *string     `json:&quot;pusher_type,omitempty&quot;`
</a><a href="#h56-0-39" id="h56-0-39" class="d">-	Repo       *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-40" id="h56-0-40" class="d">-	Sender     *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-41" id="h56-0-41" class="d">-}
</a><a href="#h56-0-42" id="h56-0-42" class="d">-
</a><a href="#h56-0-43" id="h56-0-43" class="d">-// DeleteEvent represents a deleted branch or tag.
</a><a href="#h56-0-44" id="h56-0-44" class="d">-// The Webhook event name is &quot;delete&quot;.
</a><a href="#h56-0-45" id="h56-0-45" class="d">-//
</a><a href="#h56-0-46" id="h56-0-46" class="d">-// Note: webhooks will not receive this event for tags if more than three tags
</a><a href="#h56-0-47" id="h56-0-47" class="d">-// are deleted at once.
</a><a href="#h56-0-48" id="h56-0-48" class="d">-//
</a><a href="#h56-0-49" id="h56-0-49" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#deleteevent
</a><a href="#h56-0-50" id="h56-0-50" class="d">-type DeleteEvent struct {
</a><a href="#h56-0-51" id="h56-0-51" class="d">-	Ref *string `json:&quot;ref,omitempty&quot;`
</a><a href="#h56-0-52" id="h56-0-52" class="d">-	// RefType is the object that was deleted. Possible values are: &quot;branch&quot;, &quot;tag&quot;.
</a><a href="#h56-0-53" id="h56-0-53" class="d">-	RefType *string `json:&quot;ref_type,omitempty&quot;`
</a><a href="#h56-0-54" id="h56-0-54" class="d">-
</a><a href="#h56-0-55" id="h56-0-55" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-56" id="h56-0-56" class="d">-	PusherType *string     `json:&quot;pusher_type,omitempty&quot;`
</a><a href="#h56-0-57" id="h56-0-57" class="d">-	Repo       *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-58" id="h56-0-58" class="d">-	Sender     *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-59" id="h56-0-59" class="d">-}
</a><a href="#h56-0-60" id="h56-0-60" class="d">-
</a><a href="#h56-0-61" id="h56-0-61" class="d">-// DeploymentEvent represents a deployment.
</a><a href="#h56-0-62" id="h56-0-62" class="d">-// The Webhook event name is &quot;deployment&quot;.
</a><a href="#h56-0-63" id="h56-0-63" class="d">-//
</a><a href="#h56-0-64" id="h56-0-64" class="d">-// Events of this type are not visible in timelines, they are only used to trigger hooks.
</a><a href="#h56-0-65" id="h56-0-65" class="d">-//
</a><a href="#h56-0-66" id="h56-0-66" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#deploymentevent
</a><a href="#h56-0-67" id="h56-0-67" class="d">-type DeploymentEvent struct {
</a><a href="#h56-0-68" id="h56-0-68" class="d">-	Deployment *Deployment `json:&quot;deployment,omitempty&quot;`
</a><a href="#h56-0-69" id="h56-0-69" class="d">-	Repo       *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-70" id="h56-0-70" class="d">-
</a><a href="#h56-0-71" id="h56-0-71" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-72" id="h56-0-72" class="d">-	Sender *User `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-73" id="h56-0-73" class="d">-}
</a><a href="#h56-0-74" id="h56-0-74" class="d">-
</a><a href="#h56-0-75" id="h56-0-75" class="d">-// DeploymentStatusEvent represents a deployment status.
</a><a href="#h56-0-76" id="h56-0-76" class="d">-// The Webhook event name is &quot;deployment_status&quot;.
</a><a href="#h56-0-77" id="h56-0-77" class="d">-//
</a><a href="#h56-0-78" id="h56-0-78" class="d">-// Events of this type are not visible in timelines, they are only used to trigger hooks.
</a><a href="#h56-0-79" id="h56-0-79" class="d">-//
</a><a href="#h56-0-80" id="h56-0-80" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#deploymentstatusevent
</a><a href="#h56-0-81" id="h56-0-81" class="d">-type DeploymentStatusEvent struct {
</a><a href="#h56-0-82" id="h56-0-82" class="d">-	Deployment       *Deployment       `json:&quot;deployment,omitempty&quot;`
</a><a href="#h56-0-83" id="h56-0-83" class="d">-	DeploymentStatus *DeploymentStatus `json:&quot;deployment_status,omitempty&quot;`
</a><a href="#h56-0-84" id="h56-0-84" class="d">-	Repo             *Repository       `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-85" id="h56-0-85" class="d">-
</a><a href="#h56-0-86" id="h56-0-86" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-87" id="h56-0-87" class="d">-	Sender *User `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-88" id="h56-0-88" class="d">-}
</a><a href="#h56-0-89" id="h56-0-89" class="d">-
</a><a href="#h56-0-90" id="h56-0-90" class="d">-// ForkEvent is triggered when a user forks a repository.
</a><a href="#h56-0-91" id="h56-0-91" class="d">-// The Webhook event name is &quot;fork&quot;.
</a><a href="#h56-0-92" id="h56-0-92" class="d">-//
</a><a href="#h56-0-93" id="h56-0-93" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#forkevent
</a><a href="#h56-0-94" id="h56-0-94" class="d">-type ForkEvent struct {
</a><a href="#h56-0-95" id="h56-0-95" class="d">-	// Forkee is the created repository.
</a><a href="#h56-0-96" id="h56-0-96" class="d">-	Forkee *Repository `json:&quot;forkee,omitempty&quot;`
</a><a href="#h56-0-97" id="h56-0-97" class="d">-
</a><a href="#h56-0-98" id="h56-0-98" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-99" id="h56-0-99" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-100" id="h56-0-100" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-101" id="h56-0-101" class="d">-}
</a><a href="#h56-0-102" id="h56-0-102" class="d">-
</a><a href="#h56-0-103" id="h56-0-103" class="d">-// Page represents a single Wiki page.
</a><a href="#h56-0-104" id="h56-0-104" class="d">-type Page struct {
</a><a href="#h56-0-105" id="h56-0-105" class="d">-	PageName *string `json:&quot;page_name,omitempty&quot;`
</a><a href="#h56-0-106" id="h56-0-106" class="d">-	Title    *string `json:&quot;title,omitempty&quot;`
</a><a href="#h56-0-107" id="h56-0-107" class="d">-	Summary  *string `json:&quot;summary,omitempty&quot;`
</a><a href="#h56-0-108" id="h56-0-108" class="d">-	Action   *string `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-109" id="h56-0-109" class="d">-	SHA      *string `json:&quot;sha,omitempty&quot;`
</a><a href="#h56-0-110" id="h56-0-110" class="d">-	HTMLURL  *string `json:&quot;html_url,omitempty&quot;`
</a><a href="#h56-0-111" id="h56-0-111" class="d">-}
</a><a href="#h56-0-112" id="h56-0-112" class="d">-
</a><a href="#h56-0-113" id="h56-0-113" class="d">-// GollumEvent is triggered when a Wiki page is created or updated.
</a><a href="#h56-0-114" id="h56-0-114" class="d">-// The Webhook event name is &quot;gollum&quot;.
</a><a href="#h56-0-115" id="h56-0-115" class="d">-//
</a><a href="#h56-0-116" id="h56-0-116" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#gollumevent
</a><a href="#h56-0-117" id="h56-0-117" class="d">-type GollumEvent struct {
</a><a href="#h56-0-118" id="h56-0-118" class="d">-	Pages []*Page `json:&quot;pages,omitempty&quot;`
</a><a href="#h56-0-119" id="h56-0-119" class="d">-
</a><a href="#h56-0-120" id="h56-0-120" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-121" id="h56-0-121" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-122" id="h56-0-122" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-123" id="h56-0-123" class="d">-}
</a><a href="#h56-0-124" id="h56-0-124" class="d">-
</a><a href="#h56-0-125" id="h56-0-125" class="d">-// DEPRECATED: IssueActivityEvent represents the payload delivered by Issue webhook
</a><a href="#h56-0-126" id="h56-0-126" class="d">-// Use IssuesEvent instead.
</a><a href="#h56-0-127" id="h56-0-127" class="d">-type IssueActivityEvent struct {
</a><a href="#h56-0-128" id="h56-0-128" class="d">-	Action *string `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-129" id="h56-0-129" class="d">-	Issue  *Issue  `json:&quot;issue,omitempty&quot;`
</a><a href="#h56-0-130" id="h56-0-130" class="d">-
</a><a href="#h56-0-131" id="h56-0-131" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-132" id="h56-0-132" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-133" id="h56-0-133" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-134" id="h56-0-134" class="d">-}
</a><a href="#h56-0-135" id="h56-0-135" class="d">-
</a><a href="#h56-0-136" id="h56-0-136" class="d">-// IssueCommentEvent is triggered when an issue comment is created on an issue
</a><a href="#h56-0-137" id="h56-0-137" class="d">-// or pull request.
</a><a href="#h56-0-138" id="h56-0-138" class="d">-// The Webhook event name is &quot;issue_comment&quot;.
</a><a href="#h56-0-139" id="h56-0-139" class="d">-//
</a><a href="#h56-0-140" id="h56-0-140" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#issuecommentevent
</a><a href="#h56-0-141" id="h56-0-141" class="d">-type IssueCommentEvent struct {
</a><a href="#h56-0-142" id="h56-0-142" class="d">-	// Action is the action that was performed on the comment.
</a><a href="#h56-0-143" id="h56-0-143" class="d">-	// Possible value is: &quot;created&quot;.
</a><a href="#h56-0-144" id="h56-0-144" class="d">-	Action  *string       `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-145" id="h56-0-145" class="d">-	Issue   *Issue        `json:&quot;issue,omitempty&quot;`
</a><a href="#h56-0-146" id="h56-0-146" class="d">-	Comment *IssueComment `json:&quot;comment,omitempty&quot;`
</a><a href="#h56-0-147" id="h56-0-147" class="d">-
</a><a href="#h56-0-148" id="h56-0-148" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-149" id="h56-0-149" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-150" id="h56-0-150" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-151" id="h56-0-151" class="d">-}
</a><a href="#h56-0-152" id="h56-0-152" class="d">-
</a><a href="#h56-0-153" id="h56-0-153" class="d">-// IssuesEvent is triggered when an issue is assigned, unassigned, labeled,
</a><a href="#h56-0-154" id="h56-0-154" class="d">-// unlabeled, opened, closed, or reopened.
</a><a href="#h56-0-155" id="h56-0-155" class="d">-// The Webhook event name is &quot;issues&quot;.
</a><a href="#h56-0-156" id="h56-0-156" class="d">-//
</a><a href="#h56-0-157" id="h56-0-157" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#issuesevent
</a><a href="#h56-0-158" id="h56-0-158" class="d">-type IssuesEvent struct {
</a><a href="#h56-0-159" id="h56-0-159" class="d">-	// Action is the action that was performed. Possible values are: &quot;assigned&quot;,
</a><a href="#h56-0-160" id="h56-0-160" class="d">-	// &quot;unassigned&quot;, &quot;labeled&quot;, &quot;unlabeled&quot;, &quot;opened&quot;, &quot;closed&quot;, &quot;reopened&quot;.
</a><a href="#h56-0-161" id="h56-0-161" class="d">-	Action   *string `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-162" id="h56-0-162" class="d">-	Issue    *Issue  `json:&quot;issue,omitempty&quot;`
</a><a href="#h56-0-163" id="h56-0-163" class="d">-	Assignee *User   `json:&quot;assignee,omitempty&quot;`
</a><a href="#h56-0-164" id="h56-0-164" class="d">-	Label    *Label  `json:&quot;label,omitempty&quot;`
</a><a href="#h56-0-165" id="h56-0-165" class="d">-
</a><a href="#h56-0-166" id="h56-0-166" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-167" id="h56-0-167" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-168" id="h56-0-168" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-169" id="h56-0-169" class="d">-}
</a><a href="#h56-0-170" id="h56-0-170" class="d">-
</a><a href="#h56-0-171" id="h56-0-171" class="d">-// MemberEvent is triggered when a user is added as a collaborator to a repository.
</a><a href="#h56-0-172" id="h56-0-172" class="d">-// The Webhook event name is &quot;member&quot;.
</a><a href="#h56-0-173" id="h56-0-173" class="d">-//
</a><a href="#h56-0-174" id="h56-0-174" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#memberevent
</a><a href="#h56-0-175" id="h56-0-175" class="d">-type MemberEvent struct {
</a><a href="#h56-0-176" id="h56-0-176" class="d">-	// Action is the action that was performed. Possible value is: &quot;added&quot;.
</a><a href="#h56-0-177" id="h56-0-177" class="d">-	Action *string `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-178" id="h56-0-178" class="d">-	Member *User   `json:&quot;member,omitempty&quot;`
</a><a href="#h56-0-179" id="h56-0-179" class="d">-
</a><a href="#h56-0-180" id="h56-0-180" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-181" id="h56-0-181" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-182" id="h56-0-182" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-183" id="h56-0-183" class="d">-}
</a><a href="#h56-0-184" id="h56-0-184" class="d">-
</a><a href="#h56-0-185" id="h56-0-185" class="d">-// MembershipEvent is triggered when a user is added or removed from a team.
</a><a href="#h56-0-186" id="h56-0-186" class="d">-// The Webhook event name is &quot;membership&quot;.
</a><a href="#h56-0-187" id="h56-0-187" class="d">-//
</a><a href="#h56-0-188" id="h56-0-188" class="d">-// Events of this type are not visible in timelines, they are only used to
</a><a href="#h56-0-189" id="h56-0-189" class="d">-// trigger organization webhooks.
</a><a href="#h56-0-190" id="h56-0-190" class="d">-//
</a><a href="#h56-0-191" id="h56-0-191" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#membershipevent
</a><a href="#h56-0-192" id="h56-0-192" class="d">-type MembershipEvent struct {
</a><a href="#h56-0-193" id="h56-0-193" class="d">-	// Action is the action that was performed. Possible values are: &quot;added&quot;, &quot;removed&quot;.
</a><a href="#h56-0-194" id="h56-0-194" class="d">-	Action *string `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-195" id="h56-0-195" class="d">-	// Scope is the scope of the membership. Possible value is: &quot;team&quot;.
</a><a href="#h56-0-196" id="h56-0-196" class="d">-	Scope  *string `json:&quot;scope,omitempty&quot;`
</a><a href="#h56-0-197" id="h56-0-197" class="d">-	Member *User   `json:&quot;member,omitempty&quot;`
</a><a href="#h56-0-198" id="h56-0-198" class="d">-	Team   *Team   `json:&quot;team,omitempty&quot;`
</a><a href="#h56-0-199" id="h56-0-199" class="d">-
</a><a href="#h56-0-200" id="h56-0-200" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-201" id="h56-0-201" class="d">-	Org    *Organization `json:&quot;organization,omitempty&quot;`
</a><a href="#h56-0-202" id="h56-0-202" class="d">-	Sender *User         `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-203" id="h56-0-203" class="d">-}
</a><a href="#h56-0-204" id="h56-0-204" class="d">-
</a><a href="#h56-0-205" id="h56-0-205" class="d">-// PageBuildEvent represents an attempted build of a GitHub Pages site, whether
</a><a href="#h56-0-206" id="h56-0-206" class="d">-// successful or not.
</a><a href="#h56-0-207" id="h56-0-207" class="d">-// The Webhook event name is &quot;page_build&quot;.
</a><a href="#h56-0-208" id="h56-0-208" class="d">-//
</a><a href="#h56-0-209" id="h56-0-209" class="d">-// This event is triggered on push to a GitHub Pages enabled branch (gh-pages
</a><a href="#h56-0-210" id="h56-0-210" class="d">-// for project pages, master for user and organization pages).
</a><a href="#h56-0-211" id="h56-0-211" class="d">-//
</a><a href="#h56-0-212" id="h56-0-212" class="d">-// Events of this type are not visible in timelines, they are only used to trigger hooks.
</a><a href="#h56-0-213" id="h56-0-213" class="d">-//
</a><a href="#h56-0-214" id="h56-0-214" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#pagebuildevent
</a><a href="#h56-0-215" id="h56-0-215" class="d">-type PageBuildEvent struct {
</a><a href="#h56-0-216" id="h56-0-216" class="d">-	Build *PagesBuild `json:&quot;build,omitempty&quot;`
</a><a href="#h56-0-217" id="h56-0-217" class="d">-
</a><a href="#h56-0-218" id="h56-0-218" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-219" id="h56-0-219" class="d">-	ID     *int        `json:&quot;id,omitempty&quot;`
</a><a href="#h56-0-220" id="h56-0-220" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-221" id="h56-0-221" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-222" id="h56-0-222" class="d">-}
</a><a href="#h56-0-223" id="h56-0-223" class="d">-
</a><a href="#h56-0-224" id="h56-0-224" class="d">-// PublicEvent is triggered when a private repository is open sourced.
</a><a href="#h56-0-225" id="h56-0-225" class="d">-// According to GitHub: &quot;Without a doubt: the best GitHub event.&quot;
</a><a href="#h56-0-226" id="h56-0-226" class="d">-// The Webhook event name is &quot;public&quot;.
</a><a href="#h56-0-227" id="h56-0-227" class="d">-//
</a><a href="#h56-0-228" id="h56-0-228" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#publicevent
</a><a href="#h56-0-229" id="h56-0-229" class="d">-type PublicEvent struct {
</a><a href="#h56-0-230" id="h56-0-230" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-231" id="h56-0-231" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-232" id="h56-0-232" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-233" id="h56-0-233" class="d">-}
</a><a href="#h56-0-234" id="h56-0-234" class="d">-
</a><a href="#h56-0-235" id="h56-0-235" class="d">-// PullRequestEvent is triggered when a pull request is assigned, unassigned,
</a><a href="#h56-0-236" id="h56-0-236" class="d">-// labeled, unlabeled, opened, closed, reopened, or synchronized.
</a><a href="#h56-0-237" id="h56-0-237" class="d">-// The Webhook event name is &quot;pull_request&quot;.
</a><a href="#h56-0-238" id="h56-0-238" class="d">-//
</a><a href="#h56-0-239" id="h56-0-239" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#pullrequestevent
</a><a href="#h56-0-240" id="h56-0-240" class="d">-type PullRequestEvent struct {
</a><a href="#h56-0-241" id="h56-0-241" class="d">-	// Action is the action that was performed. Possible values are: &quot;assigned&quot;,
</a><a href="#h56-0-242" id="h56-0-242" class="d">-	// &quot;unassigned&quot;, &quot;labeled&quot;, &quot;unlabeled&quot;, &quot;opened&quot;, &quot;closed&quot;, or &quot;reopened&quot;,
</a><a href="#h56-0-243" id="h56-0-243" class="d">-	// &quot;synchronize&quot;. If the action is &quot;closed&quot; and the merged key is false, the
</a><a href="#h56-0-244" id="h56-0-244" class="d">-	// pull request was closed with unmerged commits. If the action is &quot;closed&quot; and
</a><a href="#h56-0-245" id="h56-0-245" class="d">-	// the merged key is true, the pull request was merged.
</a><a href="#h56-0-246" id="h56-0-246" class="d">-	Action      *string      `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-247" id="h56-0-247" class="d">-	Number      *int         `json:&quot;number,omitempty&quot;`
</a><a href="#h56-0-248" id="h56-0-248" class="d">-	PullRequest *PullRequest `json:&quot;pull_request,omitempty&quot;`
</a><a href="#h56-0-249" id="h56-0-249" class="d">-
</a><a href="#h56-0-250" id="h56-0-250" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-251" id="h56-0-251" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-252" id="h56-0-252" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-253" id="h56-0-253" class="d">-}
</a><a href="#h56-0-254" id="h56-0-254" class="d">-
</a><a href="#h56-0-255" id="h56-0-255" class="d">-// PullRequestReviewCommentEvent is triggered when a comment is created on a
</a><a href="#h56-0-256" id="h56-0-256" class="d">-// portion of the unified diff of a pull request.
</a><a href="#h56-0-257" id="h56-0-257" class="d">-// The Webhook event name is &quot;pull_request_review_comment&quot;.
</a><a href="#h56-0-258" id="h56-0-258" class="d">-//
</a><a href="#h56-0-259" id="h56-0-259" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#pullrequestreviewcommentevent
</a><a href="#h56-0-260" id="h56-0-260" class="d">-type PullRequestReviewCommentEvent struct {
</a><a href="#h56-0-261" id="h56-0-261" class="d">-	// Action is the action that was performed on the comment.
</a><a href="#h56-0-262" id="h56-0-262" class="d">-	// Possible value is: &quot;created&quot;.
</a><a href="#h56-0-263" id="h56-0-263" class="d">-	Action      *string             `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-264" id="h56-0-264" class="d">-	PullRequest *PullRequest        `json:&quot;pull_request,omitempty&quot;`
</a><a href="#h56-0-265" id="h56-0-265" class="d">-	Comment     *PullRequestComment `json:&quot;comment,omitempty&quot;`
</a><a href="#h56-0-266" id="h56-0-266" class="d">-
</a><a href="#h56-0-267" id="h56-0-267" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-268" id="h56-0-268" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-269" id="h56-0-269" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-270" id="h56-0-270" class="d">-}
</a><a href="#h56-0-271" id="h56-0-271" class="d">-
</a><a href="#h56-0-272" id="h56-0-272" class="d">-// PushEvent represents a git push to a GitHub repository.
</a><a href="#h56-0-273" id="h56-0-273" class="d">-//
</a><a href="#h56-0-274" id="h56-0-274" class="d">-// GitHub API docs: http://developer.github.com/v3/activity/events/types/#pushevent
</a><a href="#h56-0-275" id="h56-0-275" class="d">-type PushEvent struct {
</a><a href="#h56-0-276" id="h56-0-276" class="d">-	PushID       *int                 `json:&quot;push_id,omitempty&quot;`
</a><a href="#h56-0-277" id="h56-0-277" class="d">-	Head         *string              `json:&quot;head,omitempty&quot;`
</a><a href="#h56-0-278" id="h56-0-278" class="d">-	Ref          *string              `json:&quot;ref,omitempty&quot;`
</a><a href="#h56-0-279" id="h56-0-279" class="d">-	Size         *int                 `json:&quot;size,omitempty&quot;`
</a><a href="#h56-0-280" id="h56-0-280" class="d">-	Commits      []PushEventCommit    `json:&quot;commits,omitempty&quot;`
</a><a href="#h56-0-281" id="h56-0-281" class="d">-	Repo         *PushEventRepository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-282" id="h56-0-282" class="d">-	Before       *string              `json:&quot;before,omitempty&quot;`
</a><a href="#h56-0-283" id="h56-0-283" class="d">-	DistinctSize *int                 `json:&quot;distinct_size,omitempty&quot;`
</a><a href="#h56-0-284" id="h56-0-284" class="d">-
</a><a href="#h56-0-285" id="h56-0-285" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-286" id="h56-0-286" class="d">-	After      *string          `json:&quot;after,omitempty&quot;`
</a><a href="#h56-0-287" id="h56-0-287" class="d">-	Created    *bool            `json:&quot;created,omitempty&quot;`
</a><a href="#h56-0-288" id="h56-0-288" class="d">-	Deleted    *bool            `json:&quot;deleted,omitempty&quot;`
</a><a href="#h56-0-289" id="h56-0-289" class="d">-	Forced     *bool            `json:&quot;forced,omitempty&quot;`
</a><a href="#h56-0-290" id="h56-0-290" class="d">-	BaseRef    *string          `json:&quot;base_ref,omitempty&quot;`
</a><a href="#h56-0-291" id="h56-0-291" class="d">-	Compare    *string          `json:&quot;compare,omitempty&quot;`
</a><a href="#h56-0-292" id="h56-0-292" class="d">-	HeadCommit *PushEventCommit `json:&quot;head_commit,omitempty&quot;`
</a><a href="#h56-0-293" id="h56-0-293" class="d">-	Pusher     *User            `json:&quot;pusher,omitempty&quot;`
</a><a href="#h56-0-294" id="h56-0-294" class="d">-	Sender     *User            `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-295" id="h56-0-295" class="d">-}
</a><a href="#h56-0-296" id="h56-0-296" class="d">-
</a><a href="#h56-0-297" id="h56-0-297" class="d">-func (p PushEvent) String() string {
</a><a href="#h56-0-298" id="h56-0-298" class="d">-	return Stringify(p)
</a><a href="#h56-0-299" id="h56-0-299" class="d">-}
</a><a href="#h56-0-300" id="h56-0-300" class="d">-
</a><a href="#h56-0-301" id="h56-0-301" class="d">-// PushEventCommit represents a git commit in a GitHub PushEvent.
</a><a href="#h56-0-302" id="h56-0-302" class="d">-type PushEventCommit struct {
</a><a href="#h56-0-303" id="h56-0-303" class="d">-	SHA       *string       `json:&quot;sha,omitempty&quot;`
</a><a href="#h56-0-304" id="h56-0-304" class="d">-	Message   *string       `json:&quot;message,omitempty&quot;`
</a><a href="#h56-0-305" id="h56-0-305" class="d">-	Author    *CommitAuthor `json:&quot;author,omitempty&quot;`
</a><a href="#h56-0-306" id="h56-0-306" class="d">-	Committer *CommitAuthor `json:&quot;committer,omitempty&quot;`
</a><a href="#h56-0-307" id="h56-0-307" class="d">-	URL       *string       `json:&quot;url,omitempty&quot;`
</a><a href="#h56-0-308" id="h56-0-308" class="d">-	Distinct  *bool         `json:&quot;distinct,omitempty&quot;`
</a><a href="#h56-0-309" id="h56-0-309" class="d">-	Added     []string      `json:&quot;added,omitempty&quot;`
</a><a href="#h56-0-310" id="h56-0-310" class="d">-	Removed   []string      `json:&quot;removed,omitempty&quot;`
</a><a href="#h56-0-311" id="h56-0-311" class="d">-	Modified  []string      `json:&quot;modified,omitempty&quot;`
</a><a href="#h56-0-312" id="h56-0-312" class="d">-}
</a><a href="#h56-0-313" id="h56-0-313" class="d">-
</a><a href="#h56-0-314" id="h56-0-314" class="d">-func (p PushEventCommit) String() string {
</a><a href="#h56-0-315" id="h56-0-315" class="d">-	return Stringify(p)
</a><a href="#h56-0-316" id="h56-0-316" class="d">-}
</a><a href="#h56-0-317" id="h56-0-317" class="d">-
</a><a href="#h56-0-318" id="h56-0-318" class="d">-// PushEventRepository represents the repo object in a PushEvent payload
</a><a href="#h56-0-319" id="h56-0-319" class="d">-type PushEventRepository struct {
</a><a href="#h56-0-320" id="h56-0-320" class="d">-	ID              *int                `json:&quot;id,omitempty&quot;`
</a><a href="#h56-0-321" id="h56-0-321" class="d">-	Name            *string             `json:&quot;name,omitempty&quot;`
</a><a href="#h56-0-322" id="h56-0-322" class="d">-	FullName        *string             `json:&quot;full_name,omitempty&quot;`
</a><a href="#h56-0-323" id="h56-0-323" class="d">-	Owner           *PushEventRepoOwner `json:&quot;owner,omitempty&quot;`
</a><a href="#h56-0-324" id="h56-0-324" class="d">-	Private         *bool               `json:&quot;private,omitempty&quot;`
</a><a href="#h56-0-325" id="h56-0-325" class="d">-	Description     *string             `json:&quot;description,omitempty&quot;`
</a><a href="#h56-0-326" id="h56-0-326" class="d">-	Fork            *bool               `json:&quot;fork,omitempty&quot;`
</a><a href="#h56-0-327" id="h56-0-327" class="d">-	CreatedAt       *Timestamp          `json:&quot;created_at,omitempty&quot;`
</a><a href="#h56-0-328" id="h56-0-328" class="d">-	PushedAt        *Timestamp          `json:&quot;pushed_at,omitempty&quot;`
</a><a href="#h56-0-329" id="h56-0-329" class="d">-	UpdatedAt       *Timestamp          `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h56-0-330" id="h56-0-330" class="d">-	Homepage        *string             `json:&quot;homepage,omitempty&quot;`
</a><a href="#h56-0-331" id="h56-0-331" class="d">-	Size            *int                `json:&quot;size,omitempty&quot;`
</a><a href="#h56-0-332" id="h56-0-332" class="d">-	StargazersCount *int                `json:&quot;stargazers_count,omitempty&quot;`
</a><a href="#h56-0-333" id="h56-0-333" class="d">-	WatchersCount   *int                `json:&quot;watchers_count,omitempty&quot;`
</a><a href="#h56-0-334" id="h56-0-334" class="d">-	Language        *string             `json:&quot;language,omitempty&quot;`
</a><a href="#h56-0-335" id="h56-0-335" class="d">-	HasIssues       *bool               `json:&quot;has_issues,omitempty&quot;`
</a><a href="#h56-0-336" id="h56-0-336" class="d">-	HasDownloads    *bool               `json:&quot;has_downloads,omitempty&quot;`
</a><a href="#h56-0-337" id="h56-0-337" class="d">-	HasWiki         *bool               `json:&quot;has_wiki,omitempty&quot;`
</a><a href="#h56-0-338" id="h56-0-338" class="d">-	HasPages        *bool               `json:&quot;has_pages,omitempty&quot;`
</a><a href="#h56-0-339" id="h56-0-339" class="d">-	ForksCount      *int                `json:&quot;forks_count,omitempty&quot;`
</a><a href="#h56-0-340" id="h56-0-340" class="d">-	OpenIssuesCount *int                `json:&quot;open_issues_count,omitempty&quot;`
</a><a href="#h56-0-341" id="h56-0-341" class="d">-	DefaultBranch   *string             `json:&quot;default_branch,omitempty&quot;`
</a><a href="#h56-0-342" id="h56-0-342" class="d">-	MasterBranch    *string             `json:&quot;master_branch,omitempty&quot;`
</a><a href="#h56-0-343" id="h56-0-343" class="d">-	Organization    *string             `json:&quot;organization,omitempty&quot;`
</a><a href="#h56-0-344" id="h56-0-344" class="d">-
</a><a href="#h56-0-345" id="h56-0-345" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-346" id="h56-0-346" class="d">-	URL     *string `json:&quot;url,omitempty&quot;`
</a><a href="#h56-0-347" id="h56-0-347" class="d">-	HTMLURL *string `json:&quot;html_url,omitempty&quot;`
</a><a href="#h56-0-348" id="h56-0-348" class="d">-}
</a><a href="#h56-0-349" id="h56-0-349" class="d">-
</a><a href="#h56-0-350" id="h56-0-350" class="d">-// PushEventRepoOwner is a basic reporesntation of user/org in a PushEvent payload
</a><a href="#h56-0-351" id="h56-0-351" class="d">-type PushEventRepoOwner struct {
</a><a href="#h56-0-352" id="h56-0-352" class="d">-	Name  *string `json:&quot;name,omitempty&quot;`
</a><a href="#h56-0-353" id="h56-0-353" class="d">-	Email *string `json:&quot;email,omitempty&quot;`
</a><a href="#h56-0-354" id="h56-0-354" class="d">-}
</a><a href="#h56-0-355" id="h56-0-355" class="d">-
</a><a href="#h56-0-356" id="h56-0-356" class="d">-// ReleaseEvent is triggered when a release is published.
</a><a href="#h56-0-357" id="h56-0-357" class="d">-// The Webhook event name is &quot;release&quot;.
</a><a href="#h56-0-358" id="h56-0-358" class="d">-//
</a><a href="#h56-0-359" id="h56-0-359" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#releaseevent
</a><a href="#h56-0-360" id="h56-0-360" class="d">-type ReleaseEvent struct {
</a><a href="#h56-0-361" id="h56-0-361" class="d">-	// Action is the action that was performed. Possible value is: &quot;published&quot;.
</a><a href="#h56-0-362" id="h56-0-362" class="d">-	Action  *string            `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-363" id="h56-0-363" class="d">-	Release *RepositoryRelease `json:&quot;release,omitempty&quot;`
</a><a href="#h56-0-364" id="h56-0-364" class="d">-
</a><a href="#h56-0-365" id="h56-0-365" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-366" id="h56-0-366" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-367" id="h56-0-367" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-368" id="h56-0-368" class="d">-}
</a><a href="#h56-0-369" id="h56-0-369" class="d">-
</a><a href="#h56-0-370" id="h56-0-370" class="d">-// RepositoryEvent is triggered when a repository is created.
</a><a href="#h56-0-371" id="h56-0-371" class="d">-// The Webhook event name is &quot;repository&quot;.
</a><a href="#h56-0-372" id="h56-0-372" class="d">-//
</a><a href="#h56-0-373" id="h56-0-373" class="d">-// Events of this type are not visible in timelines, they are only used to
</a><a href="#h56-0-374" id="h56-0-374" class="d">-// trigger organization webhooks.
</a><a href="#h56-0-375" id="h56-0-375" class="d">-//
</a><a href="#h56-0-376" id="h56-0-376" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#repositoryevent
</a><a href="#h56-0-377" id="h56-0-377" class="d">-type RepositoryEvent struct {
</a><a href="#h56-0-378" id="h56-0-378" class="d">-	// Action is the action that was performed. Possible value is: &quot;created&quot;.
</a><a href="#h56-0-379" id="h56-0-379" class="d">-	Action *string     `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-380" id="h56-0-380" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-381" id="h56-0-381" class="d">-
</a><a href="#h56-0-382" id="h56-0-382" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-383" id="h56-0-383" class="d">-	Org    *Organization `json:&quot;organization,omitempty&quot;`
</a><a href="#h56-0-384" id="h56-0-384" class="d">-	Sender *User         `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-385" id="h56-0-385" class="d">-}
</a><a href="#h56-0-386" id="h56-0-386" class="d">-
</a><a href="#h56-0-387" id="h56-0-387" class="d">-// StatusEvent is triggered when the status of a Git commit changes.
</a><a href="#h56-0-388" id="h56-0-388" class="d">-// The Webhook event name is &quot;status&quot;.
</a><a href="#h56-0-389" id="h56-0-389" class="d">-//
</a><a href="#h56-0-390" id="h56-0-390" class="d">-// Events of this type are not visible in timelines, they are only used to
</a><a href="#h56-0-391" id="h56-0-391" class="d">-// trigger hooks.
</a><a href="#h56-0-392" id="h56-0-392" class="d">-//
</a><a href="#h56-0-393" id="h56-0-393" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#statusevent
</a><a href="#h56-0-394" id="h56-0-394" class="d">-type StatusEvent struct {
</a><a href="#h56-0-395" id="h56-0-395" class="d">-	SHA *string `json:&quot;sha,omitempty&quot;`
</a><a href="#h56-0-396" id="h56-0-396" class="d">-	// State is the new state. Possible values are: &quot;pending&quot;, &quot;success&quot;, &quot;failure&quot;, &quot;error&quot;.
</a><a href="#h56-0-397" id="h56-0-397" class="d">-	State       *string   `json:&quot;state,omitempty&quot;`
</a><a href="#h56-0-398" id="h56-0-398" class="d">-	Description *string   `json:&quot;description,omitempty&quot;`
</a><a href="#h56-0-399" id="h56-0-399" class="d">-	TargetURL   *string   `json:&quot;target_url,omitempty&quot;`
</a><a href="#h56-0-400" id="h56-0-400" class="d">-	Branches    []*Branch `json:&quot;branches,omitempty&quot;`
</a><a href="#h56-0-401" id="h56-0-401" class="d">-
</a><a href="#h56-0-402" id="h56-0-402" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-403" id="h56-0-403" class="d">-	ID        *int             `json:&quot;id,omitempty&quot;`
</a><a href="#h56-0-404" id="h56-0-404" class="d">-	Name      *string          `json:&quot;name,omitempty&quot;`
</a><a href="#h56-0-405" id="h56-0-405" class="d">-	Context   *string          `json:&quot;context,omitempty&quot;`
</a><a href="#h56-0-406" id="h56-0-406" class="d">-	Commit    *PushEventCommit `json:&quot;commit,omitempty&quot;`
</a><a href="#h56-0-407" id="h56-0-407" class="d">-	CreatedAt *Timestamp       `json:&quot;created_at,omitempty&quot;`
</a><a href="#h56-0-408" id="h56-0-408" class="d">-	UpdatedAt *Timestamp       `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h56-0-409" id="h56-0-409" class="d">-	Repo      *Repository      `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-410" id="h56-0-410" class="d">-	Sender    *User            `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-411" id="h56-0-411" class="d">-}
</a><a href="#h56-0-412" id="h56-0-412" class="d">-
</a><a href="#h56-0-413" id="h56-0-413" class="d">-// TeamAddEvent is triggered when a repository is added to a team.
</a><a href="#h56-0-414" id="h56-0-414" class="d">-// The Webhook event name is &quot;team_add&quot;.
</a><a href="#h56-0-415" id="h56-0-415" class="d">-//
</a><a href="#h56-0-416" id="h56-0-416" class="d">-// Events of this type are not visible in timelines. These events are only used
</a><a href="#h56-0-417" id="h56-0-417" class="d">-// to trigger hooks.
</a><a href="#h56-0-418" id="h56-0-418" class="d">-//
</a><a href="#h56-0-419" id="h56-0-419" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#teamaddevent
</a><a href="#h56-0-420" id="h56-0-420" class="d">-type TeamAddEvent struct {
</a><a href="#h56-0-421" id="h56-0-421" class="d">-	Team *Team       `json:&quot;team,omitempty&quot;`
</a><a href="#h56-0-422" id="h56-0-422" class="d">-	Repo *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-423" id="h56-0-423" class="d">-
</a><a href="#h56-0-424" id="h56-0-424" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-425" id="h56-0-425" class="d">-	Org    *Organization `json:&quot;organization,omitempty&quot;`
</a><a href="#h56-0-426" id="h56-0-426" class="d">-	Sender *User         `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-427" id="h56-0-427" class="d">-}
</a><a href="#h56-0-428" id="h56-0-428" class="d">-
</a><a href="#h56-0-429" id="h56-0-429" class="d">-// WatchEvent is related to starring a repository, not watching. See this API
</a><a href="#h56-0-430" id="h56-0-430" class="d">-// blog post for an explanation: https://developer.github.com/changes/2012-09-05-watcher-api/
</a><a href="#h56-0-431" id="h56-0-431" class="d">-//
</a><a href="#h56-0-432" id="h56-0-432" class="d">-// The events actor is the user who starred a repository, and the events
</a><a href="#h56-0-433" id="h56-0-433" class="d">-// repository is the repository that was starred.
</a><a href="#h56-0-434" id="h56-0-434" class="d">-//
</a><a href="#h56-0-435" id="h56-0-435" class="d">-// GitHub docs: https://developer.github.com/v3/activity/events/types/#watchevent
</a><a href="#h56-0-436" id="h56-0-436" class="d">-type WatchEvent struct {
</a><a href="#h56-0-437" id="h56-0-437" class="d">-	// Action is the action that was performed. Possible value is: &quot;started&quot;.
</a><a href="#h56-0-438" id="h56-0-438" class="d">-	Action *string `json:&quot;action,omitempty&quot;`
</a><a href="#h56-0-439" id="h56-0-439" class="d">-
</a><a href="#h56-0-440" id="h56-0-440" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h56-0-441" id="h56-0-441" class="d">-	Repo   *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h56-0-442" id="h56-0-442" class="d">-	Sender *User       `json:&quot;sender,omitempty&quot;`
</a><a href="#h56-0-443" id="h56-0-443" class="d">-}
</a><b>diff --git a/<a id="h57" href="../file/vendor/github.com/google/go-github/github/gists.go">vendor/github.com/google/go-github/github/gists.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/gists.go">vendor/github.com/google/go-github/github/gists.go</a></b>
<a href="#h57-0" id="h57-0" class="h">@@ -1,281 +0,0 @@
</a><a href="#h57-0-0" id="h57-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h57-0-1" id="h57-0-1" class="d">-//
</a><a href="#h57-0-2" id="h57-0-2" class="d">-// Use of this source code is governed by BSD-style
</a><a href="#h57-0-3" id="h57-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h57-0-4" id="h57-0-4" class="d">-
</a><a href="#h57-0-5" id="h57-0-5" class="d">-package github
</a><a href="#h57-0-6" id="h57-0-6" class="d">-
</a><a href="#h57-0-7" id="h57-0-7" class="d">-import (
</a><a href="#h57-0-8" id="h57-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h57-0-9" id="h57-0-9" class="d">-	&quot;time&quot;
</a><a href="#h57-0-10" id="h57-0-10" class="d">-)
</a><a href="#h57-0-11" id="h57-0-11" class="d">-
</a><a href="#h57-0-12" id="h57-0-12" class="d">-// GistsService handles communication with the Gist related
</a><a href="#h57-0-13" id="h57-0-13" class="d">-// methods of the GitHub API.
</a><a href="#h57-0-14" id="h57-0-14" class="d">-//
</a><a href="#h57-0-15" id="h57-0-15" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/
</a><a href="#h57-0-16" id="h57-0-16" class="d">-type GistsService struct {
</a><a href="#h57-0-17" id="h57-0-17" class="d">-	client *Client
</a><a href="#h57-0-18" id="h57-0-18" class="d">-}
</a><a href="#h57-0-19" id="h57-0-19" class="d">-
</a><a href="#h57-0-20" id="h57-0-20" class="d">-// Gist represents a GitHub&#39;s gist.
</a><a href="#h57-0-21" id="h57-0-21" class="d">-type Gist struct {
</a><a href="#h57-0-22" id="h57-0-22" class="d">-	ID          *string                   `json:&quot;id,omitempty&quot;`
</a><a href="#h57-0-23" id="h57-0-23" class="d">-	Description *string                   `json:&quot;description,omitempty&quot;`
</a><a href="#h57-0-24" id="h57-0-24" class="d">-	Public      *bool                     `json:&quot;public,omitempty&quot;`
</a><a href="#h57-0-25" id="h57-0-25" class="d">-	Owner       *User                     `json:&quot;owner,omitempty&quot;`
</a><a href="#h57-0-26" id="h57-0-26" class="d">-	Files       map[GistFilename]GistFile `json:&quot;files,omitempty&quot;`
</a><a href="#h57-0-27" id="h57-0-27" class="d">-	Comments    *int                      `json:&quot;comments,omitempty&quot;`
</a><a href="#h57-0-28" id="h57-0-28" class="d">-	HTMLURL     *string                   `json:&quot;html_url,omitempty&quot;`
</a><a href="#h57-0-29" id="h57-0-29" class="d">-	GitPullURL  *string                   `json:&quot;git_pull_url,omitempty&quot;`
</a><a href="#h57-0-30" id="h57-0-30" class="d">-	GitPushURL  *string                   `json:&quot;git_push_url,omitempty&quot;`
</a><a href="#h57-0-31" id="h57-0-31" class="d">-	CreatedAt   *time.Time                `json:&quot;created_at,omitempty&quot;`
</a><a href="#h57-0-32" id="h57-0-32" class="d">-	UpdatedAt   *time.Time                `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h57-0-33" id="h57-0-33" class="d">-}
</a><a href="#h57-0-34" id="h57-0-34" class="d">-
</a><a href="#h57-0-35" id="h57-0-35" class="d">-func (g Gist) String() string {
</a><a href="#h57-0-36" id="h57-0-36" class="d">-	return Stringify(g)
</a><a href="#h57-0-37" id="h57-0-37" class="d">-}
</a><a href="#h57-0-38" id="h57-0-38" class="d">-
</a><a href="#h57-0-39" id="h57-0-39" class="d">-// GistFilename represents filename on a gist.
</a><a href="#h57-0-40" id="h57-0-40" class="d">-type GistFilename string
</a><a href="#h57-0-41" id="h57-0-41" class="d">-
</a><a href="#h57-0-42" id="h57-0-42" class="d">-// GistFile represents a file on a gist.
</a><a href="#h57-0-43" id="h57-0-43" class="d">-type GistFile struct {
</a><a href="#h57-0-44" id="h57-0-44" class="d">-	Size     *int    `json:&quot;size,omitempty&quot;`
</a><a href="#h57-0-45" id="h57-0-45" class="d">-	Filename *string `json:&quot;filename,omitempty&quot;`
</a><a href="#h57-0-46" id="h57-0-46" class="d">-	RawURL   *string `json:&quot;raw_url,omitempty&quot;`
</a><a href="#h57-0-47" id="h57-0-47" class="d">-	Content  *string `json:&quot;content,omitempty&quot;`
</a><a href="#h57-0-48" id="h57-0-48" class="d">-}
</a><a href="#h57-0-49" id="h57-0-49" class="d">-
</a><a href="#h57-0-50" id="h57-0-50" class="d">-func (g GistFile) String() string {
</a><a href="#h57-0-51" id="h57-0-51" class="d">-	return Stringify(g)
</a><a href="#h57-0-52" id="h57-0-52" class="d">-}
</a><a href="#h57-0-53" id="h57-0-53" class="d">-
</a><a href="#h57-0-54" id="h57-0-54" class="d">-// GistListOptions specifies the optional parameters to the
</a><a href="#h57-0-55" id="h57-0-55" class="d">-// GistsService.List, GistsService.ListAll, and GistsService.ListStarred methods.
</a><a href="#h57-0-56" id="h57-0-56" class="d">-type GistListOptions struct {
</a><a href="#h57-0-57" id="h57-0-57" class="d">-	// Since filters Gists by time.
</a><a href="#h57-0-58" id="h57-0-58" class="d">-	Since time.Time `url:&quot;since,omitempty&quot;`
</a><a href="#h57-0-59" id="h57-0-59" class="d">-
</a><a href="#h57-0-60" id="h57-0-60" class="d">-	ListOptions
</a><a href="#h57-0-61" id="h57-0-61" class="d">-}
</a><a href="#h57-0-62" id="h57-0-62" class="d">-
</a><a href="#h57-0-63" id="h57-0-63" class="d">-// List gists for a user. Passing the empty string will list
</a><a href="#h57-0-64" id="h57-0-64" class="d">-// all public gists if called anonymously. However, if the call
</a><a href="#h57-0-65" id="h57-0-65" class="d">-// is authenticated, it will returns all gists for the authenticated
</a><a href="#h57-0-66" id="h57-0-66" class="d">-// user.
</a><a href="#h57-0-67" id="h57-0-67" class="d">-//
</a><a href="#h57-0-68" id="h57-0-68" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#list-gists
</a><a href="#h57-0-69" id="h57-0-69" class="d">-func (s *GistsService) List(user string, opt *GistListOptions) ([]Gist, *Response, error) {
</a><a href="#h57-0-70" id="h57-0-70" class="d">-	var u string
</a><a href="#h57-0-71" id="h57-0-71" class="d">-	if user != &quot;&quot; {
</a><a href="#h57-0-72" id="h57-0-72" class="d">-		u = fmt.Sprintf(&quot;users/%v/gists&quot;, user)
</a><a href="#h57-0-73" id="h57-0-73" class="d">-	} else {
</a><a href="#h57-0-74" id="h57-0-74" class="d">-		u = &quot;gists&quot;
</a><a href="#h57-0-75" id="h57-0-75" class="d">-	}
</a><a href="#h57-0-76" id="h57-0-76" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h57-0-77" id="h57-0-77" class="d">-	if err != nil {
</a><a href="#h57-0-78" id="h57-0-78" class="d">-		return nil, nil, err
</a><a href="#h57-0-79" id="h57-0-79" class="d">-	}
</a><a href="#h57-0-80" id="h57-0-80" class="d">-
</a><a href="#h57-0-81" id="h57-0-81" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h57-0-82" id="h57-0-82" class="d">-	if err != nil {
</a><a href="#h57-0-83" id="h57-0-83" class="d">-		return nil, nil, err
</a><a href="#h57-0-84" id="h57-0-84" class="d">-	}
</a><a href="#h57-0-85" id="h57-0-85" class="d">-
</a><a href="#h57-0-86" id="h57-0-86" class="d">-	gists := new([]Gist)
</a><a href="#h57-0-87" id="h57-0-87" class="d">-	resp, err := s.client.Do(req, gists)
</a><a href="#h57-0-88" id="h57-0-88" class="d">-	if err != nil {
</a><a href="#h57-0-89" id="h57-0-89" class="d">-		return nil, resp, err
</a><a href="#h57-0-90" id="h57-0-90" class="d">-	}
</a><a href="#h57-0-91" id="h57-0-91" class="d">-
</a><a href="#h57-0-92" id="h57-0-92" class="d">-	return *gists, resp, err
</a><a href="#h57-0-93" id="h57-0-93" class="d">-}
</a><a href="#h57-0-94" id="h57-0-94" class="d">-
</a><a href="#h57-0-95" id="h57-0-95" class="d">-// ListAll lists all public gists.
</a><a href="#h57-0-96" id="h57-0-96" class="d">-//
</a><a href="#h57-0-97" id="h57-0-97" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#list-gists
</a><a href="#h57-0-98" id="h57-0-98" class="d">-func (s *GistsService) ListAll(opt *GistListOptions) ([]Gist, *Response, error) {
</a><a href="#h57-0-99" id="h57-0-99" class="d">-	u, err := addOptions(&quot;gists/public&quot;, opt)
</a><a href="#h57-0-100" id="h57-0-100" class="d">-	if err != nil {
</a><a href="#h57-0-101" id="h57-0-101" class="d">-		return nil, nil, err
</a><a href="#h57-0-102" id="h57-0-102" class="d">-	}
</a><a href="#h57-0-103" id="h57-0-103" class="d">-
</a><a href="#h57-0-104" id="h57-0-104" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h57-0-105" id="h57-0-105" class="d">-	if err != nil {
</a><a href="#h57-0-106" id="h57-0-106" class="d">-		return nil, nil, err
</a><a href="#h57-0-107" id="h57-0-107" class="d">-	}
</a><a href="#h57-0-108" id="h57-0-108" class="d">-
</a><a href="#h57-0-109" id="h57-0-109" class="d">-	gists := new([]Gist)
</a><a href="#h57-0-110" id="h57-0-110" class="d">-	resp, err := s.client.Do(req, gists)
</a><a href="#h57-0-111" id="h57-0-111" class="d">-	if err != nil {
</a><a href="#h57-0-112" id="h57-0-112" class="d">-		return nil, resp, err
</a><a href="#h57-0-113" id="h57-0-113" class="d">-	}
</a><a href="#h57-0-114" id="h57-0-114" class="d">-
</a><a href="#h57-0-115" id="h57-0-115" class="d">-	return *gists, resp, err
</a><a href="#h57-0-116" id="h57-0-116" class="d">-}
</a><a href="#h57-0-117" id="h57-0-117" class="d">-
</a><a href="#h57-0-118" id="h57-0-118" class="d">-// ListStarred lists starred gists of authenticated user.
</a><a href="#h57-0-119" id="h57-0-119" class="d">-//
</a><a href="#h57-0-120" id="h57-0-120" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#list-gists
</a><a href="#h57-0-121" id="h57-0-121" class="d">-func (s *GistsService) ListStarred(opt *GistListOptions) ([]Gist, *Response, error) {
</a><a href="#h57-0-122" id="h57-0-122" class="d">-	u, err := addOptions(&quot;gists/starred&quot;, opt)
</a><a href="#h57-0-123" id="h57-0-123" class="d">-	if err != nil {
</a><a href="#h57-0-124" id="h57-0-124" class="d">-		return nil, nil, err
</a><a href="#h57-0-125" id="h57-0-125" class="d">-	}
</a><a href="#h57-0-126" id="h57-0-126" class="d">-
</a><a href="#h57-0-127" id="h57-0-127" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h57-0-128" id="h57-0-128" class="d">-	if err != nil {
</a><a href="#h57-0-129" id="h57-0-129" class="d">-		return nil, nil, err
</a><a href="#h57-0-130" id="h57-0-130" class="d">-	}
</a><a href="#h57-0-131" id="h57-0-131" class="d">-
</a><a href="#h57-0-132" id="h57-0-132" class="d">-	gists := new([]Gist)
</a><a href="#h57-0-133" id="h57-0-133" class="d">-	resp, err := s.client.Do(req, gists)
</a><a href="#h57-0-134" id="h57-0-134" class="d">-	if err != nil {
</a><a href="#h57-0-135" id="h57-0-135" class="d">-		return nil, resp, err
</a><a href="#h57-0-136" id="h57-0-136" class="d">-	}
</a><a href="#h57-0-137" id="h57-0-137" class="d">-
</a><a href="#h57-0-138" id="h57-0-138" class="d">-	return *gists, resp, err
</a><a href="#h57-0-139" id="h57-0-139" class="d">-}
</a><a href="#h57-0-140" id="h57-0-140" class="d">-
</a><a href="#h57-0-141" id="h57-0-141" class="d">-// Get a single gist.
</a><a href="#h57-0-142" id="h57-0-142" class="d">-//
</a><a href="#h57-0-143" id="h57-0-143" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#get-a-single-gist
</a><a href="#h57-0-144" id="h57-0-144" class="d">-func (s *GistsService) Get(id string) (*Gist, *Response, error) {
</a><a href="#h57-0-145" id="h57-0-145" class="d">-	u := fmt.Sprintf(&quot;gists/%v&quot;, id)
</a><a href="#h57-0-146" id="h57-0-146" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h57-0-147" id="h57-0-147" class="d">-	if err != nil {
</a><a href="#h57-0-148" id="h57-0-148" class="d">-		return nil, nil, err
</a><a href="#h57-0-149" id="h57-0-149" class="d">-	}
</a><a href="#h57-0-150" id="h57-0-150" class="d">-	gist := new(Gist)
</a><a href="#h57-0-151" id="h57-0-151" class="d">-	resp, err := s.client.Do(req, gist)
</a><a href="#h57-0-152" id="h57-0-152" class="d">-	if err != nil {
</a><a href="#h57-0-153" id="h57-0-153" class="d">-		return nil, resp, err
</a><a href="#h57-0-154" id="h57-0-154" class="d">-	}
</a><a href="#h57-0-155" id="h57-0-155" class="d">-
</a><a href="#h57-0-156" id="h57-0-156" class="d">-	return gist, resp, err
</a><a href="#h57-0-157" id="h57-0-157" class="d">-}
</a><a href="#h57-0-158" id="h57-0-158" class="d">-
</a><a href="#h57-0-159" id="h57-0-159" class="d">-// GetRevision gets a specific revision of a gist.
</a><a href="#h57-0-160" id="h57-0-160" class="d">-//
</a><a href="#h57-0-161" id="h57-0-161" class="d">-// GitHub API docs: https://developer.github.com/v3/gists/#get-a-specific-revision-of-a-gist
</a><a href="#h57-0-162" id="h57-0-162" class="d">-func (s *GistsService) GetRevision(id, sha string) (*Gist, *Response, error) {
</a><a href="#h57-0-163" id="h57-0-163" class="d">-	u := fmt.Sprintf(&quot;gists/%v/%v&quot;, id, sha)
</a><a href="#h57-0-164" id="h57-0-164" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h57-0-165" id="h57-0-165" class="d">-	if err != nil {
</a><a href="#h57-0-166" id="h57-0-166" class="d">-		return nil, nil, err
</a><a href="#h57-0-167" id="h57-0-167" class="d">-	}
</a><a href="#h57-0-168" id="h57-0-168" class="d">-	gist := new(Gist)
</a><a href="#h57-0-169" id="h57-0-169" class="d">-	resp, err := s.client.Do(req, gist)
</a><a href="#h57-0-170" id="h57-0-170" class="d">-	if err != nil {
</a><a href="#h57-0-171" id="h57-0-171" class="d">-		return nil, resp, err
</a><a href="#h57-0-172" id="h57-0-172" class="d">-	}
</a><a href="#h57-0-173" id="h57-0-173" class="d">-
</a><a href="#h57-0-174" id="h57-0-174" class="d">-	return gist, resp, err
</a><a href="#h57-0-175" id="h57-0-175" class="d">-}
</a><a href="#h57-0-176" id="h57-0-176" class="d">-
</a><a href="#h57-0-177" id="h57-0-177" class="d">-// Create a gist for authenticated user.
</a><a href="#h57-0-178" id="h57-0-178" class="d">-//
</a><a href="#h57-0-179" id="h57-0-179" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#create-a-gist
</a><a href="#h57-0-180" id="h57-0-180" class="d">-func (s *GistsService) Create(gist *Gist) (*Gist, *Response, error) {
</a><a href="#h57-0-181" id="h57-0-181" class="d">-	u := &quot;gists&quot;
</a><a href="#h57-0-182" id="h57-0-182" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, gist)
</a><a href="#h57-0-183" id="h57-0-183" class="d">-	if err != nil {
</a><a href="#h57-0-184" id="h57-0-184" class="d">-		return nil, nil, err
</a><a href="#h57-0-185" id="h57-0-185" class="d">-	}
</a><a href="#h57-0-186" id="h57-0-186" class="d">-	g := new(Gist)
</a><a href="#h57-0-187" id="h57-0-187" class="d">-	resp, err := s.client.Do(req, g)
</a><a href="#h57-0-188" id="h57-0-188" class="d">-	if err != nil {
</a><a href="#h57-0-189" id="h57-0-189" class="d">-		return nil, resp, err
</a><a href="#h57-0-190" id="h57-0-190" class="d">-	}
</a><a href="#h57-0-191" id="h57-0-191" class="d">-
</a><a href="#h57-0-192" id="h57-0-192" class="d">-	return g, resp, err
</a><a href="#h57-0-193" id="h57-0-193" class="d">-}
</a><a href="#h57-0-194" id="h57-0-194" class="d">-
</a><a href="#h57-0-195" id="h57-0-195" class="d">-// Edit a gist.
</a><a href="#h57-0-196" id="h57-0-196" class="d">-//
</a><a href="#h57-0-197" id="h57-0-197" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#edit-a-gist
</a><a href="#h57-0-198" id="h57-0-198" class="d">-func (s *GistsService) Edit(id string, gist *Gist) (*Gist, *Response, error) {
</a><a href="#h57-0-199" id="h57-0-199" class="d">-	u := fmt.Sprintf(&quot;gists/%v&quot;, id)
</a><a href="#h57-0-200" id="h57-0-200" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, gist)
</a><a href="#h57-0-201" id="h57-0-201" class="d">-	if err != nil {
</a><a href="#h57-0-202" id="h57-0-202" class="d">-		return nil, nil, err
</a><a href="#h57-0-203" id="h57-0-203" class="d">-	}
</a><a href="#h57-0-204" id="h57-0-204" class="d">-	g := new(Gist)
</a><a href="#h57-0-205" id="h57-0-205" class="d">-	resp, err := s.client.Do(req, g)
</a><a href="#h57-0-206" id="h57-0-206" class="d">-	if err != nil {
</a><a href="#h57-0-207" id="h57-0-207" class="d">-		return nil, resp, err
</a><a href="#h57-0-208" id="h57-0-208" class="d">-	}
</a><a href="#h57-0-209" id="h57-0-209" class="d">-
</a><a href="#h57-0-210" id="h57-0-210" class="d">-	return g, resp, err
</a><a href="#h57-0-211" id="h57-0-211" class="d">-}
</a><a href="#h57-0-212" id="h57-0-212" class="d">-
</a><a href="#h57-0-213" id="h57-0-213" class="d">-// Delete a gist.
</a><a href="#h57-0-214" id="h57-0-214" class="d">-//
</a><a href="#h57-0-215" id="h57-0-215" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#delete-a-gist
</a><a href="#h57-0-216" id="h57-0-216" class="d">-func (s *GistsService) Delete(id string) (*Response, error) {
</a><a href="#h57-0-217" id="h57-0-217" class="d">-	u := fmt.Sprintf(&quot;gists/%v&quot;, id)
</a><a href="#h57-0-218" id="h57-0-218" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h57-0-219" id="h57-0-219" class="d">-	if err != nil {
</a><a href="#h57-0-220" id="h57-0-220" class="d">-		return nil, err
</a><a href="#h57-0-221" id="h57-0-221" class="d">-	}
</a><a href="#h57-0-222" id="h57-0-222" class="d">-	return s.client.Do(req, nil)
</a><a href="#h57-0-223" id="h57-0-223" class="d">-}
</a><a href="#h57-0-224" id="h57-0-224" class="d">-
</a><a href="#h57-0-225" id="h57-0-225" class="d">-// Star a gist on behalf of authenticated user.
</a><a href="#h57-0-226" id="h57-0-226" class="d">-//
</a><a href="#h57-0-227" id="h57-0-227" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#star-a-gist
</a><a href="#h57-0-228" id="h57-0-228" class="d">-func (s *GistsService) Star(id string) (*Response, error) {
</a><a href="#h57-0-229" id="h57-0-229" class="d">-	u := fmt.Sprintf(&quot;gists/%v/star&quot;, id)
</a><a href="#h57-0-230" id="h57-0-230" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, nil)
</a><a href="#h57-0-231" id="h57-0-231" class="d">-	if err != nil {
</a><a href="#h57-0-232" id="h57-0-232" class="d">-		return nil, err
</a><a href="#h57-0-233" id="h57-0-233" class="d">-	}
</a><a href="#h57-0-234" id="h57-0-234" class="d">-	return s.client.Do(req, nil)
</a><a href="#h57-0-235" id="h57-0-235" class="d">-}
</a><a href="#h57-0-236" id="h57-0-236" class="d">-
</a><a href="#h57-0-237" id="h57-0-237" class="d">-// Unstar a gist on a behalf of authenticated user.
</a><a href="#h57-0-238" id="h57-0-238" class="d">-//
</a><a href="#h57-0-239" id="h57-0-239" class="d">-// Github API docs: http://developer.github.com/v3/gists/#unstar-a-gist
</a><a href="#h57-0-240" id="h57-0-240" class="d">-func (s *GistsService) Unstar(id string) (*Response, error) {
</a><a href="#h57-0-241" id="h57-0-241" class="d">-	u := fmt.Sprintf(&quot;gists/%v/star&quot;, id)
</a><a href="#h57-0-242" id="h57-0-242" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h57-0-243" id="h57-0-243" class="d">-	if err != nil {
</a><a href="#h57-0-244" id="h57-0-244" class="d">-		return nil, err
</a><a href="#h57-0-245" id="h57-0-245" class="d">-	}
</a><a href="#h57-0-246" id="h57-0-246" class="d">-	return s.client.Do(req, nil)
</a><a href="#h57-0-247" id="h57-0-247" class="d">-}
</a><a href="#h57-0-248" id="h57-0-248" class="d">-
</a><a href="#h57-0-249" id="h57-0-249" class="d">-// IsStarred checks if a gist is starred by authenticated user.
</a><a href="#h57-0-250" id="h57-0-250" class="d">-//
</a><a href="#h57-0-251" id="h57-0-251" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#check-if-a-gist-is-starred
</a><a href="#h57-0-252" id="h57-0-252" class="d">-func (s *GistsService) IsStarred(id string) (bool, *Response, error) {
</a><a href="#h57-0-253" id="h57-0-253" class="d">-	u := fmt.Sprintf(&quot;gists/%v/star&quot;, id)
</a><a href="#h57-0-254" id="h57-0-254" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h57-0-255" id="h57-0-255" class="d">-	if err != nil {
</a><a href="#h57-0-256" id="h57-0-256" class="d">-		return false, nil, err
</a><a href="#h57-0-257" id="h57-0-257" class="d">-	}
</a><a href="#h57-0-258" id="h57-0-258" class="d">-	resp, err := s.client.Do(req, nil)
</a><a href="#h57-0-259" id="h57-0-259" class="d">-	starred, err := parseBoolResponse(err)
</a><a href="#h57-0-260" id="h57-0-260" class="d">-	return starred, resp, err
</a><a href="#h57-0-261" id="h57-0-261" class="d">-}
</a><a href="#h57-0-262" id="h57-0-262" class="d">-
</a><a href="#h57-0-263" id="h57-0-263" class="d">-// Fork a gist.
</a><a href="#h57-0-264" id="h57-0-264" class="d">-//
</a><a href="#h57-0-265" id="h57-0-265" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/#fork-a-gist
</a><a href="#h57-0-266" id="h57-0-266" class="d">-func (s *GistsService) Fork(id string) (*Gist, *Response, error) {
</a><a href="#h57-0-267" id="h57-0-267" class="d">-	u := fmt.Sprintf(&quot;gists/%v/forks&quot;, id)
</a><a href="#h57-0-268" id="h57-0-268" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, nil)
</a><a href="#h57-0-269" id="h57-0-269" class="d">-	if err != nil {
</a><a href="#h57-0-270" id="h57-0-270" class="d">-		return nil, nil, err
</a><a href="#h57-0-271" id="h57-0-271" class="d">-	}
</a><a href="#h57-0-272" id="h57-0-272" class="d">-
</a><a href="#h57-0-273" id="h57-0-273" class="d">-	g := new(Gist)
</a><a href="#h57-0-274" id="h57-0-274" class="d">-	resp, err := s.client.Do(req, g)
</a><a href="#h57-0-275" id="h57-0-275" class="d">-	if err != nil {
</a><a href="#h57-0-276" id="h57-0-276" class="d">-		return nil, resp, err
</a><a href="#h57-0-277" id="h57-0-277" class="d">-	}
</a><a href="#h57-0-278" id="h57-0-278" class="d">-
</a><a href="#h57-0-279" id="h57-0-279" class="d">-	return g, resp, err
</a><a href="#h57-0-280" id="h57-0-280" class="d">-}
</a><b>diff --git a/<a id="h58" href="../file/vendor/github.com/google/go-github/github/gists_comments.go">vendor/github.com/google/go-github/github/gists_comments.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/gists_comments.go">vendor/github.com/google/go-github/github/gists_comments.go</a></b>
<a href="#h58-0" id="h58-0" class="h">@@ -1,118 +0,0 @@
</a><a href="#h58-0-0" id="h58-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h58-0-1" id="h58-0-1" class="d">-//
</a><a href="#h58-0-2" id="h58-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h58-0-3" id="h58-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h58-0-4" id="h58-0-4" class="d">-
</a><a href="#h58-0-5" id="h58-0-5" class="d">-package github
</a><a href="#h58-0-6" id="h58-0-6" class="d">-
</a><a href="#h58-0-7" id="h58-0-7" class="d">-import (
</a><a href="#h58-0-8" id="h58-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h58-0-9" id="h58-0-9" class="d">-	&quot;time&quot;
</a><a href="#h58-0-10" id="h58-0-10" class="d">-)
</a><a href="#h58-0-11" id="h58-0-11" class="d">-
</a><a href="#h58-0-12" id="h58-0-12" class="d">-// GistComment represents a Gist comment.
</a><a href="#h58-0-13" id="h58-0-13" class="d">-type GistComment struct {
</a><a href="#h58-0-14" id="h58-0-14" class="d">-	ID        *int       `json:&quot;id,omitempty&quot;`
</a><a href="#h58-0-15" id="h58-0-15" class="d">-	URL       *string    `json:&quot;url,omitempty&quot;`
</a><a href="#h58-0-16" id="h58-0-16" class="d">-	Body      *string    `json:&quot;body,omitempty&quot;`
</a><a href="#h58-0-17" id="h58-0-17" class="d">-	User      *User      `json:&quot;user,omitempty&quot;`
</a><a href="#h58-0-18" id="h58-0-18" class="d">-	CreatedAt *time.Time `json:&quot;created_at,omitempty&quot;`
</a><a href="#h58-0-19" id="h58-0-19" class="d">-}
</a><a href="#h58-0-20" id="h58-0-20" class="d">-
</a><a href="#h58-0-21" id="h58-0-21" class="d">-func (g GistComment) String() string {
</a><a href="#h58-0-22" id="h58-0-22" class="d">-	return Stringify(g)
</a><a href="#h58-0-23" id="h58-0-23" class="d">-}
</a><a href="#h58-0-24" id="h58-0-24" class="d">-
</a><a href="#h58-0-25" id="h58-0-25" class="d">-// ListComments lists all comments for a gist.
</a><a href="#h58-0-26" id="h58-0-26" class="d">-//
</a><a href="#h58-0-27" id="h58-0-27" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/comments/#list-comments-on-a-gist
</a><a href="#h58-0-28" id="h58-0-28" class="d">-func (s *GistsService) ListComments(gistID string, opt *ListOptions) ([]GistComment, *Response, error) {
</a><a href="#h58-0-29" id="h58-0-29" class="d">-	u := fmt.Sprintf(&quot;gists/%v/comments&quot;, gistID)
</a><a href="#h58-0-30" id="h58-0-30" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h58-0-31" id="h58-0-31" class="d">-	if err != nil {
</a><a href="#h58-0-32" id="h58-0-32" class="d">-		return nil, nil, err
</a><a href="#h58-0-33" id="h58-0-33" class="d">-	}
</a><a href="#h58-0-34" id="h58-0-34" class="d">-
</a><a href="#h58-0-35" id="h58-0-35" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h58-0-36" id="h58-0-36" class="d">-	if err != nil {
</a><a href="#h58-0-37" id="h58-0-37" class="d">-		return nil, nil, err
</a><a href="#h58-0-38" id="h58-0-38" class="d">-	}
</a><a href="#h58-0-39" id="h58-0-39" class="d">-
</a><a href="#h58-0-40" id="h58-0-40" class="d">-	comments := new([]GistComment)
</a><a href="#h58-0-41" id="h58-0-41" class="d">-	resp, err := s.client.Do(req, comments)
</a><a href="#h58-0-42" id="h58-0-42" class="d">-	if err != nil {
</a><a href="#h58-0-43" id="h58-0-43" class="d">-		return nil, resp, err
</a><a href="#h58-0-44" id="h58-0-44" class="d">-	}
</a><a href="#h58-0-45" id="h58-0-45" class="d">-
</a><a href="#h58-0-46" id="h58-0-46" class="d">-	return *comments, resp, err
</a><a href="#h58-0-47" id="h58-0-47" class="d">-}
</a><a href="#h58-0-48" id="h58-0-48" class="d">-
</a><a href="#h58-0-49" id="h58-0-49" class="d">-// GetComment retrieves a single comment from a gist.
</a><a href="#h58-0-50" id="h58-0-50" class="d">-//
</a><a href="#h58-0-51" id="h58-0-51" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/comments/#get-a-single-comment
</a><a href="#h58-0-52" id="h58-0-52" class="d">-func (s *GistsService) GetComment(gistID string, commentID int) (*GistComment, *Response, error) {
</a><a href="#h58-0-53" id="h58-0-53" class="d">-	u := fmt.Sprintf(&quot;gists/%v/comments/%v&quot;, gistID, commentID)
</a><a href="#h58-0-54" id="h58-0-54" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h58-0-55" id="h58-0-55" class="d">-	if err != nil {
</a><a href="#h58-0-56" id="h58-0-56" class="d">-		return nil, nil, err
</a><a href="#h58-0-57" id="h58-0-57" class="d">-	}
</a><a href="#h58-0-58" id="h58-0-58" class="d">-
</a><a href="#h58-0-59" id="h58-0-59" class="d">-	c := new(GistComment)
</a><a href="#h58-0-60" id="h58-0-60" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h58-0-61" id="h58-0-61" class="d">-	if err != nil {
</a><a href="#h58-0-62" id="h58-0-62" class="d">-		return nil, resp, err
</a><a href="#h58-0-63" id="h58-0-63" class="d">-	}
</a><a href="#h58-0-64" id="h58-0-64" class="d">-
</a><a href="#h58-0-65" id="h58-0-65" class="d">-	return c, resp, err
</a><a href="#h58-0-66" id="h58-0-66" class="d">-}
</a><a href="#h58-0-67" id="h58-0-67" class="d">-
</a><a href="#h58-0-68" id="h58-0-68" class="d">-// CreateComment creates a comment for a gist.
</a><a href="#h58-0-69" id="h58-0-69" class="d">-//
</a><a href="#h58-0-70" id="h58-0-70" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/comments/#create-a-comment
</a><a href="#h58-0-71" id="h58-0-71" class="d">-func (s *GistsService) CreateComment(gistID string, comment *GistComment) (*GistComment, *Response, error) {
</a><a href="#h58-0-72" id="h58-0-72" class="d">-	u := fmt.Sprintf(&quot;gists/%v/comments&quot;, gistID)
</a><a href="#h58-0-73" id="h58-0-73" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, comment)
</a><a href="#h58-0-74" id="h58-0-74" class="d">-	if err != nil {
</a><a href="#h58-0-75" id="h58-0-75" class="d">-		return nil, nil, err
</a><a href="#h58-0-76" id="h58-0-76" class="d">-	}
</a><a href="#h58-0-77" id="h58-0-77" class="d">-
</a><a href="#h58-0-78" id="h58-0-78" class="d">-	c := new(GistComment)
</a><a href="#h58-0-79" id="h58-0-79" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h58-0-80" id="h58-0-80" class="d">-	if err != nil {
</a><a href="#h58-0-81" id="h58-0-81" class="d">-		return nil, resp, err
</a><a href="#h58-0-82" id="h58-0-82" class="d">-	}
</a><a href="#h58-0-83" id="h58-0-83" class="d">-
</a><a href="#h58-0-84" id="h58-0-84" class="d">-	return c, resp, err
</a><a href="#h58-0-85" id="h58-0-85" class="d">-}
</a><a href="#h58-0-86" id="h58-0-86" class="d">-
</a><a href="#h58-0-87" id="h58-0-87" class="d">-// EditComment edits an existing gist comment.
</a><a href="#h58-0-88" id="h58-0-88" class="d">-//
</a><a href="#h58-0-89" id="h58-0-89" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/comments/#edit-a-comment
</a><a href="#h58-0-90" id="h58-0-90" class="d">-func (s *GistsService) EditComment(gistID string, commentID int, comment *GistComment) (*GistComment, *Response, error) {
</a><a href="#h58-0-91" id="h58-0-91" class="d">-	u := fmt.Sprintf(&quot;gists/%v/comments/%v&quot;, gistID, commentID)
</a><a href="#h58-0-92" id="h58-0-92" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, comment)
</a><a href="#h58-0-93" id="h58-0-93" class="d">-	if err != nil {
</a><a href="#h58-0-94" id="h58-0-94" class="d">-		return nil, nil, err
</a><a href="#h58-0-95" id="h58-0-95" class="d">-	}
</a><a href="#h58-0-96" id="h58-0-96" class="d">-
</a><a href="#h58-0-97" id="h58-0-97" class="d">-	c := new(GistComment)
</a><a href="#h58-0-98" id="h58-0-98" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h58-0-99" id="h58-0-99" class="d">-	if err != nil {
</a><a href="#h58-0-100" id="h58-0-100" class="d">-		return nil, resp, err
</a><a href="#h58-0-101" id="h58-0-101" class="d">-	}
</a><a href="#h58-0-102" id="h58-0-102" class="d">-
</a><a href="#h58-0-103" id="h58-0-103" class="d">-	return c, resp, err
</a><a href="#h58-0-104" id="h58-0-104" class="d">-}
</a><a href="#h58-0-105" id="h58-0-105" class="d">-
</a><a href="#h58-0-106" id="h58-0-106" class="d">-// DeleteComment deletes a gist comment.
</a><a href="#h58-0-107" id="h58-0-107" class="d">-//
</a><a href="#h58-0-108" id="h58-0-108" class="d">-// GitHub API docs: http://developer.github.com/v3/gists/comments/#delete-a-comment
</a><a href="#h58-0-109" id="h58-0-109" class="d">-func (s *GistsService) DeleteComment(gistID string, commentID int) (*Response, error) {
</a><a href="#h58-0-110" id="h58-0-110" class="d">-	u := fmt.Sprintf(&quot;gists/%v/comments/%v&quot;, gistID, commentID)
</a><a href="#h58-0-111" id="h58-0-111" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h58-0-112" id="h58-0-112" class="d">-	if err != nil {
</a><a href="#h58-0-113" id="h58-0-113" class="d">-		return nil, err
</a><a href="#h58-0-114" id="h58-0-114" class="d">-	}
</a><a href="#h58-0-115" id="h58-0-115" class="d">-
</a><a href="#h58-0-116" id="h58-0-116" class="d">-	return s.client.Do(req, nil)
</a><a href="#h58-0-117" id="h58-0-117" class="d">-}
</a><b>diff --git a/<a id="h59" href="../file/vendor/github.com/google/go-github/github/git.go">vendor/github.com/google/go-github/github/git.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/git.go">vendor/github.com/google/go-github/github/git.go</a></b>
<a href="#h59-0" id="h59-0" class="h">@@ -1,14 +0,0 @@
</a><a href="#h59-0-0" id="h59-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h59-0-1" id="h59-0-1" class="d">-//
</a><a href="#h59-0-2" id="h59-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h59-0-3" id="h59-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h59-0-4" id="h59-0-4" class="d">-
</a><a href="#h59-0-5" id="h59-0-5" class="d">-package github
</a><a href="#h59-0-6" id="h59-0-6" class="d">-
</a><a href="#h59-0-7" id="h59-0-7" class="d">-// GitService handles communication with the git data related
</a><a href="#h59-0-8" id="h59-0-8" class="d">-// methods of the GitHub API.
</a><a href="#h59-0-9" id="h59-0-9" class="d">-//
</a><a href="#h59-0-10" id="h59-0-10" class="d">-// GitHub API docs: http://developer.github.com/v3/git/
</a><a href="#h59-0-11" id="h59-0-11" class="d">-type GitService struct {
</a><a href="#h59-0-12" id="h59-0-12" class="d">-	client *Client
</a><a href="#h59-0-13" id="h59-0-13" class="d">-}
</a><b>diff --git a/<a id="h60" href="../file/vendor/github.com/google/go-github/github/git_blobs.go">vendor/github.com/google/go-github/github/git_blobs.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/git_blobs.go">vendor/github.com/google/go-github/github/git_blobs.go</a></b>
<a href="#h60-0" id="h60-0" class="h">@@ -1,47 +0,0 @@
</a><a href="#h60-0-0" id="h60-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h60-0-1" id="h60-0-1" class="d">-//
</a><a href="#h60-0-2" id="h60-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h60-0-3" id="h60-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h60-0-4" id="h60-0-4" class="d">-
</a><a href="#h60-0-5" id="h60-0-5" class="d">-package github
</a><a href="#h60-0-6" id="h60-0-6" class="d">-
</a><a href="#h60-0-7" id="h60-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h60-0-8" id="h60-0-8" class="d">-
</a><a href="#h60-0-9" id="h60-0-9" class="d">-// Blob represents a blob object.
</a><a href="#h60-0-10" id="h60-0-10" class="d">-type Blob struct {
</a><a href="#h60-0-11" id="h60-0-11" class="d">-	Content  *string `json:&quot;content,omitempty&quot;`
</a><a href="#h60-0-12" id="h60-0-12" class="d">-	Encoding *string `json:&quot;encoding,omitempty&quot;`
</a><a href="#h60-0-13" id="h60-0-13" class="d">-	SHA      *string `json:&quot;sha,omitempty&quot;`
</a><a href="#h60-0-14" id="h60-0-14" class="d">-	Size     *int    `json:&quot;size,omitempty&quot;`
</a><a href="#h60-0-15" id="h60-0-15" class="d">-	URL      *string `json:&quot;url,omitempty&quot;`
</a><a href="#h60-0-16" id="h60-0-16" class="d">-}
</a><a href="#h60-0-17" id="h60-0-17" class="d">-
</a><a href="#h60-0-18" id="h60-0-18" class="d">-// GetBlob fetchs a blob from a repo given a SHA.
</a><a href="#h60-0-19" id="h60-0-19" class="d">-//
</a><a href="#h60-0-20" id="h60-0-20" class="d">-// GitHub API docs: http://developer.github.com/v3/git/blobs/#get-a-blob
</a><a href="#h60-0-21" id="h60-0-21" class="d">-func (s *GitService) GetBlob(owner string, repo string, sha string) (*Blob, *Response, error) {
</a><a href="#h60-0-22" id="h60-0-22" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/blobs/%v&quot;, owner, repo, sha)
</a><a href="#h60-0-23" id="h60-0-23" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h60-0-24" id="h60-0-24" class="d">-	if err != nil {
</a><a href="#h60-0-25" id="h60-0-25" class="d">-		return nil, nil, err
</a><a href="#h60-0-26" id="h60-0-26" class="d">-	}
</a><a href="#h60-0-27" id="h60-0-27" class="d">-
</a><a href="#h60-0-28" id="h60-0-28" class="d">-	blob := new(Blob)
</a><a href="#h60-0-29" id="h60-0-29" class="d">-	resp, err := s.client.Do(req, blob)
</a><a href="#h60-0-30" id="h60-0-30" class="d">-	return blob, resp, err
</a><a href="#h60-0-31" id="h60-0-31" class="d">-}
</a><a href="#h60-0-32" id="h60-0-32" class="d">-
</a><a href="#h60-0-33" id="h60-0-33" class="d">-// CreateBlob creates a blob object.
</a><a href="#h60-0-34" id="h60-0-34" class="d">-//
</a><a href="#h60-0-35" id="h60-0-35" class="d">-// GitHub API docs: https://developer.github.com/v3/git/blobs/#create-a-blob
</a><a href="#h60-0-36" id="h60-0-36" class="d">-func (s *GitService) CreateBlob(owner string, repo string, blob *Blob) (*Blob, *Response, error) {
</a><a href="#h60-0-37" id="h60-0-37" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/blobs&quot;, owner, repo)
</a><a href="#h60-0-38" id="h60-0-38" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, blob)
</a><a href="#h60-0-39" id="h60-0-39" class="d">-	if err != nil {
</a><a href="#h60-0-40" id="h60-0-40" class="d">-		return nil, nil, err
</a><a href="#h60-0-41" id="h60-0-41" class="d">-	}
</a><a href="#h60-0-42" id="h60-0-42" class="d">-
</a><a href="#h60-0-43" id="h60-0-43" class="d">-	t := new(Blob)
</a><a href="#h60-0-44" id="h60-0-44" class="d">-	resp, err := s.client.Do(req, t)
</a><a href="#h60-0-45" id="h60-0-45" class="d">-	return t, resp, err
</a><a href="#h60-0-46" id="h60-0-46" class="d">-}
</a><b>diff --git a/<a id="h61" href="../file/vendor/github.com/google/go-github/github/git_commits.go">vendor/github.com/google/go-github/github/git_commits.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/git_commits.go">vendor/github.com/google/go-github/github/git_commits.go</a></b>
<a href="#h61-0" id="h61-0" class="h">@@ -1,115 +0,0 @@
</a><a href="#h61-0-0" id="h61-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h61-0-1" id="h61-0-1" class="d">-//
</a><a href="#h61-0-2" id="h61-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h61-0-3" id="h61-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h61-0-4" id="h61-0-4" class="d">-
</a><a href="#h61-0-5" id="h61-0-5" class="d">-package github
</a><a href="#h61-0-6" id="h61-0-6" class="d">-
</a><a href="#h61-0-7" id="h61-0-7" class="d">-import (
</a><a href="#h61-0-8" id="h61-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h61-0-9" id="h61-0-9" class="d">-	&quot;time&quot;
</a><a href="#h61-0-10" id="h61-0-10" class="d">-)
</a><a href="#h61-0-11" id="h61-0-11" class="d">-
</a><a href="#h61-0-12" id="h61-0-12" class="d">-// Commit represents a GitHub commit.
</a><a href="#h61-0-13" id="h61-0-13" class="d">-type Commit struct {
</a><a href="#h61-0-14" id="h61-0-14" class="d">-	SHA       *string       `json:&quot;sha,omitempty&quot;`
</a><a href="#h61-0-15" id="h61-0-15" class="d">-	Author    *CommitAuthor `json:&quot;author,omitempty&quot;`
</a><a href="#h61-0-16" id="h61-0-16" class="d">-	Committer *CommitAuthor `json:&quot;committer,omitempty&quot;`
</a><a href="#h61-0-17" id="h61-0-17" class="d">-	Message   *string       `json:&quot;message,omitempty&quot;`
</a><a href="#h61-0-18" id="h61-0-18" class="d">-	Tree      *Tree         `json:&quot;tree,omitempty&quot;`
</a><a href="#h61-0-19" id="h61-0-19" class="d">-	Parents   []Commit      `json:&quot;parents,omitempty&quot;`
</a><a href="#h61-0-20" id="h61-0-20" class="d">-	Stats     *CommitStats  `json:&quot;stats,omitempty&quot;`
</a><a href="#h61-0-21" id="h61-0-21" class="d">-	URL       *string       `json:&quot;url,omitempty&quot;`
</a><a href="#h61-0-22" id="h61-0-22" class="d">-
</a><a href="#h61-0-23" id="h61-0-23" class="d">-	// CommentCount is the number of GitHub comments on the commit.  This
</a><a href="#h61-0-24" id="h61-0-24" class="d">-	// is only populated for requests that fetch GitHub data like
</a><a href="#h61-0-25" id="h61-0-25" class="d">-	// Pulls.ListCommits, Repositories.ListCommits, etc.
</a><a href="#h61-0-26" id="h61-0-26" class="d">-	CommentCount *int `json:&quot;comment_count,omitempty&quot;`
</a><a href="#h61-0-27" id="h61-0-27" class="d">-}
</a><a href="#h61-0-28" id="h61-0-28" class="d">-
</a><a href="#h61-0-29" id="h61-0-29" class="d">-func (c Commit) String() string {
</a><a href="#h61-0-30" id="h61-0-30" class="d">-	return Stringify(c)
</a><a href="#h61-0-31" id="h61-0-31" class="d">-}
</a><a href="#h61-0-32" id="h61-0-32" class="d">-
</a><a href="#h61-0-33" id="h61-0-33" class="d">-// CommitAuthor represents the author or committer of a commit.  The commit
</a><a href="#h61-0-34" id="h61-0-34" class="d">-// author may not correspond to a GitHub User.
</a><a href="#h61-0-35" id="h61-0-35" class="d">-type CommitAuthor struct {
</a><a href="#h61-0-36" id="h61-0-36" class="d">-	Date  *time.Time `json:&quot;date,omitempty&quot;`
</a><a href="#h61-0-37" id="h61-0-37" class="d">-	Name  *string    `json:&quot;name,omitempty&quot;`
</a><a href="#h61-0-38" id="h61-0-38" class="d">-	Email *string    `json:&quot;email,omitempty&quot;`
</a><a href="#h61-0-39" id="h61-0-39" class="d">-
</a><a href="#h61-0-40" id="h61-0-40" class="d">-	// The following fields are only populated by Webhook events.
</a><a href="#h61-0-41" id="h61-0-41" class="d">-	Login *string `json:&quot;username,omitempty&quot;` // Renamed for go-github consistency.
</a><a href="#h61-0-42" id="h61-0-42" class="d">-}
</a><a href="#h61-0-43" id="h61-0-43" class="d">-
</a><a href="#h61-0-44" id="h61-0-44" class="d">-func (c CommitAuthor) String() string {
</a><a href="#h61-0-45" id="h61-0-45" class="d">-	return Stringify(c)
</a><a href="#h61-0-46" id="h61-0-46" class="d">-}
</a><a href="#h61-0-47" id="h61-0-47" class="d">-
</a><a href="#h61-0-48" id="h61-0-48" class="d">-// GetCommit fetchs the Commit object for a given SHA.
</a><a href="#h61-0-49" id="h61-0-49" class="d">-//
</a><a href="#h61-0-50" id="h61-0-50" class="d">-// GitHub API docs: http://developer.github.com/v3/git/commits/#get-a-commit
</a><a href="#h61-0-51" id="h61-0-51" class="d">-func (s *GitService) GetCommit(owner string, repo string, sha string) (*Commit, *Response, error) {
</a><a href="#h61-0-52" id="h61-0-52" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/commits/%v&quot;, owner, repo, sha)
</a><a href="#h61-0-53" id="h61-0-53" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h61-0-54" id="h61-0-54" class="d">-	if err != nil {
</a><a href="#h61-0-55" id="h61-0-55" class="d">-		return nil, nil, err
</a><a href="#h61-0-56" id="h61-0-56" class="d">-	}
</a><a href="#h61-0-57" id="h61-0-57" class="d">-
</a><a href="#h61-0-58" id="h61-0-58" class="d">-	c := new(Commit)
</a><a href="#h61-0-59" id="h61-0-59" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h61-0-60" id="h61-0-60" class="d">-	if err != nil {
</a><a href="#h61-0-61" id="h61-0-61" class="d">-		return nil, resp, err
</a><a href="#h61-0-62" id="h61-0-62" class="d">-	}
</a><a href="#h61-0-63" id="h61-0-63" class="d">-
</a><a href="#h61-0-64" id="h61-0-64" class="d">-	return c, resp, err
</a><a href="#h61-0-65" id="h61-0-65" class="d">-}
</a><a href="#h61-0-66" id="h61-0-66" class="d">-
</a><a href="#h61-0-67" id="h61-0-67" class="d">-// createCommit represents the body of a CreateCommit request.
</a><a href="#h61-0-68" id="h61-0-68" class="d">-type createCommit struct {
</a><a href="#h61-0-69" id="h61-0-69" class="d">-	Author    *CommitAuthor `json:&quot;author,omitempty&quot;`
</a><a href="#h61-0-70" id="h61-0-70" class="d">-	Committer *CommitAuthor `json:&quot;committer,omitempty&quot;`
</a><a href="#h61-0-71" id="h61-0-71" class="d">-	Message   *string       `json:&quot;message,omitempty&quot;`
</a><a href="#h61-0-72" id="h61-0-72" class="d">-	Tree      *string       `json:&quot;tree,omitempty&quot;`
</a><a href="#h61-0-73" id="h61-0-73" class="d">-	Parents   []string      `json:&quot;parents,omitempty&quot;`
</a><a href="#h61-0-74" id="h61-0-74" class="d">-}
</a><a href="#h61-0-75" id="h61-0-75" class="d">-
</a><a href="#h61-0-76" id="h61-0-76" class="d">-// CreateCommit creates a new commit in a repository.
</a><a href="#h61-0-77" id="h61-0-77" class="d">-//
</a><a href="#h61-0-78" id="h61-0-78" class="d">-// The commit.Committer is optional and will be filled with the commit.Author
</a><a href="#h61-0-79" id="h61-0-79" class="d">-// data if omitted. If the commit.Author is omitted, it will be filled in with
</a><a href="#h61-0-80" id="h61-0-80" class="d">-// the authenticated users information and the current date.
</a><a href="#h61-0-81" id="h61-0-81" class="d">-//
</a><a href="#h61-0-82" id="h61-0-82" class="d">-// GitHub API docs: http://developer.github.com/v3/git/commits/#create-a-commit
</a><a href="#h61-0-83" id="h61-0-83" class="d">-func (s *GitService) CreateCommit(owner string, repo string, commit *Commit) (*Commit, *Response, error) {
</a><a href="#h61-0-84" id="h61-0-84" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/commits&quot;, owner, repo)
</a><a href="#h61-0-85" id="h61-0-85" class="d">-
</a><a href="#h61-0-86" id="h61-0-86" class="d">-	body := &amp;createCommit{}
</a><a href="#h61-0-87" id="h61-0-87" class="d">-	if commit != nil {
</a><a href="#h61-0-88" id="h61-0-88" class="d">-		parents := make([]string, len(commit.Parents))
</a><a href="#h61-0-89" id="h61-0-89" class="d">-		for i, parent := range commit.Parents {
</a><a href="#h61-0-90" id="h61-0-90" class="d">-			parents[i] = *parent.SHA
</a><a href="#h61-0-91" id="h61-0-91" class="d">-		}
</a><a href="#h61-0-92" id="h61-0-92" class="d">-
</a><a href="#h61-0-93" id="h61-0-93" class="d">-		body = &amp;createCommit{
</a><a href="#h61-0-94" id="h61-0-94" class="d">-			Author:    commit.Author,
</a><a href="#h61-0-95" id="h61-0-95" class="d">-			Committer: commit.Committer,
</a><a href="#h61-0-96" id="h61-0-96" class="d">-			Message:   commit.Message,
</a><a href="#h61-0-97" id="h61-0-97" class="d">-			Tree:      commit.Tree.SHA,
</a><a href="#h61-0-98" id="h61-0-98" class="d">-			Parents:   parents,
</a><a href="#h61-0-99" id="h61-0-99" class="d">-		}
</a><a href="#h61-0-100" id="h61-0-100" class="d">-	}
</a><a href="#h61-0-101" id="h61-0-101" class="d">-
</a><a href="#h61-0-102" id="h61-0-102" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, body)
</a><a href="#h61-0-103" id="h61-0-103" class="d">-	if err != nil {
</a><a href="#h61-0-104" id="h61-0-104" class="d">-		return nil, nil, err
</a><a href="#h61-0-105" id="h61-0-105" class="d">-	}
</a><a href="#h61-0-106" id="h61-0-106" class="d">-
</a><a href="#h61-0-107" id="h61-0-107" class="d">-	c := new(Commit)
</a><a href="#h61-0-108" id="h61-0-108" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h61-0-109" id="h61-0-109" class="d">-	if err != nil {
</a><a href="#h61-0-110" id="h61-0-110" class="d">-		return nil, resp, err
</a><a href="#h61-0-111" id="h61-0-111" class="d">-	}
</a><a href="#h61-0-112" id="h61-0-112" class="d">-
</a><a href="#h61-0-113" id="h61-0-113" class="d">-	return c, resp, err
</a><a href="#h61-0-114" id="h61-0-114" class="d">-}
</a><b>diff --git a/<a id="h62" href="../file/vendor/github.com/google/go-github/github/git_refs.go">vendor/github.com/google/go-github/github/git_refs.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/git_refs.go">vendor/github.com/google/go-github/github/git_refs.go</a></b>
<a href="#h62-0" id="h62-0" class="h">@@ -1,162 +0,0 @@
</a><a href="#h62-0-0" id="h62-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h62-0-1" id="h62-0-1" class="d">-//
</a><a href="#h62-0-2" id="h62-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h62-0-3" id="h62-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h62-0-4" id="h62-0-4" class="d">-
</a><a href="#h62-0-5" id="h62-0-5" class="d">-package github
</a><a href="#h62-0-6" id="h62-0-6" class="d">-
</a><a href="#h62-0-7" id="h62-0-7" class="d">-import (
</a><a href="#h62-0-8" id="h62-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h62-0-9" id="h62-0-9" class="d">-	&quot;strings&quot;
</a><a href="#h62-0-10" id="h62-0-10" class="d">-)
</a><a href="#h62-0-11" id="h62-0-11" class="d">-
</a><a href="#h62-0-12" id="h62-0-12" class="d">-// Reference represents a GitHub reference.
</a><a href="#h62-0-13" id="h62-0-13" class="d">-type Reference struct {
</a><a href="#h62-0-14" id="h62-0-14" class="d">-	Ref    *string    `json:&quot;ref&quot;`
</a><a href="#h62-0-15" id="h62-0-15" class="d">-	URL    *string    `json:&quot;url&quot;`
</a><a href="#h62-0-16" id="h62-0-16" class="d">-	Object *GitObject `json:&quot;object&quot;`
</a><a href="#h62-0-17" id="h62-0-17" class="d">-}
</a><a href="#h62-0-18" id="h62-0-18" class="d">-
</a><a href="#h62-0-19" id="h62-0-19" class="d">-func (r Reference) String() string {
</a><a href="#h62-0-20" id="h62-0-20" class="d">-	return Stringify(r)
</a><a href="#h62-0-21" id="h62-0-21" class="d">-}
</a><a href="#h62-0-22" id="h62-0-22" class="d">-
</a><a href="#h62-0-23" id="h62-0-23" class="d">-// GitObject represents a Git object.
</a><a href="#h62-0-24" id="h62-0-24" class="d">-type GitObject struct {
</a><a href="#h62-0-25" id="h62-0-25" class="d">-	Type *string `json:&quot;type&quot;`
</a><a href="#h62-0-26" id="h62-0-26" class="d">-	SHA  *string `json:&quot;sha&quot;`
</a><a href="#h62-0-27" id="h62-0-27" class="d">-	URL  *string `json:&quot;url&quot;`
</a><a href="#h62-0-28" id="h62-0-28" class="d">-}
</a><a href="#h62-0-29" id="h62-0-29" class="d">-
</a><a href="#h62-0-30" id="h62-0-30" class="d">-func (o GitObject) String() string {
</a><a href="#h62-0-31" id="h62-0-31" class="d">-	return Stringify(o)
</a><a href="#h62-0-32" id="h62-0-32" class="d">-}
</a><a href="#h62-0-33" id="h62-0-33" class="d">-
</a><a href="#h62-0-34" id="h62-0-34" class="d">-// createRefRequest represents the payload for creating a reference.
</a><a href="#h62-0-35" id="h62-0-35" class="d">-type createRefRequest struct {
</a><a href="#h62-0-36" id="h62-0-36" class="d">-	Ref *string `json:&quot;ref&quot;`
</a><a href="#h62-0-37" id="h62-0-37" class="d">-	SHA *string `json:&quot;sha&quot;`
</a><a href="#h62-0-38" id="h62-0-38" class="d">-}
</a><a href="#h62-0-39" id="h62-0-39" class="d">-
</a><a href="#h62-0-40" id="h62-0-40" class="d">-// updateRefRequest represents the payload for updating a reference.
</a><a href="#h62-0-41" id="h62-0-41" class="d">-type updateRefRequest struct {
</a><a href="#h62-0-42" id="h62-0-42" class="d">-	SHA   *string `json:&quot;sha&quot;`
</a><a href="#h62-0-43" id="h62-0-43" class="d">-	Force *bool   `json:&quot;force&quot;`
</a><a href="#h62-0-44" id="h62-0-44" class="d">-}
</a><a href="#h62-0-45" id="h62-0-45" class="d">-
</a><a href="#h62-0-46" id="h62-0-46" class="d">-// GetRef fetches the Reference object for a given Git ref.
</a><a href="#h62-0-47" id="h62-0-47" class="d">-//
</a><a href="#h62-0-48" id="h62-0-48" class="d">-// GitHub API docs: http://developer.github.com/v3/git/refs/#get-a-reference
</a><a href="#h62-0-49" id="h62-0-49" class="d">-func (s *GitService) GetRef(owner string, repo string, ref string) (*Reference, *Response, error) {
</a><a href="#h62-0-50" id="h62-0-50" class="d">-	ref = strings.TrimPrefix(ref, &quot;refs/&quot;)
</a><a href="#h62-0-51" id="h62-0-51" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/refs/%v&quot;, owner, repo, ref)
</a><a href="#h62-0-52" id="h62-0-52" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h62-0-53" id="h62-0-53" class="d">-	if err != nil {
</a><a href="#h62-0-54" id="h62-0-54" class="d">-		return nil, nil, err
</a><a href="#h62-0-55" id="h62-0-55" class="d">-	}
</a><a href="#h62-0-56" id="h62-0-56" class="d">-
</a><a href="#h62-0-57" id="h62-0-57" class="d">-	r := new(Reference)
</a><a href="#h62-0-58" id="h62-0-58" class="d">-	resp, err := s.client.Do(req, r)
</a><a href="#h62-0-59" id="h62-0-59" class="d">-	if err != nil {
</a><a href="#h62-0-60" id="h62-0-60" class="d">-		return nil, resp, err
</a><a href="#h62-0-61" id="h62-0-61" class="d">-	}
</a><a href="#h62-0-62" id="h62-0-62" class="d">-
</a><a href="#h62-0-63" id="h62-0-63" class="d">-	return r, resp, err
</a><a href="#h62-0-64" id="h62-0-64" class="d">-}
</a><a href="#h62-0-65" id="h62-0-65" class="d">-
</a><a href="#h62-0-66" id="h62-0-66" class="d">-// ReferenceListOptions specifies optional parameters to the
</a><a href="#h62-0-67" id="h62-0-67" class="d">-// GitService.ListRefs method.
</a><a href="#h62-0-68" id="h62-0-68" class="d">-type ReferenceListOptions struct {
</a><a href="#h62-0-69" id="h62-0-69" class="d">-	Type string `url:&quot;-&quot;`
</a><a href="#h62-0-70" id="h62-0-70" class="d">-
</a><a href="#h62-0-71" id="h62-0-71" class="d">-	ListOptions
</a><a href="#h62-0-72" id="h62-0-72" class="d">-}
</a><a href="#h62-0-73" id="h62-0-73" class="d">-
</a><a href="#h62-0-74" id="h62-0-74" class="d">-// ListRefs lists all refs in a repository.
</a><a href="#h62-0-75" id="h62-0-75" class="d">-//
</a><a href="#h62-0-76" id="h62-0-76" class="d">-// GitHub API docs: http://developer.github.com/v3/git/refs/#get-all-references
</a><a href="#h62-0-77" id="h62-0-77" class="d">-func (s *GitService) ListRefs(owner, repo string, opt *ReferenceListOptions) ([]Reference, *Response, error) {
</a><a href="#h62-0-78" id="h62-0-78" class="d">-	var u string
</a><a href="#h62-0-79" id="h62-0-79" class="d">-	if opt != nil &amp;&amp; opt.Type != &quot;&quot; {
</a><a href="#h62-0-80" id="h62-0-80" class="d">-		u = fmt.Sprintf(&quot;repos/%v/%v/git/refs/%v&quot;, owner, repo, opt.Type)
</a><a href="#h62-0-81" id="h62-0-81" class="d">-	} else {
</a><a href="#h62-0-82" id="h62-0-82" class="d">-		u = fmt.Sprintf(&quot;repos/%v/%v/git/refs&quot;, owner, repo)
</a><a href="#h62-0-83" id="h62-0-83" class="d">-	}
</a><a href="#h62-0-84" id="h62-0-84" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h62-0-85" id="h62-0-85" class="d">-	if err != nil {
</a><a href="#h62-0-86" id="h62-0-86" class="d">-		return nil, nil, err
</a><a href="#h62-0-87" id="h62-0-87" class="d">-	}
</a><a href="#h62-0-88" id="h62-0-88" class="d">-
</a><a href="#h62-0-89" id="h62-0-89" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h62-0-90" id="h62-0-90" class="d">-	if err != nil {
</a><a href="#h62-0-91" id="h62-0-91" class="d">-		return nil, nil, err
</a><a href="#h62-0-92" id="h62-0-92" class="d">-	}
</a><a href="#h62-0-93" id="h62-0-93" class="d">-
</a><a href="#h62-0-94" id="h62-0-94" class="d">-	var rs []Reference
</a><a href="#h62-0-95" id="h62-0-95" class="d">-	resp, err := s.client.Do(req, &amp;rs)
</a><a href="#h62-0-96" id="h62-0-96" class="d">-	if err != nil {
</a><a href="#h62-0-97" id="h62-0-97" class="d">-		return nil, resp, err
</a><a href="#h62-0-98" id="h62-0-98" class="d">-	}
</a><a href="#h62-0-99" id="h62-0-99" class="d">-
</a><a href="#h62-0-100" id="h62-0-100" class="d">-	return rs, resp, err
</a><a href="#h62-0-101" id="h62-0-101" class="d">-}
</a><a href="#h62-0-102" id="h62-0-102" class="d">-
</a><a href="#h62-0-103" id="h62-0-103" class="d">-// CreateRef creates a new ref in a repository.
</a><a href="#h62-0-104" id="h62-0-104" class="d">-//
</a><a href="#h62-0-105" id="h62-0-105" class="d">-// GitHub API docs: http://developer.github.com/v3/git/refs/#create-a-reference
</a><a href="#h62-0-106" id="h62-0-106" class="d">-func (s *GitService) CreateRef(owner string, repo string, ref *Reference) (*Reference, *Response, error) {
</a><a href="#h62-0-107" id="h62-0-107" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/refs&quot;, owner, repo)
</a><a href="#h62-0-108" id="h62-0-108" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, &amp;createRefRequest{
</a><a href="#h62-0-109" id="h62-0-109" class="d">-		// back-compat with previous behavior that didn&#39;t require &#39;refs/&#39; prefix
</a><a href="#h62-0-110" id="h62-0-110" class="d">-		Ref: String(&quot;refs/&quot; + strings.TrimPrefix(*ref.Ref, &quot;refs/&quot;)),
</a><a href="#h62-0-111" id="h62-0-111" class="d">-		SHA: ref.Object.SHA,
</a><a href="#h62-0-112" id="h62-0-112" class="d">-	})
</a><a href="#h62-0-113" id="h62-0-113" class="d">-	if err != nil {
</a><a href="#h62-0-114" id="h62-0-114" class="d">-		return nil, nil, err
</a><a href="#h62-0-115" id="h62-0-115" class="d">-	}
</a><a href="#h62-0-116" id="h62-0-116" class="d">-
</a><a href="#h62-0-117" id="h62-0-117" class="d">-	r := new(Reference)
</a><a href="#h62-0-118" id="h62-0-118" class="d">-	resp, err := s.client.Do(req, r)
</a><a href="#h62-0-119" id="h62-0-119" class="d">-	if err != nil {
</a><a href="#h62-0-120" id="h62-0-120" class="d">-		return nil, resp, err
</a><a href="#h62-0-121" id="h62-0-121" class="d">-	}
</a><a href="#h62-0-122" id="h62-0-122" class="d">-
</a><a href="#h62-0-123" id="h62-0-123" class="d">-	return r, resp, err
</a><a href="#h62-0-124" id="h62-0-124" class="d">-}
</a><a href="#h62-0-125" id="h62-0-125" class="d">-
</a><a href="#h62-0-126" id="h62-0-126" class="d">-// UpdateRef updates an existing ref in a repository.
</a><a href="#h62-0-127" id="h62-0-127" class="d">-//
</a><a href="#h62-0-128" id="h62-0-128" class="d">-// GitHub API docs: http://developer.github.com/v3/git/refs/#update-a-reference
</a><a href="#h62-0-129" id="h62-0-129" class="d">-func (s *GitService) UpdateRef(owner string, repo string, ref *Reference, force bool) (*Reference, *Response, error) {
</a><a href="#h62-0-130" id="h62-0-130" class="d">-	refPath := strings.TrimPrefix(*ref.Ref, &quot;refs/&quot;)
</a><a href="#h62-0-131" id="h62-0-131" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/refs/%v&quot;, owner, repo, refPath)
</a><a href="#h62-0-132" id="h62-0-132" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, &amp;updateRefRequest{
</a><a href="#h62-0-133" id="h62-0-133" class="d">-		SHA:   ref.Object.SHA,
</a><a href="#h62-0-134" id="h62-0-134" class="d">-		Force: &amp;force,
</a><a href="#h62-0-135" id="h62-0-135" class="d">-	})
</a><a href="#h62-0-136" id="h62-0-136" class="d">-	if err != nil {
</a><a href="#h62-0-137" id="h62-0-137" class="d">-		return nil, nil, err
</a><a href="#h62-0-138" id="h62-0-138" class="d">-	}
</a><a href="#h62-0-139" id="h62-0-139" class="d">-
</a><a href="#h62-0-140" id="h62-0-140" class="d">-	r := new(Reference)
</a><a href="#h62-0-141" id="h62-0-141" class="d">-	resp, err := s.client.Do(req, r)
</a><a href="#h62-0-142" id="h62-0-142" class="d">-	if err != nil {
</a><a href="#h62-0-143" id="h62-0-143" class="d">-		return nil, resp, err
</a><a href="#h62-0-144" id="h62-0-144" class="d">-	}
</a><a href="#h62-0-145" id="h62-0-145" class="d">-
</a><a href="#h62-0-146" id="h62-0-146" class="d">-	return r, resp, err
</a><a href="#h62-0-147" id="h62-0-147" class="d">-}
</a><a href="#h62-0-148" id="h62-0-148" class="d">-
</a><a href="#h62-0-149" id="h62-0-149" class="d">-// DeleteRef deletes a ref from a repository.
</a><a href="#h62-0-150" id="h62-0-150" class="d">-//
</a><a href="#h62-0-151" id="h62-0-151" class="d">-// GitHub API docs: http://developer.github.com/v3/git/refs/#delete-a-reference
</a><a href="#h62-0-152" id="h62-0-152" class="d">-func (s *GitService) DeleteRef(owner string, repo string, ref string) (*Response, error) {
</a><a href="#h62-0-153" id="h62-0-153" class="d">-	ref = strings.TrimPrefix(ref, &quot;refs/&quot;)
</a><a href="#h62-0-154" id="h62-0-154" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/refs/%v&quot;, owner, repo, ref)
</a><a href="#h62-0-155" id="h62-0-155" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h62-0-156" id="h62-0-156" class="d">-	if err != nil {
</a><a href="#h62-0-157" id="h62-0-157" class="d">-		return nil, err
</a><a href="#h62-0-158" id="h62-0-158" class="d">-	}
</a><a href="#h62-0-159" id="h62-0-159" class="d">-
</a><a href="#h62-0-160" id="h62-0-160" class="d">-	return s.client.Do(req, nil)
</a><a href="#h62-0-161" id="h62-0-161" class="d">-}
</a><b>diff --git a/<a id="h63" href="../file/vendor/github.com/google/go-github/github/git_tags.go">vendor/github.com/google/go-github/github/git_tags.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/git_tags.go">vendor/github.com/google/go-github/github/git_tags.go</a></b>
<a href="#h63-0" id="h63-0" class="h">@@ -1,73 +0,0 @@
</a><a href="#h63-0-0" id="h63-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h63-0-1" id="h63-0-1" class="d">-//
</a><a href="#h63-0-2" id="h63-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h63-0-3" id="h63-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h63-0-4" id="h63-0-4" class="d">-
</a><a href="#h63-0-5" id="h63-0-5" class="d">-package github
</a><a href="#h63-0-6" id="h63-0-6" class="d">-
</a><a href="#h63-0-7" id="h63-0-7" class="d">-import (
</a><a href="#h63-0-8" id="h63-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h63-0-9" id="h63-0-9" class="d">-)
</a><a href="#h63-0-10" id="h63-0-10" class="d">-
</a><a href="#h63-0-11" id="h63-0-11" class="d">-// Tag represents a tag object.
</a><a href="#h63-0-12" id="h63-0-12" class="d">-type Tag struct {
</a><a href="#h63-0-13" id="h63-0-13" class="d">-	Tag     *string       `json:&quot;tag,omitempty&quot;`
</a><a href="#h63-0-14" id="h63-0-14" class="d">-	SHA     *string       `json:&quot;sha,omitempty&quot;`
</a><a href="#h63-0-15" id="h63-0-15" class="d">-	URL     *string       `json:&quot;url,omitempty&quot;`
</a><a href="#h63-0-16" id="h63-0-16" class="d">-	Message *string       `json:&quot;message,omitempty&quot;`
</a><a href="#h63-0-17" id="h63-0-17" class="d">-	Tagger  *CommitAuthor `json:&quot;tagger,omitempty&quot;`
</a><a href="#h63-0-18" id="h63-0-18" class="d">-	Object  *GitObject    `json:&quot;object,omitempty&quot;`
</a><a href="#h63-0-19" id="h63-0-19" class="d">-}
</a><a href="#h63-0-20" id="h63-0-20" class="d">-
</a><a href="#h63-0-21" id="h63-0-21" class="d">-// createTagRequest represents the body of a CreateTag request.  This is mostly
</a><a href="#h63-0-22" id="h63-0-22" class="d">-// identical to Tag with the exception that the object SHA and Type are
</a><a href="#h63-0-23" id="h63-0-23" class="d">-// top-level fields, rather than being nested inside a JSON object.
</a><a href="#h63-0-24" id="h63-0-24" class="d">-type createTagRequest struct {
</a><a href="#h63-0-25" id="h63-0-25" class="d">-	Tag     *string       `json:&quot;tag,omitempty&quot;`
</a><a href="#h63-0-26" id="h63-0-26" class="d">-	Message *string       `json:&quot;message,omitempty&quot;`
</a><a href="#h63-0-27" id="h63-0-27" class="d">-	Object  *string       `json:&quot;object,omitempty&quot;`
</a><a href="#h63-0-28" id="h63-0-28" class="d">-	Type    *string       `json:&quot;type,omitempty&quot;`
</a><a href="#h63-0-29" id="h63-0-29" class="d">-	Tagger  *CommitAuthor `json:&quot;tagger,omitempty&quot;`
</a><a href="#h63-0-30" id="h63-0-30" class="d">-}
</a><a href="#h63-0-31" id="h63-0-31" class="d">-
</a><a href="#h63-0-32" id="h63-0-32" class="d">-// GetTag fetchs a tag from a repo given a SHA.
</a><a href="#h63-0-33" id="h63-0-33" class="d">-//
</a><a href="#h63-0-34" id="h63-0-34" class="d">-// GitHub API docs: http://developer.github.com/v3/git/tags/#get-a-tag
</a><a href="#h63-0-35" id="h63-0-35" class="d">-func (s *GitService) GetTag(owner string, repo string, sha string) (*Tag, *Response, error) {
</a><a href="#h63-0-36" id="h63-0-36" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/tags/%v&quot;, owner, repo, sha)
</a><a href="#h63-0-37" id="h63-0-37" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h63-0-38" id="h63-0-38" class="d">-	if err != nil {
</a><a href="#h63-0-39" id="h63-0-39" class="d">-		return nil, nil, err
</a><a href="#h63-0-40" id="h63-0-40" class="d">-	}
</a><a href="#h63-0-41" id="h63-0-41" class="d">-
</a><a href="#h63-0-42" id="h63-0-42" class="d">-	tag := new(Tag)
</a><a href="#h63-0-43" id="h63-0-43" class="d">-	resp, err := s.client.Do(req, tag)
</a><a href="#h63-0-44" id="h63-0-44" class="d">-	return tag, resp, err
</a><a href="#h63-0-45" id="h63-0-45" class="d">-}
</a><a href="#h63-0-46" id="h63-0-46" class="d">-
</a><a href="#h63-0-47" id="h63-0-47" class="d">-// CreateTag creates a tag object.
</a><a href="#h63-0-48" id="h63-0-48" class="d">-//
</a><a href="#h63-0-49" id="h63-0-49" class="d">-// GitHub API docs: http://developer.github.com/v3/git/tags/#create-a-tag-object
</a><a href="#h63-0-50" id="h63-0-50" class="d">-func (s *GitService) CreateTag(owner string, repo string, tag *Tag) (*Tag, *Response, error) {
</a><a href="#h63-0-51" id="h63-0-51" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/tags&quot;, owner, repo)
</a><a href="#h63-0-52" id="h63-0-52" class="d">-
</a><a href="#h63-0-53" id="h63-0-53" class="d">-	// convert Tag into a createTagRequest
</a><a href="#h63-0-54" id="h63-0-54" class="d">-	tagRequest := &amp;createTagRequest{
</a><a href="#h63-0-55" id="h63-0-55" class="d">-		Tag:     tag.Tag,
</a><a href="#h63-0-56" id="h63-0-56" class="d">-		Message: tag.Message,
</a><a href="#h63-0-57" id="h63-0-57" class="d">-		Tagger:  tag.Tagger,
</a><a href="#h63-0-58" id="h63-0-58" class="d">-	}
</a><a href="#h63-0-59" id="h63-0-59" class="d">-	if tag.Object != nil {
</a><a href="#h63-0-60" id="h63-0-60" class="d">-		tagRequest.Object = tag.Object.SHA
</a><a href="#h63-0-61" id="h63-0-61" class="d">-		tagRequest.Type = tag.Object.Type
</a><a href="#h63-0-62" id="h63-0-62" class="d">-	}
</a><a href="#h63-0-63" id="h63-0-63" class="d">-
</a><a href="#h63-0-64" id="h63-0-64" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, tagRequest)
</a><a href="#h63-0-65" id="h63-0-65" class="d">-	if err != nil {
</a><a href="#h63-0-66" id="h63-0-66" class="d">-		return nil, nil, err
</a><a href="#h63-0-67" id="h63-0-67" class="d">-	}
</a><a href="#h63-0-68" id="h63-0-68" class="d">-
</a><a href="#h63-0-69" id="h63-0-69" class="d">-	t := new(Tag)
</a><a href="#h63-0-70" id="h63-0-70" class="d">-	resp, err := s.client.Do(req, t)
</a><a href="#h63-0-71" id="h63-0-71" class="d">-	return t, resp, err
</a><a href="#h63-0-72" id="h63-0-72" class="d">-}
</a><b>diff --git a/<a id="h64" href="../file/vendor/github.com/google/go-github/github/git_trees.go">vendor/github.com/google/go-github/github/git_trees.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/git_trees.go">vendor/github.com/google/go-github/github/git_trees.go</a></b>
<a href="#h64-0" id="h64-0" class="h">@@ -1,89 +0,0 @@
</a><a href="#h64-0-0" id="h64-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h64-0-1" id="h64-0-1" class="d">-//
</a><a href="#h64-0-2" id="h64-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h64-0-3" id="h64-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h64-0-4" id="h64-0-4" class="d">-
</a><a href="#h64-0-5" id="h64-0-5" class="d">-package github
</a><a href="#h64-0-6" id="h64-0-6" class="d">-
</a><a href="#h64-0-7" id="h64-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h64-0-8" id="h64-0-8" class="d">-
</a><a href="#h64-0-9" id="h64-0-9" class="d">-// Tree represents a GitHub tree.
</a><a href="#h64-0-10" id="h64-0-10" class="d">-type Tree struct {
</a><a href="#h64-0-11" id="h64-0-11" class="d">-	SHA     *string     `json:&quot;sha,omitempty&quot;`
</a><a href="#h64-0-12" id="h64-0-12" class="d">-	Entries []TreeEntry `json:&quot;tree,omitempty&quot;`
</a><a href="#h64-0-13" id="h64-0-13" class="d">-}
</a><a href="#h64-0-14" id="h64-0-14" class="d">-
</a><a href="#h64-0-15" id="h64-0-15" class="d">-func (t Tree) String() string {
</a><a href="#h64-0-16" id="h64-0-16" class="d">-	return Stringify(t)
</a><a href="#h64-0-17" id="h64-0-17" class="d">-}
</a><a href="#h64-0-18" id="h64-0-18" class="d">-
</a><a href="#h64-0-19" id="h64-0-19" class="d">-// TreeEntry represents the contents of a tree structure.  TreeEntry can
</a><a href="#h64-0-20" id="h64-0-20" class="d">-// represent either a blob, a commit (in the case of a submodule), or another
</a><a href="#h64-0-21" id="h64-0-21" class="d">-// tree.
</a><a href="#h64-0-22" id="h64-0-22" class="d">-type TreeEntry struct {
</a><a href="#h64-0-23" id="h64-0-23" class="d">-	SHA     *string `json:&quot;sha,omitempty&quot;`
</a><a href="#h64-0-24" id="h64-0-24" class="d">-	Path    *string `json:&quot;path,omitempty&quot;`
</a><a href="#h64-0-25" id="h64-0-25" class="d">-	Mode    *string `json:&quot;mode,omitempty&quot;`
</a><a href="#h64-0-26" id="h64-0-26" class="d">-	Type    *string `json:&quot;type,omitempty&quot;`
</a><a href="#h64-0-27" id="h64-0-27" class="d">-	Size    *int    `json:&quot;size,omitempty&quot;`
</a><a href="#h64-0-28" id="h64-0-28" class="d">-	Content *string `json:&quot;content,omitempty&quot;`
</a><a href="#h64-0-29" id="h64-0-29" class="d">-}
</a><a href="#h64-0-30" id="h64-0-30" class="d">-
</a><a href="#h64-0-31" id="h64-0-31" class="d">-func (t TreeEntry) String() string {
</a><a href="#h64-0-32" id="h64-0-32" class="d">-	return Stringify(t)
</a><a href="#h64-0-33" id="h64-0-33" class="d">-}
</a><a href="#h64-0-34" id="h64-0-34" class="d">-
</a><a href="#h64-0-35" id="h64-0-35" class="d">-// GetTree fetches the Tree object for a given sha hash from a repository.
</a><a href="#h64-0-36" id="h64-0-36" class="d">-//
</a><a href="#h64-0-37" id="h64-0-37" class="d">-// GitHub API docs: http://developer.github.com/v3/git/trees/#get-a-tree
</a><a href="#h64-0-38" id="h64-0-38" class="d">-func (s *GitService) GetTree(owner string, repo string, sha string, recursive bool) (*Tree, *Response, error) {
</a><a href="#h64-0-39" id="h64-0-39" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/trees/%v&quot;, owner, repo, sha)
</a><a href="#h64-0-40" id="h64-0-40" class="d">-	if recursive {
</a><a href="#h64-0-41" id="h64-0-41" class="d">-		u += &quot;?recursive=1&quot;
</a><a href="#h64-0-42" id="h64-0-42" class="d">-	}
</a><a href="#h64-0-43" id="h64-0-43" class="d">-
</a><a href="#h64-0-44" id="h64-0-44" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h64-0-45" id="h64-0-45" class="d">-	if err != nil {
</a><a href="#h64-0-46" id="h64-0-46" class="d">-		return nil, nil, err
</a><a href="#h64-0-47" id="h64-0-47" class="d">-	}
</a><a href="#h64-0-48" id="h64-0-48" class="d">-
</a><a href="#h64-0-49" id="h64-0-49" class="d">-	t := new(Tree)
</a><a href="#h64-0-50" id="h64-0-50" class="d">-	resp, err := s.client.Do(req, t)
</a><a href="#h64-0-51" id="h64-0-51" class="d">-	if err != nil {
</a><a href="#h64-0-52" id="h64-0-52" class="d">-		return nil, resp, err
</a><a href="#h64-0-53" id="h64-0-53" class="d">-	}
</a><a href="#h64-0-54" id="h64-0-54" class="d">-
</a><a href="#h64-0-55" id="h64-0-55" class="d">-	return t, resp, err
</a><a href="#h64-0-56" id="h64-0-56" class="d">-}
</a><a href="#h64-0-57" id="h64-0-57" class="d">-
</a><a href="#h64-0-58" id="h64-0-58" class="d">-// createTree represents the body of a CreateTree request.
</a><a href="#h64-0-59" id="h64-0-59" class="d">-type createTree struct {
</a><a href="#h64-0-60" id="h64-0-60" class="d">-	BaseTree string      `json:&quot;base_tree,omitempty&quot;`
</a><a href="#h64-0-61" id="h64-0-61" class="d">-	Entries  []TreeEntry `json:&quot;tree&quot;`
</a><a href="#h64-0-62" id="h64-0-62" class="d">-}
</a><a href="#h64-0-63" id="h64-0-63" class="d">-
</a><a href="#h64-0-64" id="h64-0-64" class="d">-// CreateTree creates a new tree in a repository.  If both a tree and a nested
</a><a href="#h64-0-65" id="h64-0-65" class="d">-// path modifying that tree are specified, it will overwrite the contents of
</a><a href="#h64-0-66" id="h64-0-66" class="d">-// that tree with the new path contents and write a new tree out.
</a><a href="#h64-0-67" id="h64-0-67" class="d">-//
</a><a href="#h64-0-68" id="h64-0-68" class="d">-// GitHub API docs: http://developer.github.com/v3/git/trees/#create-a-tree
</a><a href="#h64-0-69" id="h64-0-69" class="d">-func (s *GitService) CreateTree(owner string, repo string, baseTree string, entries []TreeEntry) (*Tree, *Response, error) {
</a><a href="#h64-0-70" id="h64-0-70" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/git/trees&quot;, owner, repo)
</a><a href="#h64-0-71" id="h64-0-71" class="d">-
</a><a href="#h64-0-72" id="h64-0-72" class="d">-	body := &amp;createTree{
</a><a href="#h64-0-73" id="h64-0-73" class="d">-		BaseTree: baseTree,
</a><a href="#h64-0-74" id="h64-0-74" class="d">-		Entries:  entries,
</a><a href="#h64-0-75" id="h64-0-75" class="d">-	}
</a><a href="#h64-0-76" id="h64-0-76" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, body)
</a><a href="#h64-0-77" id="h64-0-77" class="d">-	if err != nil {
</a><a href="#h64-0-78" id="h64-0-78" class="d">-		return nil, nil, err
</a><a href="#h64-0-79" id="h64-0-79" class="d">-	}
</a><a href="#h64-0-80" id="h64-0-80" class="d">-
</a><a href="#h64-0-81" id="h64-0-81" class="d">-	t := new(Tree)
</a><a href="#h64-0-82" id="h64-0-82" class="d">-	resp, err := s.client.Do(req, t)
</a><a href="#h64-0-83" id="h64-0-83" class="d">-	if err != nil {
</a><a href="#h64-0-84" id="h64-0-84" class="d">-		return nil, resp, err
</a><a href="#h64-0-85" id="h64-0-85" class="d">-	}
</a><a href="#h64-0-86" id="h64-0-86" class="d">-
</a><a href="#h64-0-87" id="h64-0-87" class="d">-	return t, resp, err
</a><a href="#h64-0-88" id="h64-0-88" class="d">-}
</a><b>diff --git a/<a id="h65" href="../file/vendor/github.com/google/go-github/github/github.go">vendor/github.com/google/go-github/github/github.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/github.go">vendor/github.com/google/go-github/github/github.go</a></b>
<a href="#h65-0" id="h65-0" class="h">@@ -1,712 +0,0 @@
</a><a href="#h65-0-0" id="h65-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h65-0-1" id="h65-0-1" class="d">-//
</a><a href="#h65-0-2" id="h65-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h65-0-3" id="h65-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h65-0-4" id="h65-0-4" class="d">-
</a><a href="#h65-0-5" id="h65-0-5" class="d">-package github
</a><a href="#h65-0-6" id="h65-0-6" class="d">-
</a><a href="#h65-0-7" id="h65-0-7" class="d">-import (
</a><a href="#h65-0-8" id="h65-0-8" class="d">-	&quot;bytes&quot;
</a><a href="#h65-0-9" id="h65-0-9" class="d">-	&quot;encoding/json&quot;
</a><a href="#h65-0-10" id="h65-0-10" class="d">-	&quot;errors&quot;
</a><a href="#h65-0-11" id="h65-0-11" class="d">-	&quot;fmt&quot;
</a><a href="#h65-0-12" id="h65-0-12" class="d">-	&quot;io&quot;
</a><a href="#h65-0-13" id="h65-0-13" class="d">-	&quot;io/ioutil&quot;
</a><a href="#h65-0-14" id="h65-0-14" class="d">-	&quot;net/http&quot;
</a><a href="#h65-0-15" id="h65-0-15" class="d">-	&quot;net/url&quot;
</a><a href="#h65-0-16" id="h65-0-16" class="d">-	&quot;reflect&quot;
</a><a href="#h65-0-17" id="h65-0-17" class="d">-	&quot;strconv&quot;
</a><a href="#h65-0-18" id="h65-0-18" class="d">-	&quot;strings&quot;
</a><a href="#h65-0-19" id="h65-0-19" class="d">-	&quot;sync&quot;
</a><a href="#h65-0-20" id="h65-0-20" class="d">-	&quot;time&quot;
</a><a href="#h65-0-21" id="h65-0-21" class="d">-
</a><a href="#h65-0-22" id="h65-0-22" class="d">-	&quot;github.com/google/go-querystring/query&quot;
</a><a href="#h65-0-23" id="h65-0-23" class="d">-)
</a><a href="#h65-0-24" id="h65-0-24" class="d">-
</a><a href="#h65-0-25" id="h65-0-25" class="d">-const (
</a><a href="#h65-0-26" id="h65-0-26" class="d">-	// StatusUnprocessableEntity is the status code returned when sending a request with invalid fields.
</a><a href="#h65-0-27" id="h65-0-27" class="d">-	StatusUnprocessableEntity = 422
</a><a href="#h65-0-28" id="h65-0-28" class="d">-)
</a><a href="#h65-0-29" id="h65-0-29" class="d">-
</a><a href="#h65-0-30" id="h65-0-30" class="d">-const (
</a><a href="#h65-0-31" id="h65-0-31" class="d">-	libraryVersion = &quot;0.1&quot;
</a><a href="#h65-0-32" id="h65-0-32" class="d">-	defaultBaseURL = &quot;https://api.github.com/&quot;
</a><a href="#h65-0-33" id="h65-0-33" class="d">-	uploadBaseURL  = &quot;https://uploads.github.com/&quot;
</a><a href="#h65-0-34" id="h65-0-34" class="d">-	userAgent      = &quot;go-github/&quot; + libraryVersion
</a><a href="#h65-0-35" id="h65-0-35" class="d">-
</a><a href="#h65-0-36" id="h65-0-36" class="d">-	headerRateLimit     = &quot;X-RateLimit-Limit&quot;
</a><a href="#h65-0-37" id="h65-0-37" class="d">-	headerRateRemaining = &quot;X-RateLimit-Remaining&quot;
</a><a href="#h65-0-38" id="h65-0-38" class="d">-	headerRateReset     = &quot;X-RateLimit-Reset&quot;
</a><a href="#h65-0-39" id="h65-0-39" class="d">-	headerOTP           = &quot;X-GitHub-OTP&quot;
</a><a href="#h65-0-40" id="h65-0-40" class="d">-
</a><a href="#h65-0-41" id="h65-0-41" class="d">-	mediaTypeV3      = &quot;application/vnd.github.v3+json&quot;
</a><a href="#h65-0-42" id="h65-0-42" class="d">-	defaultMediaType = &quot;application/octet-stream&quot;
</a><a href="#h65-0-43" id="h65-0-43" class="d">-
</a><a href="#h65-0-44" id="h65-0-44" class="d">-	// Media Type values to access preview APIs
</a><a href="#h65-0-45" id="h65-0-45" class="d">-
</a><a href="#h65-0-46" id="h65-0-46" class="d">-	// https://developer.github.com/changes/2015-03-09-licenses-api/
</a><a href="#h65-0-47" id="h65-0-47" class="d">-	mediaTypeLicensesPreview = &quot;application/vnd.github.drax-preview+json&quot;
</a><a href="#h65-0-48" id="h65-0-48" class="d">-
</a><a href="#h65-0-49" id="h65-0-49" class="d">-	// https://developer.github.com/changes/2014-12-09-new-attributes-for-stars-api/
</a><a href="#h65-0-50" id="h65-0-50" class="d">-	mediaTypeStarringPreview = &quot;application/vnd.github.v3.star+json&quot;
</a><a href="#h65-0-51" id="h65-0-51" class="d">-
</a><a href="#h65-0-52" id="h65-0-52" class="d">-	// https://developer.github.com/changes/2015-06-24-api-enhancements-for-working-with-organization-permissions/
</a><a href="#h65-0-53" id="h65-0-53" class="d">-	mediaTypeOrgPermissionPreview     = &quot;application/vnd.github.ironman-preview+json&quot;
</a><a href="#h65-0-54" id="h65-0-54" class="d">-	mediaTypeOrgPermissionRepoPreview = &quot;application/vnd.github.ironman-preview.repository+json&quot;
</a><a href="#h65-0-55" id="h65-0-55" class="d">-
</a><a href="#h65-0-56" id="h65-0-56" class="d">-	// https://developer.github.com/changes/2015-11-11-protected-branches-api/
</a><a href="#h65-0-57" id="h65-0-57" class="d">-	mediaTypeProtectedBranchesPreview = &quot;application/vnd.github.loki-preview+json&quot;
</a><a href="#h65-0-58" id="h65-0-58" class="d">-
</a><a href="#h65-0-59" id="h65-0-59" class="d">-	// https://developer.github.com/changes/2016-02-11-issue-locking-api/
</a><a href="#h65-0-60" id="h65-0-60" class="d">-	mediaTypeIssueLockingPreview = &quot;application/vnd.github.the-key-preview+json&quot;
</a><a href="#h65-0-61" id="h65-0-61" class="d">-
</a><a href="#h65-0-62" id="h65-0-62" class="d">-	// https://developer.github.com/changes/2016-02-24-commit-reference-sha-api/
</a><a href="#h65-0-63" id="h65-0-63" class="d">-	mediaTypeCommitReferenceSHAPreview = &quot;application/vnd.github.chitauri-preview+sha&quot;
</a><a href="#h65-0-64" id="h65-0-64" class="d">-
</a><a href="#h65-0-65" id="h65-0-65" class="d">-	// https://help.github.com/enterprise/2.4/admin/guides/migrations/exporting-the-github-com-organization-s-repositories/
</a><a href="#h65-0-66" id="h65-0-66" class="d">-	mediaTypeMigrationsPreview = &quot;application/vnd.github.wyandotte-preview+json&quot;
</a><a href="#h65-0-67" id="h65-0-67" class="d">-)
</a><a href="#h65-0-68" id="h65-0-68" class="d">-
</a><a href="#h65-0-69" id="h65-0-69" class="d">-// A Client manages communication with the GitHub API.
</a><a href="#h65-0-70" id="h65-0-70" class="d">-type Client struct {
</a><a href="#h65-0-71" id="h65-0-71" class="d">-	// HTTP client used to communicate with the API.
</a><a href="#h65-0-72" id="h65-0-72" class="d">-	client *http.Client
</a><a href="#h65-0-73" id="h65-0-73" class="d">-	// clientMu protects the client during calls that modify the CheckRedirect func.
</a><a href="#h65-0-74" id="h65-0-74" class="d">-	clientMu sync.Mutex
</a><a href="#h65-0-75" id="h65-0-75" class="d">-
</a><a href="#h65-0-76" id="h65-0-76" class="d">-	// Base URL for API requests.  Defaults to the public GitHub API, but can be
</a><a href="#h65-0-77" id="h65-0-77" class="d">-	// set to a domain endpoint to use with GitHub Enterprise.  BaseURL should
</a><a href="#h65-0-78" id="h65-0-78" class="d">-	// always be specified with a trailing slash.
</a><a href="#h65-0-79" id="h65-0-79" class="d">-	BaseURL *url.URL
</a><a href="#h65-0-80" id="h65-0-80" class="d">-
</a><a href="#h65-0-81" id="h65-0-81" class="d">-	// Base URL for uploading files.
</a><a href="#h65-0-82" id="h65-0-82" class="d">-	UploadURL *url.URL
</a><a href="#h65-0-83" id="h65-0-83" class="d">-
</a><a href="#h65-0-84" id="h65-0-84" class="d">-	// User agent used when communicating with the GitHub API.
</a><a href="#h65-0-85" id="h65-0-85" class="d">-	UserAgent string
</a><a href="#h65-0-86" id="h65-0-86" class="d">-
</a><a href="#h65-0-87" id="h65-0-87" class="d">-	rateMu sync.Mutex
</a><a href="#h65-0-88" id="h65-0-88" class="d">-	rate   Rate // Rate limit for the client as determined by the most recent API call.
</a><a href="#h65-0-89" id="h65-0-89" class="d">-
</a><a href="#h65-0-90" id="h65-0-90" class="d">-	// Services used for talking to different parts of the GitHub API.
</a><a href="#h65-0-91" id="h65-0-91" class="d">-	Activity       *ActivityService
</a><a href="#h65-0-92" id="h65-0-92" class="d">-	Authorizations *AuthorizationsService
</a><a href="#h65-0-93" id="h65-0-93" class="d">-	Gists          *GistsService
</a><a href="#h65-0-94" id="h65-0-94" class="d">-	Git            *GitService
</a><a href="#h65-0-95" id="h65-0-95" class="d">-	Gitignores     *GitignoresService
</a><a href="#h65-0-96" id="h65-0-96" class="d">-	Issues         *IssuesService
</a><a href="#h65-0-97" id="h65-0-97" class="d">-	Organizations  *OrganizationsService
</a><a href="#h65-0-98" id="h65-0-98" class="d">-	PullRequests   *PullRequestsService
</a><a href="#h65-0-99" id="h65-0-99" class="d">-	Repositories   *RepositoriesService
</a><a href="#h65-0-100" id="h65-0-100" class="d">-	Search         *SearchService
</a><a href="#h65-0-101" id="h65-0-101" class="d">-	Users          *UsersService
</a><a href="#h65-0-102" id="h65-0-102" class="d">-	Licenses       *LicensesService
</a><a href="#h65-0-103" id="h65-0-103" class="d">-	Migrations     *MigrationService
</a><a href="#h65-0-104" id="h65-0-104" class="d">-}
</a><a href="#h65-0-105" id="h65-0-105" class="d">-
</a><a href="#h65-0-106" id="h65-0-106" class="d">-// ListOptions specifies the optional parameters to various List methods that
</a><a href="#h65-0-107" id="h65-0-107" class="d">-// support pagination.
</a><a href="#h65-0-108" id="h65-0-108" class="d">-type ListOptions struct {
</a><a href="#h65-0-109" id="h65-0-109" class="d">-	// For paginated result sets, page of results to retrieve.
</a><a href="#h65-0-110" id="h65-0-110" class="d">-	Page int `url:&quot;page,omitempty&quot;`
</a><a href="#h65-0-111" id="h65-0-111" class="d">-
</a><a href="#h65-0-112" id="h65-0-112" class="d">-	// For paginated result sets, the number of results to include per page.
</a><a href="#h65-0-113" id="h65-0-113" class="d">-	PerPage int `url:&quot;per_page,omitempty&quot;`
</a><a href="#h65-0-114" id="h65-0-114" class="d">-}
</a><a href="#h65-0-115" id="h65-0-115" class="d">-
</a><a href="#h65-0-116" id="h65-0-116" class="d">-// UploadOptions specifies the parameters to methods that support uploads.
</a><a href="#h65-0-117" id="h65-0-117" class="d">-type UploadOptions struct {
</a><a href="#h65-0-118" id="h65-0-118" class="d">-	Name string `url:&quot;name,omitempty&quot;`
</a><a href="#h65-0-119" id="h65-0-119" class="d">-}
</a><a href="#h65-0-120" id="h65-0-120" class="d">-
</a><a href="#h65-0-121" id="h65-0-121" class="d">-// addOptions adds the parameters in opt as URL query parameters to s.  opt
</a><a href="#h65-0-122" id="h65-0-122" class="d">-// must be a struct whose fields may contain &quot;url&quot; tags.
</a><a href="#h65-0-123" id="h65-0-123" class="d">-func addOptions(s string, opt interface{}) (string, error) {
</a><a href="#h65-0-124" id="h65-0-124" class="d">-	v := reflect.ValueOf(opt)
</a><a href="#h65-0-125" id="h65-0-125" class="d">-	if v.Kind() == reflect.Ptr &amp;&amp; v.IsNil() {
</a><a href="#h65-0-126" id="h65-0-126" class="d">-		return s, nil
</a><a href="#h65-0-127" id="h65-0-127" class="d">-	}
</a><a href="#h65-0-128" id="h65-0-128" class="d">-
</a><a href="#h65-0-129" id="h65-0-129" class="d">-	u, err := url.Parse(s)
</a><a href="#h65-0-130" id="h65-0-130" class="d">-	if err != nil {
</a><a href="#h65-0-131" id="h65-0-131" class="d">-		return s, err
</a><a href="#h65-0-132" id="h65-0-132" class="d">-	}
</a><a href="#h65-0-133" id="h65-0-133" class="d">-
</a><a href="#h65-0-134" id="h65-0-134" class="d">-	qs, err := query.Values(opt)
</a><a href="#h65-0-135" id="h65-0-135" class="d">-	if err != nil {
</a><a href="#h65-0-136" id="h65-0-136" class="d">-		return s, err
</a><a href="#h65-0-137" id="h65-0-137" class="d">-	}
</a><a href="#h65-0-138" id="h65-0-138" class="d">-
</a><a href="#h65-0-139" id="h65-0-139" class="d">-	u.RawQuery = qs.Encode()
</a><a href="#h65-0-140" id="h65-0-140" class="d">-	return u.String(), nil
</a><a href="#h65-0-141" id="h65-0-141" class="d">-}
</a><a href="#h65-0-142" id="h65-0-142" class="d">-
</a><a href="#h65-0-143" id="h65-0-143" class="d">-// NewClient returns a new GitHub API client.  If a nil httpClient is
</a><a href="#h65-0-144" id="h65-0-144" class="d">-// provided, http.DefaultClient will be used.  To use API methods which require
</a><a href="#h65-0-145" id="h65-0-145" class="d">-// authentication, provide an http.Client that will perform the authentication
</a><a href="#h65-0-146" id="h65-0-146" class="d">-// for you (such as that provided by the golang.org/x/oauth2 library).
</a><a href="#h65-0-147" id="h65-0-147" class="d">-func NewClient(httpClient *http.Client) *Client {
</a><a href="#h65-0-148" id="h65-0-148" class="d">-	if httpClient == nil {
</a><a href="#h65-0-149" id="h65-0-149" class="d">-		httpClient = http.DefaultClient
</a><a href="#h65-0-150" id="h65-0-150" class="d">-	}
</a><a href="#h65-0-151" id="h65-0-151" class="d">-	baseURL, _ := url.Parse(defaultBaseURL)
</a><a href="#h65-0-152" id="h65-0-152" class="d">-	uploadURL, _ := url.Parse(uploadBaseURL)
</a><a href="#h65-0-153" id="h65-0-153" class="d">-
</a><a href="#h65-0-154" id="h65-0-154" class="d">-	c := &amp;Client{client: httpClient, BaseURL: baseURL, UserAgent: userAgent, UploadURL: uploadURL}
</a><a href="#h65-0-155" id="h65-0-155" class="d">-	c.Activity = &amp;ActivityService{client: c}
</a><a href="#h65-0-156" id="h65-0-156" class="d">-	c.Authorizations = &amp;AuthorizationsService{client: c}
</a><a href="#h65-0-157" id="h65-0-157" class="d">-	c.Gists = &amp;GistsService{client: c}
</a><a href="#h65-0-158" id="h65-0-158" class="d">-	c.Git = &amp;GitService{client: c}
</a><a href="#h65-0-159" id="h65-0-159" class="d">-	c.Gitignores = &amp;GitignoresService{client: c}
</a><a href="#h65-0-160" id="h65-0-160" class="d">-	c.Issues = &amp;IssuesService{client: c}
</a><a href="#h65-0-161" id="h65-0-161" class="d">-	c.Organizations = &amp;OrganizationsService{client: c}
</a><a href="#h65-0-162" id="h65-0-162" class="d">-	c.PullRequests = &amp;PullRequestsService{client: c}
</a><a href="#h65-0-163" id="h65-0-163" class="d">-	c.Repositories = &amp;RepositoriesService{client: c}
</a><a href="#h65-0-164" id="h65-0-164" class="d">-	c.Search = &amp;SearchService{client: c}
</a><a href="#h65-0-165" id="h65-0-165" class="d">-	c.Users = &amp;UsersService{client: c}
</a><a href="#h65-0-166" id="h65-0-166" class="d">-	c.Licenses = &amp;LicensesService{client: c}
</a><a href="#h65-0-167" id="h65-0-167" class="d">-	c.Migrations = &amp;MigrationService{client: c}
</a><a href="#h65-0-168" id="h65-0-168" class="d">-	return c
</a><a href="#h65-0-169" id="h65-0-169" class="d">-}
</a><a href="#h65-0-170" id="h65-0-170" class="d">-
</a><a href="#h65-0-171" id="h65-0-171" class="d">-// NewRequest creates an API request. A relative URL can be provided in urlStr,
</a><a href="#h65-0-172" id="h65-0-172" class="d">-// in which case it is resolved relative to the BaseURL of the Client.
</a><a href="#h65-0-173" id="h65-0-173" class="d">-// Relative URLs should always be specified without a preceding slash.  If
</a><a href="#h65-0-174" id="h65-0-174" class="d">-// specified, the value pointed to by body is JSON encoded and included as the
</a><a href="#h65-0-175" id="h65-0-175" class="d">-// request body.
</a><a href="#h65-0-176" id="h65-0-176" class="d">-func (c *Client) NewRequest(method, urlStr string, body interface{}) (*http.Request, error) {
</a><a href="#h65-0-177" id="h65-0-177" class="d">-	rel, err := url.Parse(urlStr)
</a><a href="#h65-0-178" id="h65-0-178" class="d">-	if err != nil {
</a><a href="#h65-0-179" id="h65-0-179" class="d">-		return nil, err
</a><a href="#h65-0-180" id="h65-0-180" class="d">-	}
</a><a href="#h65-0-181" id="h65-0-181" class="d">-
</a><a href="#h65-0-182" id="h65-0-182" class="d">-	u := c.BaseURL.ResolveReference(rel)
</a><a href="#h65-0-183" id="h65-0-183" class="d">-
</a><a href="#h65-0-184" id="h65-0-184" class="d">-	var buf io.ReadWriter
</a><a href="#h65-0-185" id="h65-0-185" class="d">-	if body != nil {
</a><a href="#h65-0-186" id="h65-0-186" class="d">-		buf = new(bytes.Buffer)
</a><a href="#h65-0-187" id="h65-0-187" class="d">-		err := json.NewEncoder(buf).Encode(body)
</a><a href="#h65-0-188" id="h65-0-188" class="d">-		if err != nil {
</a><a href="#h65-0-189" id="h65-0-189" class="d">-			return nil, err
</a><a href="#h65-0-190" id="h65-0-190" class="d">-		}
</a><a href="#h65-0-191" id="h65-0-191" class="d">-	}
</a><a href="#h65-0-192" id="h65-0-192" class="d">-
</a><a href="#h65-0-193" id="h65-0-193" class="d">-	req, err := http.NewRequest(method, u.String(), buf)
</a><a href="#h65-0-194" id="h65-0-194" class="d">-	if err != nil {
</a><a href="#h65-0-195" id="h65-0-195" class="d">-		return nil, err
</a><a href="#h65-0-196" id="h65-0-196" class="d">-	}
</a><a href="#h65-0-197" id="h65-0-197" class="d">-
</a><a href="#h65-0-198" id="h65-0-198" class="d">-	req.Header.Add(&quot;Accept&quot;, mediaTypeV3)
</a><a href="#h65-0-199" id="h65-0-199" class="d">-	if c.UserAgent != &quot;&quot; {
</a><a href="#h65-0-200" id="h65-0-200" class="d">-		req.Header.Add(&quot;User-Agent&quot;, c.UserAgent)
</a><a href="#h65-0-201" id="h65-0-201" class="d">-	}
</a><a href="#h65-0-202" id="h65-0-202" class="d">-	return req, nil
</a><a href="#h65-0-203" id="h65-0-203" class="d">-}
</a><a href="#h65-0-204" id="h65-0-204" class="d">-
</a><a href="#h65-0-205" id="h65-0-205" class="d">-// NewUploadRequest creates an upload request. A relative URL can be provided in
</a><a href="#h65-0-206" id="h65-0-206" class="d">-// urlStr, in which case it is resolved relative to the UploadURL of the Client.
</a><a href="#h65-0-207" id="h65-0-207" class="d">-// Relative URLs should always be specified without a preceding slash.
</a><a href="#h65-0-208" id="h65-0-208" class="d">-func (c *Client) NewUploadRequest(urlStr string, reader io.Reader, size int64, mediaType string) (*http.Request, error) {
</a><a href="#h65-0-209" id="h65-0-209" class="d">-	rel, err := url.Parse(urlStr)
</a><a href="#h65-0-210" id="h65-0-210" class="d">-	if err != nil {
</a><a href="#h65-0-211" id="h65-0-211" class="d">-		return nil, err
</a><a href="#h65-0-212" id="h65-0-212" class="d">-	}
</a><a href="#h65-0-213" id="h65-0-213" class="d">-
</a><a href="#h65-0-214" id="h65-0-214" class="d">-	u := c.UploadURL.ResolveReference(rel)
</a><a href="#h65-0-215" id="h65-0-215" class="d">-	req, err := http.NewRequest(&quot;POST&quot;, u.String(), reader)
</a><a href="#h65-0-216" id="h65-0-216" class="d">-	if err != nil {
</a><a href="#h65-0-217" id="h65-0-217" class="d">-		return nil, err
</a><a href="#h65-0-218" id="h65-0-218" class="d">-	}
</a><a href="#h65-0-219" id="h65-0-219" class="d">-	req.ContentLength = size
</a><a href="#h65-0-220" id="h65-0-220" class="d">-
</a><a href="#h65-0-221" id="h65-0-221" class="d">-	if len(mediaType) == 0 {
</a><a href="#h65-0-222" id="h65-0-222" class="d">-		mediaType = defaultMediaType
</a><a href="#h65-0-223" id="h65-0-223" class="d">-	}
</a><a href="#h65-0-224" id="h65-0-224" class="d">-	req.Header.Add(&quot;Content-Type&quot;, mediaType)
</a><a href="#h65-0-225" id="h65-0-225" class="d">-	req.Header.Add(&quot;Accept&quot;, mediaTypeV3)
</a><a href="#h65-0-226" id="h65-0-226" class="d">-	req.Header.Add(&quot;User-Agent&quot;, c.UserAgent)
</a><a href="#h65-0-227" id="h65-0-227" class="d">-	return req, nil
</a><a href="#h65-0-228" id="h65-0-228" class="d">-}
</a><a href="#h65-0-229" id="h65-0-229" class="d">-
</a><a href="#h65-0-230" id="h65-0-230" class="d">-// Response is a GitHub API response.  This wraps the standard http.Response
</a><a href="#h65-0-231" id="h65-0-231" class="d">-// returned from GitHub and provides convenient access to things like
</a><a href="#h65-0-232" id="h65-0-232" class="d">-// pagination links.
</a><a href="#h65-0-233" id="h65-0-233" class="d">-type Response struct {
</a><a href="#h65-0-234" id="h65-0-234" class="d">-	*http.Response
</a><a href="#h65-0-235" id="h65-0-235" class="d">-
</a><a href="#h65-0-236" id="h65-0-236" class="d">-	// These fields provide the page values for paginating through a set of
</a><a href="#h65-0-237" id="h65-0-237" class="d">-	// results.  Any or all of these may be set to the zero value for
</a><a href="#h65-0-238" id="h65-0-238" class="d">-	// responses that are not part of a paginated set, or for which there
</a><a href="#h65-0-239" id="h65-0-239" class="d">-	// are no additional pages.
</a><a href="#h65-0-240" id="h65-0-240" class="d">-
</a><a href="#h65-0-241" id="h65-0-241" class="d">-	NextPage  int
</a><a href="#h65-0-242" id="h65-0-242" class="d">-	PrevPage  int
</a><a href="#h65-0-243" id="h65-0-243" class="d">-	FirstPage int
</a><a href="#h65-0-244" id="h65-0-244" class="d">-	LastPage  int
</a><a href="#h65-0-245" id="h65-0-245" class="d">-
</a><a href="#h65-0-246" id="h65-0-246" class="d">-	Rate
</a><a href="#h65-0-247" id="h65-0-247" class="d">-}
</a><a href="#h65-0-248" id="h65-0-248" class="d">-
</a><a href="#h65-0-249" id="h65-0-249" class="d">-// newResponse creates a new Response for the provided http.Response.
</a><a href="#h65-0-250" id="h65-0-250" class="d">-func newResponse(r *http.Response) *Response {
</a><a href="#h65-0-251" id="h65-0-251" class="d">-	response := &amp;Response{Response: r}
</a><a href="#h65-0-252" id="h65-0-252" class="d">-	response.populatePageValues()
</a><a href="#h65-0-253" id="h65-0-253" class="d">-	response.Rate = parseRate(r)
</a><a href="#h65-0-254" id="h65-0-254" class="d">-	return response
</a><a href="#h65-0-255" id="h65-0-255" class="d">-}
</a><a href="#h65-0-256" id="h65-0-256" class="d">-
</a><a href="#h65-0-257" id="h65-0-257" class="d">-// populatePageValues parses the HTTP Link response headers and populates the
</a><a href="#h65-0-258" id="h65-0-258" class="d">-// various pagination link values in the Response.
</a><a href="#h65-0-259" id="h65-0-259" class="d">-func (r *Response) populatePageValues() {
</a><a href="#h65-0-260" id="h65-0-260" class="d">-	if links, ok := r.Response.Header[&quot;Link&quot;]; ok &amp;&amp; len(links) &gt; 0 {
</a><a href="#h65-0-261" id="h65-0-261" class="d">-		for _, link := range strings.Split(links[0], &quot;,&quot;) {
</a><a href="#h65-0-262" id="h65-0-262" class="d">-			segments := strings.Split(strings.TrimSpace(link), &quot;;&quot;)
</a><a href="#h65-0-263" id="h65-0-263" class="d">-
</a><a href="#h65-0-264" id="h65-0-264" class="d">-			// link must at least have href and rel
</a><a href="#h65-0-265" id="h65-0-265" class="d">-			if len(segments) &lt; 2 {
</a><a href="#h65-0-266" id="h65-0-266" class="d">-				continue
</a><a href="#h65-0-267" id="h65-0-267" class="d">-			}
</a><a href="#h65-0-268" id="h65-0-268" class="d">-
</a><a href="#h65-0-269" id="h65-0-269" class="d">-			// ensure href is properly formatted
</a><a href="#h65-0-270" id="h65-0-270" class="d">-			if !strings.HasPrefix(segments[0], &quot;&lt;&quot;) || !strings.HasSuffix(segments[0], &quot;&gt;&quot;) {
</a><a href="#h65-0-271" id="h65-0-271" class="d">-				continue
</a><a href="#h65-0-272" id="h65-0-272" class="d">-			}
</a><a href="#h65-0-273" id="h65-0-273" class="d">-
</a><a href="#h65-0-274" id="h65-0-274" class="d">-			// try to pull out page parameter
</a><a href="#h65-0-275" id="h65-0-275" class="d">-			url, err := url.Parse(segments[0][1 : len(segments[0])-1])
</a><a href="#h65-0-276" id="h65-0-276" class="d">-			if err != nil {
</a><a href="#h65-0-277" id="h65-0-277" class="d">-				continue
</a><a href="#h65-0-278" id="h65-0-278" class="d">-			}
</a><a href="#h65-0-279" id="h65-0-279" class="d">-			page := url.Query().Get(&quot;page&quot;)
</a><a href="#h65-0-280" id="h65-0-280" class="d">-			if page == &quot;&quot; {
</a><a href="#h65-0-281" id="h65-0-281" class="d">-				continue
</a><a href="#h65-0-282" id="h65-0-282" class="d">-			}
</a><a href="#h65-0-283" id="h65-0-283" class="d">-
</a><a href="#h65-0-284" id="h65-0-284" class="d">-			for _, segment := range segments[1:] {
</a><a href="#h65-0-285" id="h65-0-285" class="d">-				switch strings.TrimSpace(segment) {
</a><a href="#h65-0-286" id="h65-0-286" class="d">-				case `rel=&quot;next&quot;`:
</a><a href="#h65-0-287" id="h65-0-287" class="d">-					r.NextPage, _ = strconv.Atoi(page)
</a><a href="#h65-0-288" id="h65-0-288" class="d">-				case `rel=&quot;prev&quot;`:
</a><a href="#h65-0-289" id="h65-0-289" class="d">-					r.PrevPage, _ = strconv.Atoi(page)
</a><a href="#h65-0-290" id="h65-0-290" class="d">-				case `rel=&quot;first&quot;`:
</a><a href="#h65-0-291" id="h65-0-291" class="d">-					r.FirstPage, _ = strconv.Atoi(page)
</a><a href="#h65-0-292" id="h65-0-292" class="d">-				case `rel=&quot;last&quot;`:
</a><a href="#h65-0-293" id="h65-0-293" class="d">-					r.LastPage, _ = strconv.Atoi(page)
</a><a href="#h65-0-294" id="h65-0-294" class="d">-				}
</a><a href="#h65-0-295" id="h65-0-295" class="d">-
</a><a href="#h65-0-296" id="h65-0-296" class="d">-			}
</a><a href="#h65-0-297" id="h65-0-297" class="d">-		}
</a><a href="#h65-0-298" id="h65-0-298" class="d">-	}
</a><a href="#h65-0-299" id="h65-0-299" class="d">-}
</a><a href="#h65-0-300" id="h65-0-300" class="d">-
</a><a href="#h65-0-301" id="h65-0-301" class="d">-// parseRate parses the rate related headers.
</a><a href="#h65-0-302" id="h65-0-302" class="d">-func parseRate(r *http.Response) Rate {
</a><a href="#h65-0-303" id="h65-0-303" class="d">-	var rate Rate
</a><a href="#h65-0-304" id="h65-0-304" class="d">-	if limit := r.Header.Get(headerRateLimit); limit != &quot;&quot; {
</a><a href="#h65-0-305" id="h65-0-305" class="d">-		rate.Limit, _ = strconv.Atoi(limit)
</a><a href="#h65-0-306" id="h65-0-306" class="d">-	}
</a><a href="#h65-0-307" id="h65-0-307" class="d">-	if remaining := r.Header.Get(headerRateRemaining); remaining != &quot;&quot; {
</a><a href="#h65-0-308" id="h65-0-308" class="d">-		rate.Remaining, _ = strconv.Atoi(remaining)
</a><a href="#h65-0-309" id="h65-0-309" class="d">-	}
</a><a href="#h65-0-310" id="h65-0-310" class="d">-	if reset := r.Header.Get(headerRateReset); reset != &quot;&quot; {
</a><a href="#h65-0-311" id="h65-0-311" class="d">-		if v, _ := strconv.ParseInt(reset, 10, 64); v != 0 {
</a><a href="#h65-0-312" id="h65-0-312" class="d">-			rate.Reset = Timestamp{time.Unix(v, 0)}
</a><a href="#h65-0-313" id="h65-0-313" class="d">-		}
</a><a href="#h65-0-314" id="h65-0-314" class="d">-	}
</a><a href="#h65-0-315" id="h65-0-315" class="d">-	return rate
</a><a href="#h65-0-316" id="h65-0-316" class="d">-}
</a><a href="#h65-0-317" id="h65-0-317" class="d">-
</a><a href="#h65-0-318" id="h65-0-318" class="d">-// Rate specifies the current rate limit for the client as determined by the
</a><a href="#h65-0-319" id="h65-0-319" class="d">-// most recent API call.  If the client is used in a multi-user application,
</a><a href="#h65-0-320" id="h65-0-320" class="d">-// this rate may not always be up-to-date.  Call RateLimits() to check the
</a><a href="#h65-0-321" id="h65-0-321" class="d">-// current rate.
</a><a href="#h65-0-322" id="h65-0-322" class="d">-func (c *Client) Rate() Rate {
</a><a href="#h65-0-323" id="h65-0-323" class="d">-	c.rateMu.Lock()
</a><a href="#h65-0-324" id="h65-0-324" class="d">-	rate := c.rate
</a><a href="#h65-0-325" id="h65-0-325" class="d">-	c.rateMu.Unlock()
</a><a href="#h65-0-326" id="h65-0-326" class="d">-	return rate
</a><a href="#h65-0-327" id="h65-0-327" class="d">-}
</a><a href="#h65-0-328" id="h65-0-328" class="d">-
</a><a href="#h65-0-329" id="h65-0-329" class="d">-// Do sends an API request and returns the API response.  The API response is
</a><a href="#h65-0-330" id="h65-0-330" class="d">-// JSON decoded and stored in the value pointed to by v, or returned as an
</a><a href="#h65-0-331" id="h65-0-331" class="d">-// error if an API error has occurred.  If v implements the io.Writer
</a><a href="#h65-0-332" id="h65-0-332" class="d">-// interface, the raw response body will be written to v, without attempting to
</a><a href="#h65-0-333" id="h65-0-333" class="d">-// first decode it.
</a><a href="#h65-0-334" id="h65-0-334" class="d">-func (c *Client) Do(req *http.Request, v interface{}) (*Response, error) {
</a><a href="#h65-0-335" id="h65-0-335" class="d">-	resp, err := c.client.Do(req)
</a><a href="#h65-0-336" id="h65-0-336" class="d">-	if err != nil {
</a><a href="#h65-0-337" id="h65-0-337" class="d">-		return nil, err
</a><a href="#h65-0-338" id="h65-0-338" class="d">-	}
</a><a href="#h65-0-339" id="h65-0-339" class="d">-
</a><a href="#h65-0-340" id="h65-0-340" class="d">-	defer func() {
</a><a href="#h65-0-341" id="h65-0-341" class="d">-		// Drain up to 512 bytes and close the body to let the Transport reuse the connection
</a><a href="#h65-0-342" id="h65-0-342" class="d">-		io.CopyN(ioutil.Discard, resp.Body, 512)
</a><a href="#h65-0-343" id="h65-0-343" class="d">-		resp.Body.Close()
</a><a href="#h65-0-344" id="h65-0-344" class="d">-	}()
</a><a href="#h65-0-345" id="h65-0-345" class="d">-
</a><a href="#h65-0-346" id="h65-0-346" class="d">-	response := newResponse(resp)
</a><a href="#h65-0-347" id="h65-0-347" class="d">-
</a><a href="#h65-0-348" id="h65-0-348" class="d">-	c.rateMu.Lock()
</a><a href="#h65-0-349" id="h65-0-349" class="d">-	c.rate = response.Rate
</a><a href="#h65-0-350" id="h65-0-350" class="d">-	c.rateMu.Unlock()
</a><a href="#h65-0-351" id="h65-0-351" class="d">-
</a><a href="#h65-0-352" id="h65-0-352" class="d">-	err = CheckResponse(resp)
</a><a href="#h65-0-353" id="h65-0-353" class="d">-	if err != nil {
</a><a href="#h65-0-354" id="h65-0-354" class="d">-		// even though there was an error, we still return the response
</a><a href="#h65-0-355" id="h65-0-355" class="d">-		// in case the caller wants to inspect it further
</a><a href="#h65-0-356" id="h65-0-356" class="d">-		return response, err
</a><a href="#h65-0-357" id="h65-0-357" class="d">-	}
</a><a href="#h65-0-358" id="h65-0-358" class="d">-
</a><a href="#h65-0-359" id="h65-0-359" class="d">-	if v != nil {
</a><a href="#h65-0-360" id="h65-0-360" class="d">-		if w, ok := v.(io.Writer); ok {
</a><a href="#h65-0-361" id="h65-0-361" class="d">-			io.Copy(w, resp.Body)
</a><a href="#h65-0-362" id="h65-0-362" class="d">-		} else {
</a><a href="#h65-0-363" id="h65-0-363" class="d">-			err = json.NewDecoder(resp.Body).Decode(v)
</a><a href="#h65-0-364" id="h65-0-364" class="d">-			if err == io.EOF {
</a><a href="#h65-0-365" id="h65-0-365" class="d">-				err = nil // ignore EOF errors caused by empty response body
</a><a href="#h65-0-366" id="h65-0-366" class="d">-			}
</a><a href="#h65-0-367" id="h65-0-367" class="d">-		}
</a><a href="#h65-0-368" id="h65-0-368" class="d">-	}
</a><a href="#h65-0-369" id="h65-0-369" class="d">-
</a><a href="#h65-0-370" id="h65-0-370" class="d">-	return response, err
</a><a href="#h65-0-371" id="h65-0-371" class="d">-}
</a><a href="#h65-0-372" id="h65-0-372" class="d">-
</a><a href="#h65-0-373" id="h65-0-373" class="d">-/*
</a><a href="#h65-0-374" id="h65-0-374" class="d">-An ErrorResponse reports one or more errors caused by an API request.
</a><a href="#h65-0-375" id="h65-0-375" class="d">-
</a><a href="#h65-0-376" id="h65-0-376" class="d">-GitHub API docs: http://developer.github.com/v3/#client-errors
</a><a href="#h65-0-377" id="h65-0-377" class="d">-*/
</a><a href="#h65-0-378" id="h65-0-378" class="d">-type ErrorResponse struct {
</a><a href="#h65-0-379" id="h65-0-379" class="d">-	Response *http.Response // HTTP response that caused this error
</a><a href="#h65-0-380" id="h65-0-380" class="d">-	Message  string         `json:&quot;message&quot;` // error message
</a><a href="#h65-0-381" id="h65-0-381" class="d">-	Errors   []Error        `json:&quot;errors&quot;`  // more detail on individual errors
</a><a href="#h65-0-382" id="h65-0-382" class="d">-	// Block is only populated on certain types of errors such as code 451.
</a><a href="#h65-0-383" id="h65-0-383" class="d">-	// See https://developer.github.com/changes/2016-03-17-the-451-status-code-is-now-supported/
</a><a href="#h65-0-384" id="h65-0-384" class="d">-	// for more information.
</a><a href="#h65-0-385" id="h65-0-385" class="d">-	Block *struct {
</a><a href="#h65-0-386" id="h65-0-386" class="d">-		Reason    string     `json:&quot;reason,omitempty&quot;`
</a><a href="#h65-0-387" id="h65-0-387" class="d">-		CreatedAt *Timestamp `json:&quot;created_at,omitempty&quot;`
</a><a href="#h65-0-388" id="h65-0-388" class="d">-	} `json:&quot;block,omitempty&quot;`
</a><a href="#h65-0-389" id="h65-0-389" class="d">-}
</a><a href="#h65-0-390" id="h65-0-390" class="d">-
</a><a href="#h65-0-391" id="h65-0-391" class="d">-func (r *ErrorResponse) Error() string {
</a><a href="#h65-0-392" id="h65-0-392" class="d">-	return fmt.Sprintf(&quot;%v %v: %d %v %+v&quot;,
</a><a href="#h65-0-393" id="h65-0-393" class="d">-		r.Response.Request.Method, sanitizeURL(r.Response.Request.URL),
</a><a href="#h65-0-394" id="h65-0-394" class="d">-		r.Response.StatusCode, r.Message, r.Errors)
</a><a href="#h65-0-395" id="h65-0-395" class="d">-}
</a><a href="#h65-0-396" id="h65-0-396" class="d">-
</a><a href="#h65-0-397" id="h65-0-397" class="d">-// TwoFactorAuthError occurs when using HTTP Basic Authentication for a user
</a><a href="#h65-0-398" id="h65-0-398" class="d">-// that has two-factor authentication enabled.  The request can be reattempted
</a><a href="#h65-0-399" id="h65-0-399" class="d">-// by providing a one-time password in the request.
</a><a href="#h65-0-400" id="h65-0-400" class="d">-type TwoFactorAuthError ErrorResponse
</a><a href="#h65-0-401" id="h65-0-401" class="d">-
</a><a href="#h65-0-402" id="h65-0-402" class="d">-func (r *TwoFactorAuthError) Error() string { return (*ErrorResponse)(r).Error() }
</a><a href="#h65-0-403" id="h65-0-403" class="d">-
</a><a href="#h65-0-404" id="h65-0-404" class="d">-// RateLimitError occurs when GitHub returns 403 Forbidden response with a rate limit
</a><a href="#h65-0-405" id="h65-0-405" class="d">-// remaining value of 0, and error message starts with &quot;API rate limit exceeded for &quot;.
</a><a href="#h65-0-406" id="h65-0-406" class="d">-type RateLimitError struct {
</a><a href="#h65-0-407" id="h65-0-407" class="d">-	Rate     Rate           // Rate specifies last known rate limit for the client
</a><a href="#h65-0-408" id="h65-0-408" class="d">-	Response *http.Response // HTTP response that caused this error
</a><a href="#h65-0-409" id="h65-0-409" class="d">-	Message  string         `json:&quot;message&quot;` // error message
</a><a href="#h65-0-410" id="h65-0-410" class="d">-}
</a><a href="#h65-0-411" id="h65-0-411" class="d">-
</a><a href="#h65-0-412" id="h65-0-412" class="d">-func (r *RateLimitError) Error() string {
</a><a href="#h65-0-413" id="h65-0-413" class="d">-	return fmt.Sprintf(&quot;%v %v: %d %v; rate reset in %v&quot;,
</a><a href="#h65-0-414" id="h65-0-414" class="d">-		r.Response.Request.Method, sanitizeURL(r.Response.Request.URL),
</a><a href="#h65-0-415" id="h65-0-415" class="d">-		r.Response.StatusCode, r.Message, r.Rate.Reset.Time.Sub(time.Now()))
</a><a href="#h65-0-416" id="h65-0-416" class="d">-}
</a><a href="#h65-0-417" id="h65-0-417" class="d">-
</a><a href="#h65-0-418" id="h65-0-418" class="d">-// sanitizeURL redacts the client_secret parameter from the URL which may be
</a><a href="#h65-0-419" id="h65-0-419" class="d">-// exposed to the user, specifically in the ErrorResponse error message.
</a><a href="#h65-0-420" id="h65-0-420" class="d">-func sanitizeURL(uri *url.URL) *url.URL {
</a><a href="#h65-0-421" id="h65-0-421" class="d">-	if uri == nil {
</a><a href="#h65-0-422" id="h65-0-422" class="d">-		return nil
</a><a href="#h65-0-423" id="h65-0-423" class="d">-	}
</a><a href="#h65-0-424" id="h65-0-424" class="d">-	params := uri.Query()
</a><a href="#h65-0-425" id="h65-0-425" class="d">-	if len(params.Get(&quot;client_secret&quot;)) &gt; 0 {
</a><a href="#h65-0-426" id="h65-0-426" class="d">-		params.Set(&quot;client_secret&quot;, &quot;REDACTED&quot;)
</a><a href="#h65-0-427" id="h65-0-427" class="d">-		uri.RawQuery = params.Encode()
</a><a href="#h65-0-428" id="h65-0-428" class="d">-	}
</a><a href="#h65-0-429" id="h65-0-429" class="d">-	return uri
</a><a href="#h65-0-430" id="h65-0-430" class="d">-}
</a><a href="#h65-0-431" id="h65-0-431" class="d">-
</a><a href="#h65-0-432" id="h65-0-432" class="d">-/*
</a><a href="#h65-0-433" id="h65-0-433" class="d">-An Error reports more details on an individual error in an ErrorResponse.
</a><a href="#h65-0-434" id="h65-0-434" class="d">-These are the possible validation error codes:
</a><a href="#h65-0-435" id="h65-0-435" class="d">-
</a><a href="#h65-0-436" id="h65-0-436" class="d">-    missing:
</a><a href="#h65-0-437" id="h65-0-437" class="d">-        resource does not exist
</a><a href="#h65-0-438" id="h65-0-438" class="d">-    missing_field:
</a><a href="#h65-0-439" id="h65-0-439" class="d">-        a required field on a resource has not been set
</a><a href="#h65-0-440" id="h65-0-440" class="d">-    invalid:
</a><a href="#h65-0-441" id="h65-0-441" class="d">-        the formatting of a field is invalid
</a><a href="#h65-0-442" id="h65-0-442" class="d">-    already_exists:
</a><a href="#h65-0-443" id="h65-0-443" class="d">-        another resource has the same valid as this field
</a><a href="#h65-0-444" id="h65-0-444" class="d">-
</a><a href="#h65-0-445" id="h65-0-445" class="d">-GitHub API docs: http://developer.github.com/v3/#client-errors
</a><a href="#h65-0-446" id="h65-0-446" class="d">-*/
</a><a href="#h65-0-447" id="h65-0-447" class="d">-type Error struct {
</a><a href="#h65-0-448" id="h65-0-448" class="d">-	Resource string `json:&quot;resource&quot;` // resource on which the error occurred
</a><a href="#h65-0-449" id="h65-0-449" class="d">-	Field    string `json:&quot;field&quot;`    // field on which the error occurred
</a><a href="#h65-0-450" id="h65-0-450" class="d">-	Code     string `json:&quot;code&quot;`     // validation error code
</a><a href="#h65-0-451" id="h65-0-451" class="d">-}
</a><a href="#h65-0-452" id="h65-0-452" class="d">-
</a><a href="#h65-0-453" id="h65-0-453" class="d">-func (e *Error) Error() string {
</a><a href="#h65-0-454" id="h65-0-454" class="d">-	return fmt.Sprintf(&quot;%v error caused by %v field on %v resource&quot;,
</a><a href="#h65-0-455" id="h65-0-455" class="d">-		e.Code, e.Field, e.Resource)
</a><a href="#h65-0-456" id="h65-0-456" class="d">-}
</a><a href="#h65-0-457" id="h65-0-457" class="d">-
</a><a href="#h65-0-458" id="h65-0-458" class="d">-// CheckResponse checks the API response for errors, and returns them if
</a><a href="#h65-0-459" id="h65-0-459" class="d">-// present.  A response is considered an error if it has a status code outside
</a><a href="#h65-0-460" id="h65-0-460" class="d">-// the 200 range.  API error responses are expected to have either no response
</a><a href="#h65-0-461" id="h65-0-461" class="d">-// body, or a JSON response body that maps to ErrorResponse.  Any other
</a><a href="#h65-0-462" id="h65-0-462" class="d">-// response body will be silently ignored.
</a><a href="#h65-0-463" id="h65-0-463" class="d">-//
</a><a href="#h65-0-464" id="h65-0-464" class="d">-// The error type will be *RateLimitError for rate limit exceeded errors,
</a><a href="#h65-0-465" id="h65-0-465" class="d">-// and *TwoFactorAuthError for two-factor authentication errors.
</a><a href="#h65-0-466" id="h65-0-466" class="d">-func CheckResponse(r *http.Response) error {
</a><a href="#h65-0-467" id="h65-0-467" class="d">-	if c := r.StatusCode; 200 &lt;= c &amp;&amp; c &lt;= 299 {
</a><a href="#h65-0-468" id="h65-0-468" class="d">-		return nil
</a><a href="#h65-0-469" id="h65-0-469" class="d">-	}
</a><a href="#h65-0-470" id="h65-0-470" class="d">-	errorResponse := &amp;ErrorResponse{Response: r}
</a><a href="#h65-0-471" id="h65-0-471" class="d">-	data, err := ioutil.ReadAll(r.Body)
</a><a href="#h65-0-472" id="h65-0-472" class="d">-	if err == nil &amp;&amp; data != nil {
</a><a href="#h65-0-473" id="h65-0-473" class="d">-		json.Unmarshal(data, errorResponse)
</a><a href="#h65-0-474" id="h65-0-474" class="d">-	}
</a><a href="#h65-0-475" id="h65-0-475" class="d">-	switch {
</a><a href="#h65-0-476" id="h65-0-476" class="d">-	case r.StatusCode == http.StatusUnauthorized &amp;&amp; strings.HasPrefix(r.Header.Get(headerOTP), &quot;required&quot;):
</a><a href="#h65-0-477" id="h65-0-477" class="d">-		return (*TwoFactorAuthError)(errorResponse)
</a><a href="#h65-0-478" id="h65-0-478" class="d">-	case r.StatusCode == http.StatusForbidden &amp;&amp; r.Header.Get(headerRateRemaining) == &quot;0&quot; &amp;&amp; strings.HasPrefix(errorResponse.Message, &quot;API rate limit exceeded for &quot;):
</a><a href="#h65-0-479" id="h65-0-479" class="d">-		return &amp;RateLimitError{
</a><a href="#h65-0-480" id="h65-0-480" class="d">-			Rate:     parseRate(r),
</a><a href="#h65-0-481" id="h65-0-481" class="d">-			Response: errorResponse.Response,
</a><a href="#h65-0-482" id="h65-0-482" class="d">-			Message:  errorResponse.Message,
</a><a href="#h65-0-483" id="h65-0-483" class="d">-		}
</a><a href="#h65-0-484" id="h65-0-484" class="d">-	default:
</a><a href="#h65-0-485" id="h65-0-485" class="d">-		return errorResponse
</a><a href="#h65-0-486" id="h65-0-486" class="d">-	}
</a><a href="#h65-0-487" id="h65-0-487" class="d">-}
</a><a href="#h65-0-488" id="h65-0-488" class="d">-
</a><a href="#h65-0-489" id="h65-0-489" class="d">-// parseBoolResponse determines the boolean result from a GitHub API response.
</a><a href="#h65-0-490" id="h65-0-490" class="d">-// Several GitHub API methods return boolean responses indicated by the HTTP
</a><a href="#h65-0-491" id="h65-0-491" class="d">-// status code in the response (true indicated by a 204, false indicated by a
</a><a href="#h65-0-492" id="h65-0-492" class="d">-// 404).  This helper function will determine that result and hide the 404
</a><a href="#h65-0-493" id="h65-0-493" class="d">-// error if present.  Any other error will be returned through as-is.
</a><a href="#h65-0-494" id="h65-0-494" class="d">-func parseBoolResponse(err error) (bool, error) {
</a><a href="#h65-0-495" id="h65-0-495" class="d">-	if err == nil {
</a><a href="#h65-0-496" id="h65-0-496" class="d">-		return true, nil
</a><a href="#h65-0-497" id="h65-0-497" class="d">-	}
</a><a href="#h65-0-498" id="h65-0-498" class="d">-
</a><a href="#h65-0-499" id="h65-0-499" class="d">-	if err, ok := err.(*ErrorResponse); ok &amp;&amp; err.Response.StatusCode == http.StatusNotFound {
</a><a href="#h65-0-500" id="h65-0-500" class="d">-		// Simply false.  In this one case, we do not pass the error through.
</a><a href="#h65-0-501" id="h65-0-501" class="d">-		return false, nil
</a><a href="#h65-0-502" id="h65-0-502" class="d">-	}
</a><a href="#h65-0-503" id="h65-0-503" class="d">-
</a><a href="#h65-0-504" id="h65-0-504" class="d">-	// some other real error occurred
</a><a href="#h65-0-505" id="h65-0-505" class="d">-	return false, err
</a><a href="#h65-0-506" id="h65-0-506" class="d">-}
</a><a href="#h65-0-507" id="h65-0-507" class="d">-
</a><a href="#h65-0-508" id="h65-0-508" class="d">-// Rate represents the rate limit for the current client.
</a><a href="#h65-0-509" id="h65-0-509" class="d">-type Rate struct {
</a><a href="#h65-0-510" id="h65-0-510" class="d">-	// The number of requests per hour the client is currently limited to.
</a><a href="#h65-0-511" id="h65-0-511" class="d">-	Limit int `json:&quot;limit&quot;`
</a><a href="#h65-0-512" id="h65-0-512" class="d">-
</a><a href="#h65-0-513" id="h65-0-513" class="d">-	// The number of remaining requests the client can make this hour.
</a><a href="#h65-0-514" id="h65-0-514" class="d">-	Remaining int `json:&quot;remaining&quot;`
</a><a href="#h65-0-515" id="h65-0-515" class="d">-
</a><a href="#h65-0-516" id="h65-0-516" class="d">-	// The time at which the current rate limit will reset.
</a><a href="#h65-0-517" id="h65-0-517" class="d">-	Reset Timestamp `json:&quot;reset&quot;`
</a><a href="#h65-0-518" id="h65-0-518" class="d">-}
</a><a href="#h65-0-519" id="h65-0-519" class="d">-
</a><a href="#h65-0-520" id="h65-0-520" class="d">-func (r Rate) String() string {
</a><a href="#h65-0-521" id="h65-0-521" class="d">-	return Stringify(r)
</a><a href="#h65-0-522" id="h65-0-522" class="d">-}
</a><a href="#h65-0-523" id="h65-0-523" class="d">-
</a><a href="#h65-0-524" id="h65-0-524" class="d">-// RateLimits represents the rate limits for the current client.
</a><a href="#h65-0-525" id="h65-0-525" class="d">-type RateLimits struct {
</a><a href="#h65-0-526" id="h65-0-526" class="d">-	// The rate limit for non-search API requests.  Unauthenticated
</a><a href="#h65-0-527" id="h65-0-527" class="d">-	// requests are limited to 60 per hour.  Authenticated requests are
</a><a href="#h65-0-528" id="h65-0-528" class="d">-	// limited to 5,000 per hour.
</a><a href="#h65-0-529" id="h65-0-529" class="d">-	Core *Rate `json:&quot;core&quot;`
</a><a href="#h65-0-530" id="h65-0-530" class="d">-
</a><a href="#h65-0-531" id="h65-0-531" class="d">-	// The rate limit for search API requests.  Unauthenticated requests
</a><a href="#h65-0-532" id="h65-0-532" class="d">-	// are limited to 5 requests per minutes.  Authenticated requests are
</a><a href="#h65-0-533" id="h65-0-533" class="d">-	// limited to 20 per minute.
</a><a href="#h65-0-534" id="h65-0-534" class="d">-	//
</a><a href="#h65-0-535" id="h65-0-535" class="d">-	// GitHub API docs: https://developer.github.com/v3/search/#rate-limit
</a><a href="#h65-0-536" id="h65-0-536" class="d">-	Search *Rate `json:&quot;search&quot;`
</a><a href="#h65-0-537" id="h65-0-537" class="d">-}
</a><a href="#h65-0-538" id="h65-0-538" class="d">-
</a><a href="#h65-0-539" id="h65-0-539" class="d">-func (r RateLimits) String() string {
</a><a href="#h65-0-540" id="h65-0-540" class="d">-	return Stringify(r)
</a><a href="#h65-0-541" id="h65-0-541" class="d">-}
</a><a href="#h65-0-542" id="h65-0-542" class="d">-
</a><a href="#h65-0-543" id="h65-0-543" class="d">-// Deprecated: RateLimit is deprecated, use RateLimits instead.
</a><a href="#h65-0-544" id="h65-0-544" class="d">-func (c *Client) RateLimit() (*Rate, *Response, error) {
</a><a href="#h65-0-545" id="h65-0-545" class="d">-	limits, resp, err := c.RateLimits()
</a><a href="#h65-0-546" id="h65-0-546" class="d">-	if limits == nil {
</a><a href="#h65-0-547" id="h65-0-547" class="d">-		return nil, nil, err
</a><a href="#h65-0-548" id="h65-0-548" class="d">-	}
</a><a href="#h65-0-549" id="h65-0-549" class="d">-
</a><a href="#h65-0-550" id="h65-0-550" class="d">-	return limits.Core, resp, err
</a><a href="#h65-0-551" id="h65-0-551" class="d">-}
</a><a href="#h65-0-552" id="h65-0-552" class="d">-
</a><a href="#h65-0-553" id="h65-0-553" class="d">-// RateLimits returns the rate limits for the current client.
</a><a href="#h65-0-554" id="h65-0-554" class="d">-func (c *Client) RateLimits() (*RateLimits, *Response, error) {
</a><a href="#h65-0-555" id="h65-0-555" class="d">-	req, err := c.NewRequest(&quot;GET&quot;, &quot;rate_limit&quot;, nil)
</a><a href="#h65-0-556" id="h65-0-556" class="d">-	if err != nil {
</a><a href="#h65-0-557" id="h65-0-557" class="d">-		return nil, nil, err
</a><a href="#h65-0-558" id="h65-0-558" class="d">-	}
</a><a href="#h65-0-559" id="h65-0-559" class="d">-
</a><a href="#h65-0-560" id="h65-0-560" class="d">-	response := new(struct {
</a><a href="#h65-0-561" id="h65-0-561" class="d">-		Resources *RateLimits `json:&quot;resources&quot;`
</a><a href="#h65-0-562" id="h65-0-562" class="d">-	})
</a><a href="#h65-0-563" id="h65-0-563" class="d">-	resp, err := c.Do(req, response)
</a><a href="#h65-0-564" id="h65-0-564" class="d">-	if err != nil {
</a><a href="#h65-0-565" id="h65-0-565" class="d">-		return nil, nil, err
</a><a href="#h65-0-566" id="h65-0-566" class="d">-	}
</a><a href="#h65-0-567" id="h65-0-567" class="d">-
</a><a href="#h65-0-568" id="h65-0-568" class="d">-	return response.Resources, resp, err
</a><a href="#h65-0-569" id="h65-0-569" class="d">-}
</a><a href="#h65-0-570" id="h65-0-570" class="d">-
</a><a href="#h65-0-571" id="h65-0-571" class="d">-/*
</a><a href="#h65-0-572" id="h65-0-572" class="d">-UnauthenticatedRateLimitedTransport allows you to make unauthenticated calls
</a><a href="#h65-0-573" id="h65-0-573" class="d">-that need to use a higher rate limit associated with your OAuth application.
</a><a href="#h65-0-574" id="h65-0-574" class="d">-
</a><a href="#h65-0-575" id="h65-0-575" class="d">-	t := &amp;github.UnauthenticatedRateLimitedTransport{
</a><a href="#h65-0-576" id="h65-0-576" class="d">-		ClientID:     &quot;your app&#39;s client ID&quot;,
</a><a href="#h65-0-577" id="h65-0-577" class="d">-		ClientSecret: &quot;your app&#39;s client secret&quot;,
</a><a href="#h65-0-578" id="h65-0-578" class="d">-	}
</a><a href="#h65-0-579" id="h65-0-579" class="d">-	client := github.NewClient(t.Client())
</a><a href="#h65-0-580" id="h65-0-580" class="d">-
</a><a href="#h65-0-581" id="h65-0-581" class="d">-This will append the querystring params client_id=xxx&amp;client_secret=yyy to all
</a><a href="#h65-0-582" id="h65-0-582" class="d">-requests.
</a><a href="#h65-0-583" id="h65-0-583" class="d">-
</a><a href="#h65-0-584" id="h65-0-584" class="d">-See http://developer.github.com/v3/#unauthenticated-rate-limited-requests for
</a><a href="#h65-0-585" id="h65-0-585" class="d">-more information.
</a><a href="#h65-0-586" id="h65-0-586" class="d">-*/
</a><a href="#h65-0-587" id="h65-0-587" class="d">-type UnauthenticatedRateLimitedTransport struct {
</a><a href="#h65-0-588" id="h65-0-588" class="d">-	// ClientID is the GitHub OAuth client ID of the current application, which
</a><a href="#h65-0-589" id="h65-0-589" class="d">-	// can be found by selecting its entry in the list at
</a><a href="#h65-0-590" id="h65-0-590" class="d">-	// https://github.com/settings/applications.
</a><a href="#h65-0-591" id="h65-0-591" class="d">-	ClientID string
</a><a href="#h65-0-592" id="h65-0-592" class="d">-
</a><a href="#h65-0-593" id="h65-0-593" class="d">-	// ClientSecret is the GitHub OAuth client secret of the current
</a><a href="#h65-0-594" id="h65-0-594" class="d">-	// application.
</a><a href="#h65-0-595" id="h65-0-595" class="d">-	ClientSecret string
</a><a href="#h65-0-596" id="h65-0-596" class="d">-
</a><a href="#h65-0-597" id="h65-0-597" class="d">-	// Transport is the underlying HTTP transport to use when making requests.
</a><a href="#h65-0-598" id="h65-0-598" class="d">-	// It will default to http.DefaultTransport if nil.
</a><a href="#h65-0-599" id="h65-0-599" class="d">-	Transport http.RoundTripper
</a><a href="#h65-0-600" id="h65-0-600" class="d">-}
</a><a href="#h65-0-601" id="h65-0-601" class="d">-
</a><a href="#h65-0-602" id="h65-0-602" class="d">-// RoundTrip implements the RoundTripper interface.
</a><a href="#h65-0-603" id="h65-0-603" class="d">-func (t *UnauthenticatedRateLimitedTransport) RoundTrip(req *http.Request) (*http.Response, error) {
</a><a href="#h65-0-604" id="h65-0-604" class="d">-	if t.ClientID == &quot;&quot; {
</a><a href="#h65-0-605" id="h65-0-605" class="d">-		return nil, errors.New(&quot;t.ClientID is empty&quot;)
</a><a href="#h65-0-606" id="h65-0-606" class="d">-	}
</a><a href="#h65-0-607" id="h65-0-607" class="d">-	if t.ClientSecret == &quot;&quot; {
</a><a href="#h65-0-608" id="h65-0-608" class="d">-		return nil, errors.New(&quot;t.ClientSecret is empty&quot;)
</a><a href="#h65-0-609" id="h65-0-609" class="d">-	}
</a><a href="#h65-0-610" id="h65-0-610" class="d">-
</a><a href="#h65-0-611" id="h65-0-611" class="d">-	// To set extra querystring params, we must make a copy of the Request so
</a><a href="#h65-0-612" id="h65-0-612" class="d">-	// that we don&#39;t modify the Request we were given. This is required by the
</a><a href="#h65-0-613" id="h65-0-613" class="d">-	// specification of http.RoundTripper.
</a><a href="#h65-0-614" id="h65-0-614" class="d">-	req = cloneRequest(req)
</a><a href="#h65-0-615" id="h65-0-615" class="d">-	q := req.URL.Query()
</a><a href="#h65-0-616" id="h65-0-616" class="d">-	q.Set(&quot;client_id&quot;, t.ClientID)
</a><a href="#h65-0-617" id="h65-0-617" class="d">-	q.Set(&quot;client_secret&quot;, t.ClientSecret)
</a><a href="#h65-0-618" id="h65-0-618" class="d">-	req.URL.RawQuery = q.Encode()
</a><a href="#h65-0-619" id="h65-0-619" class="d">-
</a><a href="#h65-0-620" id="h65-0-620" class="d">-	// Make the HTTP request.
</a><a href="#h65-0-621" id="h65-0-621" class="d">-	return t.transport().RoundTrip(req)
</a><a href="#h65-0-622" id="h65-0-622" class="d">-}
</a><a href="#h65-0-623" id="h65-0-623" class="d">-
</a><a href="#h65-0-624" id="h65-0-624" class="d">-// Client returns an *http.Client that makes requests which are subject to the
</a><a href="#h65-0-625" id="h65-0-625" class="d">-// rate limit of your OAuth application.
</a><a href="#h65-0-626" id="h65-0-626" class="d">-func (t *UnauthenticatedRateLimitedTransport) Client() *http.Client {
</a><a href="#h65-0-627" id="h65-0-627" class="d">-	return &amp;http.Client{Transport: t}
</a><a href="#h65-0-628" id="h65-0-628" class="d">-}
</a><a href="#h65-0-629" id="h65-0-629" class="d">-
</a><a href="#h65-0-630" id="h65-0-630" class="d">-func (t *UnauthenticatedRateLimitedTransport) transport() http.RoundTripper {
</a><a href="#h65-0-631" id="h65-0-631" class="d">-	if t.Transport != nil {
</a><a href="#h65-0-632" id="h65-0-632" class="d">-		return t.Transport
</a><a href="#h65-0-633" id="h65-0-633" class="d">-	}
</a><a href="#h65-0-634" id="h65-0-634" class="d">-	return http.DefaultTransport
</a><a href="#h65-0-635" id="h65-0-635" class="d">-}
</a><a href="#h65-0-636" id="h65-0-636" class="d">-
</a><a href="#h65-0-637" id="h65-0-637" class="d">-// BasicAuthTransport is an http.RoundTripper that authenticates all requests
</a><a href="#h65-0-638" id="h65-0-638" class="d">-// using HTTP Basic Authentication with the provided username and password.  It
</a><a href="#h65-0-639" id="h65-0-639" class="d">-// additionally supports users who have two-factor authentication enabled on
</a><a href="#h65-0-640" id="h65-0-640" class="d">-// their GitHub account.
</a><a href="#h65-0-641" id="h65-0-641" class="d">-type BasicAuthTransport struct {
</a><a href="#h65-0-642" id="h65-0-642" class="d">-	Username string // GitHub username
</a><a href="#h65-0-643" id="h65-0-643" class="d">-	Password string // GitHub password
</a><a href="#h65-0-644" id="h65-0-644" class="d">-	OTP      string // one-time password for users with two-factor auth enabled
</a><a href="#h65-0-645" id="h65-0-645" class="d">-
</a><a href="#h65-0-646" id="h65-0-646" class="d">-	// Transport is the underlying HTTP transport to use when making requests.
</a><a href="#h65-0-647" id="h65-0-647" class="d">-	// It will default to http.DefaultTransport if nil.
</a><a href="#h65-0-648" id="h65-0-648" class="d">-	Transport http.RoundTripper
</a><a href="#h65-0-649" id="h65-0-649" class="d">-}
</a><a href="#h65-0-650" id="h65-0-650" class="d">-
</a><a href="#h65-0-651" id="h65-0-651" class="d">-// RoundTrip implements the RoundTripper interface.
</a><a href="#h65-0-652" id="h65-0-652" class="d">-func (t *BasicAuthTransport) RoundTrip(req *http.Request) (*http.Response, error) {
</a><a href="#h65-0-653" id="h65-0-653" class="d">-	req = cloneRequest(req) // per RoundTrip contract
</a><a href="#h65-0-654" id="h65-0-654" class="d">-	req.SetBasicAuth(t.Username, t.Password)
</a><a href="#h65-0-655" id="h65-0-655" class="d">-	if t.OTP != &quot;&quot; {
</a><a href="#h65-0-656" id="h65-0-656" class="d">-		req.Header.Add(headerOTP, t.OTP)
</a><a href="#h65-0-657" id="h65-0-657" class="d">-	}
</a><a href="#h65-0-658" id="h65-0-658" class="d">-	return t.transport().RoundTrip(req)
</a><a href="#h65-0-659" id="h65-0-659" class="d">-}
</a><a href="#h65-0-660" id="h65-0-660" class="d">-
</a><a href="#h65-0-661" id="h65-0-661" class="d">-// Client returns an *http.Client that makes requests that are authenticated
</a><a href="#h65-0-662" id="h65-0-662" class="d">-// using HTTP Basic Authentication.
</a><a href="#h65-0-663" id="h65-0-663" class="d">-func (t *BasicAuthTransport) Client() *http.Client {
</a><a href="#h65-0-664" id="h65-0-664" class="d">-	return &amp;http.Client{Transport: t}
</a><a href="#h65-0-665" id="h65-0-665" class="d">-}
</a><a href="#h65-0-666" id="h65-0-666" class="d">-
</a><a href="#h65-0-667" id="h65-0-667" class="d">-func (t *BasicAuthTransport) transport() http.RoundTripper {
</a><a href="#h65-0-668" id="h65-0-668" class="d">-	if t.Transport != nil {
</a><a href="#h65-0-669" id="h65-0-669" class="d">-		return t.Transport
</a><a href="#h65-0-670" id="h65-0-670" class="d">-	}
</a><a href="#h65-0-671" id="h65-0-671" class="d">-	return http.DefaultTransport
</a><a href="#h65-0-672" id="h65-0-672" class="d">-}
</a><a href="#h65-0-673" id="h65-0-673" class="d">-
</a><a href="#h65-0-674" id="h65-0-674" class="d">-// cloneRequest returns a clone of the provided *http.Request. The clone is a
</a><a href="#h65-0-675" id="h65-0-675" class="d">-// shallow copy of the struct and its Header map.
</a><a href="#h65-0-676" id="h65-0-676" class="d">-func cloneRequest(r *http.Request) *http.Request {
</a><a href="#h65-0-677" id="h65-0-677" class="d">-	// shallow copy of the struct
</a><a href="#h65-0-678" id="h65-0-678" class="d">-	r2 := new(http.Request)
</a><a href="#h65-0-679" id="h65-0-679" class="d">-	*r2 = *r
</a><a href="#h65-0-680" id="h65-0-680" class="d">-	// deep copy of the Header
</a><a href="#h65-0-681" id="h65-0-681" class="d">-	r2.Header = make(http.Header, len(r.Header))
</a><a href="#h65-0-682" id="h65-0-682" class="d">-	for k, s := range r.Header {
</a><a href="#h65-0-683" id="h65-0-683" class="d">-		r2.Header[k] = append([]string(nil), s...)
</a><a href="#h65-0-684" id="h65-0-684" class="d">-	}
</a><a href="#h65-0-685" id="h65-0-685" class="d">-	return r2
</a><a href="#h65-0-686" id="h65-0-686" class="d">-}
</a><a href="#h65-0-687" id="h65-0-687" class="d">-
</a><a href="#h65-0-688" id="h65-0-688" class="d">-// Bool is a helper routine that allocates a new bool value
</a><a href="#h65-0-689" id="h65-0-689" class="d">-// to store v and returns a pointer to it.
</a><a href="#h65-0-690" id="h65-0-690" class="d">-func Bool(v bool) *bool {
</a><a href="#h65-0-691" id="h65-0-691" class="d">-	p := new(bool)
</a><a href="#h65-0-692" id="h65-0-692" class="d">-	*p = v
</a><a href="#h65-0-693" id="h65-0-693" class="d">-	return p
</a><a href="#h65-0-694" id="h65-0-694" class="d">-}
</a><a href="#h65-0-695" id="h65-0-695" class="d">-
</a><a href="#h65-0-696" id="h65-0-696" class="d">-// Int is a helper routine that allocates a new int32 value
</a><a href="#h65-0-697" id="h65-0-697" class="d">-// to store v and returns a pointer to it, but unlike Int32
</a><a href="#h65-0-698" id="h65-0-698" class="d">-// its argument value is an int.
</a><a href="#h65-0-699" id="h65-0-699" class="d">-func Int(v int) *int {
</a><a href="#h65-0-700" id="h65-0-700" class="d">-	p := new(int)
</a><a href="#h65-0-701" id="h65-0-701" class="d">-	*p = v
</a><a href="#h65-0-702" id="h65-0-702" class="d">-	return p
</a><a href="#h65-0-703" id="h65-0-703" class="d">-}
</a><a href="#h65-0-704" id="h65-0-704" class="d">-
</a><a href="#h65-0-705" id="h65-0-705" class="d">-// String is a helper routine that allocates a new string value
</a><a href="#h65-0-706" id="h65-0-706" class="d">-// to store v and returns a pointer to it.
</a><a href="#h65-0-707" id="h65-0-707" class="d">-func String(v string) *string {
</a><a href="#h65-0-708" id="h65-0-708" class="d">-	p := new(string)
</a><a href="#h65-0-709" id="h65-0-709" class="d">-	*p = v
</a><a href="#h65-0-710" id="h65-0-710" class="d">-	return p
</a><a href="#h65-0-711" id="h65-0-711" class="d">-}
</a><b>diff --git a/<a id="h66" href="../file/vendor/github.com/google/go-github/github/gitignore.go">vendor/github.com/google/go-github/github/gitignore.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/gitignore.go">vendor/github.com/google/go-github/github/gitignore.go</a></b>
<a href="#h66-0" id="h66-0" class="h">@@ -1,63 +0,0 @@
</a><a href="#h66-0-0" id="h66-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h66-0-1" id="h66-0-1" class="d">-//
</a><a href="#h66-0-2" id="h66-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h66-0-3" id="h66-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h66-0-4" id="h66-0-4" class="d">-
</a><a href="#h66-0-5" id="h66-0-5" class="d">-package github
</a><a href="#h66-0-6" id="h66-0-6" class="d">-
</a><a href="#h66-0-7" id="h66-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h66-0-8" id="h66-0-8" class="d">-
</a><a href="#h66-0-9" id="h66-0-9" class="d">-// GitignoresService provides access to the gitignore related functions in the
</a><a href="#h66-0-10" id="h66-0-10" class="d">-// GitHub API.
</a><a href="#h66-0-11" id="h66-0-11" class="d">-//
</a><a href="#h66-0-12" id="h66-0-12" class="d">-// GitHub API docs: http://developer.github.com/v3/gitignore/
</a><a href="#h66-0-13" id="h66-0-13" class="d">-type GitignoresService struct {
</a><a href="#h66-0-14" id="h66-0-14" class="d">-	client *Client
</a><a href="#h66-0-15" id="h66-0-15" class="d">-}
</a><a href="#h66-0-16" id="h66-0-16" class="d">-
</a><a href="#h66-0-17" id="h66-0-17" class="d">-// Gitignore represents a .gitignore file as returned by the GitHub API.
</a><a href="#h66-0-18" id="h66-0-18" class="d">-type Gitignore struct {
</a><a href="#h66-0-19" id="h66-0-19" class="d">-	Name   *string `json:&quot;name,omitempty&quot;`
</a><a href="#h66-0-20" id="h66-0-20" class="d">-	Source *string `json:&quot;source,omitempty&quot;`
</a><a href="#h66-0-21" id="h66-0-21" class="d">-}
</a><a href="#h66-0-22" id="h66-0-22" class="d">-
</a><a href="#h66-0-23" id="h66-0-23" class="d">-func (g Gitignore) String() string {
</a><a href="#h66-0-24" id="h66-0-24" class="d">-	return Stringify(g)
</a><a href="#h66-0-25" id="h66-0-25" class="d">-}
</a><a href="#h66-0-26" id="h66-0-26" class="d">-
</a><a href="#h66-0-27" id="h66-0-27" class="d">-// List all available Gitignore templates.
</a><a href="#h66-0-28" id="h66-0-28" class="d">-//
</a><a href="#h66-0-29" id="h66-0-29" class="d">-// http://developer.github.com/v3/gitignore/#listing-available-templates
</a><a href="#h66-0-30" id="h66-0-30" class="d">-func (s GitignoresService) List() ([]string, *Response, error) {
</a><a href="#h66-0-31" id="h66-0-31" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, &quot;gitignore/templates&quot;, nil)
</a><a href="#h66-0-32" id="h66-0-32" class="d">-	if err != nil {
</a><a href="#h66-0-33" id="h66-0-33" class="d">-		return nil, nil, err
</a><a href="#h66-0-34" id="h66-0-34" class="d">-	}
</a><a href="#h66-0-35" id="h66-0-35" class="d">-
</a><a href="#h66-0-36" id="h66-0-36" class="d">-	availableTemplates := new([]string)
</a><a href="#h66-0-37" id="h66-0-37" class="d">-	resp, err := s.client.Do(req, availableTemplates)
</a><a href="#h66-0-38" id="h66-0-38" class="d">-	if err != nil {
</a><a href="#h66-0-39" id="h66-0-39" class="d">-		return nil, resp, err
</a><a href="#h66-0-40" id="h66-0-40" class="d">-	}
</a><a href="#h66-0-41" id="h66-0-41" class="d">-
</a><a href="#h66-0-42" id="h66-0-42" class="d">-	return *availableTemplates, resp, err
</a><a href="#h66-0-43" id="h66-0-43" class="d">-}
</a><a href="#h66-0-44" id="h66-0-44" class="d">-
</a><a href="#h66-0-45" id="h66-0-45" class="d">-// Get a Gitignore by name.
</a><a href="#h66-0-46" id="h66-0-46" class="d">-//
</a><a href="#h66-0-47" id="h66-0-47" class="d">-// http://developer.github.com/v3/gitignore/#get-a-single-template
</a><a href="#h66-0-48" id="h66-0-48" class="d">-func (s GitignoresService) Get(name string) (*Gitignore, *Response, error) {
</a><a href="#h66-0-49" id="h66-0-49" class="d">-	u := fmt.Sprintf(&quot;gitignore/templates/%v&quot;, name)
</a><a href="#h66-0-50" id="h66-0-50" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h66-0-51" id="h66-0-51" class="d">-	if err != nil {
</a><a href="#h66-0-52" id="h66-0-52" class="d">-		return nil, nil, err
</a><a href="#h66-0-53" id="h66-0-53" class="d">-	}
</a><a href="#h66-0-54" id="h66-0-54" class="d">-
</a><a href="#h66-0-55" id="h66-0-55" class="d">-	gitignore := new(Gitignore)
</a><a href="#h66-0-56" id="h66-0-56" class="d">-	resp, err := s.client.Do(req, gitignore)
</a><a href="#h66-0-57" id="h66-0-57" class="d">-	if err != nil {
</a><a href="#h66-0-58" id="h66-0-58" class="d">-		return nil, resp, err
</a><a href="#h66-0-59" id="h66-0-59" class="d">-	}
</a><a href="#h66-0-60" id="h66-0-60" class="d">-
</a><a href="#h66-0-61" id="h66-0-61" class="d">-	return gitignore, resp, err
</a><a href="#h66-0-62" id="h66-0-62" class="d">-}
</a><b>diff --git a/<a id="h67" href="../file/vendor/github.com/google/go-github/github/issues.go">vendor/github.com/google/go-github/github/issues.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/issues.go">vendor/github.com/google/go-github/github/issues.go</a></b>
<a href="#h67-0" id="h67-0" class="h">@@ -1,294 +0,0 @@
</a><a href="#h67-0-0" id="h67-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h67-0-1" id="h67-0-1" class="d">-//
</a><a href="#h67-0-2" id="h67-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h67-0-3" id="h67-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h67-0-4" id="h67-0-4" class="d">-
</a><a href="#h67-0-5" id="h67-0-5" class="d">-package github
</a><a href="#h67-0-6" id="h67-0-6" class="d">-
</a><a href="#h67-0-7" id="h67-0-7" class="d">-import (
</a><a href="#h67-0-8" id="h67-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h67-0-9" id="h67-0-9" class="d">-	&quot;time&quot;
</a><a href="#h67-0-10" id="h67-0-10" class="d">-)
</a><a href="#h67-0-11" id="h67-0-11" class="d">-
</a><a href="#h67-0-12" id="h67-0-12" class="d">-// IssuesService handles communication with the issue related
</a><a href="#h67-0-13" id="h67-0-13" class="d">-// methods of the GitHub API.
</a><a href="#h67-0-14" id="h67-0-14" class="d">-//
</a><a href="#h67-0-15" id="h67-0-15" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/
</a><a href="#h67-0-16" id="h67-0-16" class="d">-type IssuesService struct {
</a><a href="#h67-0-17" id="h67-0-17" class="d">-	client *Client
</a><a href="#h67-0-18" id="h67-0-18" class="d">-}
</a><a href="#h67-0-19" id="h67-0-19" class="d">-
</a><a href="#h67-0-20" id="h67-0-20" class="d">-// Issue represents a GitHub issue on a repository.
</a><a href="#h67-0-21" id="h67-0-21" class="d">-type Issue struct {
</a><a href="#h67-0-22" id="h67-0-22" class="d">-	Number           *int              `json:&quot;number,omitempty&quot;`
</a><a href="#h67-0-23" id="h67-0-23" class="d">-	State            *string           `json:&quot;state,omitempty&quot;`
</a><a href="#h67-0-24" id="h67-0-24" class="d">-	Title            *string           `json:&quot;title,omitempty&quot;`
</a><a href="#h67-0-25" id="h67-0-25" class="d">-	Body             *string           `json:&quot;body,omitempty&quot;`
</a><a href="#h67-0-26" id="h67-0-26" class="d">-	User             *User             `json:&quot;user,omitempty&quot;`
</a><a href="#h67-0-27" id="h67-0-27" class="d">-	Labels           []Label           `json:&quot;labels,omitempty&quot;`
</a><a href="#h67-0-28" id="h67-0-28" class="d">-	Assignee         *User             `json:&quot;assignee,omitempty&quot;`
</a><a href="#h67-0-29" id="h67-0-29" class="d">-	Comments         *int              `json:&quot;comments,omitempty&quot;`
</a><a href="#h67-0-30" id="h67-0-30" class="d">-	ClosedAt         *time.Time        `json:&quot;closed_at,omitempty&quot;`
</a><a href="#h67-0-31" id="h67-0-31" class="d">-	CreatedAt        *time.Time        `json:&quot;created_at,omitempty&quot;`
</a><a href="#h67-0-32" id="h67-0-32" class="d">-	UpdatedAt        *time.Time        `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h67-0-33" id="h67-0-33" class="d">-	URL              *string           `json:&quot;url,omitempty&quot;`
</a><a href="#h67-0-34" id="h67-0-34" class="d">-	HTMLURL          *string           `json:&quot;html_url,omitempty&quot;`
</a><a href="#h67-0-35" id="h67-0-35" class="d">-	Milestone        *Milestone        `json:&quot;milestone,omitempty&quot;`
</a><a href="#h67-0-36" id="h67-0-36" class="d">-	PullRequestLinks *PullRequestLinks `json:&quot;pull_request,omitempty&quot;`
</a><a href="#h67-0-37" id="h67-0-37" class="d">-	Repository       *Repository       `json:&quot;repository,omitempty&quot;`
</a><a href="#h67-0-38" id="h67-0-38" class="d">-
</a><a href="#h67-0-39" id="h67-0-39" class="d">-	// TextMatches is only populated from search results that request text matches
</a><a href="#h67-0-40" id="h67-0-40" class="d">-	// See: search.go and https://developer.github.com/v3/search/#text-match-metadata
</a><a href="#h67-0-41" id="h67-0-41" class="d">-	TextMatches []TextMatch `json:&quot;text_matches,omitempty&quot;`
</a><a href="#h67-0-42" id="h67-0-42" class="d">-}
</a><a href="#h67-0-43" id="h67-0-43" class="d">-
</a><a href="#h67-0-44" id="h67-0-44" class="d">-func (i Issue) String() string {
</a><a href="#h67-0-45" id="h67-0-45" class="d">-	return Stringify(i)
</a><a href="#h67-0-46" id="h67-0-46" class="d">-}
</a><a href="#h67-0-47" id="h67-0-47" class="d">-
</a><a href="#h67-0-48" id="h67-0-48" class="d">-// IssueRequest represents a request to create/edit an issue.
</a><a href="#h67-0-49" id="h67-0-49" class="d">-// It is separate from Issue above because otherwise Labels
</a><a href="#h67-0-50" id="h67-0-50" class="d">-// and Assignee fail to serialize to the correct JSON.
</a><a href="#h67-0-51" id="h67-0-51" class="d">-type IssueRequest struct {
</a><a href="#h67-0-52" id="h67-0-52" class="d">-	Title     *string   `json:&quot;title,omitempty&quot;`
</a><a href="#h67-0-53" id="h67-0-53" class="d">-	Body      *string   `json:&quot;body,omitempty&quot;`
</a><a href="#h67-0-54" id="h67-0-54" class="d">-	Labels    *[]string `json:&quot;labels,omitempty&quot;`
</a><a href="#h67-0-55" id="h67-0-55" class="d">-	Assignee  *string   `json:&quot;assignee,omitempty&quot;`
</a><a href="#h67-0-56" id="h67-0-56" class="d">-	State     *string   `json:&quot;state,omitempty&quot;`
</a><a href="#h67-0-57" id="h67-0-57" class="d">-	Milestone *int      `json:&quot;milestone,omitempty&quot;`
</a><a href="#h67-0-58" id="h67-0-58" class="d">-}
</a><a href="#h67-0-59" id="h67-0-59" class="d">-
</a><a href="#h67-0-60" id="h67-0-60" class="d">-// IssueListOptions specifies the optional parameters to the IssuesService.List
</a><a href="#h67-0-61" id="h67-0-61" class="d">-// and IssuesService.ListByOrg methods.
</a><a href="#h67-0-62" id="h67-0-62" class="d">-type IssueListOptions struct {
</a><a href="#h67-0-63" id="h67-0-63" class="d">-	// Filter specifies which issues to list.  Possible values are: assigned,
</a><a href="#h67-0-64" id="h67-0-64" class="d">-	// created, mentioned, subscribed, all.  Default is &quot;assigned&quot;.
</a><a href="#h67-0-65" id="h67-0-65" class="d">-	Filter string `url:&quot;filter,omitempty&quot;`
</a><a href="#h67-0-66" id="h67-0-66" class="d">-
</a><a href="#h67-0-67" id="h67-0-67" class="d">-	// State filters issues based on their state.  Possible values are: open,
</a><a href="#h67-0-68" id="h67-0-68" class="d">-	// closed, all.  Default is &quot;open&quot;.
</a><a href="#h67-0-69" id="h67-0-69" class="d">-	State string `url:&quot;state,omitempty&quot;`
</a><a href="#h67-0-70" id="h67-0-70" class="d">-
</a><a href="#h67-0-71" id="h67-0-71" class="d">-	// Labels filters issues based on their label.
</a><a href="#h67-0-72" id="h67-0-72" class="d">-	Labels []string `url:&quot;labels,comma,omitempty&quot;`
</a><a href="#h67-0-73" id="h67-0-73" class="d">-
</a><a href="#h67-0-74" id="h67-0-74" class="d">-	// Sort specifies how to sort issues.  Possible values are: created, updated,
</a><a href="#h67-0-75" id="h67-0-75" class="d">-	// and comments.  Default value is &quot;created&quot;.
</a><a href="#h67-0-76" id="h67-0-76" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h67-0-77" id="h67-0-77" class="d">-
</a><a href="#h67-0-78" id="h67-0-78" class="d">-	// Direction in which to sort issues.  Possible values are: asc, desc.
</a><a href="#h67-0-79" id="h67-0-79" class="d">-	// Default is &quot;desc&quot;.
</a><a href="#h67-0-80" id="h67-0-80" class="d">-	Direction string `url:&quot;direction,omitempty&quot;`
</a><a href="#h67-0-81" id="h67-0-81" class="d">-
</a><a href="#h67-0-82" id="h67-0-82" class="d">-	// Since filters issues by time.
</a><a href="#h67-0-83" id="h67-0-83" class="d">-	Since time.Time `url:&quot;since,omitempty&quot;`
</a><a href="#h67-0-84" id="h67-0-84" class="d">-
</a><a href="#h67-0-85" id="h67-0-85" class="d">-	ListOptions
</a><a href="#h67-0-86" id="h67-0-86" class="d">-}
</a><a href="#h67-0-87" id="h67-0-87" class="d">-
</a><a href="#h67-0-88" id="h67-0-88" class="d">-// PullRequestLinks object is added to the Issue object when it&#39;s an issue included
</a><a href="#h67-0-89" id="h67-0-89" class="d">-// in the IssueCommentEvent webhook payload, if the webhooks is fired by a comment on a PR
</a><a href="#h67-0-90" id="h67-0-90" class="d">-type PullRequestLinks struct {
</a><a href="#h67-0-91" id="h67-0-91" class="d">-	URL      *string `json:&quot;url,omitempty&quot;`
</a><a href="#h67-0-92" id="h67-0-92" class="d">-	HTMLURL  *string `json:&quot;html_url,omitempty&quot;`
</a><a href="#h67-0-93" id="h67-0-93" class="d">-	DiffURL  *string `json:&quot;diff_url,omitempty&quot;`
</a><a href="#h67-0-94" id="h67-0-94" class="d">-	PatchURL *string `json:&quot;patch_url,omitempty&quot;`
</a><a href="#h67-0-95" id="h67-0-95" class="d">-}
</a><a href="#h67-0-96" id="h67-0-96" class="d">-
</a><a href="#h67-0-97" id="h67-0-97" class="d">-// List the issues for the authenticated user.  If all is true, list issues
</a><a href="#h67-0-98" id="h67-0-98" class="d">-// across all the user&#39;s visible repositories including owned, member, and
</a><a href="#h67-0-99" id="h67-0-99" class="d">-// organization repositories; if false, list only owned and member
</a><a href="#h67-0-100" id="h67-0-100" class="d">-// repositories.
</a><a href="#h67-0-101" id="h67-0-101" class="d">-//
</a><a href="#h67-0-102" id="h67-0-102" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/#list-issues
</a><a href="#h67-0-103" id="h67-0-103" class="d">-func (s *IssuesService) List(all bool, opt *IssueListOptions) ([]Issue, *Response, error) {
</a><a href="#h67-0-104" id="h67-0-104" class="d">-	var u string
</a><a href="#h67-0-105" id="h67-0-105" class="d">-	if all {
</a><a href="#h67-0-106" id="h67-0-106" class="d">-		u = &quot;issues&quot;
</a><a href="#h67-0-107" id="h67-0-107" class="d">-	} else {
</a><a href="#h67-0-108" id="h67-0-108" class="d">-		u = &quot;user/issues&quot;
</a><a href="#h67-0-109" id="h67-0-109" class="d">-	}
</a><a href="#h67-0-110" id="h67-0-110" class="d">-	return s.listIssues(u, opt)
</a><a href="#h67-0-111" id="h67-0-111" class="d">-}
</a><a href="#h67-0-112" id="h67-0-112" class="d">-
</a><a href="#h67-0-113" id="h67-0-113" class="d">-// ListByOrg fetches the issues in the specified organization for the
</a><a href="#h67-0-114" id="h67-0-114" class="d">-// authenticated user.
</a><a href="#h67-0-115" id="h67-0-115" class="d">-//
</a><a href="#h67-0-116" id="h67-0-116" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/#list-issues
</a><a href="#h67-0-117" id="h67-0-117" class="d">-func (s *IssuesService) ListByOrg(org string, opt *IssueListOptions) ([]Issue, *Response, error) {
</a><a href="#h67-0-118" id="h67-0-118" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/issues&quot;, org)
</a><a href="#h67-0-119" id="h67-0-119" class="d">-	return s.listIssues(u, opt)
</a><a href="#h67-0-120" id="h67-0-120" class="d">-}
</a><a href="#h67-0-121" id="h67-0-121" class="d">-
</a><a href="#h67-0-122" id="h67-0-122" class="d">-func (s *IssuesService) listIssues(u string, opt *IssueListOptions) ([]Issue, *Response, error) {
</a><a href="#h67-0-123" id="h67-0-123" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h67-0-124" id="h67-0-124" class="d">-	if err != nil {
</a><a href="#h67-0-125" id="h67-0-125" class="d">-		return nil, nil, err
</a><a href="#h67-0-126" id="h67-0-126" class="d">-	}
</a><a href="#h67-0-127" id="h67-0-127" class="d">-
</a><a href="#h67-0-128" id="h67-0-128" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h67-0-129" id="h67-0-129" class="d">-	if err != nil {
</a><a href="#h67-0-130" id="h67-0-130" class="d">-		return nil, nil, err
</a><a href="#h67-0-131" id="h67-0-131" class="d">-	}
</a><a href="#h67-0-132" id="h67-0-132" class="d">-
</a><a href="#h67-0-133" id="h67-0-133" class="d">-	issues := new([]Issue)
</a><a href="#h67-0-134" id="h67-0-134" class="d">-	resp, err := s.client.Do(req, issues)
</a><a href="#h67-0-135" id="h67-0-135" class="d">-	if err != nil {
</a><a href="#h67-0-136" id="h67-0-136" class="d">-		return nil, resp, err
</a><a href="#h67-0-137" id="h67-0-137" class="d">-	}
</a><a href="#h67-0-138" id="h67-0-138" class="d">-
</a><a href="#h67-0-139" id="h67-0-139" class="d">-	return *issues, resp, err
</a><a href="#h67-0-140" id="h67-0-140" class="d">-}
</a><a href="#h67-0-141" id="h67-0-141" class="d">-
</a><a href="#h67-0-142" id="h67-0-142" class="d">-// IssueListByRepoOptions specifies the optional parameters to the
</a><a href="#h67-0-143" id="h67-0-143" class="d">-// IssuesService.ListByRepo method.
</a><a href="#h67-0-144" id="h67-0-144" class="d">-type IssueListByRepoOptions struct {
</a><a href="#h67-0-145" id="h67-0-145" class="d">-	// Milestone limits issues for the specified milestone.  Possible values are
</a><a href="#h67-0-146" id="h67-0-146" class="d">-	// a milestone number, &quot;none&quot; for issues with no milestone, &quot;*&quot; for issues
</a><a href="#h67-0-147" id="h67-0-147" class="d">-	// with any milestone.
</a><a href="#h67-0-148" id="h67-0-148" class="d">-	Milestone string `url:&quot;milestone,omitempty&quot;`
</a><a href="#h67-0-149" id="h67-0-149" class="d">-
</a><a href="#h67-0-150" id="h67-0-150" class="d">-	// State filters issues based on their state.  Possible values are: open,
</a><a href="#h67-0-151" id="h67-0-151" class="d">-	// closed, all.  Default is &quot;open&quot;.
</a><a href="#h67-0-152" id="h67-0-152" class="d">-	State string `url:&quot;state,omitempty&quot;`
</a><a href="#h67-0-153" id="h67-0-153" class="d">-
</a><a href="#h67-0-154" id="h67-0-154" class="d">-	// Assignee filters issues based on their assignee.  Possible values are a
</a><a href="#h67-0-155" id="h67-0-155" class="d">-	// user name, &quot;none&quot; for issues that are not assigned, &quot;*&quot; for issues with
</a><a href="#h67-0-156" id="h67-0-156" class="d">-	// any assigned user.
</a><a href="#h67-0-157" id="h67-0-157" class="d">-	Assignee string `url:&quot;assignee,omitempty&quot;`
</a><a href="#h67-0-158" id="h67-0-158" class="d">-
</a><a href="#h67-0-159" id="h67-0-159" class="d">-	// Creator filters issues based on their creator.
</a><a href="#h67-0-160" id="h67-0-160" class="d">-	Creator string `url:&quot;creator,omitempty&quot;`
</a><a href="#h67-0-161" id="h67-0-161" class="d">-
</a><a href="#h67-0-162" id="h67-0-162" class="d">-	// Mentioned filters issues to those mentioned a specific user.
</a><a href="#h67-0-163" id="h67-0-163" class="d">-	Mentioned string `url:&quot;mentioned,omitempty&quot;`
</a><a href="#h67-0-164" id="h67-0-164" class="d">-
</a><a href="#h67-0-165" id="h67-0-165" class="d">-	// Labels filters issues based on their label.
</a><a href="#h67-0-166" id="h67-0-166" class="d">-	Labels []string `url:&quot;labels,omitempty,comma&quot;`
</a><a href="#h67-0-167" id="h67-0-167" class="d">-
</a><a href="#h67-0-168" id="h67-0-168" class="d">-	// Sort specifies how to sort issues.  Possible values are: created, updated,
</a><a href="#h67-0-169" id="h67-0-169" class="d">-	// and comments.  Default value is &quot;created&quot;.
</a><a href="#h67-0-170" id="h67-0-170" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h67-0-171" id="h67-0-171" class="d">-
</a><a href="#h67-0-172" id="h67-0-172" class="d">-	// Direction in which to sort issues.  Possible values are: asc, desc.
</a><a href="#h67-0-173" id="h67-0-173" class="d">-	// Default is &quot;desc&quot;.
</a><a href="#h67-0-174" id="h67-0-174" class="d">-	Direction string `url:&quot;direction,omitempty&quot;`
</a><a href="#h67-0-175" id="h67-0-175" class="d">-
</a><a href="#h67-0-176" id="h67-0-176" class="d">-	// Since filters issues by time.
</a><a href="#h67-0-177" id="h67-0-177" class="d">-	Since time.Time `url:&quot;since,omitempty&quot;`
</a><a href="#h67-0-178" id="h67-0-178" class="d">-
</a><a href="#h67-0-179" id="h67-0-179" class="d">-	ListOptions
</a><a href="#h67-0-180" id="h67-0-180" class="d">-}
</a><a href="#h67-0-181" id="h67-0-181" class="d">-
</a><a href="#h67-0-182" id="h67-0-182" class="d">-// ListByRepo lists the issues for the specified repository.
</a><a href="#h67-0-183" id="h67-0-183" class="d">-//
</a><a href="#h67-0-184" id="h67-0-184" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/#list-issues-for-a-repository
</a><a href="#h67-0-185" id="h67-0-185" class="d">-func (s *IssuesService) ListByRepo(owner string, repo string, opt *IssueListByRepoOptions) ([]Issue, *Response, error) {
</a><a href="#h67-0-186" id="h67-0-186" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues&quot;, owner, repo)
</a><a href="#h67-0-187" id="h67-0-187" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h67-0-188" id="h67-0-188" class="d">-	if err != nil {
</a><a href="#h67-0-189" id="h67-0-189" class="d">-		return nil, nil, err
</a><a href="#h67-0-190" id="h67-0-190" class="d">-	}
</a><a href="#h67-0-191" id="h67-0-191" class="d">-
</a><a href="#h67-0-192" id="h67-0-192" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h67-0-193" id="h67-0-193" class="d">-	if err != nil {
</a><a href="#h67-0-194" id="h67-0-194" class="d">-		return nil, nil, err
</a><a href="#h67-0-195" id="h67-0-195" class="d">-	}
</a><a href="#h67-0-196" id="h67-0-196" class="d">-
</a><a href="#h67-0-197" id="h67-0-197" class="d">-	issues := new([]Issue)
</a><a href="#h67-0-198" id="h67-0-198" class="d">-	resp, err := s.client.Do(req, issues)
</a><a href="#h67-0-199" id="h67-0-199" class="d">-	if err != nil {
</a><a href="#h67-0-200" id="h67-0-200" class="d">-		return nil, resp, err
</a><a href="#h67-0-201" id="h67-0-201" class="d">-	}
</a><a href="#h67-0-202" id="h67-0-202" class="d">-
</a><a href="#h67-0-203" id="h67-0-203" class="d">-	return *issues, resp, err
</a><a href="#h67-0-204" id="h67-0-204" class="d">-}
</a><a href="#h67-0-205" id="h67-0-205" class="d">-
</a><a href="#h67-0-206" id="h67-0-206" class="d">-// Get a single issue.
</a><a href="#h67-0-207" id="h67-0-207" class="d">-//
</a><a href="#h67-0-208" id="h67-0-208" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/#get-a-single-issue
</a><a href="#h67-0-209" id="h67-0-209" class="d">-func (s *IssuesService) Get(owner string, repo string, number int) (*Issue, *Response, error) {
</a><a href="#h67-0-210" id="h67-0-210" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d&quot;, owner, repo, number)
</a><a href="#h67-0-211" id="h67-0-211" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h67-0-212" id="h67-0-212" class="d">-	if err != nil {
</a><a href="#h67-0-213" id="h67-0-213" class="d">-		return nil, nil, err
</a><a href="#h67-0-214" id="h67-0-214" class="d">-	}
</a><a href="#h67-0-215" id="h67-0-215" class="d">-
</a><a href="#h67-0-216" id="h67-0-216" class="d">-	issue := new(Issue)
</a><a href="#h67-0-217" id="h67-0-217" class="d">-	resp, err := s.client.Do(req, issue)
</a><a href="#h67-0-218" id="h67-0-218" class="d">-	if err != nil {
</a><a href="#h67-0-219" id="h67-0-219" class="d">-		return nil, resp, err
</a><a href="#h67-0-220" id="h67-0-220" class="d">-	}
</a><a href="#h67-0-221" id="h67-0-221" class="d">-
</a><a href="#h67-0-222" id="h67-0-222" class="d">-	return issue, resp, err
</a><a href="#h67-0-223" id="h67-0-223" class="d">-}
</a><a href="#h67-0-224" id="h67-0-224" class="d">-
</a><a href="#h67-0-225" id="h67-0-225" class="d">-// Create a new issue on the specified repository.
</a><a href="#h67-0-226" id="h67-0-226" class="d">-//
</a><a href="#h67-0-227" id="h67-0-227" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/#create-an-issue
</a><a href="#h67-0-228" id="h67-0-228" class="d">-func (s *IssuesService) Create(owner string, repo string, issue *IssueRequest) (*Issue, *Response, error) {
</a><a href="#h67-0-229" id="h67-0-229" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues&quot;, owner, repo)
</a><a href="#h67-0-230" id="h67-0-230" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, issue)
</a><a href="#h67-0-231" id="h67-0-231" class="d">-	if err != nil {
</a><a href="#h67-0-232" id="h67-0-232" class="d">-		return nil, nil, err
</a><a href="#h67-0-233" id="h67-0-233" class="d">-	}
</a><a href="#h67-0-234" id="h67-0-234" class="d">-
</a><a href="#h67-0-235" id="h67-0-235" class="d">-	i := new(Issue)
</a><a href="#h67-0-236" id="h67-0-236" class="d">-	resp, err := s.client.Do(req, i)
</a><a href="#h67-0-237" id="h67-0-237" class="d">-	if err != nil {
</a><a href="#h67-0-238" id="h67-0-238" class="d">-		return nil, resp, err
</a><a href="#h67-0-239" id="h67-0-239" class="d">-	}
</a><a href="#h67-0-240" id="h67-0-240" class="d">-
</a><a href="#h67-0-241" id="h67-0-241" class="d">-	return i, resp, err
</a><a href="#h67-0-242" id="h67-0-242" class="d">-}
</a><a href="#h67-0-243" id="h67-0-243" class="d">-
</a><a href="#h67-0-244" id="h67-0-244" class="d">-// Edit an issue.
</a><a href="#h67-0-245" id="h67-0-245" class="d">-//
</a><a href="#h67-0-246" id="h67-0-246" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/#edit-an-issue
</a><a href="#h67-0-247" id="h67-0-247" class="d">-func (s *IssuesService) Edit(owner string, repo string, number int, issue *IssueRequest) (*Issue, *Response, error) {
</a><a href="#h67-0-248" id="h67-0-248" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d&quot;, owner, repo, number)
</a><a href="#h67-0-249" id="h67-0-249" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, issue)
</a><a href="#h67-0-250" id="h67-0-250" class="d">-	if err != nil {
</a><a href="#h67-0-251" id="h67-0-251" class="d">-		return nil, nil, err
</a><a href="#h67-0-252" id="h67-0-252" class="d">-	}
</a><a href="#h67-0-253" id="h67-0-253" class="d">-
</a><a href="#h67-0-254" id="h67-0-254" class="d">-	i := new(Issue)
</a><a href="#h67-0-255" id="h67-0-255" class="d">-	resp, err := s.client.Do(req, i)
</a><a href="#h67-0-256" id="h67-0-256" class="d">-	if err != nil {
</a><a href="#h67-0-257" id="h67-0-257" class="d">-		return nil, resp, err
</a><a href="#h67-0-258" id="h67-0-258" class="d">-	}
</a><a href="#h67-0-259" id="h67-0-259" class="d">-
</a><a href="#h67-0-260" id="h67-0-260" class="d">-	return i, resp, err
</a><a href="#h67-0-261" id="h67-0-261" class="d">-}
</a><a href="#h67-0-262" id="h67-0-262" class="d">-
</a><a href="#h67-0-263" id="h67-0-263" class="d">-// Lock an issue&#39;s conversation.
</a><a href="#h67-0-264" id="h67-0-264" class="d">-//
</a><a href="#h67-0-265" id="h67-0-265" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/#lock-an-issue
</a><a href="#h67-0-266" id="h67-0-266" class="d">-func (s *IssuesService) Lock(owner string, repo string, number int) (*Response, error) {
</a><a href="#h67-0-267" id="h67-0-267" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d/lock&quot;, owner, repo, number)
</a><a href="#h67-0-268" id="h67-0-268" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, nil)
</a><a href="#h67-0-269" id="h67-0-269" class="d">-	if err != nil {
</a><a href="#h67-0-270" id="h67-0-270" class="d">-		return nil, err
</a><a href="#h67-0-271" id="h67-0-271" class="d">-	}
</a><a href="#h67-0-272" id="h67-0-272" class="d">-
</a><a href="#h67-0-273" id="h67-0-273" class="d">-	// TODO: remove custom Accept header when this API fully launches.
</a><a href="#h67-0-274" id="h67-0-274" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeIssueLockingPreview)
</a><a href="#h67-0-275" id="h67-0-275" class="d">-
</a><a href="#h67-0-276" id="h67-0-276" class="d">-	return s.client.Do(req, nil)
</a><a href="#h67-0-277" id="h67-0-277" class="d">-}
</a><a href="#h67-0-278" id="h67-0-278" class="d">-
</a><a href="#h67-0-279" id="h67-0-279" class="d">-// Unlock an issue&#39;s conversation.
</a><a href="#h67-0-280" id="h67-0-280" class="d">-//
</a><a href="#h67-0-281" id="h67-0-281" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/#unlock-an-issue
</a><a href="#h67-0-282" id="h67-0-282" class="d">-func (s *IssuesService) Unlock(owner string, repo string, number int) (*Response, error) {
</a><a href="#h67-0-283" id="h67-0-283" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d/lock&quot;, owner, repo, number)
</a><a href="#h67-0-284" id="h67-0-284" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h67-0-285" id="h67-0-285" class="d">-	if err != nil {
</a><a href="#h67-0-286" id="h67-0-286" class="d">-		return nil, err
</a><a href="#h67-0-287" id="h67-0-287" class="d">-	}
</a><a href="#h67-0-288" id="h67-0-288" class="d">-
</a><a href="#h67-0-289" id="h67-0-289" class="d">-	// TODO: remove custom Accept header when this API fully launches.
</a><a href="#h67-0-290" id="h67-0-290" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeIssueLockingPreview)
</a><a href="#h67-0-291" id="h67-0-291" class="d">-
</a><a href="#h67-0-292" id="h67-0-292" class="d">-	return s.client.Do(req, nil)
</a><a href="#h67-0-293" id="h67-0-293" class="d">-}
</a><b>diff --git a/<a id="h68" href="../file/vendor/github.com/google/go-github/github/issues_assignees.go">vendor/github.com/google/go-github/github/issues_assignees.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/issues_assignees.go">vendor/github.com/google/go-github/github/issues_assignees.go</a></b>
<a href="#h68-0" id="h68-0" class="h">@@ -1,46 +0,0 @@
</a><a href="#h68-0-0" id="h68-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h68-0-1" id="h68-0-1" class="d">-//
</a><a href="#h68-0-2" id="h68-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h68-0-3" id="h68-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h68-0-4" id="h68-0-4" class="d">-
</a><a href="#h68-0-5" id="h68-0-5" class="d">-package github
</a><a href="#h68-0-6" id="h68-0-6" class="d">-
</a><a href="#h68-0-7" id="h68-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h68-0-8" id="h68-0-8" class="d">-
</a><a href="#h68-0-9" id="h68-0-9" class="d">-// ListAssignees fetches all available assignees (owners and collaborators) to
</a><a href="#h68-0-10" id="h68-0-10" class="d">-// which issues may be assigned.
</a><a href="#h68-0-11" id="h68-0-11" class="d">-//
</a><a href="#h68-0-12" id="h68-0-12" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/assignees/#list-assignees
</a><a href="#h68-0-13" id="h68-0-13" class="d">-func (s *IssuesService) ListAssignees(owner string, repo string, opt *ListOptions) ([]User, *Response, error) {
</a><a href="#h68-0-14" id="h68-0-14" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/assignees&quot;, owner, repo)
</a><a href="#h68-0-15" id="h68-0-15" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h68-0-16" id="h68-0-16" class="d">-	if err != nil {
</a><a href="#h68-0-17" id="h68-0-17" class="d">-		return nil, nil, err
</a><a href="#h68-0-18" id="h68-0-18" class="d">-	}
</a><a href="#h68-0-19" id="h68-0-19" class="d">-
</a><a href="#h68-0-20" id="h68-0-20" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h68-0-21" id="h68-0-21" class="d">-	if err != nil {
</a><a href="#h68-0-22" id="h68-0-22" class="d">-		return nil, nil, err
</a><a href="#h68-0-23" id="h68-0-23" class="d">-	}
</a><a href="#h68-0-24" id="h68-0-24" class="d">-	assignees := new([]User)
</a><a href="#h68-0-25" id="h68-0-25" class="d">-	resp, err := s.client.Do(req, assignees)
</a><a href="#h68-0-26" id="h68-0-26" class="d">-	if err != nil {
</a><a href="#h68-0-27" id="h68-0-27" class="d">-		return nil, resp, err
</a><a href="#h68-0-28" id="h68-0-28" class="d">-	}
</a><a href="#h68-0-29" id="h68-0-29" class="d">-
</a><a href="#h68-0-30" id="h68-0-30" class="d">-	return *assignees, resp, err
</a><a href="#h68-0-31" id="h68-0-31" class="d">-}
</a><a href="#h68-0-32" id="h68-0-32" class="d">-
</a><a href="#h68-0-33" id="h68-0-33" class="d">-// IsAssignee checks if a user is an assignee for the specified repository.
</a><a href="#h68-0-34" id="h68-0-34" class="d">-//
</a><a href="#h68-0-35" id="h68-0-35" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/assignees/#check-assignee
</a><a href="#h68-0-36" id="h68-0-36" class="d">-func (s *IssuesService) IsAssignee(owner string, repo string, user string) (bool, *Response, error) {
</a><a href="#h68-0-37" id="h68-0-37" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/assignees/%v&quot;, owner, repo, user)
</a><a href="#h68-0-38" id="h68-0-38" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h68-0-39" id="h68-0-39" class="d">-	if err != nil {
</a><a href="#h68-0-40" id="h68-0-40" class="d">-		return false, nil, err
</a><a href="#h68-0-41" id="h68-0-41" class="d">-	}
</a><a href="#h68-0-42" id="h68-0-42" class="d">-	resp, err := s.client.Do(req, nil)
</a><a href="#h68-0-43" id="h68-0-43" class="d">-	assignee, err := parseBoolResponse(err)
</a><a href="#h68-0-44" id="h68-0-44" class="d">-	return assignee, resp, err
</a><a href="#h68-0-45" id="h68-0-45" class="d">-}
</a><b>diff --git a/<a id="h69" href="../file/vendor/github.com/google/go-github/github/issues_comments.go">vendor/github.com/google/go-github/github/issues_comments.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/issues_comments.go">vendor/github.com/google/go-github/github/issues_comments.go</a></b>
<a href="#h69-0" id="h69-0" class="h">@@ -1,138 +0,0 @@
</a><a href="#h69-0-0" id="h69-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h69-0-1" id="h69-0-1" class="d">-//
</a><a href="#h69-0-2" id="h69-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h69-0-3" id="h69-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h69-0-4" id="h69-0-4" class="d">-
</a><a href="#h69-0-5" id="h69-0-5" class="d">-package github
</a><a href="#h69-0-6" id="h69-0-6" class="d">-
</a><a href="#h69-0-7" id="h69-0-7" class="d">-import (
</a><a href="#h69-0-8" id="h69-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h69-0-9" id="h69-0-9" class="d">-	&quot;time&quot;
</a><a href="#h69-0-10" id="h69-0-10" class="d">-)
</a><a href="#h69-0-11" id="h69-0-11" class="d">-
</a><a href="#h69-0-12" id="h69-0-12" class="d">-// IssueComment represents a comment left on an issue.
</a><a href="#h69-0-13" id="h69-0-13" class="d">-type IssueComment struct {
</a><a href="#h69-0-14" id="h69-0-14" class="d">-	ID        *int       `json:&quot;id,omitempty&quot;`
</a><a href="#h69-0-15" id="h69-0-15" class="d">-	Body      *string    `json:&quot;body,omitempty&quot;`
</a><a href="#h69-0-16" id="h69-0-16" class="d">-	User      *User      `json:&quot;user,omitempty&quot;`
</a><a href="#h69-0-17" id="h69-0-17" class="d">-	CreatedAt *time.Time `json:&quot;created_at,omitempty&quot;`
</a><a href="#h69-0-18" id="h69-0-18" class="d">-	UpdatedAt *time.Time `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h69-0-19" id="h69-0-19" class="d">-	URL       *string    `json:&quot;url,omitempty&quot;`
</a><a href="#h69-0-20" id="h69-0-20" class="d">-	HTMLURL   *string    `json:&quot;html_url,omitempty&quot;`
</a><a href="#h69-0-21" id="h69-0-21" class="d">-	IssueURL  *string    `json:&quot;issue_url,omitempty&quot;`
</a><a href="#h69-0-22" id="h69-0-22" class="d">-}
</a><a href="#h69-0-23" id="h69-0-23" class="d">-
</a><a href="#h69-0-24" id="h69-0-24" class="d">-func (i IssueComment) String() string {
</a><a href="#h69-0-25" id="h69-0-25" class="d">-	return Stringify(i)
</a><a href="#h69-0-26" id="h69-0-26" class="d">-}
</a><a href="#h69-0-27" id="h69-0-27" class="d">-
</a><a href="#h69-0-28" id="h69-0-28" class="d">-// IssueListCommentsOptions specifies the optional parameters to the
</a><a href="#h69-0-29" id="h69-0-29" class="d">-// IssuesService.ListComments method.
</a><a href="#h69-0-30" id="h69-0-30" class="d">-type IssueListCommentsOptions struct {
</a><a href="#h69-0-31" id="h69-0-31" class="d">-	// Sort specifies how to sort comments.  Possible values are: created, updated.
</a><a href="#h69-0-32" id="h69-0-32" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h69-0-33" id="h69-0-33" class="d">-
</a><a href="#h69-0-34" id="h69-0-34" class="d">-	// Direction in which to sort comments.  Possible values are: asc, desc.
</a><a href="#h69-0-35" id="h69-0-35" class="d">-	Direction string `url:&quot;direction,omitempty&quot;`
</a><a href="#h69-0-36" id="h69-0-36" class="d">-
</a><a href="#h69-0-37" id="h69-0-37" class="d">-	// Since filters comments by time.
</a><a href="#h69-0-38" id="h69-0-38" class="d">-	Since time.Time `url:&quot;since,omitempty&quot;`
</a><a href="#h69-0-39" id="h69-0-39" class="d">-
</a><a href="#h69-0-40" id="h69-0-40" class="d">-	ListOptions
</a><a href="#h69-0-41" id="h69-0-41" class="d">-}
</a><a href="#h69-0-42" id="h69-0-42" class="d">-
</a><a href="#h69-0-43" id="h69-0-43" class="d">-// ListComments lists all comments on the specified issue.  Specifying an issue
</a><a href="#h69-0-44" id="h69-0-44" class="d">-// number of 0 will return all comments on all issues for the repository.
</a><a href="#h69-0-45" id="h69-0-45" class="d">-//
</a><a href="#h69-0-46" id="h69-0-46" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/comments/#list-comments-on-an-issue
</a><a href="#h69-0-47" id="h69-0-47" class="d">-func (s *IssuesService) ListComments(owner string, repo string, number int, opt *IssueListCommentsOptions) ([]IssueComment, *Response, error) {
</a><a href="#h69-0-48" id="h69-0-48" class="d">-	var u string
</a><a href="#h69-0-49" id="h69-0-49" class="d">-	if number == 0 {
</a><a href="#h69-0-50" id="h69-0-50" class="d">-		u = fmt.Sprintf(&quot;repos/%v/%v/issues/comments&quot;, owner, repo)
</a><a href="#h69-0-51" id="h69-0-51" class="d">-	} else {
</a><a href="#h69-0-52" id="h69-0-52" class="d">-		u = fmt.Sprintf(&quot;repos/%v/%v/issues/%d/comments&quot;, owner, repo, number)
</a><a href="#h69-0-53" id="h69-0-53" class="d">-	}
</a><a href="#h69-0-54" id="h69-0-54" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h69-0-55" id="h69-0-55" class="d">-	if err != nil {
</a><a href="#h69-0-56" id="h69-0-56" class="d">-		return nil, nil, err
</a><a href="#h69-0-57" id="h69-0-57" class="d">-	}
</a><a href="#h69-0-58" id="h69-0-58" class="d">-
</a><a href="#h69-0-59" id="h69-0-59" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h69-0-60" id="h69-0-60" class="d">-	if err != nil {
</a><a href="#h69-0-61" id="h69-0-61" class="d">-		return nil, nil, err
</a><a href="#h69-0-62" id="h69-0-62" class="d">-	}
</a><a href="#h69-0-63" id="h69-0-63" class="d">-	comments := new([]IssueComment)
</a><a href="#h69-0-64" id="h69-0-64" class="d">-	resp, err := s.client.Do(req, comments)
</a><a href="#h69-0-65" id="h69-0-65" class="d">-	if err != nil {
</a><a href="#h69-0-66" id="h69-0-66" class="d">-		return nil, resp, err
</a><a href="#h69-0-67" id="h69-0-67" class="d">-	}
</a><a href="#h69-0-68" id="h69-0-68" class="d">-
</a><a href="#h69-0-69" id="h69-0-69" class="d">-	return *comments, resp, err
</a><a href="#h69-0-70" id="h69-0-70" class="d">-}
</a><a href="#h69-0-71" id="h69-0-71" class="d">-
</a><a href="#h69-0-72" id="h69-0-72" class="d">-// GetComment fetches the specified issue comment.
</a><a href="#h69-0-73" id="h69-0-73" class="d">-//
</a><a href="#h69-0-74" id="h69-0-74" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/comments/#get-a-single-comment
</a><a href="#h69-0-75" id="h69-0-75" class="d">-func (s *IssuesService) GetComment(owner string, repo string, id int) (*IssueComment, *Response, error) {
</a><a href="#h69-0-76" id="h69-0-76" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/comments/%d&quot;, owner, repo, id)
</a><a href="#h69-0-77" id="h69-0-77" class="d">-
</a><a href="#h69-0-78" id="h69-0-78" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h69-0-79" id="h69-0-79" class="d">-	if err != nil {
</a><a href="#h69-0-80" id="h69-0-80" class="d">-		return nil, nil, err
</a><a href="#h69-0-81" id="h69-0-81" class="d">-	}
</a><a href="#h69-0-82" id="h69-0-82" class="d">-	comment := new(IssueComment)
</a><a href="#h69-0-83" id="h69-0-83" class="d">-	resp, err := s.client.Do(req, comment)
</a><a href="#h69-0-84" id="h69-0-84" class="d">-	if err != nil {
</a><a href="#h69-0-85" id="h69-0-85" class="d">-		return nil, resp, err
</a><a href="#h69-0-86" id="h69-0-86" class="d">-	}
</a><a href="#h69-0-87" id="h69-0-87" class="d">-
</a><a href="#h69-0-88" id="h69-0-88" class="d">-	return comment, resp, err
</a><a href="#h69-0-89" id="h69-0-89" class="d">-}
</a><a href="#h69-0-90" id="h69-0-90" class="d">-
</a><a href="#h69-0-91" id="h69-0-91" class="d">-// CreateComment creates a new comment on the specified issue.
</a><a href="#h69-0-92" id="h69-0-92" class="d">-//
</a><a href="#h69-0-93" id="h69-0-93" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/comments/#create-a-comment
</a><a href="#h69-0-94" id="h69-0-94" class="d">-func (s *IssuesService) CreateComment(owner string, repo string, number int, comment *IssueComment) (*IssueComment, *Response, error) {
</a><a href="#h69-0-95" id="h69-0-95" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d/comments&quot;, owner, repo, number)
</a><a href="#h69-0-96" id="h69-0-96" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, comment)
</a><a href="#h69-0-97" id="h69-0-97" class="d">-	if err != nil {
</a><a href="#h69-0-98" id="h69-0-98" class="d">-		return nil, nil, err
</a><a href="#h69-0-99" id="h69-0-99" class="d">-	}
</a><a href="#h69-0-100" id="h69-0-100" class="d">-	c := new(IssueComment)
</a><a href="#h69-0-101" id="h69-0-101" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h69-0-102" id="h69-0-102" class="d">-	if err != nil {
</a><a href="#h69-0-103" id="h69-0-103" class="d">-		return nil, resp, err
</a><a href="#h69-0-104" id="h69-0-104" class="d">-	}
</a><a href="#h69-0-105" id="h69-0-105" class="d">-
</a><a href="#h69-0-106" id="h69-0-106" class="d">-	return c, resp, err
</a><a href="#h69-0-107" id="h69-0-107" class="d">-}
</a><a href="#h69-0-108" id="h69-0-108" class="d">-
</a><a href="#h69-0-109" id="h69-0-109" class="d">-// EditComment updates an issue comment.
</a><a href="#h69-0-110" id="h69-0-110" class="d">-//
</a><a href="#h69-0-111" id="h69-0-111" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/comments/#edit-a-comment
</a><a href="#h69-0-112" id="h69-0-112" class="d">-func (s *IssuesService) EditComment(owner string, repo string, id int, comment *IssueComment) (*IssueComment, *Response, error) {
</a><a href="#h69-0-113" id="h69-0-113" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/comments/%d&quot;, owner, repo, id)
</a><a href="#h69-0-114" id="h69-0-114" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, comment)
</a><a href="#h69-0-115" id="h69-0-115" class="d">-	if err != nil {
</a><a href="#h69-0-116" id="h69-0-116" class="d">-		return nil, nil, err
</a><a href="#h69-0-117" id="h69-0-117" class="d">-	}
</a><a href="#h69-0-118" id="h69-0-118" class="d">-	c := new(IssueComment)
</a><a href="#h69-0-119" id="h69-0-119" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h69-0-120" id="h69-0-120" class="d">-	if err != nil {
</a><a href="#h69-0-121" id="h69-0-121" class="d">-		return nil, resp, err
</a><a href="#h69-0-122" id="h69-0-122" class="d">-	}
</a><a href="#h69-0-123" id="h69-0-123" class="d">-
</a><a href="#h69-0-124" id="h69-0-124" class="d">-	return c, resp, err
</a><a href="#h69-0-125" id="h69-0-125" class="d">-}
</a><a href="#h69-0-126" id="h69-0-126" class="d">-
</a><a href="#h69-0-127" id="h69-0-127" class="d">-// DeleteComment deletes an issue comment.
</a><a href="#h69-0-128" id="h69-0-128" class="d">-//
</a><a href="#h69-0-129" id="h69-0-129" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/comments/#delete-a-comment
</a><a href="#h69-0-130" id="h69-0-130" class="d">-func (s *IssuesService) DeleteComment(owner string, repo string, id int) (*Response, error) {
</a><a href="#h69-0-131" id="h69-0-131" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/comments/%d&quot;, owner, repo, id)
</a><a href="#h69-0-132" id="h69-0-132" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h69-0-133" id="h69-0-133" class="d">-	if err != nil {
</a><a href="#h69-0-134" id="h69-0-134" class="d">-		return nil, err
</a><a href="#h69-0-135" id="h69-0-135" class="d">-	}
</a><a href="#h69-0-136" id="h69-0-136" class="d">-	return s.client.Do(req, nil)
</a><a href="#h69-0-137" id="h69-0-137" class="d">-}
</a><b>diff --git a/<a id="h70" href="../file/vendor/github.com/google/go-github/github/issues_events.go">vendor/github.com/google/go-github/github/issues_events.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/issues_events.go">vendor/github.com/google/go-github/github/issues_events.go</a></b>
<a href="#h70-0" id="h70-0" class="h">@@ -1,149 +0,0 @@
</a><a href="#h70-0-0" id="h70-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h70-0-1" id="h70-0-1" class="d">-//
</a><a href="#h70-0-2" id="h70-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h70-0-3" id="h70-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h70-0-4" id="h70-0-4" class="d">-
</a><a href="#h70-0-5" id="h70-0-5" class="d">-package github
</a><a href="#h70-0-6" id="h70-0-6" class="d">-
</a><a href="#h70-0-7" id="h70-0-7" class="d">-import (
</a><a href="#h70-0-8" id="h70-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h70-0-9" id="h70-0-9" class="d">-	&quot;time&quot;
</a><a href="#h70-0-10" id="h70-0-10" class="d">-)
</a><a href="#h70-0-11" id="h70-0-11" class="d">-
</a><a href="#h70-0-12" id="h70-0-12" class="d">-// IssueEvent represents an event that occurred around an Issue or Pull Request.
</a><a href="#h70-0-13" id="h70-0-13" class="d">-type IssueEvent struct {
</a><a href="#h70-0-14" id="h70-0-14" class="d">-	ID  *int    `json:&quot;id,omitempty&quot;`
</a><a href="#h70-0-15" id="h70-0-15" class="d">-	URL *string `json:&quot;url,omitempty&quot;`
</a><a href="#h70-0-16" id="h70-0-16" class="d">-
</a><a href="#h70-0-17" id="h70-0-17" class="d">-	// The User that generated this event.
</a><a href="#h70-0-18" id="h70-0-18" class="d">-	Actor *User `json:&quot;actor,omitempty&quot;`
</a><a href="#h70-0-19" id="h70-0-19" class="d">-
</a><a href="#h70-0-20" id="h70-0-20" class="d">-	// Event identifies the actual type of Event that occurred.  Possible
</a><a href="#h70-0-21" id="h70-0-21" class="d">-	// values are:
</a><a href="#h70-0-22" id="h70-0-22" class="d">-	//
</a><a href="#h70-0-23" id="h70-0-23" class="d">-	//     closed
</a><a href="#h70-0-24" id="h70-0-24" class="d">-	//       The Actor closed the issue.
</a><a href="#h70-0-25" id="h70-0-25" class="d">-	//       If the issue was closed by commit message, CommitID holds the SHA1 hash of the commit.
</a><a href="#h70-0-26" id="h70-0-26" class="d">-	//
</a><a href="#h70-0-27" id="h70-0-27" class="d">-	//     merged
</a><a href="#h70-0-28" id="h70-0-28" class="d">-	//       The Actor merged into master a branch containing a commit mentioning the issue.
</a><a href="#h70-0-29" id="h70-0-29" class="d">-	//       CommitID holds the SHA1 of the merge commit.
</a><a href="#h70-0-30" id="h70-0-30" class="d">-	//
</a><a href="#h70-0-31" id="h70-0-31" class="d">-	//     referenced
</a><a href="#h70-0-32" id="h70-0-32" class="d">-	//       The Actor committed to master a commit mentioning the issue in its commit message.
</a><a href="#h70-0-33" id="h70-0-33" class="d">-	//       CommitID holds the SHA1 of the commit.
</a><a href="#h70-0-34" id="h70-0-34" class="d">-	//
</a><a href="#h70-0-35" id="h70-0-35" class="d">-	//     reopened, locked, unlocked
</a><a href="#h70-0-36" id="h70-0-36" class="d">-	//       The Actor did that to the issue.
</a><a href="#h70-0-37" id="h70-0-37" class="d">-	//
</a><a href="#h70-0-38" id="h70-0-38" class="d">-	//     renamed
</a><a href="#h70-0-39" id="h70-0-39" class="d">-	//       The Actor changed the issue title from Rename.From to Rename.To.
</a><a href="#h70-0-40" id="h70-0-40" class="d">-	//
</a><a href="#h70-0-41" id="h70-0-41" class="d">-	//     mentioned
</a><a href="#h70-0-42" id="h70-0-42" class="d">-	//       Someone unspecified @mentioned the Actor [sic] in an issue comment body.
</a><a href="#h70-0-43" id="h70-0-43" class="d">-	//
</a><a href="#h70-0-44" id="h70-0-44" class="d">-	//     assigned, unassigned
</a><a href="#h70-0-45" id="h70-0-45" class="d">-	//       The Actor assigned the issue to or removed the assignment from the Assignee.
</a><a href="#h70-0-46" id="h70-0-46" class="d">-	//
</a><a href="#h70-0-47" id="h70-0-47" class="d">-	//     labeled, unlabeled
</a><a href="#h70-0-48" id="h70-0-48" class="d">-	//       The Actor added or removed the Label from the issue.
</a><a href="#h70-0-49" id="h70-0-49" class="d">-	//
</a><a href="#h70-0-50" id="h70-0-50" class="d">-	//     milestoned, demilestoned
</a><a href="#h70-0-51" id="h70-0-51" class="d">-	//       The Actor added or removed the issue from the Milestone.
</a><a href="#h70-0-52" id="h70-0-52" class="d">-	//
</a><a href="#h70-0-53" id="h70-0-53" class="d">-	//     subscribed, unsubscribed
</a><a href="#h70-0-54" id="h70-0-54" class="d">-	//       The Actor subscribed to or unsubscribed from notifications for an issue.
</a><a href="#h70-0-55" id="h70-0-55" class="d">-	//
</a><a href="#h70-0-56" id="h70-0-56" class="d">-	//     head_ref_deleted, head_ref_restored
</a><a href="#h70-0-57" id="h70-0-57" class="d">-	//       The pull requests branch was deleted or restored.
</a><a href="#h70-0-58" id="h70-0-58" class="d">-	//
</a><a href="#h70-0-59" id="h70-0-59" class="d">-	Event *string `json:&quot;event,omitempty&quot;`
</a><a href="#h70-0-60" id="h70-0-60" class="d">-
</a><a href="#h70-0-61" id="h70-0-61" class="d">-	CreatedAt *time.Time `json:&quot;created_at,omitempty&quot;`
</a><a href="#h70-0-62" id="h70-0-62" class="d">-	Issue     *Issue     `json:&quot;issue,omitempty&quot;`
</a><a href="#h70-0-63" id="h70-0-63" class="d">-
</a><a href="#h70-0-64" id="h70-0-64" class="d">-	// Only present on certain events; see above.
</a><a href="#h70-0-65" id="h70-0-65" class="d">-	Assignee  *User      `json:&quot;assignee,omitempty&quot;`
</a><a href="#h70-0-66" id="h70-0-66" class="d">-	CommitID  *string    `json:&quot;commit_id,omitempty&quot;`
</a><a href="#h70-0-67" id="h70-0-67" class="d">-	Milestone *Milestone `json:&quot;milestone,omitempty&quot;`
</a><a href="#h70-0-68" id="h70-0-68" class="d">-	Label     *Label     `json:&quot;label,omitempty&quot;`
</a><a href="#h70-0-69" id="h70-0-69" class="d">-	Rename    *Rename    `json:&quot;rename,omitempty&quot;`
</a><a href="#h70-0-70" id="h70-0-70" class="d">-}
</a><a href="#h70-0-71" id="h70-0-71" class="d">-
</a><a href="#h70-0-72" id="h70-0-72" class="d">-// ListIssueEvents lists events for the specified issue.
</a><a href="#h70-0-73" id="h70-0-73" class="d">-//
</a><a href="#h70-0-74" id="h70-0-74" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/events/#list-events-for-an-issue
</a><a href="#h70-0-75" id="h70-0-75" class="d">-func (s *IssuesService) ListIssueEvents(owner, repo string, number int, opt *ListOptions) ([]IssueEvent, *Response, error) {
</a><a href="#h70-0-76" id="h70-0-76" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%v/events&quot;, owner, repo, number)
</a><a href="#h70-0-77" id="h70-0-77" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h70-0-78" id="h70-0-78" class="d">-	if err != nil {
</a><a href="#h70-0-79" id="h70-0-79" class="d">-		return nil, nil, err
</a><a href="#h70-0-80" id="h70-0-80" class="d">-	}
</a><a href="#h70-0-81" id="h70-0-81" class="d">-
</a><a href="#h70-0-82" id="h70-0-82" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h70-0-83" id="h70-0-83" class="d">-	if err != nil {
</a><a href="#h70-0-84" id="h70-0-84" class="d">-		return nil, nil, err
</a><a href="#h70-0-85" id="h70-0-85" class="d">-	}
</a><a href="#h70-0-86" id="h70-0-86" class="d">-
</a><a href="#h70-0-87" id="h70-0-87" class="d">-	var events []IssueEvent
</a><a href="#h70-0-88" id="h70-0-88" class="d">-	resp, err := s.client.Do(req, &amp;events)
</a><a href="#h70-0-89" id="h70-0-89" class="d">-	if err != nil {
</a><a href="#h70-0-90" id="h70-0-90" class="d">-		return nil, resp, err
</a><a href="#h70-0-91" id="h70-0-91" class="d">-	}
</a><a href="#h70-0-92" id="h70-0-92" class="d">-
</a><a href="#h70-0-93" id="h70-0-93" class="d">-	return events, resp, err
</a><a href="#h70-0-94" id="h70-0-94" class="d">-}
</a><a href="#h70-0-95" id="h70-0-95" class="d">-
</a><a href="#h70-0-96" id="h70-0-96" class="d">-// ListRepositoryEvents lists events for the specified repository.
</a><a href="#h70-0-97" id="h70-0-97" class="d">-//
</a><a href="#h70-0-98" id="h70-0-98" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/events/#list-events-for-a-repository
</a><a href="#h70-0-99" id="h70-0-99" class="d">-func (s *IssuesService) ListRepositoryEvents(owner, repo string, opt *ListOptions) ([]IssueEvent, *Response, error) {
</a><a href="#h70-0-100" id="h70-0-100" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/events&quot;, owner, repo)
</a><a href="#h70-0-101" id="h70-0-101" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h70-0-102" id="h70-0-102" class="d">-	if err != nil {
</a><a href="#h70-0-103" id="h70-0-103" class="d">-		return nil, nil, err
</a><a href="#h70-0-104" id="h70-0-104" class="d">-	}
</a><a href="#h70-0-105" id="h70-0-105" class="d">-
</a><a href="#h70-0-106" id="h70-0-106" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h70-0-107" id="h70-0-107" class="d">-	if err != nil {
</a><a href="#h70-0-108" id="h70-0-108" class="d">-		return nil, nil, err
</a><a href="#h70-0-109" id="h70-0-109" class="d">-	}
</a><a href="#h70-0-110" id="h70-0-110" class="d">-
</a><a href="#h70-0-111" id="h70-0-111" class="d">-	var events []IssueEvent
</a><a href="#h70-0-112" id="h70-0-112" class="d">-	resp, err := s.client.Do(req, &amp;events)
</a><a href="#h70-0-113" id="h70-0-113" class="d">-	if err != nil {
</a><a href="#h70-0-114" id="h70-0-114" class="d">-		return nil, resp, err
</a><a href="#h70-0-115" id="h70-0-115" class="d">-	}
</a><a href="#h70-0-116" id="h70-0-116" class="d">-
</a><a href="#h70-0-117" id="h70-0-117" class="d">-	return events, resp, err
</a><a href="#h70-0-118" id="h70-0-118" class="d">-}
</a><a href="#h70-0-119" id="h70-0-119" class="d">-
</a><a href="#h70-0-120" id="h70-0-120" class="d">-// GetEvent returns the specified issue event.
</a><a href="#h70-0-121" id="h70-0-121" class="d">-//
</a><a href="#h70-0-122" id="h70-0-122" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/events/#get-a-single-event
</a><a href="#h70-0-123" id="h70-0-123" class="d">-func (s *IssuesService) GetEvent(owner, repo string, id int) (*IssueEvent, *Response, error) {
</a><a href="#h70-0-124" id="h70-0-124" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/events/%v&quot;, owner, repo, id)
</a><a href="#h70-0-125" id="h70-0-125" class="d">-
</a><a href="#h70-0-126" id="h70-0-126" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h70-0-127" id="h70-0-127" class="d">-	if err != nil {
</a><a href="#h70-0-128" id="h70-0-128" class="d">-		return nil, nil, err
</a><a href="#h70-0-129" id="h70-0-129" class="d">-	}
</a><a href="#h70-0-130" id="h70-0-130" class="d">-
</a><a href="#h70-0-131" id="h70-0-131" class="d">-	event := new(IssueEvent)
</a><a href="#h70-0-132" id="h70-0-132" class="d">-	resp, err := s.client.Do(req, event)
</a><a href="#h70-0-133" id="h70-0-133" class="d">-	if err != nil {
</a><a href="#h70-0-134" id="h70-0-134" class="d">-		return nil, resp, err
</a><a href="#h70-0-135" id="h70-0-135" class="d">-	}
</a><a href="#h70-0-136" id="h70-0-136" class="d">-
</a><a href="#h70-0-137" id="h70-0-137" class="d">-	return event, resp, err
</a><a href="#h70-0-138" id="h70-0-138" class="d">-}
</a><a href="#h70-0-139" id="h70-0-139" class="d">-
</a><a href="#h70-0-140" id="h70-0-140" class="d">-// Rename contains details for &#39;renamed&#39; events.
</a><a href="#h70-0-141" id="h70-0-141" class="d">-type Rename struct {
</a><a href="#h70-0-142" id="h70-0-142" class="d">-	From *string `json:&quot;from,omitempty&quot;`
</a><a href="#h70-0-143" id="h70-0-143" class="d">-	To   *string `json:&quot;to,omitempty&quot;`
</a><a href="#h70-0-144" id="h70-0-144" class="d">-}
</a><a href="#h70-0-145" id="h70-0-145" class="d">-
</a><a href="#h70-0-146" id="h70-0-146" class="d">-func (r Rename) String() string {
</a><a href="#h70-0-147" id="h70-0-147" class="d">-	return Stringify(r)
</a><a href="#h70-0-148" id="h70-0-148" class="d">-}
</a><b>diff --git a/<a id="h71" href="../file/vendor/github.com/google/go-github/github/issues_labels.go">vendor/github.com/google/go-github/github/issues_labels.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/issues_labels.go">vendor/github.com/google/go-github/github/issues_labels.go</a></b>
<a href="#h71-0" id="h71-0" class="h">@@ -1,222 +0,0 @@
</a><a href="#h71-0-0" id="h71-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h71-0-1" id="h71-0-1" class="d">-//
</a><a href="#h71-0-2" id="h71-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h71-0-3" id="h71-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h71-0-4" id="h71-0-4" class="d">-
</a><a href="#h71-0-5" id="h71-0-5" class="d">-package github
</a><a href="#h71-0-6" id="h71-0-6" class="d">-
</a><a href="#h71-0-7" id="h71-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h71-0-8" id="h71-0-8" class="d">-
</a><a href="#h71-0-9" id="h71-0-9" class="d">-// Label represents a GitHub label on an Issue
</a><a href="#h71-0-10" id="h71-0-10" class="d">-type Label struct {
</a><a href="#h71-0-11" id="h71-0-11" class="d">-	URL   *string `json:&quot;url,omitempty&quot;`
</a><a href="#h71-0-12" id="h71-0-12" class="d">-	Name  *string `json:&quot;name,omitempty&quot;`
</a><a href="#h71-0-13" id="h71-0-13" class="d">-	Color *string `json:&quot;color,omitempty&quot;`
</a><a href="#h71-0-14" id="h71-0-14" class="d">-}
</a><a href="#h71-0-15" id="h71-0-15" class="d">-
</a><a href="#h71-0-16" id="h71-0-16" class="d">-func (l Label) String() string {
</a><a href="#h71-0-17" id="h71-0-17" class="d">-	return fmt.Sprint(*l.Name)
</a><a href="#h71-0-18" id="h71-0-18" class="d">-}
</a><a href="#h71-0-19" id="h71-0-19" class="d">-
</a><a href="#h71-0-20" id="h71-0-20" class="d">-// ListLabels lists all labels for a repository.
</a><a href="#h71-0-21" id="h71-0-21" class="d">-//
</a><a href="#h71-0-22" id="h71-0-22" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#list-all-labels-for-this-repository
</a><a href="#h71-0-23" id="h71-0-23" class="d">-func (s *IssuesService) ListLabels(owner string, repo string, opt *ListOptions) ([]Label, *Response, error) {
</a><a href="#h71-0-24" id="h71-0-24" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/labels&quot;, owner, repo)
</a><a href="#h71-0-25" id="h71-0-25" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h71-0-26" id="h71-0-26" class="d">-	if err != nil {
</a><a href="#h71-0-27" id="h71-0-27" class="d">-		return nil, nil, err
</a><a href="#h71-0-28" id="h71-0-28" class="d">-	}
</a><a href="#h71-0-29" id="h71-0-29" class="d">-
</a><a href="#h71-0-30" id="h71-0-30" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h71-0-31" id="h71-0-31" class="d">-	if err != nil {
</a><a href="#h71-0-32" id="h71-0-32" class="d">-		return nil, nil, err
</a><a href="#h71-0-33" id="h71-0-33" class="d">-	}
</a><a href="#h71-0-34" id="h71-0-34" class="d">-
</a><a href="#h71-0-35" id="h71-0-35" class="d">-	labels := new([]Label)
</a><a href="#h71-0-36" id="h71-0-36" class="d">-	resp, err := s.client.Do(req, labels)
</a><a href="#h71-0-37" id="h71-0-37" class="d">-	if err != nil {
</a><a href="#h71-0-38" id="h71-0-38" class="d">-		return nil, resp, err
</a><a href="#h71-0-39" id="h71-0-39" class="d">-	}
</a><a href="#h71-0-40" id="h71-0-40" class="d">-
</a><a href="#h71-0-41" id="h71-0-41" class="d">-	return *labels, resp, err
</a><a href="#h71-0-42" id="h71-0-42" class="d">-}
</a><a href="#h71-0-43" id="h71-0-43" class="d">-
</a><a href="#h71-0-44" id="h71-0-44" class="d">-// GetLabel gets a single label.
</a><a href="#h71-0-45" id="h71-0-45" class="d">-//
</a><a href="#h71-0-46" id="h71-0-46" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#get-a-single-label
</a><a href="#h71-0-47" id="h71-0-47" class="d">-func (s *IssuesService) GetLabel(owner string, repo string, name string) (*Label, *Response, error) {
</a><a href="#h71-0-48" id="h71-0-48" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/labels/%v&quot;, owner, repo, name)
</a><a href="#h71-0-49" id="h71-0-49" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h71-0-50" id="h71-0-50" class="d">-	if err != nil {
</a><a href="#h71-0-51" id="h71-0-51" class="d">-		return nil, nil, err
</a><a href="#h71-0-52" id="h71-0-52" class="d">-	}
</a><a href="#h71-0-53" id="h71-0-53" class="d">-
</a><a href="#h71-0-54" id="h71-0-54" class="d">-	label := new(Label)
</a><a href="#h71-0-55" id="h71-0-55" class="d">-	resp, err := s.client.Do(req, label)
</a><a href="#h71-0-56" id="h71-0-56" class="d">-	if err != nil {
</a><a href="#h71-0-57" id="h71-0-57" class="d">-		return nil, resp, err
</a><a href="#h71-0-58" id="h71-0-58" class="d">-	}
</a><a href="#h71-0-59" id="h71-0-59" class="d">-
</a><a href="#h71-0-60" id="h71-0-60" class="d">-	return label, resp, err
</a><a href="#h71-0-61" id="h71-0-61" class="d">-}
</a><a href="#h71-0-62" id="h71-0-62" class="d">-
</a><a href="#h71-0-63" id="h71-0-63" class="d">-// CreateLabel creates a new label on the specified repository.
</a><a href="#h71-0-64" id="h71-0-64" class="d">-//
</a><a href="#h71-0-65" id="h71-0-65" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#create-a-label
</a><a href="#h71-0-66" id="h71-0-66" class="d">-func (s *IssuesService) CreateLabel(owner string, repo string, label *Label) (*Label, *Response, error) {
</a><a href="#h71-0-67" id="h71-0-67" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/labels&quot;, owner, repo)
</a><a href="#h71-0-68" id="h71-0-68" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, label)
</a><a href="#h71-0-69" id="h71-0-69" class="d">-	if err != nil {
</a><a href="#h71-0-70" id="h71-0-70" class="d">-		return nil, nil, err
</a><a href="#h71-0-71" id="h71-0-71" class="d">-	}
</a><a href="#h71-0-72" id="h71-0-72" class="d">-
</a><a href="#h71-0-73" id="h71-0-73" class="d">-	l := new(Label)
</a><a href="#h71-0-74" id="h71-0-74" class="d">-	resp, err := s.client.Do(req, l)
</a><a href="#h71-0-75" id="h71-0-75" class="d">-	if err != nil {
</a><a href="#h71-0-76" id="h71-0-76" class="d">-		return nil, resp, err
</a><a href="#h71-0-77" id="h71-0-77" class="d">-	}
</a><a href="#h71-0-78" id="h71-0-78" class="d">-
</a><a href="#h71-0-79" id="h71-0-79" class="d">-	return l, resp, err
</a><a href="#h71-0-80" id="h71-0-80" class="d">-}
</a><a href="#h71-0-81" id="h71-0-81" class="d">-
</a><a href="#h71-0-82" id="h71-0-82" class="d">-// EditLabel edits a label.
</a><a href="#h71-0-83" id="h71-0-83" class="d">-//
</a><a href="#h71-0-84" id="h71-0-84" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#update-a-label
</a><a href="#h71-0-85" id="h71-0-85" class="d">-func (s *IssuesService) EditLabel(owner string, repo string, name string, label *Label) (*Label, *Response, error) {
</a><a href="#h71-0-86" id="h71-0-86" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/labels/%v&quot;, owner, repo, name)
</a><a href="#h71-0-87" id="h71-0-87" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, label)
</a><a href="#h71-0-88" id="h71-0-88" class="d">-	if err != nil {
</a><a href="#h71-0-89" id="h71-0-89" class="d">-		return nil, nil, err
</a><a href="#h71-0-90" id="h71-0-90" class="d">-	}
</a><a href="#h71-0-91" id="h71-0-91" class="d">-
</a><a href="#h71-0-92" id="h71-0-92" class="d">-	l := new(Label)
</a><a href="#h71-0-93" id="h71-0-93" class="d">-	resp, err := s.client.Do(req, l)
</a><a href="#h71-0-94" id="h71-0-94" class="d">-	if err != nil {
</a><a href="#h71-0-95" id="h71-0-95" class="d">-		return nil, resp, err
</a><a href="#h71-0-96" id="h71-0-96" class="d">-	}
</a><a href="#h71-0-97" id="h71-0-97" class="d">-
</a><a href="#h71-0-98" id="h71-0-98" class="d">-	return l, resp, err
</a><a href="#h71-0-99" id="h71-0-99" class="d">-}
</a><a href="#h71-0-100" id="h71-0-100" class="d">-
</a><a href="#h71-0-101" id="h71-0-101" class="d">-// DeleteLabel deletes a label.
</a><a href="#h71-0-102" id="h71-0-102" class="d">-//
</a><a href="#h71-0-103" id="h71-0-103" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#delete-a-label
</a><a href="#h71-0-104" id="h71-0-104" class="d">-func (s *IssuesService) DeleteLabel(owner string, repo string, name string) (*Response, error) {
</a><a href="#h71-0-105" id="h71-0-105" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/labels/%v&quot;, owner, repo, name)
</a><a href="#h71-0-106" id="h71-0-106" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h71-0-107" id="h71-0-107" class="d">-	if err != nil {
</a><a href="#h71-0-108" id="h71-0-108" class="d">-		return nil, err
</a><a href="#h71-0-109" id="h71-0-109" class="d">-	}
</a><a href="#h71-0-110" id="h71-0-110" class="d">-	return s.client.Do(req, nil)
</a><a href="#h71-0-111" id="h71-0-111" class="d">-}
</a><a href="#h71-0-112" id="h71-0-112" class="d">-
</a><a href="#h71-0-113" id="h71-0-113" class="d">-// ListLabelsByIssue lists all labels for an issue.
</a><a href="#h71-0-114" id="h71-0-114" class="d">-//
</a><a href="#h71-0-115" id="h71-0-115" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#list-all-labels-for-this-repository
</a><a href="#h71-0-116" id="h71-0-116" class="d">-func (s *IssuesService) ListLabelsByIssue(owner string, repo string, number int, opt *ListOptions) ([]Label, *Response, error) {
</a><a href="#h71-0-117" id="h71-0-117" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d/labels&quot;, owner, repo, number)
</a><a href="#h71-0-118" id="h71-0-118" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h71-0-119" id="h71-0-119" class="d">-	if err != nil {
</a><a href="#h71-0-120" id="h71-0-120" class="d">-		return nil, nil, err
</a><a href="#h71-0-121" id="h71-0-121" class="d">-	}
</a><a href="#h71-0-122" id="h71-0-122" class="d">-
</a><a href="#h71-0-123" id="h71-0-123" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h71-0-124" id="h71-0-124" class="d">-	if err != nil {
</a><a href="#h71-0-125" id="h71-0-125" class="d">-		return nil, nil, err
</a><a href="#h71-0-126" id="h71-0-126" class="d">-	}
</a><a href="#h71-0-127" id="h71-0-127" class="d">-
</a><a href="#h71-0-128" id="h71-0-128" class="d">-	labels := new([]Label)
</a><a href="#h71-0-129" id="h71-0-129" class="d">-	resp, err := s.client.Do(req, labels)
</a><a href="#h71-0-130" id="h71-0-130" class="d">-	if err != nil {
</a><a href="#h71-0-131" id="h71-0-131" class="d">-		return nil, resp, err
</a><a href="#h71-0-132" id="h71-0-132" class="d">-	}
</a><a href="#h71-0-133" id="h71-0-133" class="d">-
</a><a href="#h71-0-134" id="h71-0-134" class="d">-	return *labels, resp, err
</a><a href="#h71-0-135" id="h71-0-135" class="d">-}
</a><a href="#h71-0-136" id="h71-0-136" class="d">-
</a><a href="#h71-0-137" id="h71-0-137" class="d">-// AddLabelsToIssue adds labels to an issue.
</a><a href="#h71-0-138" id="h71-0-138" class="d">-//
</a><a href="#h71-0-139" id="h71-0-139" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#list-all-labels-for-this-repository
</a><a href="#h71-0-140" id="h71-0-140" class="d">-func (s *IssuesService) AddLabelsToIssue(owner string, repo string, number int, labels []string) ([]Label, *Response, error) {
</a><a href="#h71-0-141" id="h71-0-141" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d/labels&quot;, owner, repo, number)
</a><a href="#h71-0-142" id="h71-0-142" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, labels)
</a><a href="#h71-0-143" id="h71-0-143" class="d">-	if err != nil {
</a><a href="#h71-0-144" id="h71-0-144" class="d">-		return nil, nil, err
</a><a href="#h71-0-145" id="h71-0-145" class="d">-	}
</a><a href="#h71-0-146" id="h71-0-146" class="d">-
</a><a href="#h71-0-147" id="h71-0-147" class="d">-	l := new([]Label)
</a><a href="#h71-0-148" id="h71-0-148" class="d">-	resp, err := s.client.Do(req, l)
</a><a href="#h71-0-149" id="h71-0-149" class="d">-	if err != nil {
</a><a href="#h71-0-150" id="h71-0-150" class="d">-		return nil, resp, err
</a><a href="#h71-0-151" id="h71-0-151" class="d">-	}
</a><a href="#h71-0-152" id="h71-0-152" class="d">-
</a><a href="#h71-0-153" id="h71-0-153" class="d">-	return *l, resp, err
</a><a href="#h71-0-154" id="h71-0-154" class="d">-}
</a><a href="#h71-0-155" id="h71-0-155" class="d">-
</a><a href="#h71-0-156" id="h71-0-156" class="d">-// RemoveLabelForIssue removes a label for an issue.
</a><a href="#h71-0-157" id="h71-0-157" class="d">-//
</a><a href="#h71-0-158" id="h71-0-158" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#remove-a-label-from-an-issue
</a><a href="#h71-0-159" id="h71-0-159" class="d">-func (s *IssuesService) RemoveLabelForIssue(owner string, repo string, number int, label string) (*Response, error) {
</a><a href="#h71-0-160" id="h71-0-160" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d/labels/%v&quot;, owner, repo, number, label)
</a><a href="#h71-0-161" id="h71-0-161" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h71-0-162" id="h71-0-162" class="d">-	if err != nil {
</a><a href="#h71-0-163" id="h71-0-163" class="d">-		return nil, err
</a><a href="#h71-0-164" id="h71-0-164" class="d">-	}
</a><a href="#h71-0-165" id="h71-0-165" class="d">-	return s.client.Do(req, nil)
</a><a href="#h71-0-166" id="h71-0-166" class="d">-}
</a><a href="#h71-0-167" id="h71-0-167" class="d">-
</a><a href="#h71-0-168" id="h71-0-168" class="d">-// ReplaceLabelsForIssue replaces all labels for an issue.
</a><a href="#h71-0-169" id="h71-0-169" class="d">-//
</a><a href="#h71-0-170" id="h71-0-170" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#replace-all-labels-for-an-issue
</a><a href="#h71-0-171" id="h71-0-171" class="d">-func (s *IssuesService) ReplaceLabelsForIssue(owner string, repo string, number int, labels []string) ([]Label, *Response, error) {
</a><a href="#h71-0-172" id="h71-0-172" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d/labels&quot;, owner, repo, number)
</a><a href="#h71-0-173" id="h71-0-173" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, labels)
</a><a href="#h71-0-174" id="h71-0-174" class="d">-	if err != nil {
</a><a href="#h71-0-175" id="h71-0-175" class="d">-		return nil, nil, err
</a><a href="#h71-0-176" id="h71-0-176" class="d">-	}
</a><a href="#h71-0-177" id="h71-0-177" class="d">-
</a><a href="#h71-0-178" id="h71-0-178" class="d">-	l := new([]Label)
</a><a href="#h71-0-179" id="h71-0-179" class="d">-	resp, err := s.client.Do(req, l)
</a><a href="#h71-0-180" id="h71-0-180" class="d">-	if err != nil {
</a><a href="#h71-0-181" id="h71-0-181" class="d">-		return nil, resp, err
</a><a href="#h71-0-182" id="h71-0-182" class="d">-	}
</a><a href="#h71-0-183" id="h71-0-183" class="d">-
</a><a href="#h71-0-184" id="h71-0-184" class="d">-	return *l, resp, err
</a><a href="#h71-0-185" id="h71-0-185" class="d">-}
</a><a href="#h71-0-186" id="h71-0-186" class="d">-
</a><a href="#h71-0-187" id="h71-0-187" class="d">-// RemoveLabelsForIssue removes all labels for an issue.
</a><a href="#h71-0-188" id="h71-0-188" class="d">-//
</a><a href="#h71-0-189" id="h71-0-189" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#remove-all-labels-from-an-issue
</a><a href="#h71-0-190" id="h71-0-190" class="d">-func (s *IssuesService) RemoveLabelsForIssue(owner string, repo string, number int) (*Response, error) {
</a><a href="#h71-0-191" id="h71-0-191" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/issues/%d/labels&quot;, owner, repo, number)
</a><a href="#h71-0-192" id="h71-0-192" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h71-0-193" id="h71-0-193" class="d">-	if err != nil {
</a><a href="#h71-0-194" id="h71-0-194" class="d">-		return nil, err
</a><a href="#h71-0-195" id="h71-0-195" class="d">-	}
</a><a href="#h71-0-196" id="h71-0-196" class="d">-	return s.client.Do(req, nil)
</a><a href="#h71-0-197" id="h71-0-197" class="d">-}
</a><a href="#h71-0-198" id="h71-0-198" class="d">-
</a><a href="#h71-0-199" id="h71-0-199" class="d">-// ListLabelsForMilestone lists labels for every issue in a milestone.
</a><a href="#h71-0-200" id="h71-0-200" class="d">-//
</a><a href="#h71-0-201" id="h71-0-201" class="d">-// GitHub API docs: http://developer.github.com/v3/issues/labels/#get-labels-for-every-issue-in-a-milestone
</a><a href="#h71-0-202" id="h71-0-202" class="d">-func (s *IssuesService) ListLabelsForMilestone(owner string, repo string, number int, opt *ListOptions) ([]Label, *Response, error) {
</a><a href="#h71-0-203" id="h71-0-203" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/milestones/%d/labels&quot;, owner, repo, number)
</a><a href="#h71-0-204" id="h71-0-204" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h71-0-205" id="h71-0-205" class="d">-	if err != nil {
</a><a href="#h71-0-206" id="h71-0-206" class="d">-		return nil, nil, err
</a><a href="#h71-0-207" id="h71-0-207" class="d">-	}
</a><a href="#h71-0-208" id="h71-0-208" class="d">-
</a><a href="#h71-0-209" id="h71-0-209" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h71-0-210" id="h71-0-210" class="d">-	if err != nil {
</a><a href="#h71-0-211" id="h71-0-211" class="d">-		return nil, nil, err
</a><a href="#h71-0-212" id="h71-0-212" class="d">-	}
</a><a href="#h71-0-213" id="h71-0-213" class="d">-
</a><a href="#h71-0-214" id="h71-0-214" class="d">-	labels := new([]Label)
</a><a href="#h71-0-215" id="h71-0-215" class="d">-	resp, err := s.client.Do(req, labels)
</a><a href="#h71-0-216" id="h71-0-216" class="d">-	if err != nil {
</a><a href="#h71-0-217" id="h71-0-217" class="d">-		return nil, resp, err
</a><a href="#h71-0-218" id="h71-0-218" class="d">-	}
</a><a href="#h71-0-219" id="h71-0-219" class="d">-
</a><a href="#h71-0-220" id="h71-0-220" class="d">-	return *labels, resp, err
</a><a href="#h71-0-221" id="h71-0-221" class="d">-}
</a><b>diff --git a/<a id="h72" href="../file/vendor/github.com/google/go-github/github/issues_milestones.go">vendor/github.com/google/go-github/github/issues_milestones.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/issues_milestones.go">vendor/github.com/google/go-github/github/issues_milestones.go</a></b>
<a href="#h72-0" id="h72-0" class="h">@@ -1,144 +0,0 @@
</a><a href="#h72-0-0" id="h72-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h72-0-1" id="h72-0-1" class="d">-//
</a><a href="#h72-0-2" id="h72-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h72-0-3" id="h72-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h72-0-4" id="h72-0-4" class="d">-
</a><a href="#h72-0-5" id="h72-0-5" class="d">-package github
</a><a href="#h72-0-6" id="h72-0-6" class="d">-
</a><a href="#h72-0-7" id="h72-0-7" class="d">-import (
</a><a href="#h72-0-8" id="h72-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h72-0-9" id="h72-0-9" class="d">-	&quot;time&quot;
</a><a href="#h72-0-10" id="h72-0-10" class="d">-)
</a><a href="#h72-0-11" id="h72-0-11" class="d">-
</a><a href="#h72-0-12" id="h72-0-12" class="d">-// Milestone represents a Github repository milestone.
</a><a href="#h72-0-13" id="h72-0-13" class="d">-type Milestone struct {
</a><a href="#h72-0-14" id="h72-0-14" class="d">-	URL          *string    `json:&quot;url,omitempty&quot;`
</a><a href="#h72-0-15" id="h72-0-15" class="d">-	HTMLURL      *string    `json:&quot;html_url,omitempty&quot;`
</a><a href="#h72-0-16" id="h72-0-16" class="d">-	LabelsURL    *string    `json:&quot;labels_url,omitempty&quot;`
</a><a href="#h72-0-17" id="h72-0-17" class="d">-	ID           *int       `json:&quot;id,omitempty&quot;`
</a><a href="#h72-0-18" id="h72-0-18" class="d">-	Number       *int       `json:&quot;number,omitempty&quot;`
</a><a href="#h72-0-19" id="h72-0-19" class="d">-	State        *string    `json:&quot;state,omitempty&quot;`
</a><a href="#h72-0-20" id="h72-0-20" class="d">-	Title        *string    `json:&quot;title,omitempty&quot;`
</a><a href="#h72-0-21" id="h72-0-21" class="d">-	Description  *string    `json:&quot;description,omitempty&quot;`
</a><a href="#h72-0-22" id="h72-0-22" class="d">-	Creator      *User      `json:&quot;creator,omitempty&quot;`
</a><a href="#h72-0-23" id="h72-0-23" class="d">-	OpenIssues   *int       `json:&quot;open_issues,omitempty&quot;`
</a><a href="#h72-0-24" id="h72-0-24" class="d">-	ClosedIssues *int       `json:&quot;closed_issues,omitempty&quot;`
</a><a href="#h72-0-25" id="h72-0-25" class="d">-	CreatedAt    *time.Time `json:&quot;created_at,omitempty&quot;`
</a><a href="#h72-0-26" id="h72-0-26" class="d">-	UpdatedAt    *time.Time `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h72-0-27" id="h72-0-27" class="d">-	ClosedAt     *time.Time `json:&quot;closed_at,omitempty&quot;`
</a><a href="#h72-0-28" id="h72-0-28" class="d">-	DueOn        *time.Time `json:&quot;due_on,omitempty&quot;`
</a><a href="#h72-0-29" id="h72-0-29" class="d">-}
</a><a href="#h72-0-30" id="h72-0-30" class="d">-
</a><a href="#h72-0-31" id="h72-0-31" class="d">-func (m Milestone) String() string {
</a><a href="#h72-0-32" id="h72-0-32" class="d">-	return Stringify(m)
</a><a href="#h72-0-33" id="h72-0-33" class="d">-}
</a><a href="#h72-0-34" id="h72-0-34" class="d">-
</a><a href="#h72-0-35" id="h72-0-35" class="d">-// MilestoneListOptions specifies the optional parameters to the
</a><a href="#h72-0-36" id="h72-0-36" class="d">-// IssuesService.ListMilestones method.
</a><a href="#h72-0-37" id="h72-0-37" class="d">-type MilestoneListOptions struct {
</a><a href="#h72-0-38" id="h72-0-38" class="d">-	// State filters milestones based on their state. Possible values are:
</a><a href="#h72-0-39" id="h72-0-39" class="d">-	// open, closed. Default is &quot;open&quot;.
</a><a href="#h72-0-40" id="h72-0-40" class="d">-	State string `url:&quot;state,omitempty&quot;`
</a><a href="#h72-0-41" id="h72-0-41" class="d">-
</a><a href="#h72-0-42" id="h72-0-42" class="d">-	// Sort specifies how to sort milestones. Possible values are: due_date, completeness.
</a><a href="#h72-0-43" id="h72-0-43" class="d">-	// Default value is &quot;due_date&quot;.
</a><a href="#h72-0-44" id="h72-0-44" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h72-0-45" id="h72-0-45" class="d">-
</a><a href="#h72-0-46" id="h72-0-46" class="d">-	// Direction in which to sort milestones. Possible values are: asc, desc.
</a><a href="#h72-0-47" id="h72-0-47" class="d">-	// Default is &quot;asc&quot;.
</a><a href="#h72-0-48" id="h72-0-48" class="d">-	Direction string `url:&quot;direction,omitempty&quot;`
</a><a href="#h72-0-49" id="h72-0-49" class="d">-}
</a><a href="#h72-0-50" id="h72-0-50" class="d">-
</a><a href="#h72-0-51" id="h72-0-51" class="d">-// ListMilestones lists all milestones for a repository.
</a><a href="#h72-0-52" id="h72-0-52" class="d">-//
</a><a href="#h72-0-53" id="h72-0-53" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/milestones/#list-milestones-for-a-repository
</a><a href="#h72-0-54" id="h72-0-54" class="d">-func (s *IssuesService) ListMilestones(owner string, repo string, opt *MilestoneListOptions) ([]Milestone, *Response, error) {
</a><a href="#h72-0-55" id="h72-0-55" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/milestones&quot;, owner, repo)
</a><a href="#h72-0-56" id="h72-0-56" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h72-0-57" id="h72-0-57" class="d">-	if err != nil {
</a><a href="#h72-0-58" id="h72-0-58" class="d">-		return nil, nil, err
</a><a href="#h72-0-59" id="h72-0-59" class="d">-	}
</a><a href="#h72-0-60" id="h72-0-60" class="d">-
</a><a href="#h72-0-61" id="h72-0-61" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h72-0-62" id="h72-0-62" class="d">-	if err != nil {
</a><a href="#h72-0-63" id="h72-0-63" class="d">-		return nil, nil, err
</a><a href="#h72-0-64" id="h72-0-64" class="d">-	}
</a><a href="#h72-0-65" id="h72-0-65" class="d">-
</a><a href="#h72-0-66" id="h72-0-66" class="d">-	milestones := new([]Milestone)
</a><a href="#h72-0-67" id="h72-0-67" class="d">-	resp, err := s.client.Do(req, milestones)
</a><a href="#h72-0-68" id="h72-0-68" class="d">-	if err != nil {
</a><a href="#h72-0-69" id="h72-0-69" class="d">-		return nil, resp, err
</a><a href="#h72-0-70" id="h72-0-70" class="d">-	}
</a><a href="#h72-0-71" id="h72-0-71" class="d">-
</a><a href="#h72-0-72" id="h72-0-72" class="d">-	return *milestones, resp, err
</a><a href="#h72-0-73" id="h72-0-73" class="d">-}
</a><a href="#h72-0-74" id="h72-0-74" class="d">-
</a><a href="#h72-0-75" id="h72-0-75" class="d">-// GetMilestone gets a single milestone.
</a><a href="#h72-0-76" id="h72-0-76" class="d">-//
</a><a href="#h72-0-77" id="h72-0-77" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/milestones/#get-a-single-milestone
</a><a href="#h72-0-78" id="h72-0-78" class="d">-func (s *IssuesService) GetMilestone(owner string, repo string, number int) (*Milestone, *Response, error) {
</a><a href="#h72-0-79" id="h72-0-79" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/milestones/%d&quot;, owner, repo, number)
</a><a href="#h72-0-80" id="h72-0-80" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h72-0-81" id="h72-0-81" class="d">-	if err != nil {
</a><a href="#h72-0-82" id="h72-0-82" class="d">-		return nil, nil, err
</a><a href="#h72-0-83" id="h72-0-83" class="d">-	}
</a><a href="#h72-0-84" id="h72-0-84" class="d">-
</a><a href="#h72-0-85" id="h72-0-85" class="d">-	milestone := new(Milestone)
</a><a href="#h72-0-86" id="h72-0-86" class="d">-	resp, err := s.client.Do(req, milestone)
</a><a href="#h72-0-87" id="h72-0-87" class="d">-	if err != nil {
</a><a href="#h72-0-88" id="h72-0-88" class="d">-		return nil, resp, err
</a><a href="#h72-0-89" id="h72-0-89" class="d">-	}
</a><a href="#h72-0-90" id="h72-0-90" class="d">-
</a><a href="#h72-0-91" id="h72-0-91" class="d">-	return milestone, resp, err
</a><a href="#h72-0-92" id="h72-0-92" class="d">-}
</a><a href="#h72-0-93" id="h72-0-93" class="d">-
</a><a href="#h72-0-94" id="h72-0-94" class="d">-// CreateMilestone creates a new milestone on the specified repository.
</a><a href="#h72-0-95" id="h72-0-95" class="d">-//
</a><a href="#h72-0-96" id="h72-0-96" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/milestones/#create-a-milestone
</a><a href="#h72-0-97" id="h72-0-97" class="d">-func (s *IssuesService) CreateMilestone(owner string, repo string, milestone *Milestone) (*Milestone, *Response, error) {
</a><a href="#h72-0-98" id="h72-0-98" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/milestones&quot;, owner, repo)
</a><a href="#h72-0-99" id="h72-0-99" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, milestone)
</a><a href="#h72-0-100" id="h72-0-100" class="d">-	if err != nil {
</a><a href="#h72-0-101" id="h72-0-101" class="d">-		return nil, nil, err
</a><a href="#h72-0-102" id="h72-0-102" class="d">-	}
</a><a href="#h72-0-103" id="h72-0-103" class="d">-
</a><a href="#h72-0-104" id="h72-0-104" class="d">-	m := new(Milestone)
</a><a href="#h72-0-105" id="h72-0-105" class="d">-	resp, err := s.client.Do(req, m)
</a><a href="#h72-0-106" id="h72-0-106" class="d">-	if err != nil {
</a><a href="#h72-0-107" id="h72-0-107" class="d">-		return nil, resp, err
</a><a href="#h72-0-108" id="h72-0-108" class="d">-	}
</a><a href="#h72-0-109" id="h72-0-109" class="d">-
</a><a href="#h72-0-110" id="h72-0-110" class="d">-	return m, resp, err
</a><a href="#h72-0-111" id="h72-0-111" class="d">-}
</a><a href="#h72-0-112" id="h72-0-112" class="d">-
</a><a href="#h72-0-113" id="h72-0-113" class="d">-// EditMilestone edits a milestone.
</a><a href="#h72-0-114" id="h72-0-114" class="d">-//
</a><a href="#h72-0-115" id="h72-0-115" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/milestones/#update-a-milestone
</a><a href="#h72-0-116" id="h72-0-116" class="d">-func (s *IssuesService) EditMilestone(owner string, repo string, number int, milestone *Milestone) (*Milestone, *Response, error) {
</a><a href="#h72-0-117" id="h72-0-117" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/milestones/%d&quot;, owner, repo, number)
</a><a href="#h72-0-118" id="h72-0-118" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, milestone)
</a><a href="#h72-0-119" id="h72-0-119" class="d">-	if err != nil {
</a><a href="#h72-0-120" id="h72-0-120" class="d">-		return nil, nil, err
</a><a href="#h72-0-121" id="h72-0-121" class="d">-	}
</a><a href="#h72-0-122" id="h72-0-122" class="d">-
</a><a href="#h72-0-123" id="h72-0-123" class="d">-	m := new(Milestone)
</a><a href="#h72-0-124" id="h72-0-124" class="d">-	resp, err := s.client.Do(req, m)
</a><a href="#h72-0-125" id="h72-0-125" class="d">-	if err != nil {
</a><a href="#h72-0-126" id="h72-0-126" class="d">-		return nil, resp, err
</a><a href="#h72-0-127" id="h72-0-127" class="d">-	}
</a><a href="#h72-0-128" id="h72-0-128" class="d">-
</a><a href="#h72-0-129" id="h72-0-129" class="d">-	return m, resp, err
</a><a href="#h72-0-130" id="h72-0-130" class="d">-}
</a><a href="#h72-0-131" id="h72-0-131" class="d">-
</a><a href="#h72-0-132" id="h72-0-132" class="d">-// DeleteMilestone deletes a milestone.
</a><a href="#h72-0-133" id="h72-0-133" class="d">-//
</a><a href="#h72-0-134" id="h72-0-134" class="d">-// GitHub API docs: https://developer.github.com/v3/issues/milestones/#delete-a-milestone
</a><a href="#h72-0-135" id="h72-0-135" class="d">-func (s *IssuesService) DeleteMilestone(owner string, repo string, number int) (*Response, error) {
</a><a href="#h72-0-136" id="h72-0-136" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/milestones/%d&quot;, owner, repo, number)
</a><a href="#h72-0-137" id="h72-0-137" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h72-0-138" id="h72-0-138" class="d">-	if err != nil {
</a><a href="#h72-0-139" id="h72-0-139" class="d">-		return nil, err
</a><a href="#h72-0-140" id="h72-0-140" class="d">-	}
</a><a href="#h72-0-141" id="h72-0-141" class="d">-
</a><a href="#h72-0-142" id="h72-0-142" class="d">-	return s.client.Do(req, nil)
</a><a href="#h72-0-143" id="h72-0-143" class="d">-}
</a><b>diff --git a/<a id="h73" href="../file/vendor/github.com/google/go-github/github/licenses.go">vendor/github.com/google/go-github/github/licenses.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/licenses.go">vendor/github.com/google/go-github/github/licenses.go</a></b>
<a href="#h73-0" id="h73-0" class="h">@@ -1,81 +0,0 @@
</a><a href="#h73-0-0" id="h73-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h73-0-1" id="h73-0-1" class="d">-//
</a><a href="#h73-0-2" id="h73-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h73-0-3" id="h73-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h73-0-4" id="h73-0-4" class="d">-
</a><a href="#h73-0-5" id="h73-0-5" class="d">-package github
</a><a href="#h73-0-6" id="h73-0-6" class="d">-
</a><a href="#h73-0-7" id="h73-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h73-0-8" id="h73-0-8" class="d">-
</a><a href="#h73-0-9" id="h73-0-9" class="d">-// LicensesService handles communication with the license related
</a><a href="#h73-0-10" id="h73-0-10" class="d">-// methods of the GitHub API.
</a><a href="#h73-0-11" id="h73-0-11" class="d">-//
</a><a href="#h73-0-12" id="h73-0-12" class="d">-// GitHub API docs: http://developer.github.com/v3/pulls/
</a><a href="#h73-0-13" id="h73-0-13" class="d">-type LicensesService struct {
</a><a href="#h73-0-14" id="h73-0-14" class="d">-	client *Client
</a><a href="#h73-0-15" id="h73-0-15" class="d">-}
</a><a href="#h73-0-16" id="h73-0-16" class="d">-
</a><a href="#h73-0-17" id="h73-0-17" class="d">-// License represents an open source license.
</a><a href="#h73-0-18" id="h73-0-18" class="d">-type License struct {
</a><a href="#h73-0-19" id="h73-0-19" class="d">-	Key  *string `json:&quot;key,omitempty&quot;`
</a><a href="#h73-0-20" id="h73-0-20" class="d">-	Name *string `json:&quot;name,omitempty&quot;`
</a><a href="#h73-0-21" id="h73-0-21" class="d">-	URL  *string `json:&quot;url,omitempty&quot;`
</a><a href="#h73-0-22" id="h73-0-22" class="d">-
</a><a href="#h73-0-23" id="h73-0-23" class="d">-	HTMLURL        *string   `json:&quot;html_url,omitempty&quot;`
</a><a href="#h73-0-24" id="h73-0-24" class="d">-	Featured       *bool     `json:&quot;featured,omitempty&quot;`
</a><a href="#h73-0-25" id="h73-0-25" class="d">-	Description    *string   `json:&quot;description,omitempty&quot;`
</a><a href="#h73-0-26" id="h73-0-26" class="d">-	Category       *string   `json:&quot;category,omitempty&quot;`
</a><a href="#h73-0-27" id="h73-0-27" class="d">-	Implementation *string   `json:&quot;implementation,omitempty&quot;`
</a><a href="#h73-0-28" id="h73-0-28" class="d">-	Required       *[]string `json:&quot;required,omitempty&quot;`
</a><a href="#h73-0-29" id="h73-0-29" class="d">-	Permitted      *[]string `json:&quot;permitted,omitempty&quot;`
</a><a href="#h73-0-30" id="h73-0-30" class="d">-	Forbidden      *[]string `json:&quot;forbidden,omitempty&quot;`
</a><a href="#h73-0-31" id="h73-0-31" class="d">-	Body           *string   `json:&quot;body,omitempty&quot;`
</a><a href="#h73-0-32" id="h73-0-32" class="d">-}
</a><a href="#h73-0-33" id="h73-0-33" class="d">-
</a><a href="#h73-0-34" id="h73-0-34" class="d">-func (l License) String() string {
</a><a href="#h73-0-35" id="h73-0-35" class="d">-	return Stringify(l)
</a><a href="#h73-0-36" id="h73-0-36" class="d">-}
</a><a href="#h73-0-37" id="h73-0-37" class="d">-
</a><a href="#h73-0-38" id="h73-0-38" class="d">-// List popular open source licenses.
</a><a href="#h73-0-39" id="h73-0-39" class="d">-//
</a><a href="#h73-0-40" id="h73-0-40" class="d">-// GitHub API docs: https://developer.github.com/v3/licenses/#list-all-licenses
</a><a href="#h73-0-41" id="h73-0-41" class="d">-func (s *LicensesService) List() ([]License, *Response, error) {
</a><a href="#h73-0-42" id="h73-0-42" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, &quot;licenses&quot;, nil)
</a><a href="#h73-0-43" id="h73-0-43" class="d">-	if err != nil {
</a><a href="#h73-0-44" id="h73-0-44" class="d">-		return nil, nil, err
</a><a href="#h73-0-45" id="h73-0-45" class="d">-	}
</a><a href="#h73-0-46" id="h73-0-46" class="d">-
</a><a href="#h73-0-47" id="h73-0-47" class="d">-	// TODO: remove custom Accept header when this API fully launches
</a><a href="#h73-0-48" id="h73-0-48" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeLicensesPreview)
</a><a href="#h73-0-49" id="h73-0-49" class="d">-
</a><a href="#h73-0-50" id="h73-0-50" class="d">-	licenses := new([]License)
</a><a href="#h73-0-51" id="h73-0-51" class="d">-	resp, err := s.client.Do(req, licenses)
</a><a href="#h73-0-52" id="h73-0-52" class="d">-	if err != nil {
</a><a href="#h73-0-53" id="h73-0-53" class="d">-		return nil, resp, err
</a><a href="#h73-0-54" id="h73-0-54" class="d">-	}
</a><a href="#h73-0-55" id="h73-0-55" class="d">-
</a><a href="#h73-0-56" id="h73-0-56" class="d">-	return *licenses, resp, err
</a><a href="#h73-0-57" id="h73-0-57" class="d">-}
</a><a href="#h73-0-58" id="h73-0-58" class="d">-
</a><a href="#h73-0-59" id="h73-0-59" class="d">-// Get extended metadata for one license.
</a><a href="#h73-0-60" id="h73-0-60" class="d">-//
</a><a href="#h73-0-61" id="h73-0-61" class="d">-// GitHub API docs: https://developer.github.com/v3/licenses/#get-an-individual-license
</a><a href="#h73-0-62" id="h73-0-62" class="d">-func (s *LicensesService) Get(licenseName string) (*License, *Response, error) {
</a><a href="#h73-0-63" id="h73-0-63" class="d">-	u := fmt.Sprintf(&quot;licenses/%s&quot;, licenseName)
</a><a href="#h73-0-64" id="h73-0-64" class="d">-
</a><a href="#h73-0-65" id="h73-0-65" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h73-0-66" id="h73-0-66" class="d">-	if err != nil {
</a><a href="#h73-0-67" id="h73-0-67" class="d">-		return nil, nil, err
</a><a href="#h73-0-68" id="h73-0-68" class="d">-	}
</a><a href="#h73-0-69" id="h73-0-69" class="d">-
</a><a href="#h73-0-70" id="h73-0-70" class="d">-	// TODO: remove custom Accept header when this API fully launches
</a><a href="#h73-0-71" id="h73-0-71" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeLicensesPreview)
</a><a href="#h73-0-72" id="h73-0-72" class="d">-
</a><a href="#h73-0-73" id="h73-0-73" class="d">-	license := new(License)
</a><a href="#h73-0-74" id="h73-0-74" class="d">-	resp, err := s.client.Do(req, license)
</a><a href="#h73-0-75" id="h73-0-75" class="d">-	if err != nil {
</a><a href="#h73-0-76" id="h73-0-76" class="d">-		return nil, resp, err
</a><a href="#h73-0-77" id="h73-0-77" class="d">-	}
</a><a href="#h73-0-78" id="h73-0-78" class="d">-
</a><a href="#h73-0-79" id="h73-0-79" class="d">-	return license, resp, err
</a><a href="#h73-0-80" id="h73-0-80" class="d">-}
</a><b>diff --git a/<a id="h74" href="../file/vendor/github.com/google/go-github/github/migrations.go">vendor/github.com/google/go-github/github/migrations.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/migrations.go">vendor/github.com/google/go-github/github/migrations.go</a></b>
<a href="#h74-0" id="h74-0" class="h">@@ -1,225 +0,0 @@
</a><a href="#h74-0-0" id="h74-0-0" class="d">-// Copyright 2016 The go-github AUTHORS. All rights reserved.
</a><a href="#h74-0-1" id="h74-0-1" class="d">-//
</a><a href="#h74-0-2" id="h74-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h74-0-3" id="h74-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h74-0-4" id="h74-0-4" class="d">-
</a><a href="#h74-0-5" id="h74-0-5" class="d">-package github
</a><a href="#h74-0-6" id="h74-0-6" class="d">-
</a><a href="#h74-0-7" id="h74-0-7" class="d">-import (
</a><a href="#h74-0-8" id="h74-0-8" class="d">-	&quot;errors&quot;
</a><a href="#h74-0-9" id="h74-0-9" class="d">-	&quot;fmt&quot;
</a><a href="#h74-0-10" id="h74-0-10" class="d">-	&quot;net/http&quot;
</a><a href="#h74-0-11" id="h74-0-11" class="d">-	&quot;strings&quot;
</a><a href="#h74-0-12" id="h74-0-12" class="d">-)
</a><a href="#h74-0-13" id="h74-0-13" class="d">-
</a><a href="#h74-0-14" id="h74-0-14" class="d">-// MigrationService provides access to the migration related functions
</a><a href="#h74-0-15" id="h74-0-15" class="d">-// in the GitHub API.
</a><a href="#h74-0-16" id="h74-0-16" class="d">-//
</a><a href="#h74-0-17" id="h74-0-17" class="d">-// GitHub API docs: https://developer.github.com/v3/migration/
</a><a href="#h74-0-18" id="h74-0-18" class="d">-type MigrationService struct {
</a><a href="#h74-0-19" id="h74-0-19" class="d">-	client *Client
</a><a href="#h74-0-20" id="h74-0-20" class="d">-}
</a><a href="#h74-0-21" id="h74-0-21" class="d">-
</a><a href="#h74-0-22" id="h74-0-22" class="d">-// Migration represents a GitHub migration (archival).
</a><a href="#h74-0-23" id="h74-0-23" class="d">-type Migration struct {
</a><a href="#h74-0-24" id="h74-0-24" class="d">-	ID   *int    `json:&quot;id,omitempty&quot;`
</a><a href="#h74-0-25" id="h74-0-25" class="d">-	GUID *string `json:&quot;guid,omitempty&quot;`
</a><a href="#h74-0-26" id="h74-0-26" class="d">-	// State is the current state of a migration.
</a><a href="#h74-0-27" id="h74-0-27" class="d">-	// Possible values are:
</a><a href="#h74-0-28" id="h74-0-28" class="d">-	//     &quot;pending&quot; which means the migration hasn&#39;t started yet,
</a><a href="#h74-0-29" id="h74-0-29" class="d">-	//     &quot;exporting&quot; which means the migration is in progress,
</a><a href="#h74-0-30" id="h74-0-30" class="d">-	//     &quot;exported&quot; which means the migration finished successfully, or
</a><a href="#h74-0-31" id="h74-0-31" class="d">-	//     &quot;failed&quot; which means the migration failed.
</a><a href="#h74-0-32" id="h74-0-32" class="d">-	State *string `json:&quot;state,omitempty&quot;`
</a><a href="#h74-0-33" id="h74-0-33" class="d">-	// LockRepositories indicates whether repositories are locked (to prevent
</a><a href="#h74-0-34" id="h74-0-34" class="d">-	// manipulation) while migrating data.
</a><a href="#h74-0-35" id="h74-0-35" class="d">-	LockRepositories *bool `json:&quot;lock_repositories,omitempty&quot;`
</a><a href="#h74-0-36" id="h74-0-36" class="d">-	// ExcludeAttachments indicates whether attachments should be excluded from
</a><a href="#h74-0-37" id="h74-0-37" class="d">-	// the migration (to reduce migration archive file size).
</a><a href="#h74-0-38" id="h74-0-38" class="d">-	ExcludeAttachments *bool         `json:&quot;exclude_attachments,omitempty&quot;`
</a><a href="#h74-0-39" id="h74-0-39" class="d">-	URL                *string       `json:&quot;url,omitempty&quot;`
</a><a href="#h74-0-40" id="h74-0-40" class="d">-	CreatedAt          *string       `json:&quot;created_at,omitempty&quot;`
</a><a href="#h74-0-41" id="h74-0-41" class="d">-	UpdatedAt          *string       `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h74-0-42" id="h74-0-42" class="d">-	Repositories       []*Repository `json:&quot;repositories,omitempty&quot;`
</a><a href="#h74-0-43" id="h74-0-43" class="d">-}
</a><a href="#h74-0-44" id="h74-0-44" class="d">-
</a><a href="#h74-0-45" id="h74-0-45" class="d">-func (m Migration) String() string {
</a><a href="#h74-0-46" id="h74-0-46" class="d">-	return Stringify(m)
</a><a href="#h74-0-47" id="h74-0-47" class="d">-}
</a><a href="#h74-0-48" id="h74-0-48" class="d">-
</a><a href="#h74-0-49" id="h74-0-49" class="d">-// MigrationOptions specifies the optional parameters to Migration methods.
</a><a href="#h74-0-50" id="h74-0-50" class="d">-type MigrationOptions struct {
</a><a href="#h74-0-51" id="h74-0-51" class="d">-	// LockRepositories indicates whether repositories should be locked (to prevent
</a><a href="#h74-0-52" id="h74-0-52" class="d">-	// manipulation) while migrating data.
</a><a href="#h74-0-53" id="h74-0-53" class="d">-	LockRepositories bool
</a><a href="#h74-0-54" id="h74-0-54" class="d">-
</a><a href="#h74-0-55" id="h74-0-55" class="d">-	// ExcludeAttachments indicates whether attachments should be excluded from
</a><a href="#h74-0-56" id="h74-0-56" class="d">-	// the migration (to reduce migration archive file size).
</a><a href="#h74-0-57" id="h74-0-57" class="d">-	ExcludeAttachments bool
</a><a href="#h74-0-58" id="h74-0-58" class="d">-}
</a><a href="#h74-0-59" id="h74-0-59" class="d">-
</a><a href="#h74-0-60" id="h74-0-60" class="d">-// startMigration represents the body of a StartMigration request.
</a><a href="#h74-0-61" id="h74-0-61" class="d">-type startMigration struct {
</a><a href="#h74-0-62" id="h74-0-62" class="d">-	// Repositories is a slice of repository names to migrate.
</a><a href="#h74-0-63" id="h74-0-63" class="d">-	Repositories []string `json:&quot;repositories,omitempty&quot;`
</a><a href="#h74-0-64" id="h74-0-64" class="d">-
</a><a href="#h74-0-65" id="h74-0-65" class="d">-	// LockRepositories indicates whether repositories should be locked (to prevent
</a><a href="#h74-0-66" id="h74-0-66" class="d">-	// manipulation) while migrating data.
</a><a href="#h74-0-67" id="h74-0-67" class="d">-	LockRepositories *bool `json:&quot;lock_repositories,omitempty&quot;`
</a><a href="#h74-0-68" id="h74-0-68" class="d">-
</a><a href="#h74-0-69" id="h74-0-69" class="d">-	// ExcludeAttachments indicates whether attachments should be excluded from
</a><a href="#h74-0-70" id="h74-0-70" class="d">-	// the migration (to reduce migration archive file size).
</a><a href="#h74-0-71" id="h74-0-71" class="d">-	ExcludeAttachments *bool `json:&quot;exclude_attachments,omitempty&quot;`
</a><a href="#h74-0-72" id="h74-0-72" class="d">-}
</a><a href="#h74-0-73" id="h74-0-73" class="d">-
</a><a href="#h74-0-74" id="h74-0-74" class="d">-// StartMigration starts the generation of a migration archive.
</a><a href="#h74-0-75" id="h74-0-75" class="d">-// repos is a slice of repository names to migrate.
</a><a href="#h74-0-76" id="h74-0-76" class="d">-//
</a><a href="#h74-0-77" id="h74-0-77" class="d">-// GitHub API docs: https://developer.github.com/v3/migration/migrations/#start-a-migration
</a><a href="#h74-0-78" id="h74-0-78" class="d">-func (s *MigrationService) StartMigration(org string, repos []string, opt *MigrationOptions) (*Migration, *Response, error) {
</a><a href="#h74-0-79" id="h74-0-79" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/migrations&quot;, org)
</a><a href="#h74-0-80" id="h74-0-80" class="d">-
</a><a href="#h74-0-81" id="h74-0-81" class="d">-	body := &amp;startMigration{Repositories: repos}
</a><a href="#h74-0-82" id="h74-0-82" class="d">-	if opt != nil {
</a><a href="#h74-0-83" id="h74-0-83" class="d">-		body.LockRepositories = Bool(opt.LockRepositories)
</a><a href="#h74-0-84" id="h74-0-84" class="d">-		body.ExcludeAttachments = Bool(opt.ExcludeAttachments)
</a><a href="#h74-0-85" id="h74-0-85" class="d">-	}
</a><a href="#h74-0-86" id="h74-0-86" class="d">-
</a><a href="#h74-0-87" id="h74-0-87" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, body)
</a><a href="#h74-0-88" id="h74-0-88" class="d">-	if err != nil {
</a><a href="#h74-0-89" id="h74-0-89" class="d">-		return nil, nil, err
</a><a href="#h74-0-90" id="h74-0-90" class="d">-	}
</a><a href="#h74-0-91" id="h74-0-91" class="d">-
</a><a href="#h74-0-92" id="h74-0-92" class="d">-	// TODO: remove custom Accept header when this API fully launches.
</a><a href="#h74-0-93" id="h74-0-93" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeMigrationsPreview)
</a><a href="#h74-0-94" id="h74-0-94" class="d">-
</a><a href="#h74-0-95" id="h74-0-95" class="d">-	m := &amp;Migration{}
</a><a href="#h74-0-96" id="h74-0-96" class="d">-	resp, err := s.client.Do(req, m)
</a><a href="#h74-0-97" id="h74-0-97" class="d">-	if err != nil {
</a><a href="#h74-0-98" id="h74-0-98" class="d">-		return nil, resp, err
</a><a href="#h74-0-99" id="h74-0-99" class="d">-	}
</a><a href="#h74-0-100" id="h74-0-100" class="d">-
</a><a href="#h74-0-101" id="h74-0-101" class="d">-	return m, resp, nil
</a><a href="#h74-0-102" id="h74-0-102" class="d">-}
</a><a href="#h74-0-103" id="h74-0-103" class="d">-
</a><a href="#h74-0-104" id="h74-0-104" class="d">-// ListMigrations lists the most recent migrations.
</a><a href="#h74-0-105" id="h74-0-105" class="d">-//
</a><a href="#h74-0-106" id="h74-0-106" class="d">-// GitHub API docs: https://developer.github.com/v3/migration/migrations/#get-a-list-of-migrations
</a><a href="#h74-0-107" id="h74-0-107" class="d">-func (s *MigrationService) ListMigrations(org string) ([]*Migration, *Response, error) {
</a><a href="#h74-0-108" id="h74-0-108" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/migrations&quot;, org)
</a><a href="#h74-0-109" id="h74-0-109" class="d">-
</a><a href="#h74-0-110" id="h74-0-110" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h74-0-111" id="h74-0-111" class="d">-	if err != nil {
</a><a href="#h74-0-112" id="h74-0-112" class="d">-		return nil, nil, err
</a><a href="#h74-0-113" id="h74-0-113" class="d">-	}
</a><a href="#h74-0-114" id="h74-0-114" class="d">-
</a><a href="#h74-0-115" id="h74-0-115" class="d">-	// TODO: remove custom Accept header when this API fully launches.
</a><a href="#h74-0-116" id="h74-0-116" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeMigrationsPreview)
</a><a href="#h74-0-117" id="h74-0-117" class="d">-
</a><a href="#h74-0-118" id="h74-0-118" class="d">-	var m []*Migration
</a><a href="#h74-0-119" id="h74-0-119" class="d">-	resp, err := s.client.Do(req, &amp;m)
</a><a href="#h74-0-120" id="h74-0-120" class="d">-	if err != nil {
</a><a href="#h74-0-121" id="h74-0-121" class="d">-		return nil, resp, err
</a><a href="#h74-0-122" id="h74-0-122" class="d">-	}
</a><a href="#h74-0-123" id="h74-0-123" class="d">-
</a><a href="#h74-0-124" id="h74-0-124" class="d">-	return m, resp, nil
</a><a href="#h74-0-125" id="h74-0-125" class="d">-}
</a><a href="#h74-0-126" id="h74-0-126" class="d">-
</a><a href="#h74-0-127" id="h74-0-127" class="d">-// MigrationStatus gets the status of a specific migration archive.
</a><a href="#h74-0-128" id="h74-0-128" class="d">-// id is the migration ID.
</a><a href="#h74-0-129" id="h74-0-129" class="d">-//
</a><a href="#h74-0-130" id="h74-0-130" class="d">-// GitHub API docs: https://developer.github.com/v3/migration/migrations/#get-the-status-of-a-migration
</a><a href="#h74-0-131" id="h74-0-131" class="d">-func (s *MigrationService) MigrationStatus(org string, id int) (*Migration, *Response, error) {
</a><a href="#h74-0-132" id="h74-0-132" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/migrations/%v&quot;, org, id)
</a><a href="#h74-0-133" id="h74-0-133" class="d">-
</a><a href="#h74-0-134" id="h74-0-134" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h74-0-135" id="h74-0-135" class="d">-	if err != nil {
</a><a href="#h74-0-136" id="h74-0-136" class="d">-		return nil, nil, err
</a><a href="#h74-0-137" id="h74-0-137" class="d">-	}
</a><a href="#h74-0-138" id="h74-0-138" class="d">-
</a><a href="#h74-0-139" id="h74-0-139" class="d">-	// TODO: remove custom Accept header when this API fully launches.
</a><a href="#h74-0-140" id="h74-0-140" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeMigrationsPreview)
</a><a href="#h74-0-141" id="h74-0-141" class="d">-
</a><a href="#h74-0-142" id="h74-0-142" class="d">-	m := &amp;Migration{}
</a><a href="#h74-0-143" id="h74-0-143" class="d">-	resp, err := s.client.Do(req, m)
</a><a href="#h74-0-144" id="h74-0-144" class="d">-	if err != nil {
</a><a href="#h74-0-145" id="h74-0-145" class="d">-		return nil, resp, err
</a><a href="#h74-0-146" id="h74-0-146" class="d">-	}
</a><a href="#h74-0-147" id="h74-0-147" class="d">-
</a><a href="#h74-0-148" id="h74-0-148" class="d">-	return m, resp, nil
</a><a href="#h74-0-149" id="h74-0-149" class="d">-}
</a><a href="#h74-0-150" id="h74-0-150" class="d">-
</a><a href="#h74-0-151" id="h74-0-151" class="d">-// MigrationArchiveURL fetches a migration archive URL.
</a><a href="#h74-0-152" id="h74-0-152" class="d">-// id is the migration ID.
</a><a href="#h74-0-153" id="h74-0-153" class="d">-//
</a><a href="#h74-0-154" id="h74-0-154" class="d">-// GitHub API docs: https://developer.github.com/v3/migration/migrations/#download-a-migration-archive
</a><a href="#h74-0-155" id="h74-0-155" class="d">-func (s *MigrationService) MigrationArchiveURL(org string, id int) (url string, err error) {
</a><a href="#h74-0-156" id="h74-0-156" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/migrations/%v/archive&quot;, org, id)
</a><a href="#h74-0-157" id="h74-0-157" class="d">-
</a><a href="#h74-0-158" id="h74-0-158" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h74-0-159" id="h74-0-159" class="d">-	if err != nil {
</a><a href="#h74-0-160" id="h74-0-160" class="d">-		return &quot;&quot;, err
</a><a href="#h74-0-161" id="h74-0-161" class="d">-	}
</a><a href="#h74-0-162" id="h74-0-162" class="d">-
</a><a href="#h74-0-163" id="h74-0-163" class="d">-	// TODO: remove custom Accept header when this API fully launches.
</a><a href="#h74-0-164" id="h74-0-164" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeMigrationsPreview)
</a><a href="#h74-0-165" id="h74-0-165" class="d">-
</a><a href="#h74-0-166" id="h74-0-166" class="d">-	s.client.clientMu.Lock()
</a><a href="#h74-0-167" id="h74-0-167" class="d">-	defer s.client.clientMu.Unlock()
</a><a href="#h74-0-168" id="h74-0-168" class="d">-
</a><a href="#h74-0-169" id="h74-0-169" class="d">-	// Disable the redirect mechanism because AWS fails if the GitHub auth token is provided.
</a><a href="#h74-0-170" id="h74-0-170" class="d">-	var loc string
</a><a href="#h74-0-171" id="h74-0-171" class="d">-	saveRedirect := s.client.client.CheckRedirect
</a><a href="#h74-0-172" id="h74-0-172" class="d">-	s.client.client.CheckRedirect = func(req *http.Request, via []*http.Request) error {
</a><a href="#h74-0-173" id="h74-0-173" class="d">-		loc = req.URL.String()
</a><a href="#h74-0-174" id="h74-0-174" class="d">-		return errors.New(&quot;disable redirect&quot;)
</a><a href="#h74-0-175" id="h74-0-175" class="d">-	}
</a><a href="#h74-0-176" id="h74-0-176" class="d">-	defer func() { s.client.client.CheckRedirect = saveRedirect }()
</a><a href="#h74-0-177" id="h74-0-177" class="d">-
</a><a href="#h74-0-178" id="h74-0-178" class="d">-	_, err = s.client.Do(req, nil) // expect error from disable redirect
</a><a href="#h74-0-179" id="h74-0-179" class="d">-	if err == nil {
</a><a href="#h74-0-180" id="h74-0-180" class="d">-		return &quot;&quot;, errors.New(&quot;expected redirect, none provided&quot;)
</a><a href="#h74-0-181" id="h74-0-181" class="d">-	}
</a><a href="#h74-0-182" id="h74-0-182" class="d">-	if !strings.Contains(err.Error(), &quot;disable redirect&quot;) {
</a><a href="#h74-0-183" id="h74-0-183" class="d">-		return &quot;&quot;, err
</a><a href="#h74-0-184" id="h74-0-184" class="d">-	}
</a><a href="#h74-0-185" id="h74-0-185" class="d">-	return loc, nil
</a><a href="#h74-0-186" id="h74-0-186" class="d">-}
</a><a href="#h74-0-187" id="h74-0-187" class="d">-
</a><a href="#h74-0-188" id="h74-0-188" class="d">-// DeleteMigration deletes a previous migration archive.
</a><a href="#h74-0-189" id="h74-0-189" class="d">-// id is the migration ID.
</a><a href="#h74-0-190" id="h74-0-190" class="d">-//
</a><a href="#h74-0-191" id="h74-0-191" class="d">-// GitHub API docs: https://developer.github.com/v3/migration/migrations/#delete-a-migration-archive
</a><a href="#h74-0-192" id="h74-0-192" class="d">-func (s *MigrationService) DeleteMigration(org string, id int) (*Response, error) {
</a><a href="#h74-0-193" id="h74-0-193" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/migrations/%v/archive&quot;, org, id)
</a><a href="#h74-0-194" id="h74-0-194" class="d">-
</a><a href="#h74-0-195" id="h74-0-195" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h74-0-196" id="h74-0-196" class="d">-	if err != nil {
</a><a href="#h74-0-197" id="h74-0-197" class="d">-		return nil, err
</a><a href="#h74-0-198" id="h74-0-198" class="d">-	}
</a><a href="#h74-0-199" id="h74-0-199" class="d">-
</a><a href="#h74-0-200" id="h74-0-200" class="d">-	// TODO: remove custom Accept header when this API fully launches.
</a><a href="#h74-0-201" id="h74-0-201" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeMigrationsPreview)
</a><a href="#h74-0-202" id="h74-0-202" class="d">-
</a><a href="#h74-0-203" id="h74-0-203" class="d">-	return s.client.Do(req, nil)
</a><a href="#h74-0-204" id="h74-0-204" class="d">-}
</a><a href="#h74-0-205" id="h74-0-205" class="d">-
</a><a href="#h74-0-206" id="h74-0-206" class="d">-// UnlockRepo unlocks a repository that was locked for migration.
</a><a href="#h74-0-207" id="h74-0-207" class="d">-// id is the migration ID.
</a><a href="#h74-0-208" id="h74-0-208" class="d">-// You should unlock each migrated repository and delete them when the migration
</a><a href="#h74-0-209" id="h74-0-209" class="d">-// is complete and you no longer need the source data.
</a><a href="#h74-0-210" id="h74-0-210" class="d">-//
</a><a href="#h74-0-211" id="h74-0-211" class="d">-// GitHub API docs: https://developer.github.com/v3/migration/migrations/#unlock-a-repository
</a><a href="#h74-0-212" id="h74-0-212" class="d">-func (s *MigrationService) UnlockRepo(org string, id int, repo string) (*Response, error) {
</a><a href="#h74-0-213" id="h74-0-213" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/migrations/%v/repos/%v/lock&quot;, org, id, repo)
</a><a href="#h74-0-214" id="h74-0-214" class="d">-
</a><a href="#h74-0-215" id="h74-0-215" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h74-0-216" id="h74-0-216" class="d">-	if err != nil {
</a><a href="#h74-0-217" id="h74-0-217" class="d">-		return nil, err
</a><a href="#h74-0-218" id="h74-0-218" class="d">-	}
</a><a href="#h74-0-219" id="h74-0-219" class="d">-
</a><a href="#h74-0-220" id="h74-0-220" class="d">-	// TODO: remove custom Accept header when this API fully launches.
</a><a href="#h74-0-221" id="h74-0-221" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeMigrationsPreview)
</a><a href="#h74-0-222" id="h74-0-222" class="d">-
</a><a href="#h74-0-223" id="h74-0-223" class="d">-	return s.client.Do(req, nil)
</a><a href="#h74-0-224" id="h74-0-224" class="d">-}
</a><b>diff --git a/<a id="h75" href="../file/vendor/github.com/google/go-github/github/misc.go">vendor/github.com/google/go-github/github/misc.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/misc.go">vendor/github.com/google/go-github/github/misc.go</a></b>
<a href="#h75-0" id="h75-0" class="h">@@ -1,197 +0,0 @@
</a><a href="#h75-0-0" id="h75-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h75-0-1" id="h75-0-1" class="d">-//
</a><a href="#h75-0-2" id="h75-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h75-0-3" id="h75-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h75-0-4" id="h75-0-4" class="d">-
</a><a href="#h75-0-5" id="h75-0-5" class="d">-package github
</a><a href="#h75-0-6" id="h75-0-6" class="d">-
</a><a href="#h75-0-7" id="h75-0-7" class="d">-import (
</a><a href="#h75-0-8" id="h75-0-8" class="d">-	&quot;bytes&quot;
</a><a href="#h75-0-9" id="h75-0-9" class="d">-	&quot;fmt&quot;
</a><a href="#h75-0-10" id="h75-0-10" class="d">-	&quot;net/url&quot;
</a><a href="#h75-0-11" id="h75-0-11" class="d">-)
</a><a href="#h75-0-12" id="h75-0-12" class="d">-
</a><a href="#h75-0-13" id="h75-0-13" class="d">-// MarkdownOptions specifies optional parameters to the Markdown method.
</a><a href="#h75-0-14" id="h75-0-14" class="d">-type MarkdownOptions struct {
</a><a href="#h75-0-15" id="h75-0-15" class="d">-	// Mode identifies the rendering mode.  Possible values are:
</a><a href="#h75-0-16" id="h75-0-16" class="d">-	//   markdown - render a document as plain Markdown, just like
</a><a href="#h75-0-17" id="h75-0-17" class="d">-	//   README files are rendered.
</a><a href="#h75-0-18" id="h75-0-18" class="d">-	//
</a><a href="#h75-0-19" id="h75-0-19" class="d">-	//   gfm - to render a document as user-content, e.g. like user
</a><a href="#h75-0-20" id="h75-0-20" class="d">-	//   comments or issues are rendered. In GFM mode, hard line breaks are
</a><a href="#h75-0-21" id="h75-0-21" class="d">-	//   always taken into account, and issue and user mentions are linked
</a><a href="#h75-0-22" id="h75-0-22" class="d">-	//   accordingly.
</a><a href="#h75-0-23" id="h75-0-23" class="d">-	//
</a><a href="#h75-0-24" id="h75-0-24" class="d">-	// Default is &quot;markdown&quot;.
</a><a href="#h75-0-25" id="h75-0-25" class="d">-	Mode string
</a><a href="#h75-0-26" id="h75-0-26" class="d">-
</a><a href="#h75-0-27" id="h75-0-27" class="d">-	// Context identifies the repository context.  Only taken into account
</a><a href="#h75-0-28" id="h75-0-28" class="d">-	// when rendering as &quot;gfm&quot;.
</a><a href="#h75-0-29" id="h75-0-29" class="d">-	Context string
</a><a href="#h75-0-30" id="h75-0-30" class="d">-}
</a><a href="#h75-0-31" id="h75-0-31" class="d">-
</a><a href="#h75-0-32" id="h75-0-32" class="d">-type markdownRequest struct {
</a><a href="#h75-0-33" id="h75-0-33" class="d">-	Text    *string `json:&quot;text,omitempty&quot;`
</a><a href="#h75-0-34" id="h75-0-34" class="d">-	Mode    *string `json:&quot;mode,omitempty&quot;`
</a><a href="#h75-0-35" id="h75-0-35" class="d">-	Context *string `json:&quot;context,omitempty&quot;`
</a><a href="#h75-0-36" id="h75-0-36" class="d">-}
</a><a href="#h75-0-37" id="h75-0-37" class="d">-
</a><a href="#h75-0-38" id="h75-0-38" class="d">-// Markdown renders an arbitrary Markdown document.
</a><a href="#h75-0-39" id="h75-0-39" class="d">-//
</a><a href="#h75-0-40" id="h75-0-40" class="d">-// GitHub API docs: https://developer.github.com/v3/markdown/
</a><a href="#h75-0-41" id="h75-0-41" class="d">-func (c *Client) Markdown(text string, opt *MarkdownOptions) (string, *Response, error) {
</a><a href="#h75-0-42" id="h75-0-42" class="d">-	request := &amp;markdownRequest{Text: String(text)}
</a><a href="#h75-0-43" id="h75-0-43" class="d">-	if opt != nil {
</a><a href="#h75-0-44" id="h75-0-44" class="d">-		if opt.Mode != &quot;&quot; {
</a><a href="#h75-0-45" id="h75-0-45" class="d">-			request.Mode = String(opt.Mode)
</a><a href="#h75-0-46" id="h75-0-46" class="d">-		}
</a><a href="#h75-0-47" id="h75-0-47" class="d">-		if opt.Context != &quot;&quot; {
</a><a href="#h75-0-48" id="h75-0-48" class="d">-			request.Context = String(opt.Context)
</a><a href="#h75-0-49" id="h75-0-49" class="d">-		}
</a><a href="#h75-0-50" id="h75-0-50" class="d">-	}
</a><a href="#h75-0-51" id="h75-0-51" class="d">-
</a><a href="#h75-0-52" id="h75-0-52" class="d">-	req, err := c.NewRequest(&quot;POST&quot;, &quot;markdown&quot;, request)
</a><a href="#h75-0-53" id="h75-0-53" class="d">-	if err != nil {
</a><a href="#h75-0-54" id="h75-0-54" class="d">-		return &quot;&quot;, nil, err
</a><a href="#h75-0-55" id="h75-0-55" class="d">-	}
</a><a href="#h75-0-56" id="h75-0-56" class="d">-
</a><a href="#h75-0-57" id="h75-0-57" class="d">-	buf := new(bytes.Buffer)
</a><a href="#h75-0-58" id="h75-0-58" class="d">-	resp, err := c.Do(req, buf)
</a><a href="#h75-0-59" id="h75-0-59" class="d">-	if err != nil {
</a><a href="#h75-0-60" id="h75-0-60" class="d">-		return &quot;&quot;, resp, err
</a><a href="#h75-0-61" id="h75-0-61" class="d">-	}
</a><a href="#h75-0-62" id="h75-0-62" class="d">-
</a><a href="#h75-0-63" id="h75-0-63" class="d">-	return buf.String(), resp, nil
</a><a href="#h75-0-64" id="h75-0-64" class="d">-}
</a><a href="#h75-0-65" id="h75-0-65" class="d">-
</a><a href="#h75-0-66" id="h75-0-66" class="d">-// ListEmojis returns the emojis available to use on GitHub.
</a><a href="#h75-0-67" id="h75-0-67" class="d">-//
</a><a href="#h75-0-68" id="h75-0-68" class="d">-// GitHub API docs: https://developer.github.com/v3/emojis/
</a><a href="#h75-0-69" id="h75-0-69" class="d">-func (c *Client) ListEmojis() (map[string]string, *Response, error) {
</a><a href="#h75-0-70" id="h75-0-70" class="d">-	req, err := c.NewRequest(&quot;GET&quot;, &quot;emojis&quot;, nil)
</a><a href="#h75-0-71" id="h75-0-71" class="d">-	if err != nil {
</a><a href="#h75-0-72" id="h75-0-72" class="d">-		return nil, nil, err
</a><a href="#h75-0-73" id="h75-0-73" class="d">-	}
</a><a href="#h75-0-74" id="h75-0-74" class="d">-
</a><a href="#h75-0-75" id="h75-0-75" class="d">-	var emoji map[string]string
</a><a href="#h75-0-76" id="h75-0-76" class="d">-	resp, err := c.Do(req, &amp;emoji)
</a><a href="#h75-0-77" id="h75-0-77" class="d">-	if err != nil {
</a><a href="#h75-0-78" id="h75-0-78" class="d">-		return nil, resp, err
</a><a href="#h75-0-79" id="h75-0-79" class="d">-	}
</a><a href="#h75-0-80" id="h75-0-80" class="d">-
</a><a href="#h75-0-81" id="h75-0-81" class="d">-	return emoji, resp, nil
</a><a href="#h75-0-82" id="h75-0-82" class="d">-}
</a><a href="#h75-0-83" id="h75-0-83" class="d">-
</a><a href="#h75-0-84" id="h75-0-84" class="d">-// APIMeta represents metadata about the GitHub API.
</a><a href="#h75-0-85" id="h75-0-85" class="d">-type APIMeta struct {
</a><a href="#h75-0-86" id="h75-0-86" class="d">-	// An Array of IP addresses in CIDR format specifying the addresses
</a><a href="#h75-0-87" id="h75-0-87" class="d">-	// that incoming service hooks will originate from on GitHub.com.
</a><a href="#h75-0-88" id="h75-0-88" class="d">-	Hooks []string `json:&quot;hooks,omitempty&quot;`
</a><a href="#h75-0-89" id="h75-0-89" class="d">-
</a><a href="#h75-0-90" id="h75-0-90" class="d">-	// An Array of IP addresses in CIDR format specifying the Git servers
</a><a href="#h75-0-91" id="h75-0-91" class="d">-	// for GitHub.com.
</a><a href="#h75-0-92" id="h75-0-92" class="d">-	Git []string `json:&quot;git,omitempty&quot;`
</a><a href="#h75-0-93" id="h75-0-93" class="d">-
</a><a href="#h75-0-94" id="h75-0-94" class="d">-	// Whether authentication with username and password is supported.
</a><a href="#h75-0-95" id="h75-0-95" class="d">-	// (GitHub Enterprise instances using CAS or OAuth for authentication
</a><a href="#h75-0-96" id="h75-0-96" class="d">-	// will return false. Features like Basic Authentication with a
</a><a href="#h75-0-97" id="h75-0-97" class="d">-	// username and password, sudo mode, and two-factor authentication are
</a><a href="#h75-0-98" id="h75-0-98" class="d">-	// not supported on these servers.)
</a><a href="#h75-0-99" id="h75-0-99" class="d">-	VerifiablePasswordAuthentication *bool `json:&quot;verifiable_password_authentication,omitempty&quot;`
</a><a href="#h75-0-100" id="h75-0-100" class="d">-
</a><a href="#h75-0-101" id="h75-0-101" class="d">-	// An array of IP addresses in CIDR format specifying the addresses
</a><a href="#h75-0-102" id="h75-0-102" class="d">-	// which serve GitHub Pages websites.
</a><a href="#h75-0-103" id="h75-0-103" class="d">-	Pages []string `json:&quot;pages,omitempty&quot;`
</a><a href="#h75-0-104" id="h75-0-104" class="d">-}
</a><a href="#h75-0-105" id="h75-0-105" class="d">-
</a><a href="#h75-0-106" id="h75-0-106" class="d">-// APIMeta returns information about GitHub.com, the service. Or, if you access
</a><a href="#h75-0-107" id="h75-0-107" class="d">-// this endpoint on your organizations GitHub Enterprise installation, this
</a><a href="#h75-0-108" id="h75-0-108" class="d">-// endpoint provides information about that installation.
</a><a href="#h75-0-109" id="h75-0-109" class="d">-//
</a><a href="#h75-0-110" id="h75-0-110" class="d">-// GitHub API docs: https://developer.github.com/v3/meta/
</a><a href="#h75-0-111" id="h75-0-111" class="d">-func (c *Client) APIMeta() (*APIMeta, *Response, error) {
</a><a href="#h75-0-112" id="h75-0-112" class="d">-	req, err := c.NewRequest(&quot;GET&quot;, &quot;meta&quot;, nil)
</a><a href="#h75-0-113" id="h75-0-113" class="d">-	if err != nil {
</a><a href="#h75-0-114" id="h75-0-114" class="d">-		return nil, nil, err
</a><a href="#h75-0-115" id="h75-0-115" class="d">-	}
</a><a href="#h75-0-116" id="h75-0-116" class="d">-
</a><a href="#h75-0-117" id="h75-0-117" class="d">-	meta := new(APIMeta)
</a><a href="#h75-0-118" id="h75-0-118" class="d">-	resp, err := c.Do(req, meta)
</a><a href="#h75-0-119" id="h75-0-119" class="d">-	if err != nil {
</a><a href="#h75-0-120" id="h75-0-120" class="d">-		return nil, resp, err
</a><a href="#h75-0-121" id="h75-0-121" class="d">-	}
</a><a href="#h75-0-122" id="h75-0-122" class="d">-
</a><a href="#h75-0-123" id="h75-0-123" class="d">-	return meta, resp, nil
</a><a href="#h75-0-124" id="h75-0-124" class="d">-}
</a><a href="#h75-0-125" id="h75-0-125" class="d">-
</a><a href="#h75-0-126" id="h75-0-126" class="d">-// Octocat returns an ASCII art octocat with the specified message in a speech
</a><a href="#h75-0-127" id="h75-0-127" class="d">-// bubble.  If message is empty, a random zen phrase is used.
</a><a href="#h75-0-128" id="h75-0-128" class="d">-func (c *Client) Octocat(message string) (string, *Response, error) {
</a><a href="#h75-0-129" id="h75-0-129" class="d">-	u := &quot;octocat&quot;
</a><a href="#h75-0-130" id="h75-0-130" class="d">-	if message != &quot;&quot; {
</a><a href="#h75-0-131" id="h75-0-131" class="d">-		u = fmt.Sprintf(&quot;%s?s=%s&quot;, u, url.QueryEscape(message))
</a><a href="#h75-0-132" id="h75-0-132" class="d">-	}
</a><a href="#h75-0-133" id="h75-0-133" class="d">-
</a><a href="#h75-0-134" id="h75-0-134" class="d">-	req, err := c.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h75-0-135" id="h75-0-135" class="d">-	if err != nil {
</a><a href="#h75-0-136" id="h75-0-136" class="d">-		return &quot;&quot;, nil, err
</a><a href="#h75-0-137" id="h75-0-137" class="d">-	}
</a><a href="#h75-0-138" id="h75-0-138" class="d">-
</a><a href="#h75-0-139" id="h75-0-139" class="d">-	buf := new(bytes.Buffer)
</a><a href="#h75-0-140" id="h75-0-140" class="d">-	resp, err := c.Do(req, buf)
</a><a href="#h75-0-141" id="h75-0-141" class="d">-	if err != nil {
</a><a href="#h75-0-142" id="h75-0-142" class="d">-		return &quot;&quot;, resp, err
</a><a href="#h75-0-143" id="h75-0-143" class="d">-	}
</a><a href="#h75-0-144" id="h75-0-144" class="d">-
</a><a href="#h75-0-145" id="h75-0-145" class="d">-	return buf.String(), resp, nil
</a><a href="#h75-0-146" id="h75-0-146" class="d">-}
</a><a href="#h75-0-147" id="h75-0-147" class="d">-
</a><a href="#h75-0-148" id="h75-0-148" class="d">-// Zen returns a random line from The Zen of GitHub.
</a><a href="#h75-0-149" id="h75-0-149" class="d">-//
</a><a href="#h75-0-150" id="h75-0-150" class="d">-// see also: http://warpspire.com/posts/taste/
</a><a href="#h75-0-151" id="h75-0-151" class="d">-func (c *Client) Zen() (string, *Response, error) {
</a><a href="#h75-0-152" id="h75-0-152" class="d">-	req, err := c.NewRequest(&quot;GET&quot;, &quot;zen&quot;, nil)
</a><a href="#h75-0-153" id="h75-0-153" class="d">-	if err != nil {
</a><a href="#h75-0-154" id="h75-0-154" class="d">-		return &quot;&quot;, nil, err
</a><a href="#h75-0-155" id="h75-0-155" class="d">-	}
</a><a href="#h75-0-156" id="h75-0-156" class="d">-
</a><a href="#h75-0-157" id="h75-0-157" class="d">-	buf := new(bytes.Buffer)
</a><a href="#h75-0-158" id="h75-0-158" class="d">-	resp, err := c.Do(req, buf)
</a><a href="#h75-0-159" id="h75-0-159" class="d">-	if err != nil {
</a><a href="#h75-0-160" id="h75-0-160" class="d">-		return &quot;&quot;, resp, err
</a><a href="#h75-0-161" id="h75-0-161" class="d">-	}
</a><a href="#h75-0-162" id="h75-0-162" class="d">-
</a><a href="#h75-0-163" id="h75-0-163" class="d">-	return buf.String(), resp, nil
</a><a href="#h75-0-164" id="h75-0-164" class="d">-}
</a><a href="#h75-0-165" id="h75-0-165" class="d">-
</a><a href="#h75-0-166" id="h75-0-166" class="d">-// ServiceHook represents a hook that has configuration settings, a list of
</a><a href="#h75-0-167" id="h75-0-167" class="d">-// available events, and default events.
</a><a href="#h75-0-168" id="h75-0-168" class="d">-type ServiceHook struct {
</a><a href="#h75-0-169" id="h75-0-169" class="d">-	Name            *string    `json:&quot;name,omitempty&quot;`
</a><a href="#h75-0-170" id="h75-0-170" class="d">-	Events          []string   `json:&quot;events,omitempty&quot;`
</a><a href="#h75-0-171" id="h75-0-171" class="d">-	SupportedEvents []string   `json:&quot;supported_events,omitempty&quot;`
</a><a href="#h75-0-172" id="h75-0-172" class="d">-	Schema          [][]string `json:&quot;schema,omitempty&quot;`
</a><a href="#h75-0-173" id="h75-0-173" class="d">-}
</a><a href="#h75-0-174" id="h75-0-174" class="d">-
</a><a href="#h75-0-175" id="h75-0-175" class="d">-func (s *ServiceHook) String() string {
</a><a href="#h75-0-176" id="h75-0-176" class="d">-	return Stringify(s)
</a><a href="#h75-0-177" id="h75-0-177" class="d">-}
</a><a href="#h75-0-178" id="h75-0-178" class="d">-
</a><a href="#h75-0-179" id="h75-0-179" class="d">-// ListServiceHooks lists all of the available service hooks.
</a><a href="#h75-0-180" id="h75-0-180" class="d">-//
</a><a href="#h75-0-181" id="h75-0-181" class="d">-// GitHub API docs: https://developer.github.com/webhooks/#services
</a><a href="#h75-0-182" id="h75-0-182" class="d">-func (c *Client) ListServiceHooks() ([]ServiceHook, *Response, error) {
</a><a href="#h75-0-183" id="h75-0-183" class="d">-	u := &quot;hooks&quot;
</a><a href="#h75-0-184" id="h75-0-184" class="d">-	req, err := c.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h75-0-185" id="h75-0-185" class="d">-	if err != nil {
</a><a href="#h75-0-186" id="h75-0-186" class="d">-		return nil, nil, err
</a><a href="#h75-0-187" id="h75-0-187" class="d">-	}
</a><a href="#h75-0-188" id="h75-0-188" class="d">-
</a><a href="#h75-0-189" id="h75-0-189" class="d">-	hooks := new([]ServiceHook)
</a><a href="#h75-0-190" id="h75-0-190" class="d">-	resp, err := c.Do(req, hooks)
</a><a href="#h75-0-191" id="h75-0-191" class="d">-	if err != nil {
</a><a href="#h75-0-192" id="h75-0-192" class="d">-		return nil, resp, err
</a><a href="#h75-0-193" id="h75-0-193" class="d">-	}
</a><a href="#h75-0-194" id="h75-0-194" class="d">-
</a><a href="#h75-0-195" id="h75-0-195" class="d">-	return *hooks, resp, err
</a><a href="#h75-0-196" id="h75-0-196" class="d">-}
</a><b>diff --git a/<a id="h76" href="../file/vendor/github.com/google/go-github/github/orgs.go">vendor/github.com/google/go-github/github/orgs.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/orgs.go">vendor/github.com/google/go-github/github/orgs.go</a></b>
<a href="#h76-0" id="h76-0" class="h">@@ -1,170 +0,0 @@
</a><a href="#h76-0-0" id="h76-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h76-0-1" id="h76-0-1" class="d">-//
</a><a href="#h76-0-2" id="h76-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h76-0-3" id="h76-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h76-0-4" id="h76-0-4" class="d">-
</a><a href="#h76-0-5" id="h76-0-5" class="d">-package github
</a><a href="#h76-0-6" id="h76-0-6" class="d">-
</a><a href="#h76-0-7" id="h76-0-7" class="d">-import (
</a><a href="#h76-0-8" id="h76-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h76-0-9" id="h76-0-9" class="d">-	&quot;time&quot;
</a><a href="#h76-0-10" id="h76-0-10" class="d">-)
</a><a href="#h76-0-11" id="h76-0-11" class="d">-
</a><a href="#h76-0-12" id="h76-0-12" class="d">-// OrganizationsService provides access to the organization related functions
</a><a href="#h76-0-13" id="h76-0-13" class="d">-// in the GitHub API.
</a><a href="#h76-0-14" id="h76-0-14" class="d">-//
</a><a href="#h76-0-15" id="h76-0-15" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/
</a><a href="#h76-0-16" id="h76-0-16" class="d">-type OrganizationsService struct {
</a><a href="#h76-0-17" id="h76-0-17" class="d">-	client *Client
</a><a href="#h76-0-18" id="h76-0-18" class="d">-}
</a><a href="#h76-0-19" id="h76-0-19" class="d">-
</a><a href="#h76-0-20" id="h76-0-20" class="d">-// Organization represents a GitHub organization account.
</a><a href="#h76-0-21" id="h76-0-21" class="d">-type Organization struct {
</a><a href="#h76-0-22" id="h76-0-22" class="d">-	Login             *string    `json:&quot;login,omitempty&quot;`
</a><a href="#h76-0-23" id="h76-0-23" class="d">-	ID                *int       `json:&quot;id,omitempty&quot;`
</a><a href="#h76-0-24" id="h76-0-24" class="d">-	AvatarURL         *string    `json:&quot;avatar_url,omitempty&quot;`
</a><a href="#h76-0-25" id="h76-0-25" class="d">-	HTMLURL           *string    `json:&quot;html_url,omitempty&quot;`
</a><a href="#h76-0-26" id="h76-0-26" class="d">-	Name              *string    `json:&quot;name,omitempty&quot;`
</a><a href="#h76-0-27" id="h76-0-27" class="d">-	Company           *string    `json:&quot;company,omitempty&quot;`
</a><a href="#h76-0-28" id="h76-0-28" class="d">-	Blog              *string    `json:&quot;blog,omitempty&quot;`
</a><a href="#h76-0-29" id="h76-0-29" class="d">-	Location          *string    `json:&quot;location,omitempty&quot;`
</a><a href="#h76-0-30" id="h76-0-30" class="d">-	Email             *string    `json:&quot;email,omitempty&quot;`
</a><a href="#h76-0-31" id="h76-0-31" class="d">-	PublicRepos       *int       `json:&quot;public_repos,omitempty&quot;`
</a><a href="#h76-0-32" id="h76-0-32" class="d">-	PublicGists       *int       `json:&quot;public_gists,omitempty&quot;`
</a><a href="#h76-0-33" id="h76-0-33" class="d">-	Followers         *int       `json:&quot;followers,omitempty&quot;`
</a><a href="#h76-0-34" id="h76-0-34" class="d">-	Following         *int       `json:&quot;following,omitempty&quot;`
</a><a href="#h76-0-35" id="h76-0-35" class="d">-	CreatedAt         *time.Time `json:&quot;created_at,omitempty&quot;`
</a><a href="#h76-0-36" id="h76-0-36" class="d">-	UpdatedAt         *time.Time `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h76-0-37" id="h76-0-37" class="d">-	TotalPrivateRepos *int       `json:&quot;total_private_repos,omitempty&quot;`
</a><a href="#h76-0-38" id="h76-0-38" class="d">-	OwnedPrivateRepos *int       `json:&quot;owned_private_repos,omitempty&quot;`
</a><a href="#h76-0-39" id="h76-0-39" class="d">-	PrivateGists      *int       `json:&quot;private_gists,omitempty&quot;`
</a><a href="#h76-0-40" id="h76-0-40" class="d">-	DiskUsage         *int       `json:&quot;disk_usage,omitempty&quot;`
</a><a href="#h76-0-41" id="h76-0-41" class="d">-	Collaborators     *int       `json:&quot;collaborators,omitempty&quot;`
</a><a href="#h76-0-42" id="h76-0-42" class="d">-	BillingEmail      *string    `json:&quot;billing_email,omitempty&quot;`
</a><a href="#h76-0-43" id="h76-0-43" class="d">-	Type              *string    `json:&quot;type,omitempty&quot;`
</a><a href="#h76-0-44" id="h76-0-44" class="d">-	Plan              *Plan      `json:&quot;plan,omitempty&quot;`
</a><a href="#h76-0-45" id="h76-0-45" class="d">-
</a><a href="#h76-0-46" id="h76-0-46" class="d">-	// API URLs
</a><a href="#h76-0-47" id="h76-0-47" class="d">-	URL              *string `json:&quot;url,omitempty&quot;`
</a><a href="#h76-0-48" id="h76-0-48" class="d">-	EventsURL        *string `json:&quot;events_url,omitempty&quot;`
</a><a href="#h76-0-49" id="h76-0-49" class="d">-	MembersURL       *string `json:&quot;members_url,omitempty&quot;`
</a><a href="#h76-0-50" id="h76-0-50" class="d">-	PublicMembersURL *string `json:&quot;public_members_url,omitempty&quot;`
</a><a href="#h76-0-51" id="h76-0-51" class="d">-	ReposURL         *string `json:&quot;repos_url,omitempty&quot;`
</a><a href="#h76-0-52" id="h76-0-52" class="d">-}
</a><a href="#h76-0-53" id="h76-0-53" class="d">-
</a><a href="#h76-0-54" id="h76-0-54" class="d">-func (o Organization) String() string {
</a><a href="#h76-0-55" id="h76-0-55" class="d">-	return Stringify(o)
</a><a href="#h76-0-56" id="h76-0-56" class="d">-}
</a><a href="#h76-0-57" id="h76-0-57" class="d">-
</a><a href="#h76-0-58" id="h76-0-58" class="d">-// Plan represents the payment plan for an account.  See plans at https://github.com/plans.
</a><a href="#h76-0-59" id="h76-0-59" class="d">-type Plan struct {
</a><a href="#h76-0-60" id="h76-0-60" class="d">-	Name          *string `json:&quot;name,omitempty&quot;`
</a><a href="#h76-0-61" id="h76-0-61" class="d">-	Space         *int    `json:&quot;space,omitempty&quot;`
</a><a href="#h76-0-62" id="h76-0-62" class="d">-	Collaborators *int    `json:&quot;collaborators,omitempty&quot;`
</a><a href="#h76-0-63" id="h76-0-63" class="d">-	PrivateRepos  *int    `json:&quot;private_repos,omitempty&quot;`
</a><a href="#h76-0-64" id="h76-0-64" class="d">-}
</a><a href="#h76-0-65" id="h76-0-65" class="d">-
</a><a href="#h76-0-66" id="h76-0-66" class="d">-func (p Plan) String() string {
</a><a href="#h76-0-67" id="h76-0-67" class="d">-	return Stringify(p)
</a><a href="#h76-0-68" id="h76-0-68" class="d">-}
</a><a href="#h76-0-69" id="h76-0-69" class="d">-
</a><a href="#h76-0-70" id="h76-0-70" class="d">-// OrganizationsListOptions specifies the optional parameters to the
</a><a href="#h76-0-71" id="h76-0-71" class="d">-// OrganizationsService.ListAll method.
</a><a href="#h76-0-72" id="h76-0-72" class="d">-type OrganizationsListOptions struct {
</a><a href="#h76-0-73" id="h76-0-73" class="d">-	// Since filters Organizations by ID.
</a><a href="#h76-0-74" id="h76-0-74" class="d">-	Since int `url:&quot;since,omitempty&quot;`
</a><a href="#h76-0-75" id="h76-0-75" class="d">-}
</a><a href="#h76-0-76" id="h76-0-76" class="d">-
</a><a href="#h76-0-77" id="h76-0-77" class="d">-// ListAll lists all organizations, in the order that they were created on GitHub.
</a><a href="#h76-0-78" id="h76-0-78" class="d">-//
</a><a href="#h76-0-79" id="h76-0-79" class="d">-// Note: Pagination is powered exclusively by the since parameter. To continue
</a><a href="#h76-0-80" id="h76-0-80" class="d">-// listing the next set of organizations, use the ID of the last-returned organization
</a><a href="#h76-0-81" id="h76-0-81" class="d">-// as the opts.Since parameter for the next call.
</a><a href="#h76-0-82" id="h76-0-82" class="d">-//
</a><a href="#h76-0-83" id="h76-0-83" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/#list-all-organizations
</a><a href="#h76-0-84" id="h76-0-84" class="d">-func (s *OrganizationsService) ListAll(opt *OrganizationsListOptions) ([]Organization, *Response, error) {
</a><a href="#h76-0-85" id="h76-0-85" class="d">-	u, err := addOptions(&quot;organizations&quot;, opt)
</a><a href="#h76-0-86" id="h76-0-86" class="d">-	if err != nil {
</a><a href="#h76-0-87" id="h76-0-87" class="d">-		return nil, nil, err
</a><a href="#h76-0-88" id="h76-0-88" class="d">-	}
</a><a href="#h76-0-89" id="h76-0-89" class="d">-
</a><a href="#h76-0-90" id="h76-0-90" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h76-0-91" id="h76-0-91" class="d">-	if err != nil {
</a><a href="#h76-0-92" id="h76-0-92" class="d">-		return nil, nil, err
</a><a href="#h76-0-93" id="h76-0-93" class="d">-	}
</a><a href="#h76-0-94" id="h76-0-94" class="d">-
</a><a href="#h76-0-95" id="h76-0-95" class="d">-	orgs := []Organization{}
</a><a href="#h76-0-96" id="h76-0-96" class="d">-	resp, err := s.client.Do(req, &amp;orgs)
</a><a href="#h76-0-97" id="h76-0-97" class="d">-	if err != nil {
</a><a href="#h76-0-98" id="h76-0-98" class="d">-		return nil, resp, err
</a><a href="#h76-0-99" id="h76-0-99" class="d">-	}
</a><a href="#h76-0-100" id="h76-0-100" class="d">-	return orgs, resp, err
</a><a href="#h76-0-101" id="h76-0-101" class="d">-}
</a><a href="#h76-0-102" id="h76-0-102" class="d">-
</a><a href="#h76-0-103" id="h76-0-103" class="d">-// List the organizations for a user.  Passing the empty string will list
</a><a href="#h76-0-104" id="h76-0-104" class="d">-// organizations for the authenticated user.
</a><a href="#h76-0-105" id="h76-0-105" class="d">-//
</a><a href="#h76-0-106" id="h76-0-106" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/#list-user-organizations
</a><a href="#h76-0-107" id="h76-0-107" class="d">-func (s *OrganizationsService) List(user string, opt *ListOptions) ([]Organization, *Response, error) {
</a><a href="#h76-0-108" id="h76-0-108" class="d">-	var u string
</a><a href="#h76-0-109" id="h76-0-109" class="d">-	if user != &quot;&quot; {
</a><a href="#h76-0-110" id="h76-0-110" class="d">-		u = fmt.Sprintf(&quot;users/%v/orgs&quot;, user)
</a><a href="#h76-0-111" id="h76-0-111" class="d">-	} else {
</a><a href="#h76-0-112" id="h76-0-112" class="d">-		u = &quot;user/orgs&quot;
</a><a href="#h76-0-113" id="h76-0-113" class="d">-	}
</a><a href="#h76-0-114" id="h76-0-114" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h76-0-115" id="h76-0-115" class="d">-	if err != nil {
</a><a href="#h76-0-116" id="h76-0-116" class="d">-		return nil, nil, err
</a><a href="#h76-0-117" id="h76-0-117" class="d">-	}
</a><a href="#h76-0-118" id="h76-0-118" class="d">-
</a><a href="#h76-0-119" id="h76-0-119" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h76-0-120" id="h76-0-120" class="d">-	if err != nil {
</a><a href="#h76-0-121" id="h76-0-121" class="d">-		return nil, nil, err
</a><a href="#h76-0-122" id="h76-0-122" class="d">-	}
</a><a href="#h76-0-123" id="h76-0-123" class="d">-
</a><a href="#h76-0-124" id="h76-0-124" class="d">-	orgs := new([]Organization)
</a><a href="#h76-0-125" id="h76-0-125" class="d">-	resp, err := s.client.Do(req, orgs)
</a><a href="#h76-0-126" id="h76-0-126" class="d">-	if err != nil {
</a><a href="#h76-0-127" id="h76-0-127" class="d">-		return nil, resp, err
</a><a href="#h76-0-128" id="h76-0-128" class="d">-	}
</a><a href="#h76-0-129" id="h76-0-129" class="d">-
</a><a href="#h76-0-130" id="h76-0-130" class="d">-	return *orgs, resp, err
</a><a href="#h76-0-131" id="h76-0-131" class="d">-}
</a><a href="#h76-0-132" id="h76-0-132" class="d">-
</a><a href="#h76-0-133" id="h76-0-133" class="d">-// Get fetches an organization by name.
</a><a href="#h76-0-134" id="h76-0-134" class="d">-//
</a><a href="#h76-0-135" id="h76-0-135" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/#get-an-organization
</a><a href="#h76-0-136" id="h76-0-136" class="d">-func (s *OrganizationsService) Get(org string) (*Organization, *Response, error) {
</a><a href="#h76-0-137" id="h76-0-137" class="d">-	u := fmt.Sprintf(&quot;orgs/%v&quot;, org)
</a><a href="#h76-0-138" id="h76-0-138" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h76-0-139" id="h76-0-139" class="d">-	if err != nil {
</a><a href="#h76-0-140" id="h76-0-140" class="d">-		return nil, nil, err
</a><a href="#h76-0-141" id="h76-0-141" class="d">-	}
</a><a href="#h76-0-142" id="h76-0-142" class="d">-
</a><a href="#h76-0-143" id="h76-0-143" class="d">-	organization := new(Organization)
</a><a href="#h76-0-144" id="h76-0-144" class="d">-	resp, err := s.client.Do(req, organization)
</a><a href="#h76-0-145" id="h76-0-145" class="d">-	if err != nil {
</a><a href="#h76-0-146" id="h76-0-146" class="d">-		return nil, resp, err
</a><a href="#h76-0-147" id="h76-0-147" class="d">-	}
</a><a href="#h76-0-148" id="h76-0-148" class="d">-
</a><a href="#h76-0-149" id="h76-0-149" class="d">-	return organization, resp, err
</a><a href="#h76-0-150" id="h76-0-150" class="d">-}
</a><a href="#h76-0-151" id="h76-0-151" class="d">-
</a><a href="#h76-0-152" id="h76-0-152" class="d">-// Edit an organization.
</a><a href="#h76-0-153" id="h76-0-153" class="d">-//
</a><a href="#h76-0-154" id="h76-0-154" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/#edit-an-organization
</a><a href="#h76-0-155" id="h76-0-155" class="d">-func (s *OrganizationsService) Edit(name string, org *Organization) (*Organization, *Response, error) {
</a><a href="#h76-0-156" id="h76-0-156" class="d">-	u := fmt.Sprintf(&quot;orgs/%v&quot;, name)
</a><a href="#h76-0-157" id="h76-0-157" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, org)
</a><a href="#h76-0-158" id="h76-0-158" class="d">-	if err != nil {
</a><a href="#h76-0-159" id="h76-0-159" class="d">-		return nil, nil, err
</a><a href="#h76-0-160" id="h76-0-160" class="d">-	}
</a><a href="#h76-0-161" id="h76-0-161" class="d">-
</a><a href="#h76-0-162" id="h76-0-162" class="d">-	o := new(Organization)
</a><a href="#h76-0-163" id="h76-0-163" class="d">-	resp, err := s.client.Do(req, o)
</a><a href="#h76-0-164" id="h76-0-164" class="d">-	if err != nil {
</a><a href="#h76-0-165" id="h76-0-165" class="d">-		return nil, resp, err
</a><a href="#h76-0-166" id="h76-0-166" class="d">-	}
</a><a href="#h76-0-167" id="h76-0-167" class="d">-
</a><a href="#h76-0-168" id="h76-0-168" class="d">-	return o, resp, err
</a><a href="#h76-0-169" id="h76-0-169" class="d">-}
</a><b>diff --git a/<a id="h77" href="../file/vendor/github.com/google/go-github/github/orgs_hooks.go">vendor/github.com/google/go-github/github/orgs_hooks.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/orgs_hooks.go">vendor/github.com/google/go-github/github/orgs_hooks.go</a></b>
<a href="#h77-0" id="h77-0" class="h">@@ -1,104 +0,0 @@
</a><a href="#h77-0-0" id="h77-0-0" class="d">-// Copyright 2015 The go-github AUTHORS. All rights reserved.
</a><a href="#h77-0-1" id="h77-0-1" class="d">-//
</a><a href="#h77-0-2" id="h77-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h77-0-3" id="h77-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h77-0-4" id="h77-0-4" class="d">-
</a><a href="#h77-0-5" id="h77-0-5" class="d">-package github
</a><a href="#h77-0-6" id="h77-0-6" class="d">-
</a><a href="#h77-0-7" id="h77-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h77-0-8" id="h77-0-8" class="d">-
</a><a href="#h77-0-9" id="h77-0-9" class="d">-// ListHooks lists all Hooks for the specified organization.
</a><a href="#h77-0-10" id="h77-0-10" class="d">-//
</a><a href="#h77-0-11" id="h77-0-11" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/hooks/#list-hooks
</a><a href="#h77-0-12" id="h77-0-12" class="d">-func (s *OrganizationsService) ListHooks(org string, opt *ListOptions) ([]Hook, *Response, error) {
</a><a href="#h77-0-13" id="h77-0-13" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/hooks&quot;, org)
</a><a href="#h77-0-14" id="h77-0-14" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h77-0-15" id="h77-0-15" class="d">-	if err != nil {
</a><a href="#h77-0-16" id="h77-0-16" class="d">-		return nil, nil, err
</a><a href="#h77-0-17" id="h77-0-17" class="d">-	}
</a><a href="#h77-0-18" id="h77-0-18" class="d">-
</a><a href="#h77-0-19" id="h77-0-19" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h77-0-20" id="h77-0-20" class="d">-	if err != nil {
</a><a href="#h77-0-21" id="h77-0-21" class="d">-		return nil, nil, err
</a><a href="#h77-0-22" id="h77-0-22" class="d">-	}
</a><a href="#h77-0-23" id="h77-0-23" class="d">-
</a><a href="#h77-0-24" id="h77-0-24" class="d">-	hooks := new([]Hook)
</a><a href="#h77-0-25" id="h77-0-25" class="d">-	resp, err := s.client.Do(req, hooks)
</a><a href="#h77-0-26" id="h77-0-26" class="d">-	if err != nil {
</a><a href="#h77-0-27" id="h77-0-27" class="d">-		return nil, resp, err
</a><a href="#h77-0-28" id="h77-0-28" class="d">-	}
</a><a href="#h77-0-29" id="h77-0-29" class="d">-
</a><a href="#h77-0-30" id="h77-0-30" class="d">-	return *hooks, resp, err
</a><a href="#h77-0-31" id="h77-0-31" class="d">-}
</a><a href="#h77-0-32" id="h77-0-32" class="d">-
</a><a href="#h77-0-33" id="h77-0-33" class="d">-// GetHook returns a single specified Hook.
</a><a href="#h77-0-34" id="h77-0-34" class="d">-//
</a><a href="#h77-0-35" id="h77-0-35" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/hooks/#get-single-hook
</a><a href="#h77-0-36" id="h77-0-36" class="d">-func (s *OrganizationsService) GetHook(org string, id int) (*Hook, *Response, error) {
</a><a href="#h77-0-37" id="h77-0-37" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/hooks/%d&quot;, org, id)
</a><a href="#h77-0-38" id="h77-0-38" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h77-0-39" id="h77-0-39" class="d">-	if err != nil {
</a><a href="#h77-0-40" id="h77-0-40" class="d">-		return nil, nil, err
</a><a href="#h77-0-41" id="h77-0-41" class="d">-	}
</a><a href="#h77-0-42" id="h77-0-42" class="d">-	hook := new(Hook)
</a><a href="#h77-0-43" id="h77-0-43" class="d">-	resp, err := s.client.Do(req, hook)
</a><a href="#h77-0-44" id="h77-0-44" class="d">-	return hook, resp, err
</a><a href="#h77-0-45" id="h77-0-45" class="d">-}
</a><a href="#h77-0-46" id="h77-0-46" class="d">-
</a><a href="#h77-0-47" id="h77-0-47" class="d">-// CreateHook creates a Hook for the specified org.
</a><a href="#h77-0-48" id="h77-0-48" class="d">-// Name and Config are required fields.
</a><a href="#h77-0-49" id="h77-0-49" class="d">-//
</a><a href="#h77-0-50" id="h77-0-50" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/hooks/#create-a-hook
</a><a href="#h77-0-51" id="h77-0-51" class="d">-func (s *OrganizationsService) CreateHook(org string, hook *Hook) (*Hook, *Response, error) {
</a><a href="#h77-0-52" id="h77-0-52" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/hooks&quot;, org)
</a><a href="#h77-0-53" id="h77-0-53" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, hook)
</a><a href="#h77-0-54" id="h77-0-54" class="d">-	if err != nil {
</a><a href="#h77-0-55" id="h77-0-55" class="d">-		return nil, nil, err
</a><a href="#h77-0-56" id="h77-0-56" class="d">-	}
</a><a href="#h77-0-57" id="h77-0-57" class="d">-
</a><a href="#h77-0-58" id="h77-0-58" class="d">-	h := new(Hook)
</a><a href="#h77-0-59" id="h77-0-59" class="d">-	resp, err := s.client.Do(req, h)
</a><a href="#h77-0-60" id="h77-0-60" class="d">-	if err != nil {
</a><a href="#h77-0-61" id="h77-0-61" class="d">-		return nil, resp, err
</a><a href="#h77-0-62" id="h77-0-62" class="d">-	}
</a><a href="#h77-0-63" id="h77-0-63" class="d">-
</a><a href="#h77-0-64" id="h77-0-64" class="d">-	return h, resp, err
</a><a href="#h77-0-65" id="h77-0-65" class="d">-}
</a><a href="#h77-0-66" id="h77-0-66" class="d">-
</a><a href="#h77-0-67" id="h77-0-67" class="d">-// EditHook updates a specified Hook.
</a><a href="#h77-0-68" id="h77-0-68" class="d">-//
</a><a href="#h77-0-69" id="h77-0-69" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/hooks/#edit-a-hook
</a><a href="#h77-0-70" id="h77-0-70" class="d">-func (s *OrganizationsService) EditHook(org string, id int, hook *Hook) (*Hook, *Response, error) {
</a><a href="#h77-0-71" id="h77-0-71" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/hooks/%d&quot;, org, id)
</a><a href="#h77-0-72" id="h77-0-72" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, hook)
</a><a href="#h77-0-73" id="h77-0-73" class="d">-	if err != nil {
</a><a href="#h77-0-74" id="h77-0-74" class="d">-		return nil, nil, err
</a><a href="#h77-0-75" id="h77-0-75" class="d">-	}
</a><a href="#h77-0-76" id="h77-0-76" class="d">-	h := new(Hook)
</a><a href="#h77-0-77" id="h77-0-77" class="d">-	resp, err := s.client.Do(req, h)
</a><a href="#h77-0-78" id="h77-0-78" class="d">-	return h, resp, err
</a><a href="#h77-0-79" id="h77-0-79" class="d">-}
</a><a href="#h77-0-80" id="h77-0-80" class="d">-
</a><a href="#h77-0-81" id="h77-0-81" class="d">-// PingHook triggers a &#39;ping&#39; event to be sent to the Hook.
</a><a href="#h77-0-82" id="h77-0-82" class="d">-//
</a><a href="#h77-0-83" id="h77-0-83" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/hooks/#ping-a-hook
</a><a href="#h77-0-84" id="h77-0-84" class="d">-func (s *OrganizationsService) PingHook(org string, id int) (*Response, error) {
</a><a href="#h77-0-85" id="h77-0-85" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/hooks/%d/pings&quot;, org, id)
</a><a href="#h77-0-86" id="h77-0-86" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, nil)
</a><a href="#h77-0-87" id="h77-0-87" class="d">-	if err != nil {
</a><a href="#h77-0-88" id="h77-0-88" class="d">-		return nil, err
</a><a href="#h77-0-89" id="h77-0-89" class="d">-	}
</a><a href="#h77-0-90" id="h77-0-90" class="d">-	return s.client.Do(req, nil)
</a><a href="#h77-0-91" id="h77-0-91" class="d">-}
</a><a href="#h77-0-92" id="h77-0-92" class="d">-
</a><a href="#h77-0-93" id="h77-0-93" class="d">-// DeleteHook deletes a specified Hook.
</a><a href="#h77-0-94" id="h77-0-94" class="d">-//
</a><a href="#h77-0-95" id="h77-0-95" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/hooks/#delete-a-hook
</a><a href="#h77-0-96" id="h77-0-96" class="d">-func (s *OrganizationsService) DeleteHook(org string, id int) (*Response, error) {
</a><a href="#h77-0-97" id="h77-0-97" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/hooks/%d&quot;, org, id)
</a><a href="#h77-0-98" id="h77-0-98" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h77-0-99" id="h77-0-99" class="d">-	if err != nil {
</a><a href="#h77-0-100" id="h77-0-100" class="d">-		return nil, err
</a><a href="#h77-0-101" id="h77-0-101" class="d">-	}
</a><a href="#h77-0-102" id="h77-0-102" class="d">-	return s.client.Do(req, nil)
</a><a href="#h77-0-103" id="h77-0-103" class="d">-}
</a><b>diff --git a/<a id="h78" href="../file/vendor/github.com/google/go-github/github/orgs_members.go">vendor/github.com/google/go-github/github/orgs_members.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/orgs_members.go">vendor/github.com/google/go-github/github/orgs_members.go</a></b>
<a href="#h78-0" id="h78-0" class="h">@@ -1,276 +0,0 @@
</a><a href="#h78-0-0" id="h78-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h78-0-1" id="h78-0-1" class="d">-//
</a><a href="#h78-0-2" id="h78-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h78-0-3" id="h78-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h78-0-4" id="h78-0-4" class="d">-
</a><a href="#h78-0-5" id="h78-0-5" class="d">-package github
</a><a href="#h78-0-6" id="h78-0-6" class="d">-
</a><a href="#h78-0-7" id="h78-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h78-0-8" id="h78-0-8" class="d">-
</a><a href="#h78-0-9" id="h78-0-9" class="d">-// Membership represents the status of a user&#39;s membership in an organization or team.
</a><a href="#h78-0-10" id="h78-0-10" class="d">-type Membership struct {
</a><a href="#h78-0-11" id="h78-0-11" class="d">-	URL *string `json:&quot;url,omitempty&quot;`
</a><a href="#h78-0-12" id="h78-0-12" class="d">-
</a><a href="#h78-0-13" id="h78-0-13" class="d">-	// State is the user&#39;s status within the organization or team.
</a><a href="#h78-0-14" id="h78-0-14" class="d">-	// Possible values are: &quot;active&quot;, &quot;pending&quot;
</a><a href="#h78-0-15" id="h78-0-15" class="d">-	State *string `json:&quot;state,omitempty&quot;`
</a><a href="#h78-0-16" id="h78-0-16" class="d">-
</a><a href="#h78-0-17" id="h78-0-17" class="d">-	// Role identifies the user&#39;s role within the organization or team.
</a><a href="#h78-0-18" id="h78-0-18" class="d">-	// Possible values for organization membership:
</a><a href="#h78-0-19" id="h78-0-19" class="d">-	//     member - non-owner organization member
</a><a href="#h78-0-20" id="h78-0-20" class="d">-	//     admin - organization owner
</a><a href="#h78-0-21" id="h78-0-21" class="d">-	//
</a><a href="#h78-0-22" id="h78-0-22" class="d">-	// Possible values for team membership are:
</a><a href="#h78-0-23" id="h78-0-23" class="d">-	//     member - a normal member of the team
</a><a href="#h78-0-24" id="h78-0-24" class="d">-	//     maintainer - a team maintainer. Able to add/remove other team
</a><a href="#h78-0-25" id="h78-0-25" class="d">-	//                  members, promote other team members to team
</a><a href="#h78-0-26" id="h78-0-26" class="d">-	//                  maintainer, and edit the teams name and description
</a><a href="#h78-0-27" id="h78-0-27" class="d">-	Role *string `json:&quot;role,omitempty&quot;`
</a><a href="#h78-0-28" id="h78-0-28" class="d">-
</a><a href="#h78-0-29" id="h78-0-29" class="d">-	// For organization membership, the API URL of the organization.
</a><a href="#h78-0-30" id="h78-0-30" class="d">-	OrganizationURL *string `json:&quot;organization_url,omitempty&quot;`
</a><a href="#h78-0-31" id="h78-0-31" class="d">-
</a><a href="#h78-0-32" id="h78-0-32" class="d">-	// For organization membership, the organization the membership is for.
</a><a href="#h78-0-33" id="h78-0-33" class="d">-	Organization *Organization `json:&quot;organization,omitempty&quot;`
</a><a href="#h78-0-34" id="h78-0-34" class="d">-
</a><a href="#h78-0-35" id="h78-0-35" class="d">-	// For organization membership, the user the membership is for.
</a><a href="#h78-0-36" id="h78-0-36" class="d">-	User *User `json:&quot;user,omitempty&quot;`
</a><a href="#h78-0-37" id="h78-0-37" class="d">-}
</a><a href="#h78-0-38" id="h78-0-38" class="d">-
</a><a href="#h78-0-39" id="h78-0-39" class="d">-func (m Membership) String() string {
</a><a href="#h78-0-40" id="h78-0-40" class="d">-	return Stringify(m)
</a><a href="#h78-0-41" id="h78-0-41" class="d">-}
</a><a href="#h78-0-42" id="h78-0-42" class="d">-
</a><a href="#h78-0-43" id="h78-0-43" class="d">-// ListMembersOptions specifies optional parameters to the
</a><a href="#h78-0-44" id="h78-0-44" class="d">-// OrganizationsService.ListMembers method.
</a><a href="#h78-0-45" id="h78-0-45" class="d">-type ListMembersOptions struct {
</a><a href="#h78-0-46" id="h78-0-46" class="d">-	// If true (or if the authenticated user is not an owner of the
</a><a href="#h78-0-47" id="h78-0-47" class="d">-	// organization), list only publicly visible members.
</a><a href="#h78-0-48" id="h78-0-48" class="d">-	PublicOnly bool `url:&quot;-&quot;`
</a><a href="#h78-0-49" id="h78-0-49" class="d">-
</a><a href="#h78-0-50" id="h78-0-50" class="d">-	// Filter members returned in the list.  Possible values are:
</a><a href="#h78-0-51" id="h78-0-51" class="d">-	// 2fa_disabled, all.  Default is &quot;all&quot;.
</a><a href="#h78-0-52" id="h78-0-52" class="d">-	Filter string `url:&quot;filter,omitempty&quot;`
</a><a href="#h78-0-53" id="h78-0-53" class="d">-
</a><a href="#h78-0-54" id="h78-0-54" class="d">-	// Role filters members returned by their role in the organization.
</a><a href="#h78-0-55" id="h78-0-55" class="d">-	// Possible values are:
</a><a href="#h78-0-56" id="h78-0-56" class="d">-	//     all - all members of the organization, regardless of role
</a><a href="#h78-0-57" id="h78-0-57" class="d">-	//     admin - organization owners
</a><a href="#h78-0-58" id="h78-0-58" class="d">-	//     member - non-organization members
</a><a href="#h78-0-59" id="h78-0-59" class="d">-	//
</a><a href="#h78-0-60" id="h78-0-60" class="d">-	// Default is &quot;all&quot;.
</a><a href="#h78-0-61" id="h78-0-61" class="d">-	Role string `url:&quot;role,omitempty&quot;`
</a><a href="#h78-0-62" id="h78-0-62" class="d">-
</a><a href="#h78-0-63" id="h78-0-63" class="d">-	ListOptions
</a><a href="#h78-0-64" id="h78-0-64" class="d">-}
</a><a href="#h78-0-65" id="h78-0-65" class="d">-
</a><a href="#h78-0-66" id="h78-0-66" class="d">-// ListMembers lists the members for an organization.  If the authenticated
</a><a href="#h78-0-67" id="h78-0-67" class="d">-// user is an owner of the organization, this will return both concealed and
</a><a href="#h78-0-68" id="h78-0-68" class="d">-// public members, otherwise it will only return public members.
</a><a href="#h78-0-69" id="h78-0-69" class="d">-//
</a><a href="#h78-0-70" id="h78-0-70" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/members/#members-list
</a><a href="#h78-0-71" id="h78-0-71" class="d">-func (s *OrganizationsService) ListMembers(org string, opt *ListMembersOptions) ([]User, *Response, error) {
</a><a href="#h78-0-72" id="h78-0-72" class="d">-	var u string
</a><a href="#h78-0-73" id="h78-0-73" class="d">-	if opt != nil &amp;&amp; opt.PublicOnly {
</a><a href="#h78-0-74" id="h78-0-74" class="d">-		u = fmt.Sprintf(&quot;orgs/%v/public_members&quot;, org)
</a><a href="#h78-0-75" id="h78-0-75" class="d">-	} else {
</a><a href="#h78-0-76" id="h78-0-76" class="d">-		u = fmt.Sprintf(&quot;orgs/%v/members&quot;, org)
</a><a href="#h78-0-77" id="h78-0-77" class="d">-	}
</a><a href="#h78-0-78" id="h78-0-78" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h78-0-79" id="h78-0-79" class="d">-	if err != nil {
</a><a href="#h78-0-80" id="h78-0-80" class="d">-		return nil, nil, err
</a><a href="#h78-0-81" id="h78-0-81" class="d">-	}
</a><a href="#h78-0-82" id="h78-0-82" class="d">-
</a><a href="#h78-0-83" id="h78-0-83" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h78-0-84" id="h78-0-84" class="d">-	if err != nil {
</a><a href="#h78-0-85" id="h78-0-85" class="d">-		return nil, nil, err
</a><a href="#h78-0-86" id="h78-0-86" class="d">-	}
</a><a href="#h78-0-87" id="h78-0-87" class="d">-
</a><a href="#h78-0-88" id="h78-0-88" class="d">-	if opt != nil &amp;&amp; opt.Role != &quot;&quot; {
</a><a href="#h78-0-89" id="h78-0-89" class="d">-		req.Header.Set(&quot;Accept&quot;, mediaTypeOrgPermissionPreview)
</a><a href="#h78-0-90" id="h78-0-90" class="d">-	}
</a><a href="#h78-0-91" id="h78-0-91" class="d">-
</a><a href="#h78-0-92" id="h78-0-92" class="d">-	members := new([]User)
</a><a href="#h78-0-93" id="h78-0-93" class="d">-	resp, err := s.client.Do(req, members)
</a><a href="#h78-0-94" id="h78-0-94" class="d">-	if err != nil {
</a><a href="#h78-0-95" id="h78-0-95" class="d">-		return nil, resp, err
</a><a href="#h78-0-96" id="h78-0-96" class="d">-	}
</a><a href="#h78-0-97" id="h78-0-97" class="d">-
</a><a href="#h78-0-98" id="h78-0-98" class="d">-	return *members, resp, err
</a><a href="#h78-0-99" id="h78-0-99" class="d">-}
</a><a href="#h78-0-100" id="h78-0-100" class="d">-
</a><a href="#h78-0-101" id="h78-0-101" class="d">-// IsMember checks if a user is a member of an organization.
</a><a href="#h78-0-102" id="h78-0-102" class="d">-//
</a><a href="#h78-0-103" id="h78-0-103" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/members/#check-membership
</a><a href="#h78-0-104" id="h78-0-104" class="d">-func (s *OrganizationsService) IsMember(org, user string) (bool, *Response, error) {
</a><a href="#h78-0-105" id="h78-0-105" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/members/%v&quot;, org, user)
</a><a href="#h78-0-106" id="h78-0-106" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h78-0-107" id="h78-0-107" class="d">-	if err != nil {
</a><a href="#h78-0-108" id="h78-0-108" class="d">-		return false, nil, err
</a><a href="#h78-0-109" id="h78-0-109" class="d">-	}
</a><a href="#h78-0-110" id="h78-0-110" class="d">-
</a><a href="#h78-0-111" id="h78-0-111" class="d">-	resp, err := s.client.Do(req, nil)
</a><a href="#h78-0-112" id="h78-0-112" class="d">-	member, err := parseBoolResponse(err)
</a><a href="#h78-0-113" id="h78-0-113" class="d">-	return member, resp, err
</a><a href="#h78-0-114" id="h78-0-114" class="d">-}
</a><a href="#h78-0-115" id="h78-0-115" class="d">-
</a><a href="#h78-0-116" id="h78-0-116" class="d">-// IsPublicMember checks if a user is a public member of an organization.
</a><a href="#h78-0-117" id="h78-0-117" class="d">-//
</a><a href="#h78-0-118" id="h78-0-118" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/members/#check-public-membership
</a><a href="#h78-0-119" id="h78-0-119" class="d">-func (s *OrganizationsService) IsPublicMember(org, user string) (bool, *Response, error) {
</a><a href="#h78-0-120" id="h78-0-120" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/public_members/%v&quot;, org, user)
</a><a href="#h78-0-121" id="h78-0-121" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h78-0-122" id="h78-0-122" class="d">-	if err != nil {
</a><a href="#h78-0-123" id="h78-0-123" class="d">-		return false, nil, err
</a><a href="#h78-0-124" id="h78-0-124" class="d">-	}
</a><a href="#h78-0-125" id="h78-0-125" class="d">-
</a><a href="#h78-0-126" id="h78-0-126" class="d">-	resp, err := s.client.Do(req, nil)
</a><a href="#h78-0-127" id="h78-0-127" class="d">-	member, err := parseBoolResponse(err)
</a><a href="#h78-0-128" id="h78-0-128" class="d">-	return member, resp, err
</a><a href="#h78-0-129" id="h78-0-129" class="d">-}
</a><a href="#h78-0-130" id="h78-0-130" class="d">-
</a><a href="#h78-0-131" id="h78-0-131" class="d">-// RemoveMember removes a user from all teams of an organization.
</a><a href="#h78-0-132" id="h78-0-132" class="d">-//
</a><a href="#h78-0-133" id="h78-0-133" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/members/#remove-a-member
</a><a href="#h78-0-134" id="h78-0-134" class="d">-func (s *OrganizationsService) RemoveMember(org, user string) (*Response, error) {
</a><a href="#h78-0-135" id="h78-0-135" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/members/%v&quot;, org, user)
</a><a href="#h78-0-136" id="h78-0-136" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h78-0-137" id="h78-0-137" class="d">-	if err != nil {
</a><a href="#h78-0-138" id="h78-0-138" class="d">-		return nil, err
</a><a href="#h78-0-139" id="h78-0-139" class="d">-	}
</a><a href="#h78-0-140" id="h78-0-140" class="d">-
</a><a href="#h78-0-141" id="h78-0-141" class="d">-	return s.client.Do(req, nil)
</a><a href="#h78-0-142" id="h78-0-142" class="d">-}
</a><a href="#h78-0-143" id="h78-0-143" class="d">-
</a><a href="#h78-0-144" id="h78-0-144" class="d">-// PublicizeMembership publicizes a user&#39;s membership in an organization. (A
</a><a href="#h78-0-145" id="h78-0-145" class="d">-// user cannot publicize the membership for another user.)
</a><a href="#h78-0-146" id="h78-0-146" class="d">-//
</a><a href="#h78-0-147" id="h78-0-147" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/members/#publicize-a-users-membership
</a><a href="#h78-0-148" id="h78-0-148" class="d">-func (s *OrganizationsService) PublicizeMembership(org, user string) (*Response, error) {
</a><a href="#h78-0-149" id="h78-0-149" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/public_members/%v&quot;, org, user)
</a><a href="#h78-0-150" id="h78-0-150" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, nil)
</a><a href="#h78-0-151" id="h78-0-151" class="d">-	if err != nil {
</a><a href="#h78-0-152" id="h78-0-152" class="d">-		return nil, err
</a><a href="#h78-0-153" id="h78-0-153" class="d">-	}
</a><a href="#h78-0-154" id="h78-0-154" class="d">-
</a><a href="#h78-0-155" id="h78-0-155" class="d">-	return s.client.Do(req, nil)
</a><a href="#h78-0-156" id="h78-0-156" class="d">-}
</a><a href="#h78-0-157" id="h78-0-157" class="d">-
</a><a href="#h78-0-158" id="h78-0-158" class="d">-// ConcealMembership conceals a user&#39;s membership in an organization.
</a><a href="#h78-0-159" id="h78-0-159" class="d">-//
</a><a href="#h78-0-160" id="h78-0-160" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/members/#conceal-a-users-membership
</a><a href="#h78-0-161" id="h78-0-161" class="d">-func (s *OrganizationsService) ConcealMembership(org, user string) (*Response, error) {
</a><a href="#h78-0-162" id="h78-0-162" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/public_members/%v&quot;, org, user)
</a><a href="#h78-0-163" id="h78-0-163" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h78-0-164" id="h78-0-164" class="d">-	if err != nil {
</a><a href="#h78-0-165" id="h78-0-165" class="d">-		return nil, err
</a><a href="#h78-0-166" id="h78-0-166" class="d">-	}
</a><a href="#h78-0-167" id="h78-0-167" class="d">-
</a><a href="#h78-0-168" id="h78-0-168" class="d">-	return s.client.Do(req, nil)
</a><a href="#h78-0-169" id="h78-0-169" class="d">-}
</a><a href="#h78-0-170" id="h78-0-170" class="d">-
</a><a href="#h78-0-171" id="h78-0-171" class="d">-// ListOrgMembershipsOptions specifies optional parameters to the
</a><a href="#h78-0-172" id="h78-0-172" class="d">-// OrganizationsService.ListOrgMemberships method.
</a><a href="#h78-0-173" id="h78-0-173" class="d">-type ListOrgMembershipsOptions struct {
</a><a href="#h78-0-174" id="h78-0-174" class="d">-	// Filter memberships to include only those with the specified state.
</a><a href="#h78-0-175" id="h78-0-175" class="d">-	// Possible values are: &quot;active&quot;, &quot;pending&quot;.
</a><a href="#h78-0-176" id="h78-0-176" class="d">-	State string `url:&quot;state,omitempty&quot;`
</a><a href="#h78-0-177" id="h78-0-177" class="d">-
</a><a href="#h78-0-178" id="h78-0-178" class="d">-	ListOptions
</a><a href="#h78-0-179" id="h78-0-179" class="d">-}
</a><a href="#h78-0-180" id="h78-0-180" class="d">-
</a><a href="#h78-0-181" id="h78-0-181" class="d">-// ListOrgMemberships lists the organization memberships for the authenticated user.
</a><a href="#h78-0-182" id="h78-0-182" class="d">-//
</a><a href="#h78-0-183" id="h78-0-183" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/members/#list-your-organization-memberships
</a><a href="#h78-0-184" id="h78-0-184" class="d">-func (s *OrganizationsService) ListOrgMemberships(opt *ListOrgMembershipsOptions) ([]Membership, *Response, error) {
</a><a href="#h78-0-185" id="h78-0-185" class="d">-	u := &quot;user/memberships/orgs&quot;
</a><a href="#h78-0-186" id="h78-0-186" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h78-0-187" id="h78-0-187" class="d">-	if err != nil {
</a><a href="#h78-0-188" id="h78-0-188" class="d">-		return nil, nil, err
</a><a href="#h78-0-189" id="h78-0-189" class="d">-	}
</a><a href="#h78-0-190" id="h78-0-190" class="d">-
</a><a href="#h78-0-191" id="h78-0-191" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h78-0-192" id="h78-0-192" class="d">-	if err != nil {
</a><a href="#h78-0-193" id="h78-0-193" class="d">-		return nil, nil, err
</a><a href="#h78-0-194" id="h78-0-194" class="d">-	}
</a><a href="#h78-0-195" id="h78-0-195" class="d">-
</a><a href="#h78-0-196" id="h78-0-196" class="d">-	var memberships []Membership
</a><a href="#h78-0-197" id="h78-0-197" class="d">-	resp, err := s.client.Do(req, &amp;memberships)
</a><a href="#h78-0-198" id="h78-0-198" class="d">-	if err != nil {
</a><a href="#h78-0-199" id="h78-0-199" class="d">-		return nil, resp, err
</a><a href="#h78-0-200" id="h78-0-200" class="d">-	}
</a><a href="#h78-0-201" id="h78-0-201" class="d">-
</a><a href="#h78-0-202" id="h78-0-202" class="d">-	return memberships, resp, err
</a><a href="#h78-0-203" id="h78-0-203" class="d">-}
</a><a href="#h78-0-204" id="h78-0-204" class="d">-
</a><a href="#h78-0-205" id="h78-0-205" class="d">-// GetOrgMembership gets the membership for a user in a specified organization.
</a><a href="#h78-0-206" id="h78-0-206" class="d">-// Passing an empty string for user will get the membership for the
</a><a href="#h78-0-207" id="h78-0-207" class="d">-// authenticated user.
</a><a href="#h78-0-208" id="h78-0-208" class="d">-//
</a><a href="#h78-0-209" id="h78-0-209" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/members/#get-organization-membership
</a><a href="#h78-0-210" id="h78-0-210" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/members/#get-your-organization-membership
</a><a href="#h78-0-211" id="h78-0-211" class="d">-func (s *OrganizationsService) GetOrgMembership(user, org string) (*Membership, *Response, error) {
</a><a href="#h78-0-212" id="h78-0-212" class="d">-	var u string
</a><a href="#h78-0-213" id="h78-0-213" class="d">-	if user != &quot;&quot; {
</a><a href="#h78-0-214" id="h78-0-214" class="d">-		u = fmt.Sprintf(&quot;orgs/%v/memberships/%v&quot;, org, user)
</a><a href="#h78-0-215" id="h78-0-215" class="d">-	} else {
</a><a href="#h78-0-216" id="h78-0-216" class="d">-		u = fmt.Sprintf(&quot;user/memberships/orgs/%v&quot;, org)
</a><a href="#h78-0-217" id="h78-0-217" class="d">-	}
</a><a href="#h78-0-218" id="h78-0-218" class="d">-
</a><a href="#h78-0-219" id="h78-0-219" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h78-0-220" id="h78-0-220" class="d">-	if err != nil {
</a><a href="#h78-0-221" id="h78-0-221" class="d">-		return nil, nil, err
</a><a href="#h78-0-222" id="h78-0-222" class="d">-	}
</a><a href="#h78-0-223" id="h78-0-223" class="d">-
</a><a href="#h78-0-224" id="h78-0-224" class="d">-	membership := new(Membership)
</a><a href="#h78-0-225" id="h78-0-225" class="d">-	resp, err := s.client.Do(req, membership)
</a><a href="#h78-0-226" id="h78-0-226" class="d">-	if err != nil {
</a><a href="#h78-0-227" id="h78-0-227" class="d">-		return nil, resp, err
</a><a href="#h78-0-228" id="h78-0-228" class="d">-	}
</a><a href="#h78-0-229" id="h78-0-229" class="d">-
</a><a href="#h78-0-230" id="h78-0-230" class="d">-	return membership, resp, err
</a><a href="#h78-0-231" id="h78-0-231" class="d">-}
</a><a href="#h78-0-232" id="h78-0-232" class="d">-
</a><a href="#h78-0-233" id="h78-0-233" class="d">-// EditOrgMembership edits the membership for user in specified organization.
</a><a href="#h78-0-234" id="h78-0-234" class="d">-// Passing an empty string for user will edit the membership for the
</a><a href="#h78-0-235" id="h78-0-235" class="d">-// authenticated user.
</a><a href="#h78-0-236" id="h78-0-236" class="d">-//
</a><a href="#h78-0-237" id="h78-0-237" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/members/#add-or-update-organization-membership
</a><a href="#h78-0-238" id="h78-0-238" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/members/#edit-your-organization-membership
</a><a href="#h78-0-239" id="h78-0-239" class="d">-func (s *OrganizationsService) EditOrgMembership(user, org string, membership *Membership) (*Membership, *Response, error) {
</a><a href="#h78-0-240" id="h78-0-240" class="d">-	var u, method string
</a><a href="#h78-0-241" id="h78-0-241" class="d">-	if user != &quot;&quot; {
</a><a href="#h78-0-242" id="h78-0-242" class="d">-		u = fmt.Sprintf(&quot;orgs/%v/memberships/%v&quot;, org, user)
</a><a href="#h78-0-243" id="h78-0-243" class="d">-		method = &quot;PUT&quot;
</a><a href="#h78-0-244" id="h78-0-244" class="d">-	} else {
</a><a href="#h78-0-245" id="h78-0-245" class="d">-		u = fmt.Sprintf(&quot;user/memberships/orgs/%v&quot;, org)
</a><a href="#h78-0-246" id="h78-0-246" class="d">-		method = &quot;PATCH&quot;
</a><a href="#h78-0-247" id="h78-0-247" class="d">-	}
</a><a href="#h78-0-248" id="h78-0-248" class="d">-
</a><a href="#h78-0-249" id="h78-0-249" class="d">-	req, err := s.client.NewRequest(method, u, membership)
</a><a href="#h78-0-250" id="h78-0-250" class="d">-	if err != nil {
</a><a href="#h78-0-251" id="h78-0-251" class="d">-		return nil, nil, err
</a><a href="#h78-0-252" id="h78-0-252" class="d">-	}
</a><a href="#h78-0-253" id="h78-0-253" class="d">-
</a><a href="#h78-0-254" id="h78-0-254" class="d">-	m := new(Membership)
</a><a href="#h78-0-255" id="h78-0-255" class="d">-	resp, err := s.client.Do(req, m)
</a><a href="#h78-0-256" id="h78-0-256" class="d">-	if err != nil {
</a><a href="#h78-0-257" id="h78-0-257" class="d">-		return nil, resp, err
</a><a href="#h78-0-258" id="h78-0-258" class="d">-	}
</a><a href="#h78-0-259" id="h78-0-259" class="d">-
</a><a href="#h78-0-260" id="h78-0-260" class="d">-	return m, resp, err
</a><a href="#h78-0-261" id="h78-0-261" class="d">-}
</a><a href="#h78-0-262" id="h78-0-262" class="d">-
</a><a href="#h78-0-263" id="h78-0-263" class="d">-// RemoveOrgMembership removes user from the specified organization.  If the
</a><a href="#h78-0-264" id="h78-0-264" class="d">-// user has been invited to the organization, this will cancel their invitation.
</a><a href="#h78-0-265" id="h78-0-265" class="d">-//
</a><a href="#h78-0-266" id="h78-0-266" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/members/#remove-organization-membership
</a><a href="#h78-0-267" id="h78-0-267" class="d">-func (s *OrganizationsService) RemoveOrgMembership(user, org string) (*Response, error) {
</a><a href="#h78-0-268" id="h78-0-268" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/memberships/%v&quot;, org, user)
</a><a href="#h78-0-269" id="h78-0-269" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h78-0-270" id="h78-0-270" class="d">-	if err != nil {
</a><a href="#h78-0-271" id="h78-0-271" class="d">-		return nil, err
</a><a href="#h78-0-272" id="h78-0-272" class="d">-	}
</a><a href="#h78-0-273" id="h78-0-273" class="d">-
</a><a href="#h78-0-274" id="h78-0-274" class="d">-	return s.client.Do(req, nil)
</a><a href="#h78-0-275" id="h78-0-275" class="d">-}
</a><b>diff --git a/<a id="h79" href="../file/vendor/github.com/google/go-github/github/orgs_teams.go">vendor/github.com/google/go-github/github/orgs_teams.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/orgs_teams.go">vendor/github.com/google/go-github/github/orgs_teams.go</a></b>
<a href="#h79-0" id="h79-0" class="h">@@ -1,399 +0,0 @@
</a><a href="#h79-0-0" id="h79-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h79-0-1" id="h79-0-1" class="d">-//
</a><a href="#h79-0-2" id="h79-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h79-0-3" id="h79-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h79-0-4" id="h79-0-4" class="d">-
</a><a href="#h79-0-5" id="h79-0-5" class="d">-package github
</a><a href="#h79-0-6" id="h79-0-6" class="d">-
</a><a href="#h79-0-7" id="h79-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h79-0-8" id="h79-0-8" class="d">-
</a><a href="#h79-0-9" id="h79-0-9" class="d">-// Team represents a team within a GitHub organization.  Teams are used to
</a><a href="#h79-0-10" id="h79-0-10" class="d">-// manage access to an organization&#39;s repositories.
</a><a href="#h79-0-11" id="h79-0-11" class="d">-type Team struct {
</a><a href="#h79-0-12" id="h79-0-12" class="d">-	ID          *int    `json:&quot;id,omitempty&quot;`
</a><a href="#h79-0-13" id="h79-0-13" class="d">-	Name        *string `json:&quot;name,omitempty&quot;`
</a><a href="#h79-0-14" id="h79-0-14" class="d">-	Description *string `json:&quot;description,omitempty&quot;`
</a><a href="#h79-0-15" id="h79-0-15" class="d">-	URL         *string `json:&quot;url,omitempty&quot;`
</a><a href="#h79-0-16" id="h79-0-16" class="d">-	Slug        *string `json:&quot;slug,omitempty&quot;`
</a><a href="#h79-0-17" id="h79-0-17" class="d">-
</a><a href="#h79-0-18" id="h79-0-18" class="d">-	// Permission is deprecated when creating or editing a team in an org
</a><a href="#h79-0-19" id="h79-0-19" class="d">-	// using the new GitHub permission model.  It no longer identifies the
</a><a href="#h79-0-20" id="h79-0-20" class="d">-	// permission a team has on its repos, but only specifies the default
</a><a href="#h79-0-21" id="h79-0-21" class="d">-	// permission a repo is initially added with.  Avoid confusion by
</a><a href="#h79-0-22" id="h79-0-22" class="d">-	// specifying a permission value when calling AddTeamRepo.
</a><a href="#h79-0-23" id="h79-0-23" class="d">-	Permission *string `json:&quot;permission,omitempty&quot;`
</a><a href="#h79-0-24" id="h79-0-24" class="d">-
</a><a href="#h79-0-25" id="h79-0-25" class="d">-	// Privacy identifies the level of privacy this team should have.
</a><a href="#h79-0-26" id="h79-0-26" class="d">-	// Possible values are:
</a><a href="#h79-0-27" id="h79-0-27" class="d">-	//     secret - only visible to organization owners and members of this team
</a><a href="#h79-0-28" id="h79-0-28" class="d">-	//     closed - visible to all members of this organization
</a><a href="#h79-0-29" id="h79-0-29" class="d">-	// Default is &quot;secret&quot;.
</a><a href="#h79-0-30" id="h79-0-30" class="d">-	Privacy *string `json:&quot;privacy,omitempty&quot;`
</a><a href="#h79-0-31" id="h79-0-31" class="d">-
</a><a href="#h79-0-32" id="h79-0-32" class="d">-	MembersCount    *int          `json:&quot;members_count,omitempty&quot;`
</a><a href="#h79-0-33" id="h79-0-33" class="d">-	ReposCount      *int          `json:&quot;repos_count,omitempty&quot;`
</a><a href="#h79-0-34" id="h79-0-34" class="d">-	Organization    *Organization `json:&quot;organization,omitempty&quot;`
</a><a href="#h79-0-35" id="h79-0-35" class="d">-	MembersURL      *string       `json:&quot;members_url,omitempty&quot;`
</a><a href="#h79-0-36" id="h79-0-36" class="d">-	RepositoriesURL *string       `json:&quot;repositories_url,omitempty&quot;`
</a><a href="#h79-0-37" id="h79-0-37" class="d">-}
</a><a href="#h79-0-38" id="h79-0-38" class="d">-
</a><a href="#h79-0-39" id="h79-0-39" class="d">-func (t Team) String() string {
</a><a href="#h79-0-40" id="h79-0-40" class="d">-	return Stringify(t)
</a><a href="#h79-0-41" id="h79-0-41" class="d">-}
</a><a href="#h79-0-42" id="h79-0-42" class="d">-
</a><a href="#h79-0-43" id="h79-0-43" class="d">-// ListTeams lists all of the teams for an organization.
</a><a href="#h79-0-44" id="h79-0-44" class="d">-//
</a><a href="#h79-0-45" id="h79-0-45" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#list-teams
</a><a href="#h79-0-46" id="h79-0-46" class="d">-func (s *OrganizationsService) ListTeams(org string, opt *ListOptions) ([]Team, *Response, error) {
</a><a href="#h79-0-47" id="h79-0-47" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/teams&quot;, org)
</a><a href="#h79-0-48" id="h79-0-48" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h79-0-49" id="h79-0-49" class="d">-	if err != nil {
</a><a href="#h79-0-50" id="h79-0-50" class="d">-		return nil, nil, err
</a><a href="#h79-0-51" id="h79-0-51" class="d">-	}
</a><a href="#h79-0-52" id="h79-0-52" class="d">-
</a><a href="#h79-0-53" id="h79-0-53" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h79-0-54" id="h79-0-54" class="d">-	if err != nil {
</a><a href="#h79-0-55" id="h79-0-55" class="d">-		return nil, nil, err
</a><a href="#h79-0-56" id="h79-0-56" class="d">-	}
</a><a href="#h79-0-57" id="h79-0-57" class="d">-
</a><a href="#h79-0-58" id="h79-0-58" class="d">-	teams := new([]Team)
</a><a href="#h79-0-59" id="h79-0-59" class="d">-	resp, err := s.client.Do(req, teams)
</a><a href="#h79-0-60" id="h79-0-60" class="d">-	if err != nil {
</a><a href="#h79-0-61" id="h79-0-61" class="d">-		return nil, resp, err
</a><a href="#h79-0-62" id="h79-0-62" class="d">-	}
</a><a href="#h79-0-63" id="h79-0-63" class="d">-
</a><a href="#h79-0-64" id="h79-0-64" class="d">-	return *teams, resp, err
</a><a href="#h79-0-65" id="h79-0-65" class="d">-}
</a><a href="#h79-0-66" id="h79-0-66" class="d">-
</a><a href="#h79-0-67" id="h79-0-67" class="d">-// GetTeam fetches a team by ID.
</a><a href="#h79-0-68" id="h79-0-68" class="d">-//
</a><a href="#h79-0-69" id="h79-0-69" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#get-team
</a><a href="#h79-0-70" id="h79-0-70" class="d">-func (s *OrganizationsService) GetTeam(team int) (*Team, *Response, error) {
</a><a href="#h79-0-71" id="h79-0-71" class="d">-	u := fmt.Sprintf(&quot;teams/%v&quot;, team)
</a><a href="#h79-0-72" id="h79-0-72" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h79-0-73" id="h79-0-73" class="d">-	if err != nil {
</a><a href="#h79-0-74" id="h79-0-74" class="d">-		return nil, nil, err
</a><a href="#h79-0-75" id="h79-0-75" class="d">-	}
</a><a href="#h79-0-76" id="h79-0-76" class="d">-
</a><a href="#h79-0-77" id="h79-0-77" class="d">-	t := new(Team)
</a><a href="#h79-0-78" id="h79-0-78" class="d">-	resp, err := s.client.Do(req, t)
</a><a href="#h79-0-79" id="h79-0-79" class="d">-	if err != nil {
</a><a href="#h79-0-80" id="h79-0-80" class="d">-		return nil, resp, err
</a><a href="#h79-0-81" id="h79-0-81" class="d">-	}
</a><a href="#h79-0-82" id="h79-0-82" class="d">-
</a><a href="#h79-0-83" id="h79-0-83" class="d">-	return t, resp, err
</a><a href="#h79-0-84" id="h79-0-84" class="d">-}
</a><a href="#h79-0-85" id="h79-0-85" class="d">-
</a><a href="#h79-0-86" id="h79-0-86" class="d">-// CreateTeam creates a new team within an organization.
</a><a href="#h79-0-87" id="h79-0-87" class="d">-//
</a><a href="#h79-0-88" id="h79-0-88" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#create-team
</a><a href="#h79-0-89" id="h79-0-89" class="d">-func (s *OrganizationsService) CreateTeam(org string, team *Team) (*Team, *Response, error) {
</a><a href="#h79-0-90" id="h79-0-90" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/teams&quot;, org)
</a><a href="#h79-0-91" id="h79-0-91" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, team)
</a><a href="#h79-0-92" id="h79-0-92" class="d">-	if err != nil {
</a><a href="#h79-0-93" id="h79-0-93" class="d">-		return nil, nil, err
</a><a href="#h79-0-94" id="h79-0-94" class="d">-	}
</a><a href="#h79-0-95" id="h79-0-95" class="d">-
</a><a href="#h79-0-96" id="h79-0-96" class="d">-	if team.Privacy != nil {
</a><a href="#h79-0-97" id="h79-0-97" class="d">-		req.Header.Set(&quot;Accept&quot;, mediaTypeOrgPermissionPreview)
</a><a href="#h79-0-98" id="h79-0-98" class="d">-	}
</a><a href="#h79-0-99" id="h79-0-99" class="d">-
</a><a href="#h79-0-100" id="h79-0-100" class="d">-	t := new(Team)
</a><a href="#h79-0-101" id="h79-0-101" class="d">-	resp, err := s.client.Do(req, t)
</a><a href="#h79-0-102" id="h79-0-102" class="d">-	if err != nil {
</a><a href="#h79-0-103" id="h79-0-103" class="d">-		return nil, resp, err
</a><a href="#h79-0-104" id="h79-0-104" class="d">-	}
</a><a href="#h79-0-105" id="h79-0-105" class="d">-
</a><a href="#h79-0-106" id="h79-0-106" class="d">-	return t, resp, err
</a><a href="#h79-0-107" id="h79-0-107" class="d">-}
</a><a href="#h79-0-108" id="h79-0-108" class="d">-
</a><a href="#h79-0-109" id="h79-0-109" class="d">-// EditTeam edits a team.
</a><a href="#h79-0-110" id="h79-0-110" class="d">-//
</a><a href="#h79-0-111" id="h79-0-111" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#edit-team
</a><a href="#h79-0-112" id="h79-0-112" class="d">-func (s *OrganizationsService) EditTeam(id int, team *Team) (*Team, *Response, error) {
</a><a href="#h79-0-113" id="h79-0-113" class="d">-	u := fmt.Sprintf(&quot;teams/%v&quot;, id)
</a><a href="#h79-0-114" id="h79-0-114" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, team)
</a><a href="#h79-0-115" id="h79-0-115" class="d">-	if err != nil {
</a><a href="#h79-0-116" id="h79-0-116" class="d">-		return nil, nil, err
</a><a href="#h79-0-117" id="h79-0-117" class="d">-	}
</a><a href="#h79-0-118" id="h79-0-118" class="d">-
</a><a href="#h79-0-119" id="h79-0-119" class="d">-	if team.Privacy != nil {
</a><a href="#h79-0-120" id="h79-0-120" class="d">-		req.Header.Set(&quot;Accept&quot;, mediaTypeOrgPermissionPreview)
</a><a href="#h79-0-121" id="h79-0-121" class="d">-	}
</a><a href="#h79-0-122" id="h79-0-122" class="d">-
</a><a href="#h79-0-123" id="h79-0-123" class="d">-	t := new(Team)
</a><a href="#h79-0-124" id="h79-0-124" class="d">-	resp, err := s.client.Do(req, t)
</a><a href="#h79-0-125" id="h79-0-125" class="d">-	if err != nil {
</a><a href="#h79-0-126" id="h79-0-126" class="d">-		return nil, resp, err
</a><a href="#h79-0-127" id="h79-0-127" class="d">-	}
</a><a href="#h79-0-128" id="h79-0-128" class="d">-
</a><a href="#h79-0-129" id="h79-0-129" class="d">-	return t, resp, err
</a><a href="#h79-0-130" id="h79-0-130" class="d">-}
</a><a href="#h79-0-131" id="h79-0-131" class="d">-
</a><a href="#h79-0-132" id="h79-0-132" class="d">-// DeleteTeam deletes a team.
</a><a href="#h79-0-133" id="h79-0-133" class="d">-//
</a><a href="#h79-0-134" id="h79-0-134" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#delete-team
</a><a href="#h79-0-135" id="h79-0-135" class="d">-func (s *OrganizationsService) DeleteTeam(team int) (*Response, error) {
</a><a href="#h79-0-136" id="h79-0-136" class="d">-	u := fmt.Sprintf(&quot;teams/%v&quot;, team)
</a><a href="#h79-0-137" id="h79-0-137" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h79-0-138" id="h79-0-138" class="d">-	if err != nil {
</a><a href="#h79-0-139" id="h79-0-139" class="d">-		return nil, err
</a><a href="#h79-0-140" id="h79-0-140" class="d">-	}
</a><a href="#h79-0-141" id="h79-0-141" class="d">-
</a><a href="#h79-0-142" id="h79-0-142" class="d">-	return s.client.Do(req, nil)
</a><a href="#h79-0-143" id="h79-0-143" class="d">-}
</a><a href="#h79-0-144" id="h79-0-144" class="d">-
</a><a href="#h79-0-145" id="h79-0-145" class="d">-// OrganizationListTeamMembersOptions specifies the optional parameters to the
</a><a href="#h79-0-146" id="h79-0-146" class="d">-// OrganizationsService.ListTeamMembers method.
</a><a href="#h79-0-147" id="h79-0-147" class="d">-type OrganizationListTeamMembersOptions struct {
</a><a href="#h79-0-148" id="h79-0-148" class="d">-	// Role filters members returned by their role in the team.  Possible
</a><a href="#h79-0-149" id="h79-0-149" class="d">-	// values are &quot;all&quot;, &quot;member&quot;, &quot;maintainer&quot;.  Default is &quot;all&quot;.
</a><a href="#h79-0-150" id="h79-0-150" class="d">-	Role string `url:&quot;role,omitempty&quot;`
</a><a href="#h79-0-151" id="h79-0-151" class="d">-
</a><a href="#h79-0-152" id="h79-0-152" class="d">-	ListOptions
</a><a href="#h79-0-153" id="h79-0-153" class="d">-}
</a><a href="#h79-0-154" id="h79-0-154" class="d">-
</a><a href="#h79-0-155" id="h79-0-155" class="d">-// ListTeamMembers lists all of the users who are members of the specified
</a><a href="#h79-0-156" id="h79-0-156" class="d">-// team.
</a><a href="#h79-0-157" id="h79-0-157" class="d">-//
</a><a href="#h79-0-158" id="h79-0-158" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#list-team-members
</a><a href="#h79-0-159" id="h79-0-159" class="d">-func (s *OrganizationsService) ListTeamMembers(team int, opt *OrganizationListTeamMembersOptions) ([]User, *Response, error) {
</a><a href="#h79-0-160" id="h79-0-160" class="d">-	u := fmt.Sprintf(&quot;teams/%v/members&quot;, team)
</a><a href="#h79-0-161" id="h79-0-161" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h79-0-162" id="h79-0-162" class="d">-	if err != nil {
</a><a href="#h79-0-163" id="h79-0-163" class="d">-		return nil, nil, err
</a><a href="#h79-0-164" id="h79-0-164" class="d">-	}
</a><a href="#h79-0-165" id="h79-0-165" class="d">-
</a><a href="#h79-0-166" id="h79-0-166" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h79-0-167" id="h79-0-167" class="d">-	if err != nil {
</a><a href="#h79-0-168" id="h79-0-168" class="d">-		return nil, nil, err
</a><a href="#h79-0-169" id="h79-0-169" class="d">-	}
</a><a href="#h79-0-170" id="h79-0-170" class="d">-
</a><a href="#h79-0-171" id="h79-0-171" class="d">-	if opt != nil &amp;&amp; opt.Role != &quot;&quot; {
</a><a href="#h79-0-172" id="h79-0-172" class="d">-		req.Header.Set(&quot;Accept&quot;, mediaTypeOrgPermissionPreview)
</a><a href="#h79-0-173" id="h79-0-173" class="d">-	}
</a><a href="#h79-0-174" id="h79-0-174" class="d">-
</a><a href="#h79-0-175" id="h79-0-175" class="d">-	members := new([]User)
</a><a href="#h79-0-176" id="h79-0-176" class="d">-	resp, err := s.client.Do(req, members)
</a><a href="#h79-0-177" id="h79-0-177" class="d">-	if err != nil {
</a><a href="#h79-0-178" id="h79-0-178" class="d">-		return nil, resp, err
</a><a href="#h79-0-179" id="h79-0-179" class="d">-	}
</a><a href="#h79-0-180" id="h79-0-180" class="d">-
</a><a href="#h79-0-181" id="h79-0-181" class="d">-	return *members, resp, err
</a><a href="#h79-0-182" id="h79-0-182" class="d">-}
</a><a href="#h79-0-183" id="h79-0-183" class="d">-
</a><a href="#h79-0-184" id="h79-0-184" class="d">-// IsTeamMember checks if a user is a member of the specified team.
</a><a href="#h79-0-185" id="h79-0-185" class="d">-//
</a><a href="#h79-0-186" id="h79-0-186" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#get-team-member
</a><a href="#h79-0-187" id="h79-0-187" class="d">-func (s *OrganizationsService) IsTeamMember(team int, user string) (bool, *Response, error) {
</a><a href="#h79-0-188" id="h79-0-188" class="d">-	u := fmt.Sprintf(&quot;teams/%v/members/%v&quot;, team, user)
</a><a href="#h79-0-189" id="h79-0-189" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h79-0-190" id="h79-0-190" class="d">-	if err != nil {
</a><a href="#h79-0-191" id="h79-0-191" class="d">-		return false, nil, err
</a><a href="#h79-0-192" id="h79-0-192" class="d">-	}
</a><a href="#h79-0-193" id="h79-0-193" class="d">-
</a><a href="#h79-0-194" id="h79-0-194" class="d">-	resp, err := s.client.Do(req, nil)
</a><a href="#h79-0-195" id="h79-0-195" class="d">-	member, err := parseBoolResponse(err)
</a><a href="#h79-0-196" id="h79-0-196" class="d">-	return member, resp, err
</a><a href="#h79-0-197" id="h79-0-197" class="d">-}
</a><a href="#h79-0-198" id="h79-0-198" class="d">-
</a><a href="#h79-0-199" id="h79-0-199" class="d">-// ListTeamRepos lists the repositories that the specified team has access to.
</a><a href="#h79-0-200" id="h79-0-200" class="d">-//
</a><a href="#h79-0-201" id="h79-0-201" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#list-team-repos
</a><a href="#h79-0-202" id="h79-0-202" class="d">-func (s *OrganizationsService) ListTeamRepos(team int, opt *ListOptions) ([]Repository, *Response, error) {
</a><a href="#h79-0-203" id="h79-0-203" class="d">-	u := fmt.Sprintf(&quot;teams/%v/repos&quot;, team)
</a><a href="#h79-0-204" id="h79-0-204" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h79-0-205" id="h79-0-205" class="d">-	if err != nil {
</a><a href="#h79-0-206" id="h79-0-206" class="d">-		return nil, nil, err
</a><a href="#h79-0-207" id="h79-0-207" class="d">-	}
</a><a href="#h79-0-208" id="h79-0-208" class="d">-
</a><a href="#h79-0-209" id="h79-0-209" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h79-0-210" id="h79-0-210" class="d">-	if err != nil {
</a><a href="#h79-0-211" id="h79-0-211" class="d">-		return nil, nil, err
</a><a href="#h79-0-212" id="h79-0-212" class="d">-	}
</a><a href="#h79-0-213" id="h79-0-213" class="d">-
</a><a href="#h79-0-214" id="h79-0-214" class="d">-	repos := new([]Repository)
</a><a href="#h79-0-215" id="h79-0-215" class="d">-	resp, err := s.client.Do(req, repos)
</a><a href="#h79-0-216" id="h79-0-216" class="d">-	if err != nil {
</a><a href="#h79-0-217" id="h79-0-217" class="d">-		return nil, resp, err
</a><a href="#h79-0-218" id="h79-0-218" class="d">-	}
</a><a href="#h79-0-219" id="h79-0-219" class="d">-
</a><a href="#h79-0-220" id="h79-0-220" class="d">-	return *repos, resp, err
</a><a href="#h79-0-221" id="h79-0-221" class="d">-}
</a><a href="#h79-0-222" id="h79-0-222" class="d">-
</a><a href="#h79-0-223" id="h79-0-223" class="d">-// IsTeamRepo checks if a team manages the specified repository.  If the
</a><a href="#h79-0-224" id="h79-0-224" class="d">-// repository is managed by team, a Repository is returned which includes the
</a><a href="#h79-0-225" id="h79-0-225" class="d">-// permissions team has for that repo.
</a><a href="#h79-0-226" id="h79-0-226" class="d">-//
</a><a href="#h79-0-227" id="h79-0-227" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#get-team-repo
</a><a href="#h79-0-228" id="h79-0-228" class="d">-func (s *OrganizationsService) IsTeamRepo(team int, owner string, repo string) (*Repository, *Response, error) {
</a><a href="#h79-0-229" id="h79-0-229" class="d">-	u := fmt.Sprintf(&quot;teams/%v/repos/%v/%v&quot;, team, owner, repo)
</a><a href="#h79-0-230" id="h79-0-230" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h79-0-231" id="h79-0-231" class="d">-	if err != nil {
</a><a href="#h79-0-232" id="h79-0-232" class="d">-		return nil, nil, err
</a><a href="#h79-0-233" id="h79-0-233" class="d">-	}
</a><a href="#h79-0-234" id="h79-0-234" class="d">-
</a><a href="#h79-0-235" id="h79-0-235" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeOrgPermissionRepoPreview)
</a><a href="#h79-0-236" id="h79-0-236" class="d">-
</a><a href="#h79-0-237" id="h79-0-237" class="d">-	repository := new(Repository)
</a><a href="#h79-0-238" id="h79-0-238" class="d">-	resp, err := s.client.Do(req, repository)
</a><a href="#h79-0-239" id="h79-0-239" class="d">-	if err != nil {
</a><a href="#h79-0-240" id="h79-0-240" class="d">-		return nil, resp, err
</a><a href="#h79-0-241" id="h79-0-241" class="d">-	}
</a><a href="#h79-0-242" id="h79-0-242" class="d">-
</a><a href="#h79-0-243" id="h79-0-243" class="d">-	return repository, resp, err
</a><a href="#h79-0-244" id="h79-0-244" class="d">-}
</a><a href="#h79-0-245" id="h79-0-245" class="d">-
</a><a href="#h79-0-246" id="h79-0-246" class="d">-// OrganizationAddTeamRepoOptions specifies the optional parameters to the
</a><a href="#h79-0-247" id="h79-0-247" class="d">-// OrganizationsService.AddTeamRepo method.
</a><a href="#h79-0-248" id="h79-0-248" class="d">-type OrganizationAddTeamRepoOptions struct {
</a><a href="#h79-0-249" id="h79-0-249" class="d">-	// Permission specifies the permission to grant the team on this repository.
</a><a href="#h79-0-250" id="h79-0-250" class="d">-	// Possible values are:
</a><a href="#h79-0-251" id="h79-0-251" class="d">-	//     pull - team members can pull, but not push to or administer this repository
</a><a href="#h79-0-252" id="h79-0-252" class="d">-	//     push - team members can pull and push, but not administer this repository
</a><a href="#h79-0-253" id="h79-0-253" class="d">-	//     admin - team members can pull, push and administer this repository
</a><a href="#h79-0-254" id="h79-0-254" class="d">-	//
</a><a href="#h79-0-255" id="h79-0-255" class="d">-	// If not specified, the team&#39;s permission attribute will be used.
</a><a href="#h79-0-256" id="h79-0-256" class="d">-	Permission string `json:&quot;permission,omitempty&quot;`
</a><a href="#h79-0-257" id="h79-0-257" class="d">-}
</a><a href="#h79-0-258" id="h79-0-258" class="d">-
</a><a href="#h79-0-259" id="h79-0-259" class="d">-// AddTeamRepo adds a repository to be managed by the specified team.  The
</a><a href="#h79-0-260" id="h79-0-260" class="d">-// specified repository must be owned by the organization to which the team
</a><a href="#h79-0-261" id="h79-0-261" class="d">-// belongs, or a direct fork of a repository owned by the organization.
</a><a href="#h79-0-262" id="h79-0-262" class="d">-//
</a><a href="#h79-0-263" id="h79-0-263" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#add-team-repo
</a><a href="#h79-0-264" id="h79-0-264" class="d">-func (s *OrganizationsService) AddTeamRepo(team int, owner string, repo string, opt *OrganizationAddTeamRepoOptions) (*Response, error) {
</a><a href="#h79-0-265" id="h79-0-265" class="d">-	u := fmt.Sprintf(&quot;teams/%v/repos/%v/%v&quot;, team, owner, repo)
</a><a href="#h79-0-266" id="h79-0-266" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, opt)
</a><a href="#h79-0-267" id="h79-0-267" class="d">-	if err != nil {
</a><a href="#h79-0-268" id="h79-0-268" class="d">-		return nil, err
</a><a href="#h79-0-269" id="h79-0-269" class="d">-	}
</a><a href="#h79-0-270" id="h79-0-270" class="d">-
</a><a href="#h79-0-271" id="h79-0-271" class="d">-	if opt != nil {
</a><a href="#h79-0-272" id="h79-0-272" class="d">-		req.Header.Set(&quot;Accept&quot;, mediaTypeOrgPermissionPreview)
</a><a href="#h79-0-273" id="h79-0-273" class="d">-	}
</a><a href="#h79-0-274" id="h79-0-274" class="d">-
</a><a href="#h79-0-275" id="h79-0-275" class="d">-	return s.client.Do(req, nil)
</a><a href="#h79-0-276" id="h79-0-276" class="d">-}
</a><a href="#h79-0-277" id="h79-0-277" class="d">-
</a><a href="#h79-0-278" id="h79-0-278" class="d">-// RemoveTeamRepo removes a repository from being managed by the specified
</a><a href="#h79-0-279" id="h79-0-279" class="d">-// team.  Note that this does not delete the repository, it just removes it
</a><a href="#h79-0-280" id="h79-0-280" class="d">-// from the team.
</a><a href="#h79-0-281" id="h79-0-281" class="d">-//
</a><a href="#h79-0-282" id="h79-0-282" class="d">-// GitHub API docs: http://developer.github.com/v3/orgs/teams/#remove-team-repo
</a><a href="#h79-0-283" id="h79-0-283" class="d">-func (s *OrganizationsService) RemoveTeamRepo(team int, owner string, repo string) (*Response, error) {
</a><a href="#h79-0-284" id="h79-0-284" class="d">-	u := fmt.Sprintf(&quot;teams/%v/repos/%v/%v&quot;, team, owner, repo)
</a><a href="#h79-0-285" id="h79-0-285" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h79-0-286" id="h79-0-286" class="d">-	if err != nil {
</a><a href="#h79-0-287" id="h79-0-287" class="d">-		return nil, err
</a><a href="#h79-0-288" id="h79-0-288" class="d">-	}
</a><a href="#h79-0-289" id="h79-0-289" class="d">-
</a><a href="#h79-0-290" id="h79-0-290" class="d">-	return s.client.Do(req, nil)
</a><a href="#h79-0-291" id="h79-0-291" class="d">-}
</a><a href="#h79-0-292" id="h79-0-292" class="d">-
</a><a href="#h79-0-293" id="h79-0-293" class="d">-// ListUserTeams lists a user&#39;s teams
</a><a href="#h79-0-294" id="h79-0-294" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/teams/#list-user-teams
</a><a href="#h79-0-295" id="h79-0-295" class="d">-func (s *OrganizationsService) ListUserTeams(opt *ListOptions) ([]Team, *Response, error) {
</a><a href="#h79-0-296" id="h79-0-296" class="d">-	u := &quot;user/teams&quot;
</a><a href="#h79-0-297" id="h79-0-297" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h79-0-298" id="h79-0-298" class="d">-	if err != nil {
</a><a href="#h79-0-299" id="h79-0-299" class="d">-		return nil, nil, err
</a><a href="#h79-0-300" id="h79-0-300" class="d">-	}
</a><a href="#h79-0-301" id="h79-0-301" class="d">-
</a><a href="#h79-0-302" id="h79-0-302" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h79-0-303" id="h79-0-303" class="d">-	if err != nil {
</a><a href="#h79-0-304" id="h79-0-304" class="d">-		return nil, nil, err
</a><a href="#h79-0-305" id="h79-0-305" class="d">-	}
</a><a href="#h79-0-306" id="h79-0-306" class="d">-
</a><a href="#h79-0-307" id="h79-0-307" class="d">-	teams := new([]Team)
</a><a href="#h79-0-308" id="h79-0-308" class="d">-	resp, err := s.client.Do(req, teams)
</a><a href="#h79-0-309" id="h79-0-309" class="d">-	if err != nil {
</a><a href="#h79-0-310" id="h79-0-310" class="d">-		return nil, resp, err
</a><a href="#h79-0-311" id="h79-0-311" class="d">-	}
</a><a href="#h79-0-312" id="h79-0-312" class="d">-
</a><a href="#h79-0-313" id="h79-0-313" class="d">-	return *teams, resp, err
</a><a href="#h79-0-314" id="h79-0-314" class="d">-}
</a><a href="#h79-0-315" id="h79-0-315" class="d">-
</a><a href="#h79-0-316" id="h79-0-316" class="d">-// GetTeamMembership returns the membership status for a user in a team.
</a><a href="#h79-0-317" id="h79-0-317" class="d">-//
</a><a href="#h79-0-318" id="h79-0-318" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/teams/#get-team-membership
</a><a href="#h79-0-319" id="h79-0-319" class="d">-func (s *OrganizationsService) GetTeamMembership(team int, user string) (*Membership, *Response, error) {
</a><a href="#h79-0-320" id="h79-0-320" class="d">-	u := fmt.Sprintf(&quot;teams/%v/memberships/%v&quot;, team, user)
</a><a href="#h79-0-321" id="h79-0-321" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h79-0-322" id="h79-0-322" class="d">-	if err != nil {
</a><a href="#h79-0-323" id="h79-0-323" class="d">-		return nil, nil, err
</a><a href="#h79-0-324" id="h79-0-324" class="d">-	}
</a><a href="#h79-0-325" id="h79-0-325" class="d">-
</a><a href="#h79-0-326" id="h79-0-326" class="d">-	t := new(Membership)
</a><a href="#h79-0-327" id="h79-0-327" class="d">-	resp, err := s.client.Do(req, t)
</a><a href="#h79-0-328" id="h79-0-328" class="d">-	if err != nil {
</a><a href="#h79-0-329" id="h79-0-329" class="d">-		return nil, resp, err
</a><a href="#h79-0-330" id="h79-0-330" class="d">-	}
</a><a href="#h79-0-331" id="h79-0-331" class="d">-
</a><a href="#h79-0-332" id="h79-0-332" class="d">-	return t, resp, err
</a><a href="#h79-0-333" id="h79-0-333" class="d">-}
</a><a href="#h79-0-334" id="h79-0-334" class="d">-
</a><a href="#h79-0-335" id="h79-0-335" class="d">-// OrganizationAddTeamMembershipOptions does stuff specifies the optional
</a><a href="#h79-0-336" id="h79-0-336" class="d">-// parameters to the OrganizationsService.AddTeamMembership method.
</a><a href="#h79-0-337" id="h79-0-337" class="d">-type OrganizationAddTeamMembershipOptions struct {
</a><a href="#h79-0-338" id="h79-0-338" class="d">-	// Role specifies the role the user should have in the team.  Possible
</a><a href="#h79-0-339" id="h79-0-339" class="d">-	// values are:
</a><a href="#h79-0-340" id="h79-0-340" class="d">-	//     member - a normal member of the team
</a><a href="#h79-0-341" id="h79-0-341" class="d">-	//     maintainer - a team maintainer. Able to add/remove other team
</a><a href="#h79-0-342" id="h79-0-342" class="d">-	//                  members, promote other team members to team
</a><a href="#h79-0-343" id="h79-0-343" class="d">-	//                  maintainer, and edit the teams name and description
</a><a href="#h79-0-344" id="h79-0-344" class="d">-	//
</a><a href="#h79-0-345" id="h79-0-345" class="d">-	// Default value is &quot;member&quot;.
</a><a href="#h79-0-346" id="h79-0-346" class="d">-	Role string `json:&quot;role,omitempty&quot;`
</a><a href="#h79-0-347" id="h79-0-347" class="d">-}
</a><a href="#h79-0-348" id="h79-0-348" class="d">-
</a><a href="#h79-0-349" id="h79-0-349" class="d">-// AddTeamMembership adds or invites a user to a team.
</a><a href="#h79-0-350" id="h79-0-350" class="d">-//
</a><a href="#h79-0-351" id="h79-0-351" class="d">-// In order to add a membership between a user and a team, the authenticated
</a><a href="#h79-0-352" id="h79-0-352" class="d">-// user must have &#39;admin&#39; permissions to the team or be an owner of the
</a><a href="#h79-0-353" id="h79-0-353" class="d">-// organization that the team is associated with.
</a><a href="#h79-0-354" id="h79-0-354" class="d">-//
</a><a href="#h79-0-355" id="h79-0-355" class="d">-// If the user is already a part of the team&#39;s organization (meaning they&#39;re on
</a><a href="#h79-0-356" id="h79-0-356" class="d">-// at least one other team in the organization), this endpoint will add the
</a><a href="#h79-0-357" id="h79-0-357" class="d">-// user to the team.
</a><a href="#h79-0-358" id="h79-0-358" class="d">-//
</a><a href="#h79-0-359" id="h79-0-359" class="d">-// If the user is completely unaffiliated with the team&#39;s organization (meaning
</a><a href="#h79-0-360" id="h79-0-360" class="d">-// they&#39;re on none of the organization&#39;s teams), this endpoint will send an
</a><a href="#h79-0-361" id="h79-0-361" class="d">-// invitation to the user via email. This newly-created membership will be in
</a><a href="#h79-0-362" id="h79-0-362" class="d">-// the &quot;pending&quot; state until the user accepts the invitation, at which point
</a><a href="#h79-0-363" id="h79-0-363" class="d">-// the membership will transition to the &quot;active&quot; state and the user will be
</a><a href="#h79-0-364" id="h79-0-364" class="d">-// added as a member of the team.
</a><a href="#h79-0-365" id="h79-0-365" class="d">-//
</a><a href="#h79-0-366" id="h79-0-366" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/teams/#add-team-membership
</a><a href="#h79-0-367" id="h79-0-367" class="d">-func (s *OrganizationsService) AddTeamMembership(team int, user string, opt *OrganizationAddTeamMembershipOptions) (*Membership, *Response, error) {
</a><a href="#h79-0-368" id="h79-0-368" class="d">-	u := fmt.Sprintf(&quot;teams/%v/memberships/%v&quot;, team, user)
</a><a href="#h79-0-369" id="h79-0-369" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, opt)
</a><a href="#h79-0-370" id="h79-0-370" class="d">-	if err != nil {
</a><a href="#h79-0-371" id="h79-0-371" class="d">-		return nil, nil, err
</a><a href="#h79-0-372" id="h79-0-372" class="d">-	}
</a><a href="#h79-0-373" id="h79-0-373" class="d">-
</a><a href="#h79-0-374" id="h79-0-374" class="d">-	if opt != nil {
</a><a href="#h79-0-375" id="h79-0-375" class="d">-		req.Header.Set(&quot;Accept&quot;, mediaTypeOrgPermissionPreview)
</a><a href="#h79-0-376" id="h79-0-376" class="d">-	}
</a><a href="#h79-0-377" id="h79-0-377" class="d">-
</a><a href="#h79-0-378" id="h79-0-378" class="d">-	t := new(Membership)
</a><a href="#h79-0-379" id="h79-0-379" class="d">-	resp, err := s.client.Do(req, t)
</a><a href="#h79-0-380" id="h79-0-380" class="d">-	if err != nil {
</a><a href="#h79-0-381" id="h79-0-381" class="d">-		return nil, resp, err
</a><a href="#h79-0-382" id="h79-0-382" class="d">-	}
</a><a href="#h79-0-383" id="h79-0-383" class="d">-
</a><a href="#h79-0-384" id="h79-0-384" class="d">-	return t, resp, err
</a><a href="#h79-0-385" id="h79-0-385" class="d">-}
</a><a href="#h79-0-386" id="h79-0-386" class="d">-
</a><a href="#h79-0-387" id="h79-0-387" class="d">-// RemoveTeamMembership removes a user from a team.
</a><a href="#h79-0-388" id="h79-0-388" class="d">-//
</a><a href="#h79-0-389" id="h79-0-389" class="d">-// GitHub API docs: https://developer.github.com/v3/orgs/teams/#remove-team-membership
</a><a href="#h79-0-390" id="h79-0-390" class="d">-func (s *OrganizationsService) RemoveTeamMembership(team int, user string) (*Response, error) {
</a><a href="#h79-0-391" id="h79-0-391" class="d">-	u := fmt.Sprintf(&quot;teams/%v/memberships/%v&quot;, team, user)
</a><a href="#h79-0-392" id="h79-0-392" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h79-0-393" id="h79-0-393" class="d">-	if err != nil {
</a><a href="#h79-0-394" id="h79-0-394" class="d">-		return nil, err
</a><a href="#h79-0-395" id="h79-0-395" class="d">-	}
</a><a href="#h79-0-396" id="h79-0-396" class="d">-
</a><a href="#h79-0-397" id="h79-0-397" class="d">-	return s.client.Do(req, nil)
</a><a href="#h79-0-398" id="h79-0-398" class="d">-}
</a><b>diff --git a/<a id="h80" href="../file/vendor/github.com/google/go-github/github/pulls.go">vendor/github.com/google/go-github/github/pulls.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/pulls.go">vendor/github.com/google/go-github/github/pulls.go</a></b>
<a href="#h80-0" id="h80-0" class="h">@@ -1,275 +0,0 @@
</a><a href="#h80-0-0" id="h80-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h80-0-1" id="h80-0-1" class="d">-//
</a><a href="#h80-0-2" id="h80-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h80-0-3" id="h80-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h80-0-4" id="h80-0-4" class="d">-
</a><a href="#h80-0-5" id="h80-0-5" class="d">-package github
</a><a href="#h80-0-6" id="h80-0-6" class="d">-
</a><a href="#h80-0-7" id="h80-0-7" class="d">-import (
</a><a href="#h80-0-8" id="h80-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h80-0-9" id="h80-0-9" class="d">-	&quot;time&quot;
</a><a href="#h80-0-10" id="h80-0-10" class="d">-)
</a><a href="#h80-0-11" id="h80-0-11" class="d">-
</a><a href="#h80-0-12" id="h80-0-12" class="d">-// PullRequestsService handles communication with the pull request related
</a><a href="#h80-0-13" id="h80-0-13" class="d">-// methods of the GitHub API.
</a><a href="#h80-0-14" id="h80-0-14" class="d">-//
</a><a href="#h80-0-15" id="h80-0-15" class="d">-// GitHub API docs: http://developer.github.com/v3/pulls/
</a><a href="#h80-0-16" id="h80-0-16" class="d">-type PullRequestsService struct {
</a><a href="#h80-0-17" id="h80-0-17" class="d">-	client *Client
</a><a href="#h80-0-18" id="h80-0-18" class="d">-}
</a><a href="#h80-0-19" id="h80-0-19" class="d">-
</a><a href="#h80-0-20" id="h80-0-20" class="d">-// PullRequest represents a GitHub pull request on a repository.
</a><a href="#h80-0-21" id="h80-0-21" class="d">-type PullRequest struct {
</a><a href="#h80-0-22" id="h80-0-22" class="d">-	Number       *int       `json:&quot;number,omitempty&quot;`
</a><a href="#h80-0-23" id="h80-0-23" class="d">-	State        *string    `json:&quot;state,omitempty&quot;`
</a><a href="#h80-0-24" id="h80-0-24" class="d">-	Title        *string    `json:&quot;title,omitempty&quot;`
</a><a href="#h80-0-25" id="h80-0-25" class="d">-	Body         *string    `json:&quot;body,omitempty&quot;`
</a><a href="#h80-0-26" id="h80-0-26" class="d">-	CreatedAt    *time.Time `json:&quot;created_at,omitempty&quot;`
</a><a href="#h80-0-27" id="h80-0-27" class="d">-	UpdatedAt    *time.Time `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h80-0-28" id="h80-0-28" class="d">-	ClosedAt     *time.Time `json:&quot;closed_at,omitempty&quot;`
</a><a href="#h80-0-29" id="h80-0-29" class="d">-	MergedAt     *time.Time `json:&quot;merged_at,omitempty&quot;`
</a><a href="#h80-0-30" id="h80-0-30" class="d">-	User         *User      `json:&quot;user,omitempty&quot;`
</a><a href="#h80-0-31" id="h80-0-31" class="d">-	Merged       *bool      `json:&quot;merged,omitempty&quot;`
</a><a href="#h80-0-32" id="h80-0-32" class="d">-	Mergeable    *bool      `json:&quot;mergeable,omitempty&quot;`
</a><a href="#h80-0-33" id="h80-0-33" class="d">-	MergedBy     *User      `json:&quot;merged_by,omitempty&quot;`
</a><a href="#h80-0-34" id="h80-0-34" class="d">-	Comments     *int       `json:&quot;comments,omitempty&quot;`
</a><a href="#h80-0-35" id="h80-0-35" class="d">-	Commits      *int       `json:&quot;commits,omitempty&quot;`
</a><a href="#h80-0-36" id="h80-0-36" class="d">-	Additions    *int       `json:&quot;additions,omitempty&quot;`
</a><a href="#h80-0-37" id="h80-0-37" class="d">-	Deletions    *int       `json:&quot;deletions,omitempty&quot;`
</a><a href="#h80-0-38" id="h80-0-38" class="d">-	ChangedFiles *int       `json:&quot;changed_files,omitempty&quot;`
</a><a href="#h80-0-39" id="h80-0-39" class="d">-	URL          *string    `json:&quot;url,omitempty&quot;`
</a><a href="#h80-0-40" id="h80-0-40" class="d">-	HTMLURL      *string    `json:&quot;html_url,omitempty&quot;`
</a><a href="#h80-0-41" id="h80-0-41" class="d">-	IssueURL     *string    `json:&quot;issue_url,omitempty&quot;`
</a><a href="#h80-0-42" id="h80-0-42" class="d">-	StatusesURL  *string    `json:&quot;statuses_url,omitempty&quot;`
</a><a href="#h80-0-43" id="h80-0-43" class="d">-	DiffURL      *string    `json:&quot;diff_url,omitempty&quot;`
</a><a href="#h80-0-44" id="h80-0-44" class="d">-	PatchURL     *string    `json:&quot;patch_url,omitempty&quot;`
</a><a href="#h80-0-45" id="h80-0-45" class="d">-
</a><a href="#h80-0-46" id="h80-0-46" class="d">-	Head *PullRequestBranch `json:&quot;head,omitempty&quot;`
</a><a href="#h80-0-47" id="h80-0-47" class="d">-	Base *PullRequestBranch `json:&quot;base,omitempty&quot;`
</a><a href="#h80-0-48" id="h80-0-48" class="d">-}
</a><a href="#h80-0-49" id="h80-0-49" class="d">-
</a><a href="#h80-0-50" id="h80-0-50" class="d">-func (p PullRequest) String() string {
</a><a href="#h80-0-51" id="h80-0-51" class="d">-	return Stringify(p)
</a><a href="#h80-0-52" id="h80-0-52" class="d">-}
</a><a href="#h80-0-53" id="h80-0-53" class="d">-
</a><a href="#h80-0-54" id="h80-0-54" class="d">-// PullRequestBranch represents a base or head branch in a GitHub pull request.
</a><a href="#h80-0-55" id="h80-0-55" class="d">-type PullRequestBranch struct {
</a><a href="#h80-0-56" id="h80-0-56" class="d">-	Label *string     `json:&quot;label,omitempty&quot;`
</a><a href="#h80-0-57" id="h80-0-57" class="d">-	Ref   *string     `json:&quot;ref,omitempty&quot;`
</a><a href="#h80-0-58" id="h80-0-58" class="d">-	SHA   *string     `json:&quot;sha,omitempty&quot;`
</a><a href="#h80-0-59" id="h80-0-59" class="d">-	Repo  *Repository `json:&quot;repo,omitempty&quot;`
</a><a href="#h80-0-60" id="h80-0-60" class="d">-	User  *User       `json:&quot;user,omitempty&quot;`
</a><a href="#h80-0-61" id="h80-0-61" class="d">-}
</a><a href="#h80-0-62" id="h80-0-62" class="d">-
</a><a href="#h80-0-63" id="h80-0-63" class="d">-// PullRequestListOptions specifies the optional parameters to the
</a><a href="#h80-0-64" id="h80-0-64" class="d">-// PullRequestsService.List method.
</a><a href="#h80-0-65" id="h80-0-65" class="d">-type PullRequestListOptions struct {
</a><a href="#h80-0-66" id="h80-0-66" class="d">-	// State filters pull requests based on their state.  Possible values are:
</a><a href="#h80-0-67" id="h80-0-67" class="d">-	// open, closed.  Default is &quot;open&quot;.
</a><a href="#h80-0-68" id="h80-0-68" class="d">-	State string `url:&quot;state,omitempty&quot;`
</a><a href="#h80-0-69" id="h80-0-69" class="d">-
</a><a href="#h80-0-70" id="h80-0-70" class="d">-	// Head filters pull requests by head user and branch name in the format of:
</a><a href="#h80-0-71" id="h80-0-71" class="d">-	// &quot;user:ref-name&quot;.
</a><a href="#h80-0-72" id="h80-0-72" class="d">-	Head string `url:&quot;head,omitempty&quot;`
</a><a href="#h80-0-73" id="h80-0-73" class="d">-
</a><a href="#h80-0-74" id="h80-0-74" class="d">-	// Base filters pull requests by base branch name.
</a><a href="#h80-0-75" id="h80-0-75" class="d">-	Base string `url:&quot;base,omitempty&quot;`
</a><a href="#h80-0-76" id="h80-0-76" class="d">-
</a><a href="#h80-0-77" id="h80-0-77" class="d">-	// Sort specifies how to sort pull requests. Possible values are: created,
</a><a href="#h80-0-78" id="h80-0-78" class="d">-	// updated, popularity, long-running. Default is &quot;created&quot;.
</a><a href="#h80-0-79" id="h80-0-79" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h80-0-80" id="h80-0-80" class="d">-
</a><a href="#h80-0-81" id="h80-0-81" class="d">-	// Direction in which to sort pull requests. Possible values are: asc, desc.
</a><a href="#h80-0-82" id="h80-0-82" class="d">-	// If Sort is &quot;created&quot; or not specified, Default is &quot;desc&quot;, otherwise Default
</a><a href="#h80-0-83" id="h80-0-83" class="d">-	// is &quot;asc&quot;
</a><a href="#h80-0-84" id="h80-0-84" class="d">-	Direction string `url:&quot;direction,omitempty&quot;`
</a><a href="#h80-0-85" id="h80-0-85" class="d">-
</a><a href="#h80-0-86" id="h80-0-86" class="d">-	ListOptions
</a><a href="#h80-0-87" id="h80-0-87" class="d">-}
</a><a href="#h80-0-88" id="h80-0-88" class="d">-
</a><a href="#h80-0-89" id="h80-0-89" class="d">-// List the pull requests for the specified repository.
</a><a href="#h80-0-90" id="h80-0-90" class="d">-//
</a><a href="#h80-0-91" id="h80-0-91" class="d">-// GitHub API docs: http://developer.github.com/v3/pulls/#list-pull-requests
</a><a href="#h80-0-92" id="h80-0-92" class="d">-func (s *PullRequestsService) List(owner string, repo string, opt *PullRequestListOptions) ([]PullRequest, *Response, error) {
</a><a href="#h80-0-93" id="h80-0-93" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls&quot;, owner, repo)
</a><a href="#h80-0-94" id="h80-0-94" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h80-0-95" id="h80-0-95" class="d">-	if err != nil {
</a><a href="#h80-0-96" id="h80-0-96" class="d">-		return nil, nil, err
</a><a href="#h80-0-97" id="h80-0-97" class="d">-	}
</a><a href="#h80-0-98" id="h80-0-98" class="d">-
</a><a href="#h80-0-99" id="h80-0-99" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h80-0-100" id="h80-0-100" class="d">-	if err != nil {
</a><a href="#h80-0-101" id="h80-0-101" class="d">-		return nil, nil, err
</a><a href="#h80-0-102" id="h80-0-102" class="d">-	}
</a><a href="#h80-0-103" id="h80-0-103" class="d">-
</a><a href="#h80-0-104" id="h80-0-104" class="d">-	pulls := new([]PullRequest)
</a><a href="#h80-0-105" id="h80-0-105" class="d">-	resp, err := s.client.Do(req, pulls)
</a><a href="#h80-0-106" id="h80-0-106" class="d">-	if err != nil {
</a><a href="#h80-0-107" id="h80-0-107" class="d">-		return nil, resp, err
</a><a href="#h80-0-108" id="h80-0-108" class="d">-	}
</a><a href="#h80-0-109" id="h80-0-109" class="d">-
</a><a href="#h80-0-110" id="h80-0-110" class="d">-	return *pulls, resp, err
</a><a href="#h80-0-111" id="h80-0-111" class="d">-}
</a><a href="#h80-0-112" id="h80-0-112" class="d">-
</a><a href="#h80-0-113" id="h80-0-113" class="d">-// Get a single pull request.
</a><a href="#h80-0-114" id="h80-0-114" class="d">-//
</a><a href="#h80-0-115" id="h80-0-115" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/#get-a-single-pull-request
</a><a href="#h80-0-116" id="h80-0-116" class="d">-func (s *PullRequestsService) Get(owner string, repo string, number int) (*PullRequest, *Response, error) {
</a><a href="#h80-0-117" id="h80-0-117" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/%d&quot;, owner, repo, number)
</a><a href="#h80-0-118" id="h80-0-118" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h80-0-119" id="h80-0-119" class="d">-	if err != nil {
</a><a href="#h80-0-120" id="h80-0-120" class="d">-		return nil, nil, err
</a><a href="#h80-0-121" id="h80-0-121" class="d">-	}
</a><a href="#h80-0-122" id="h80-0-122" class="d">-
</a><a href="#h80-0-123" id="h80-0-123" class="d">-	pull := new(PullRequest)
</a><a href="#h80-0-124" id="h80-0-124" class="d">-	resp, err := s.client.Do(req, pull)
</a><a href="#h80-0-125" id="h80-0-125" class="d">-	if err != nil {
</a><a href="#h80-0-126" id="h80-0-126" class="d">-		return nil, resp, err
</a><a href="#h80-0-127" id="h80-0-127" class="d">-	}
</a><a href="#h80-0-128" id="h80-0-128" class="d">-
</a><a href="#h80-0-129" id="h80-0-129" class="d">-	return pull, resp, err
</a><a href="#h80-0-130" id="h80-0-130" class="d">-}
</a><a href="#h80-0-131" id="h80-0-131" class="d">-
</a><a href="#h80-0-132" id="h80-0-132" class="d">-// NewPullRequest represents a new pull request to be created.
</a><a href="#h80-0-133" id="h80-0-133" class="d">-type NewPullRequest struct {
</a><a href="#h80-0-134" id="h80-0-134" class="d">-	Title *string `json:&quot;title,omitempty&quot;`
</a><a href="#h80-0-135" id="h80-0-135" class="d">-	Head  *string `json:&quot;head,omitempty&quot;`
</a><a href="#h80-0-136" id="h80-0-136" class="d">-	Base  *string `json:&quot;base,omitempty&quot;`
</a><a href="#h80-0-137" id="h80-0-137" class="d">-	Body  *string `json:&quot;body,omitempty&quot;`
</a><a href="#h80-0-138" id="h80-0-138" class="d">-	Issue *int    `json:&quot;issue,omitempty&quot;`
</a><a href="#h80-0-139" id="h80-0-139" class="d">-}
</a><a href="#h80-0-140" id="h80-0-140" class="d">-
</a><a href="#h80-0-141" id="h80-0-141" class="d">-// Create a new pull request on the specified repository.
</a><a href="#h80-0-142" id="h80-0-142" class="d">-//
</a><a href="#h80-0-143" id="h80-0-143" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/#create-a-pull-request
</a><a href="#h80-0-144" id="h80-0-144" class="d">-func (s *PullRequestsService) Create(owner string, repo string, pull *NewPullRequest) (*PullRequest, *Response, error) {
</a><a href="#h80-0-145" id="h80-0-145" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls&quot;, owner, repo)
</a><a href="#h80-0-146" id="h80-0-146" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, pull)
</a><a href="#h80-0-147" id="h80-0-147" class="d">-	if err != nil {
</a><a href="#h80-0-148" id="h80-0-148" class="d">-		return nil, nil, err
</a><a href="#h80-0-149" id="h80-0-149" class="d">-	}
</a><a href="#h80-0-150" id="h80-0-150" class="d">-
</a><a href="#h80-0-151" id="h80-0-151" class="d">-	p := new(PullRequest)
</a><a href="#h80-0-152" id="h80-0-152" class="d">-	resp, err := s.client.Do(req, p)
</a><a href="#h80-0-153" id="h80-0-153" class="d">-	if err != nil {
</a><a href="#h80-0-154" id="h80-0-154" class="d">-		return nil, resp, err
</a><a href="#h80-0-155" id="h80-0-155" class="d">-	}
</a><a href="#h80-0-156" id="h80-0-156" class="d">-
</a><a href="#h80-0-157" id="h80-0-157" class="d">-	return p, resp, err
</a><a href="#h80-0-158" id="h80-0-158" class="d">-}
</a><a href="#h80-0-159" id="h80-0-159" class="d">-
</a><a href="#h80-0-160" id="h80-0-160" class="d">-// Edit a pull request.
</a><a href="#h80-0-161" id="h80-0-161" class="d">-//
</a><a href="#h80-0-162" id="h80-0-162" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/#update-a-pull-request
</a><a href="#h80-0-163" id="h80-0-163" class="d">-func (s *PullRequestsService) Edit(owner string, repo string, number int, pull *PullRequest) (*PullRequest, *Response, error) {
</a><a href="#h80-0-164" id="h80-0-164" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/%d&quot;, owner, repo, number)
</a><a href="#h80-0-165" id="h80-0-165" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, pull)
</a><a href="#h80-0-166" id="h80-0-166" class="d">-	if err != nil {
</a><a href="#h80-0-167" id="h80-0-167" class="d">-		return nil, nil, err
</a><a href="#h80-0-168" id="h80-0-168" class="d">-	}
</a><a href="#h80-0-169" id="h80-0-169" class="d">-
</a><a href="#h80-0-170" id="h80-0-170" class="d">-	p := new(PullRequest)
</a><a href="#h80-0-171" id="h80-0-171" class="d">-	resp, err := s.client.Do(req, p)
</a><a href="#h80-0-172" id="h80-0-172" class="d">-	if err != nil {
</a><a href="#h80-0-173" id="h80-0-173" class="d">-		return nil, resp, err
</a><a href="#h80-0-174" id="h80-0-174" class="d">-	}
</a><a href="#h80-0-175" id="h80-0-175" class="d">-
</a><a href="#h80-0-176" id="h80-0-176" class="d">-	return p, resp, err
</a><a href="#h80-0-177" id="h80-0-177" class="d">-}
</a><a href="#h80-0-178" id="h80-0-178" class="d">-
</a><a href="#h80-0-179" id="h80-0-179" class="d">-// ListCommits lists the commits in a pull request.
</a><a href="#h80-0-180" id="h80-0-180" class="d">-//
</a><a href="#h80-0-181" id="h80-0-181" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/#list-commits-on-a-pull-request
</a><a href="#h80-0-182" id="h80-0-182" class="d">-func (s *PullRequestsService) ListCommits(owner string, repo string, number int, opt *ListOptions) ([]RepositoryCommit, *Response, error) {
</a><a href="#h80-0-183" id="h80-0-183" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/%d/commits&quot;, owner, repo, number)
</a><a href="#h80-0-184" id="h80-0-184" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h80-0-185" id="h80-0-185" class="d">-	if err != nil {
</a><a href="#h80-0-186" id="h80-0-186" class="d">-		return nil, nil, err
</a><a href="#h80-0-187" id="h80-0-187" class="d">-	}
</a><a href="#h80-0-188" id="h80-0-188" class="d">-
</a><a href="#h80-0-189" id="h80-0-189" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h80-0-190" id="h80-0-190" class="d">-	if err != nil {
</a><a href="#h80-0-191" id="h80-0-191" class="d">-		return nil, nil, err
</a><a href="#h80-0-192" id="h80-0-192" class="d">-	}
</a><a href="#h80-0-193" id="h80-0-193" class="d">-
</a><a href="#h80-0-194" id="h80-0-194" class="d">-	commits := new([]RepositoryCommit)
</a><a href="#h80-0-195" id="h80-0-195" class="d">-	resp, err := s.client.Do(req, commits)
</a><a href="#h80-0-196" id="h80-0-196" class="d">-	if err != nil {
</a><a href="#h80-0-197" id="h80-0-197" class="d">-		return nil, resp, err
</a><a href="#h80-0-198" id="h80-0-198" class="d">-	}
</a><a href="#h80-0-199" id="h80-0-199" class="d">-
</a><a href="#h80-0-200" id="h80-0-200" class="d">-	return *commits, resp, err
</a><a href="#h80-0-201" id="h80-0-201" class="d">-}
</a><a href="#h80-0-202" id="h80-0-202" class="d">-
</a><a href="#h80-0-203" id="h80-0-203" class="d">-// ListFiles lists the files in a pull request.
</a><a href="#h80-0-204" id="h80-0-204" class="d">-//
</a><a href="#h80-0-205" id="h80-0-205" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/#list-pull-requests-files
</a><a href="#h80-0-206" id="h80-0-206" class="d">-func (s *PullRequestsService) ListFiles(owner string, repo string, number int, opt *ListOptions) ([]CommitFile, *Response, error) {
</a><a href="#h80-0-207" id="h80-0-207" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/%d/files&quot;, owner, repo, number)
</a><a href="#h80-0-208" id="h80-0-208" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h80-0-209" id="h80-0-209" class="d">-	if err != nil {
</a><a href="#h80-0-210" id="h80-0-210" class="d">-		return nil, nil, err
</a><a href="#h80-0-211" id="h80-0-211" class="d">-	}
</a><a href="#h80-0-212" id="h80-0-212" class="d">-
</a><a href="#h80-0-213" id="h80-0-213" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h80-0-214" id="h80-0-214" class="d">-	if err != nil {
</a><a href="#h80-0-215" id="h80-0-215" class="d">-		return nil, nil, err
</a><a href="#h80-0-216" id="h80-0-216" class="d">-	}
</a><a href="#h80-0-217" id="h80-0-217" class="d">-
</a><a href="#h80-0-218" id="h80-0-218" class="d">-	commitFiles := new([]CommitFile)
</a><a href="#h80-0-219" id="h80-0-219" class="d">-	resp, err := s.client.Do(req, commitFiles)
</a><a href="#h80-0-220" id="h80-0-220" class="d">-	if err != nil {
</a><a href="#h80-0-221" id="h80-0-221" class="d">-		return nil, resp, err
</a><a href="#h80-0-222" id="h80-0-222" class="d">-	}
</a><a href="#h80-0-223" id="h80-0-223" class="d">-
</a><a href="#h80-0-224" id="h80-0-224" class="d">-	return *commitFiles, resp, err
</a><a href="#h80-0-225" id="h80-0-225" class="d">-}
</a><a href="#h80-0-226" id="h80-0-226" class="d">-
</a><a href="#h80-0-227" id="h80-0-227" class="d">-// IsMerged checks if a pull request has been merged.
</a><a href="#h80-0-228" id="h80-0-228" class="d">-//
</a><a href="#h80-0-229" id="h80-0-229" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/#get-if-a-pull-request-has-been-merged
</a><a href="#h80-0-230" id="h80-0-230" class="d">-func (s *PullRequestsService) IsMerged(owner string, repo string, number int) (bool, *Response, error) {
</a><a href="#h80-0-231" id="h80-0-231" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/%d/merge&quot;, owner, repo, number)
</a><a href="#h80-0-232" id="h80-0-232" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h80-0-233" id="h80-0-233" class="d">-	if err != nil {
</a><a href="#h80-0-234" id="h80-0-234" class="d">-		return false, nil, err
</a><a href="#h80-0-235" id="h80-0-235" class="d">-	}
</a><a href="#h80-0-236" id="h80-0-236" class="d">-
</a><a href="#h80-0-237" id="h80-0-237" class="d">-	resp, err := s.client.Do(req, nil)
</a><a href="#h80-0-238" id="h80-0-238" class="d">-	merged, err := parseBoolResponse(err)
</a><a href="#h80-0-239" id="h80-0-239" class="d">-	return merged, resp, err
</a><a href="#h80-0-240" id="h80-0-240" class="d">-}
</a><a href="#h80-0-241" id="h80-0-241" class="d">-
</a><a href="#h80-0-242" id="h80-0-242" class="d">-// PullRequestMergeResult represents the result of merging a pull request.
</a><a href="#h80-0-243" id="h80-0-243" class="d">-type PullRequestMergeResult struct {
</a><a href="#h80-0-244" id="h80-0-244" class="d">-	SHA     *string `json:&quot;sha,omitempty&quot;`
</a><a href="#h80-0-245" id="h80-0-245" class="d">-	Merged  *bool   `json:&quot;merged,omitempty&quot;`
</a><a href="#h80-0-246" id="h80-0-246" class="d">-	Message *string `json:&quot;message,omitempty&quot;`
</a><a href="#h80-0-247" id="h80-0-247" class="d">-}
</a><a href="#h80-0-248" id="h80-0-248" class="d">-
</a><a href="#h80-0-249" id="h80-0-249" class="d">-type pullRequestMergeRequest struct {
</a><a href="#h80-0-250" id="h80-0-250" class="d">-	CommitMessage *string `json:&quot;commit_message&quot;`
</a><a href="#h80-0-251" id="h80-0-251" class="d">-}
</a><a href="#h80-0-252" id="h80-0-252" class="d">-
</a><a href="#h80-0-253" id="h80-0-253" class="d">-// Merge a pull request (Merge Button).
</a><a href="#h80-0-254" id="h80-0-254" class="d">-//
</a><a href="#h80-0-255" id="h80-0-255" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/#merge-a-pull-request-merge-buttontrade
</a><a href="#h80-0-256" id="h80-0-256" class="d">-func (s *PullRequestsService) Merge(owner string, repo string, number int, commitMessage string) (*PullRequestMergeResult, *Response, error) {
</a><a href="#h80-0-257" id="h80-0-257" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/%d/merge&quot;, owner, repo, number)
</a><a href="#h80-0-258" id="h80-0-258" class="d">-
</a><a href="#h80-0-259" id="h80-0-259" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, &amp;pullRequestMergeRequest{
</a><a href="#h80-0-260" id="h80-0-260" class="d">-		CommitMessage: &amp;commitMessage,
</a><a href="#h80-0-261" id="h80-0-261" class="d">-	})
</a><a href="#h80-0-262" id="h80-0-262" class="d">-
</a><a href="#h80-0-263" id="h80-0-263" class="d">-	if err != nil {
</a><a href="#h80-0-264" id="h80-0-264" class="d">-		return nil, nil, err
</a><a href="#h80-0-265" id="h80-0-265" class="d">-	}
</a><a href="#h80-0-266" id="h80-0-266" class="d">-
</a><a href="#h80-0-267" id="h80-0-267" class="d">-	mergeResult := new(PullRequestMergeResult)
</a><a href="#h80-0-268" id="h80-0-268" class="d">-	resp, err := s.client.Do(req, mergeResult)
</a><a href="#h80-0-269" id="h80-0-269" class="d">-	if err != nil {
</a><a href="#h80-0-270" id="h80-0-270" class="d">-		return nil, resp, err
</a><a href="#h80-0-271" id="h80-0-271" class="d">-	}
</a><a href="#h80-0-272" id="h80-0-272" class="d">-
</a><a href="#h80-0-273" id="h80-0-273" class="d">-	return mergeResult, resp, err
</a><a href="#h80-0-274" id="h80-0-274" class="d">-}
</a><b>diff --git a/<a id="h81" href="../file/vendor/github.com/google/go-github/github/pulls_comments.go">vendor/github.com/google/go-github/github/pulls_comments.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/pulls_comments.go">vendor/github.com/google/go-github/github/pulls_comments.go</a></b>
<a href="#h81-0" id="h81-0" class="h">@@ -1,149 +0,0 @@
</a><a href="#h81-0-0" id="h81-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h81-0-1" id="h81-0-1" class="d">-//
</a><a href="#h81-0-2" id="h81-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h81-0-3" id="h81-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h81-0-4" id="h81-0-4" class="d">-
</a><a href="#h81-0-5" id="h81-0-5" class="d">-package github
</a><a href="#h81-0-6" id="h81-0-6" class="d">-
</a><a href="#h81-0-7" id="h81-0-7" class="d">-import (
</a><a href="#h81-0-8" id="h81-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h81-0-9" id="h81-0-9" class="d">-	&quot;time&quot;
</a><a href="#h81-0-10" id="h81-0-10" class="d">-)
</a><a href="#h81-0-11" id="h81-0-11" class="d">-
</a><a href="#h81-0-12" id="h81-0-12" class="d">-// PullRequestComment represents a comment left on a pull request.
</a><a href="#h81-0-13" id="h81-0-13" class="d">-type PullRequestComment struct {
</a><a href="#h81-0-14" id="h81-0-14" class="d">-	ID               *int       `json:&quot;id,omitempty&quot;`
</a><a href="#h81-0-15" id="h81-0-15" class="d">-	InReplyTo        *int       `json:&quot;in_reply_to,omitempty&quot;`
</a><a href="#h81-0-16" id="h81-0-16" class="d">-	Body             *string    `json:&quot;body,omitempty&quot;`
</a><a href="#h81-0-17" id="h81-0-17" class="d">-	Path             *string    `json:&quot;path,omitempty&quot;`
</a><a href="#h81-0-18" id="h81-0-18" class="d">-	DiffHunk         *string    `json:&quot;diff_hunk,omitempty&quot;`
</a><a href="#h81-0-19" id="h81-0-19" class="d">-	Position         *int       `json:&quot;position,omitempty&quot;`
</a><a href="#h81-0-20" id="h81-0-20" class="d">-	OriginalPosition *int       `json:&quot;original_position,omitempty&quot;`
</a><a href="#h81-0-21" id="h81-0-21" class="d">-	CommitID         *string    `json:&quot;commit_id,omitempty&quot;`
</a><a href="#h81-0-22" id="h81-0-22" class="d">-	OriginalCommitID *string    `json:&quot;original_commit_id,omitempty&quot;`
</a><a href="#h81-0-23" id="h81-0-23" class="d">-	User             *User      `json:&quot;user,omitempty&quot;`
</a><a href="#h81-0-24" id="h81-0-24" class="d">-	CreatedAt        *time.Time `json:&quot;created_at,omitempty&quot;`
</a><a href="#h81-0-25" id="h81-0-25" class="d">-	UpdatedAt        *time.Time `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h81-0-26" id="h81-0-26" class="d">-	URL              *string    `json:&quot;url,omitempty&quot;`
</a><a href="#h81-0-27" id="h81-0-27" class="d">-	HTMLURL          *string    `json:&quot;html_url,omitempty&quot;`
</a><a href="#h81-0-28" id="h81-0-28" class="d">-	PullRequestURL   *string    `json:&quot;pull_request_url,omitempty&quot;`
</a><a href="#h81-0-29" id="h81-0-29" class="d">-}
</a><a href="#h81-0-30" id="h81-0-30" class="d">-
</a><a href="#h81-0-31" id="h81-0-31" class="d">-func (p PullRequestComment) String() string {
</a><a href="#h81-0-32" id="h81-0-32" class="d">-	return Stringify(p)
</a><a href="#h81-0-33" id="h81-0-33" class="d">-}
</a><a href="#h81-0-34" id="h81-0-34" class="d">-
</a><a href="#h81-0-35" id="h81-0-35" class="d">-// PullRequestListCommentsOptions specifies the optional parameters to the
</a><a href="#h81-0-36" id="h81-0-36" class="d">-// PullRequestsService.ListComments method.
</a><a href="#h81-0-37" id="h81-0-37" class="d">-type PullRequestListCommentsOptions struct {
</a><a href="#h81-0-38" id="h81-0-38" class="d">-	// Sort specifies how to sort comments.  Possible values are: created, updated.
</a><a href="#h81-0-39" id="h81-0-39" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h81-0-40" id="h81-0-40" class="d">-
</a><a href="#h81-0-41" id="h81-0-41" class="d">-	// Direction in which to sort comments.  Possible values are: asc, desc.
</a><a href="#h81-0-42" id="h81-0-42" class="d">-	Direction string `url:&quot;direction,omitempty&quot;`
</a><a href="#h81-0-43" id="h81-0-43" class="d">-
</a><a href="#h81-0-44" id="h81-0-44" class="d">-	// Since filters comments by time.
</a><a href="#h81-0-45" id="h81-0-45" class="d">-	Since time.Time `url:&quot;since,omitempty&quot;`
</a><a href="#h81-0-46" id="h81-0-46" class="d">-
</a><a href="#h81-0-47" id="h81-0-47" class="d">-	ListOptions
</a><a href="#h81-0-48" id="h81-0-48" class="d">-}
</a><a href="#h81-0-49" id="h81-0-49" class="d">-
</a><a href="#h81-0-50" id="h81-0-50" class="d">-// ListComments lists all comments on the specified pull request.  Specifying a
</a><a href="#h81-0-51" id="h81-0-51" class="d">-// pull request number of 0 will return all comments on all pull requests for
</a><a href="#h81-0-52" id="h81-0-52" class="d">-// the repository.
</a><a href="#h81-0-53" id="h81-0-53" class="d">-//
</a><a href="#h81-0-54" id="h81-0-54" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/comments/#list-comments-on-a-pull-request
</a><a href="#h81-0-55" id="h81-0-55" class="d">-func (s *PullRequestsService) ListComments(owner string, repo string, number int, opt *PullRequestListCommentsOptions) ([]PullRequestComment, *Response, error) {
</a><a href="#h81-0-56" id="h81-0-56" class="d">-	var u string
</a><a href="#h81-0-57" id="h81-0-57" class="d">-	if number == 0 {
</a><a href="#h81-0-58" id="h81-0-58" class="d">-		u = fmt.Sprintf(&quot;repos/%v/%v/pulls/comments&quot;, owner, repo)
</a><a href="#h81-0-59" id="h81-0-59" class="d">-	} else {
</a><a href="#h81-0-60" id="h81-0-60" class="d">-		u = fmt.Sprintf(&quot;repos/%v/%v/pulls/%d/comments&quot;, owner, repo, number)
</a><a href="#h81-0-61" id="h81-0-61" class="d">-	}
</a><a href="#h81-0-62" id="h81-0-62" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h81-0-63" id="h81-0-63" class="d">-	if err != nil {
</a><a href="#h81-0-64" id="h81-0-64" class="d">-		return nil, nil, err
</a><a href="#h81-0-65" id="h81-0-65" class="d">-	}
</a><a href="#h81-0-66" id="h81-0-66" class="d">-
</a><a href="#h81-0-67" id="h81-0-67" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h81-0-68" id="h81-0-68" class="d">-	if err != nil {
</a><a href="#h81-0-69" id="h81-0-69" class="d">-		return nil, nil, err
</a><a href="#h81-0-70" id="h81-0-70" class="d">-	}
</a><a href="#h81-0-71" id="h81-0-71" class="d">-
</a><a href="#h81-0-72" id="h81-0-72" class="d">-	comments := new([]PullRequestComment)
</a><a href="#h81-0-73" id="h81-0-73" class="d">-	resp, err := s.client.Do(req, comments)
</a><a href="#h81-0-74" id="h81-0-74" class="d">-	if err != nil {
</a><a href="#h81-0-75" id="h81-0-75" class="d">-		return nil, resp, err
</a><a href="#h81-0-76" id="h81-0-76" class="d">-	}
</a><a href="#h81-0-77" id="h81-0-77" class="d">-
</a><a href="#h81-0-78" id="h81-0-78" class="d">-	return *comments, resp, err
</a><a href="#h81-0-79" id="h81-0-79" class="d">-}
</a><a href="#h81-0-80" id="h81-0-80" class="d">-
</a><a href="#h81-0-81" id="h81-0-81" class="d">-// GetComment fetches the specified pull request comment.
</a><a href="#h81-0-82" id="h81-0-82" class="d">-//
</a><a href="#h81-0-83" id="h81-0-83" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/comments/#get-a-single-comment
</a><a href="#h81-0-84" id="h81-0-84" class="d">-func (s *PullRequestsService) GetComment(owner string, repo string, number int) (*PullRequestComment, *Response, error) {
</a><a href="#h81-0-85" id="h81-0-85" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/comments/%d&quot;, owner, repo, number)
</a><a href="#h81-0-86" id="h81-0-86" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h81-0-87" id="h81-0-87" class="d">-	if err != nil {
</a><a href="#h81-0-88" id="h81-0-88" class="d">-		return nil, nil, err
</a><a href="#h81-0-89" id="h81-0-89" class="d">-	}
</a><a href="#h81-0-90" id="h81-0-90" class="d">-
</a><a href="#h81-0-91" id="h81-0-91" class="d">-	comment := new(PullRequestComment)
</a><a href="#h81-0-92" id="h81-0-92" class="d">-	resp, err := s.client.Do(req, comment)
</a><a href="#h81-0-93" id="h81-0-93" class="d">-	if err != nil {
</a><a href="#h81-0-94" id="h81-0-94" class="d">-		return nil, resp, err
</a><a href="#h81-0-95" id="h81-0-95" class="d">-	}
</a><a href="#h81-0-96" id="h81-0-96" class="d">-
</a><a href="#h81-0-97" id="h81-0-97" class="d">-	return comment, resp, err
</a><a href="#h81-0-98" id="h81-0-98" class="d">-}
</a><a href="#h81-0-99" id="h81-0-99" class="d">-
</a><a href="#h81-0-100" id="h81-0-100" class="d">-// CreateComment creates a new comment on the specified pull request.
</a><a href="#h81-0-101" id="h81-0-101" class="d">-//
</a><a href="#h81-0-102" id="h81-0-102" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/comments/#create-a-comment
</a><a href="#h81-0-103" id="h81-0-103" class="d">-func (s *PullRequestsService) CreateComment(owner string, repo string, number int, comment *PullRequestComment) (*PullRequestComment, *Response, error) {
</a><a href="#h81-0-104" id="h81-0-104" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/%d/comments&quot;, owner, repo, number)
</a><a href="#h81-0-105" id="h81-0-105" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, comment)
</a><a href="#h81-0-106" id="h81-0-106" class="d">-	if err != nil {
</a><a href="#h81-0-107" id="h81-0-107" class="d">-		return nil, nil, err
</a><a href="#h81-0-108" id="h81-0-108" class="d">-	}
</a><a href="#h81-0-109" id="h81-0-109" class="d">-
</a><a href="#h81-0-110" id="h81-0-110" class="d">-	c := new(PullRequestComment)
</a><a href="#h81-0-111" id="h81-0-111" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h81-0-112" id="h81-0-112" class="d">-	if err != nil {
</a><a href="#h81-0-113" id="h81-0-113" class="d">-		return nil, resp, err
</a><a href="#h81-0-114" id="h81-0-114" class="d">-	}
</a><a href="#h81-0-115" id="h81-0-115" class="d">-
</a><a href="#h81-0-116" id="h81-0-116" class="d">-	return c, resp, err
</a><a href="#h81-0-117" id="h81-0-117" class="d">-}
</a><a href="#h81-0-118" id="h81-0-118" class="d">-
</a><a href="#h81-0-119" id="h81-0-119" class="d">-// EditComment updates a pull request comment.
</a><a href="#h81-0-120" id="h81-0-120" class="d">-//
</a><a href="#h81-0-121" id="h81-0-121" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/comments/#edit-a-comment
</a><a href="#h81-0-122" id="h81-0-122" class="d">-func (s *PullRequestsService) EditComment(owner string, repo string, number int, comment *PullRequestComment) (*PullRequestComment, *Response, error) {
</a><a href="#h81-0-123" id="h81-0-123" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/comments/%d&quot;, owner, repo, number)
</a><a href="#h81-0-124" id="h81-0-124" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, comment)
</a><a href="#h81-0-125" id="h81-0-125" class="d">-	if err != nil {
</a><a href="#h81-0-126" id="h81-0-126" class="d">-		return nil, nil, err
</a><a href="#h81-0-127" id="h81-0-127" class="d">-	}
</a><a href="#h81-0-128" id="h81-0-128" class="d">-
</a><a href="#h81-0-129" id="h81-0-129" class="d">-	c := new(PullRequestComment)
</a><a href="#h81-0-130" id="h81-0-130" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h81-0-131" id="h81-0-131" class="d">-	if err != nil {
</a><a href="#h81-0-132" id="h81-0-132" class="d">-		return nil, resp, err
</a><a href="#h81-0-133" id="h81-0-133" class="d">-	}
</a><a href="#h81-0-134" id="h81-0-134" class="d">-
</a><a href="#h81-0-135" id="h81-0-135" class="d">-	return c, resp, err
</a><a href="#h81-0-136" id="h81-0-136" class="d">-}
</a><a href="#h81-0-137" id="h81-0-137" class="d">-
</a><a href="#h81-0-138" id="h81-0-138" class="d">-// DeleteComment deletes a pull request comment.
</a><a href="#h81-0-139" id="h81-0-139" class="d">-//
</a><a href="#h81-0-140" id="h81-0-140" class="d">-// GitHub API docs: https://developer.github.com/v3/pulls/comments/#delete-a-comment
</a><a href="#h81-0-141" id="h81-0-141" class="d">-func (s *PullRequestsService) DeleteComment(owner string, repo string, number int) (*Response, error) {
</a><a href="#h81-0-142" id="h81-0-142" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pulls/comments/%d&quot;, owner, repo, number)
</a><a href="#h81-0-143" id="h81-0-143" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h81-0-144" id="h81-0-144" class="d">-	if err != nil {
</a><a href="#h81-0-145" id="h81-0-145" class="d">-		return nil, err
</a><a href="#h81-0-146" id="h81-0-146" class="d">-	}
</a><a href="#h81-0-147" id="h81-0-147" class="d">-	return s.client.Do(req, nil)
</a><a href="#h81-0-148" id="h81-0-148" class="d">-}
</a><b>diff --git a/<a id="h82" href="../file/vendor/github.com/google/go-github/github/repos.go">vendor/github.com/google/go-github/github/repos.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos.go">vendor/github.com/google/go-github/github/repos.go</a></b>
<a href="#h82-0" id="h82-0" class="h">@@ -1,559 +0,0 @@
</a><a href="#h82-0-0" id="h82-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h82-0-1" id="h82-0-1" class="d">-//
</a><a href="#h82-0-2" id="h82-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h82-0-3" id="h82-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h82-0-4" id="h82-0-4" class="d">-
</a><a href="#h82-0-5" id="h82-0-5" class="d">-package github
</a><a href="#h82-0-6" id="h82-0-6" class="d">-
</a><a href="#h82-0-7" id="h82-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h82-0-8" id="h82-0-8" class="d">-
</a><a href="#h82-0-9" id="h82-0-9" class="d">-// RepositoriesService handles communication with the repository related
</a><a href="#h82-0-10" id="h82-0-10" class="d">-// methods of the GitHub API.
</a><a href="#h82-0-11" id="h82-0-11" class="d">-//
</a><a href="#h82-0-12" id="h82-0-12" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/
</a><a href="#h82-0-13" id="h82-0-13" class="d">-type RepositoriesService struct {
</a><a href="#h82-0-14" id="h82-0-14" class="d">-	client *Client
</a><a href="#h82-0-15" id="h82-0-15" class="d">-}
</a><a href="#h82-0-16" id="h82-0-16" class="d">-
</a><a href="#h82-0-17" id="h82-0-17" class="d">-// Repository represents a GitHub repository.
</a><a href="#h82-0-18" id="h82-0-18" class="d">-type Repository struct {
</a><a href="#h82-0-19" id="h82-0-19" class="d">-	ID               *int             `json:&quot;id,omitempty&quot;`
</a><a href="#h82-0-20" id="h82-0-20" class="d">-	Owner            *User            `json:&quot;owner,omitempty&quot;`
</a><a href="#h82-0-21" id="h82-0-21" class="d">-	Name             *string          `json:&quot;name,omitempty&quot;`
</a><a href="#h82-0-22" id="h82-0-22" class="d">-	FullName         *string          `json:&quot;full_name,omitempty&quot;`
</a><a href="#h82-0-23" id="h82-0-23" class="d">-	Description      *string          `json:&quot;description,omitempty&quot;`
</a><a href="#h82-0-24" id="h82-0-24" class="d">-	Homepage         *string          `json:&quot;homepage,omitempty&quot;`
</a><a href="#h82-0-25" id="h82-0-25" class="d">-	DefaultBranch    *string          `json:&quot;default_branch,omitempty&quot;`
</a><a href="#h82-0-26" id="h82-0-26" class="d">-	MasterBranch     *string          `json:&quot;master_branch,omitempty&quot;`
</a><a href="#h82-0-27" id="h82-0-27" class="d">-	CreatedAt        *Timestamp       `json:&quot;created_at,omitempty&quot;`
</a><a href="#h82-0-28" id="h82-0-28" class="d">-	PushedAt         *Timestamp       `json:&quot;pushed_at,omitempty&quot;`
</a><a href="#h82-0-29" id="h82-0-29" class="d">-	UpdatedAt        *Timestamp       `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h82-0-30" id="h82-0-30" class="d">-	HTMLURL          *string          `json:&quot;html_url,omitempty&quot;`
</a><a href="#h82-0-31" id="h82-0-31" class="d">-	CloneURL         *string          `json:&quot;clone_url,omitempty&quot;`
</a><a href="#h82-0-32" id="h82-0-32" class="d">-	GitURL           *string          `json:&quot;git_url,omitempty&quot;`
</a><a href="#h82-0-33" id="h82-0-33" class="d">-	MirrorURL        *string          `json:&quot;mirror_url,omitempty&quot;`
</a><a href="#h82-0-34" id="h82-0-34" class="d">-	SSHURL           *string          `json:&quot;ssh_url,omitempty&quot;`
</a><a href="#h82-0-35" id="h82-0-35" class="d">-	SVNURL           *string          `json:&quot;svn_url,omitempty&quot;`
</a><a href="#h82-0-36" id="h82-0-36" class="d">-	Language         *string          `json:&quot;language,omitempty&quot;`
</a><a href="#h82-0-37" id="h82-0-37" class="d">-	Fork             *bool            `json:&quot;fork&quot;`
</a><a href="#h82-0-38" id="h82-0-38" class="d">-	ForksCount       *int             `json:&quot;forks_count,omitempty&quot;`
</a><a href="#h82-0-39" id="h82-0-39" class="d">-	NetworkCount     *int             `json:&quot;network_count,omitempty&quot;`
</a><a href="#h82-0-40" id="h82-0-40" class="d">-	OpenIssuesCount  *int             `json:&quot;open_issues_count,omitempty&quot;`
</a><a href="#h82-0-41" id="h82-0-41" class="d">-	StargazersCount  *int             `json:&quot;stargazers_count,omitempty&quot;`
</a><a href="#h82-0-42" id="h82-0-42" class="d">-	SubscribersCount *int             `json:&quot;subscribers_count,omitempty&quot;`
</a><a href="#h82-0-43" id="h82-0-43" class="d">-	WatchersCount    *int             `json:&quot;watchers_count,omitempty&quot;`
</a><a href="#h82-0-44" id="h82-0-44" class="d">-	Size             *int             `json:&quot;size,omitempty&quot;`
</a><a href="#h82-0-45" id="h82-0-45" class="d">-	AutoInit         *bool            `json:&quot;auto_init,omitempty&quot;`
</a><a href="#h82-0-46" id="h82-0-46" class="d">-	Parent           *Repository      `json:&quot;parent,omitempty&quot;`
</a><a href="#h82-0-47" id="h82-0-47" class="d">-	Source           *Repository      `json:&quot;source,omitempty&quot;`
</a><a href="#h82-0-48" id="h82-0-48" class="d">-	Organization     *Organization    `json:&quot;organization,omitempty&quot;`
</a><a href="#h82-0-49" id="h82-0-49" class="d">-	Permissions      *map[string]bool `json:&quot;permissions,omitempty&quot;`
</a><a href="#h82-0-50" id="h82-0-50" class="d">-
</a><a href="#h82-0-51" id="h82-0-51" class="d">-	// Only provided when using RepositoriesService.Get while in preview
</a><a href="#h82-0-52" id="h82-0-52" class="d">-	License *License `json:&quot;license,omitempty&quot;`
</a><a href="#h82-0-53" id="h82-0-53" class="d">-
</a><a href="#h82-0-54" id="h82-0-54" class="d">-	// Additional mutable fields when creating and editing a repository
</a><a href="#h82-0-55" id="h82-0-55" class="d">-	Private      *bool `json:&quot;private&quot;`
</a><a href="#h82-0-56" id="h82-0-56" class="d">-	HasIssues    *bool `json:&quot;has_issues&quot;`
</a><a href="#h82-0-57" id="h82-0-57" class="d">-	HasWiki      *bool `json:&quot;has_wiki&quot;`
</a><a href="#h82-0-58" id="h82-0-58" class="d">-	HasDownloads *bool `json:&quot;has_downloads&quot;`
</a><a href="#h82-0-59" id="h82-0-59" class="d">-	// Creating an organization repository. Required for non-owners.
</a><a href="#h82-0-60" id="h82-0-60" class="d">-	TeamID *int `json:&quot;team_id&quot;`
</a><a href="#h82-0-61" id="h82-0-61" class="d">-
</a><a href="#h82-0-62" id="h82-0-62" class="d">-	// API URLs
</a><a href="#h82-0-63" id="h82-0-63" class="d">-	URL              *string `json:&quot;url,omitempty&quot;`
</a><a href="#h82-0-64" id="h82-0-64" class="d">-	ArchiveURL       *string `json:&quot;archive_url,omitempty&quot;`
</a><a href="#h82-0-65" id="h82-0-65" class="d">-	AssigneesURL     *string `json:&quot;assignees_url,omitempty&quot;`
</a><a href="#h82-0-66" id="h82-0-66" class="d">-	BlobsURL         *string `json:&quot;blobs_url,omitempty&quot;`
</a><a href="#h82-0-67" id="h82-0-67" class="d">-	BranchesURL      *string `json:&quot;branches_url,omitempty&quot;`
</a><a href="#h82-0-68" id="h82-0-68" class="d">-	CollaboratorsURL *string `json:&quot;collaborators_url,omitempty&quot;`
</a><a href="#h82-0-69" id="h82-0-69" class="d">-	CommentsURL      *string `json:&quot;comments_url,omitempty&quot;`
</a><a href="#h82-0-70" id="h82-0-70" class="d">-	CommitsURL       *string `json:&quot;commits_url,omitempty&quot;`
</a><a href="#h82-0-71" id="h82-0-71" class="d">-	CompareURL       *string `json:&quot;compare_url,omitempty&quot;`
</a><a href="#h82-0-72" id="h82-0-72" class="d">-	ContentsURL      *string `json:&quot;contents_url,omitempty&quot;`
</a><a href="#h82-0-73" id="h82-0-73" class="d">-	ContributorsURL  *string `json:&quot;contributors_url,omitempty&quot;`
</a><a href="#h82-0-74" id="h82-0-74" class="d">-	DownloadsURL     *string `json:&quot;downloads_url,omitempty&quot;`
</a><a href="#h82-0-75" id="h82-0-75" class="d">-	EventsURL        *string `json:&quot;events_url,omitempty&quot;`
</a><a href="#h82-0-76" id="h82-0-76" class="d">-	ForksURL         *string `json:&quot;forks_url,omitempty&quot;`
</a><a href="#h82-0-77" id="h82-0-77" class="d">-	GitCommitsURL    *string `json:&quot;git_commits_url,omitempty&quot;`
</a><a href="#h82-0-78" id="h82-0-78" class="d">-	GitRefsURL       *string `json:&quot;git_refs_url,omitempty&quot;`
</a><a href="#h82-0-79" id="h82-0-79" class="d">-	GitTagsURL       *string `json:&quot;git_tags_url,omitempty&quot;`
</a><a href="#h82-0-80" id="h82-0-80" class="d">-	HooksURL         *string `json:&quot;hooks_url,omitempty&quot;`
</a><a href="#h82-0-81" id="h82-0-81" class="d">-	IssueCommentURL  *string `json:&quot;issue_comment_url,omitempty&quot;`
</a><a href="#h82-0-82" id="h82-0-82" class="d">-	IssueEventsURL   *string `json:&quot;issue_events_url,omitempty&quot;`
</a><a href="#h82-0-83" id="h82-0-83" class="d">-	IssuesURL        *string `json:&quot;issues_url,omitempty&quot;`
</a><a href="#h82-0-84" id="h82-0-84" class="d">-	KeysURL          *string `json:&quot;keys_url,omitempty&quot;`
</a><a href="#h82-0-85" id="h82-0-85" class="d">-	LabelsURL        *string `json:&quot;labels_url,omitempty&quot;`
</a><a href="#h82-0-86" id="h82-0-86" class="d">-	LanguagesURL     *string `json:&quot;languages_url,omitempty&quot;`
</a><a href="#h82-0-87" id="h82-0-87" class="d">-	MergesURL        *string `json:&quot;merges_url,omitempty&quot;`
</a><a href="#h82-0-88" id="h82-0-88" class="d">-	MilestonesURL    *string `json:&quot;milestones_url,omitempty&quot;`
</a><a href="#h82-0-89" id="h82-0-89" class="d">-	NotificationsURL *string `json:&quot;notifications_url,omitempty&quot;`
</a><a href="#h82-0-90" id="h82-0-90" class="d">-	PullsURL         *string `json:&quot;pulls_url,omitempty&quot;`
</a><a href="#h82-0-91" id="h82-0-91" class="d">-	ReleasesURL      *string `json:&quot;releases_url,omitempty&quot;`
</a><a href="#h82-0-92" id="h82-0-92" class="d">-	StargazersURL    *string `json:&quot;stargazers_url,omitempty&quot;`
</a><a href="#h82-0-93" id="h82-0-93" class="d">-	StatusesURL      *string `json:&quot;statuses_url,omitempty&quot;`
</a><a href="#h82-0-94" id="h82-0-94" class="d">-	SubscribersURL   *string `json:&quot;subscribers_url,omitempty&quot;`
</a><a href="#h82-0-95" id="h82-0-95" class="d">-	SubscriptionURL  *string `json:&quot;subscription_url,omitempty&quot;`
</a><a href="#h82-0-96" id="h82-0-96" class="d">-	TagsURL          *string `json:&quot;tags_url,omitempty&quot;`
</a><a href="#h82-0-97" id="h82-0-97" class="d">-	TreesURL         *string `json:&quot;trees_url,omitempty&quot;`
</a><a href="#h82-0-98" id="h82-0-98" class="d">-	TeamsURL         *string `json:&quot;teams_url,omitempty&quot;`
</a><a href="#h82-0-99" id="h82-0-99" class="d">-
</a><a href="#h82-0-100" id="h82-0-100" class="d">-	// TextMatches is only populated from search results that request text matches
</a><a href="#h82-0-101" id="h82-0-101" class="d">-	// See: search.go and https://developer.github.com/v3/search/#text-match-metadata
</a><a href="#h82-0-102" id="h82-0-102" class="d">-	TextMatches []TextMatch `json:&quot;text_matches,omitempty&quot;`
</a><a href="#h82-0-103" id="h82-0-103" class="d">-}
</a><a href="#h82-0-104" id="h82-0-104" class="d">-
</a><a href="#h82-0-105" id="h82-0-105" class="d">-func (r Repository) String() string {
</a><a href="#h82-0-106" id="h82-0-106" class="d">-	return Stringify(r)
</a><a href="#h82-0-107" id="h82-0-107" class="d">-}
</a><a href="#h82-0-108" id="h82-0-108" class="d">-
</a><a href="#h82-0-109" id="h82-0-109" class="d">-// RepositoryListOptions specifies the optional parameters to the
</a><a href="#h82-0-110" id="h82-0-110" class="d">-// RepositoriesService.List method.
</a><a href="#h82-0-111" id="h82-0-111" class="d">-type RepositoryListOptions struct {
</a><a href="#h82-0-112" id="h82-0-112" class="d">-	// Type of repositories to list.  Possible values are: all, owner, public,
</a><a href="#h82-0-113" id="h82-0-113" class="d">-	// private, member.  Default is &quot;all&quot;.
</a><a href="#h82-0-114" id="h82-0-114" class="d">-	Type string `url:&quot;type,omitempty&quot;`
</a><a href="#h82-0-115" id="h82-0-115" class="d">-
</a><a href="#h82-0-116" id="h82-0-116" class="d">-	// How to sort the repository list.  Possible values are: created, updated,
</a><a href="#h82-0-117" id="h82-0-117" class="d">-	// pushed, full_name.  Default is &quot;full_name&quot;.
</a><a href="#h82-0-118" id="h82-0-118" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h82-0-119" id="h82-0-119" class="d">-
</a><a href="#h82-0-120" id="h82-0-120" class="d">-	// Direction in which to sort repositories.  Possible values are: asc, desc.
</a><a href="#h82-0-121" id="h82-0-121" class="d">-	// Default is &quot;asc&quot; when sort is &quot;full_name&quot;, otherwise default is &quot;desc&quot;.
</a><a href="#h82-0-122" id="h82-0-122" class="d">-	Direction string `url:&quot;direction,omitempty&quot;`
</a><a href="#h82-0-123" id="h82-0-123" class="d">-
</a><a href="#h82-0-124" id="h82-0-124" class="d">-	ListOptions
</a><a href="#h82-0-125" id="h82-0-125" class="d">-}
</a><a href="#h82-0-126" id="h82-0-126" class="d">-
</a><a href="#h82-0-127" id="h82-0-127" class="d">-// List the repositories for a user.  Passing the empty string will list
</a><a href="#h82-0-128" id="h82-0-128" class="d">-// repositories for the authenticated user.
</a><a href="#h82-0-129" id="h82-0-129" class="d">-//
</a><a href="#h82-0-130" id="h82-0-130" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/#list-user-repositories
</a><a href="#h82-0-131" id="h82-0-131" class="d">-func (s *RepositoriesService) List(user string, opt *RepositoryListOptions) ([]Repository, *Response, error) {
</a><a href="#h82-0-132" id="h82-0-132" class="d">-	var u string
</a><a href="#h82-0-133" id="h82-0-133" class="d">-	if user != &quot;&quot; {
</a><a href="#h82-0-134" id="h82-0-134" class="d">-		u = fmt.Sprintf(&quot;users/%v/repos&quot;, user)
</a><a href="#h82-0-135" id="h82-0-135" class="d">-	} else {
</a><a href="#h82-0-136" id="h82-0-136" class="d">-		u = &quot;user/repos&quot;
</a><a href="#h82-0-137" id="h82-0-137" class="d">-	}
</a><a href="#h82-0-138" id="h82-0-138" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h82-0-139" id="h82-0-139" class="d">-	if err != nil {
</a><a href="#h82-0-140" id="h82-0-140" class="d">-		return nil, nil, err
</a><a href="#h82-0-141" id="h82-0-141" class="d">-	}
</a><a href="#h82-0-142" id="h82-0-142" class="d">-
</a><a href="#h82-0-143" id="h82-0-143" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-144" id="h82-0-144" class="d">-	if err != nil {
</a><a href="#h82-0-145" id="h82-0-145" class="d">-		return nil, nil, err
</a><a href="#h82-0-146" id="h82-0-146" class="d">-	}
</a><a href="#h82-0-147" id="h82-0-147" class="d">-
</a><a href="#h82-0-148" id="h82-0-148" class="d">-	// TODO: remove custom Accept header when license support fully launches
</a><a href="#h82-0-149" id="h82-0-149" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeLicensesPreview)
</a><a href="#h82-0-150" id="h82-0-150" class="d">-
</a><a href="#h82-0-151" id="h82-0-151" class="d">-	repos := new([]Repository)
</a><a href="#h82-0-152" id="h82-0-152" class="d">-	resp, err := s.client.Do(req, repos)
</a><a href="#h82-0-153" id="h82-0-153" class="d">-	if err != nil {
</a><a href="#h82-0-154" id="h82-0-154" class="d">-		return nil, resp, err
</a><a href="#h82-0-155" id="h82-0-155" class="d">-	}
</a><a href="#h82-0-156" id="h82-0-156" class="d">-
</a><a href="#h82-0-157" id="h82-0-157" class="d">-	return *repos, resp, err
</a><a href="#h82-0-158" id="h82-0-158" class="d">-}
</a><a href="#h82-0-159" id="h82-0-159" class="d">-
</a><a href="#h82-0-160" id="h82-0-160" class="d">-// RepositoryListByOrgOptions specifies the optional parameters to the
</a><a href="#h82-0-161" id="h82-0-161" class="d">-// RepositoriesService.ListByOrg method.
</a><a href="#h82-0-162" id="h82-0-162" class="d">-type RepositoryListByOrgOptions struct {
</a><a href="#h82-0-163" id="h82-0-163" class="d">-	// Type of repositories to list.  Possible values are: all, public, private,
</a><a href="#h82-0-164" id="h82-0-164" class="d">-	// forks, sources, member.  Default is &quot;all&quot;.
</a><a href="#h82-0-165" id="h82-0-165" class="d">-	Type string `url:&quot;type,omitempty&quot;`
</a><a href="#h82-0-166" id="h82-0-166" class="d">-
</a><a href="#h82-0-167" id="h82-0-167" class="d">-	ListOptions
</a><a href="#h82-0-168" id="h82-0-168" class="d">-}
</a><a href="#h82-0-169" id="h82-0-169" class="d">-
</a><a href="#h82-0-170" id="h82-0-170" class="d">-// ListByOrg lists the repositories for an organization.
</a><a href="#h82-0-171" id="h82-0-171" class="d">-//
</a><a href="#h82-0-172" id="h82-0-172" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/#list-organization-repositories
</a><a href="#h82-0-173" id="h82-0-173" class="d">-func (s *RepositoriesService) ListByOrg(org string, opt *RepositoryListByOrgOptions) ([]Repository, *Response, error) {
</a><a href="#h82-0-174" id="h82-0-174" class="d">-	u := fmt.Sprintf(&quot;orgs/%v/repos&quot;, org)
</a><a href="#h82-0-175" id="h82-0-175" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h82-0-176" id="h82-0-176" class="d">-	if err != nil {
</a><a href="#h82-0-177" id="h82-0-177" class="d">-		return nil, nil, err
</a><a href="#h82-0-178" id="h82-0-178" class="d">-	}
</a><a href="#h82-0-179" id="h82-0-179" class="d">-
</a><a href="#h82-0-180" id="h82-0-180" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-181" id="h82-0-181" class="d">-	if err != nil {
</a><a href="#h82-0-182" id="h82-0-182" class="d">-		return nil, nil, err
</a><a href="#h82-0-183" id="h82-0-183" class="d">-	}
</a><a href="#h82-0-184" id="h82-0-184" class="d">-
</a><a href="#h82-0-185" id="h82-0-185" class="d">-	// TODO: remove custom Accept header when license support fully launches
</a><a href="#h82-0-186" id="h82-0-186" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeLicensesPreview)
</a><a href="#h82-0-187" id="h82-0-187" class="d">-
</a><a href="#h82-0-188" id="h82-0-188" class="d">-	repos := new([]Repository)
</a><a href="#h82-0-189" id="h82-0-189" class="d">-	resp, err := s.client.Do(req, repos)
</a><a href="#h82-0-190" id="h82-0-190" class="d">-	if err != nil {
</a><a href="#h82-0-191" id="h82-0-191" class="d">-		return nil, resp, err
</a><a href="#h82-0-192" id="h82-0-192" class="d">-	}
</a><a href="#h82-0-193" id="h82-0-193" class="d">-
</a><a href="#h82-0-194" id="h82-0-194" class="d">-	return *repos, resp, err
</a><a href="#h82-0-195" id="h82-0-195" class="d">-}
</a><a href="#h82-0-196" id="h82-0-196" class="d">-
</a><a href="#h82-0-197" id="h82-0-197" class="d">-// RepositoryListAllOptions specifies the optional parameters to the
</a><a href="#h82-0-198" id="h82-0-198" class="d">-// RepositoriesService.ListAll method.
</a><a href="#h82-0-199" id="h82-0-199" class="d">-type RepositoryListAllOptions struct {
</a><a href="#h82-0-200" id="h82-0-200" class="d">-	// ID of the last repository seen
</a><a href="#h82-0-201" id="h82-0-201" class="d">-	Since int `url:&quot;since,omitempty&quot;`
</a><a href="#h82-0-202" id="h82-0-202" class="d">-
</a><a href="#h82-0-203" id="h82-0-203" class="d">-	ListOptions
</a><a href="#h82-0-204" id="h82-0-204" class="d">-}
</a><a href="#h82-0-205" id="h82-0-205" class="d">-
</a><a href="#h82-0-206" id="h82-0-206" class="d">-// ListAll lists all GitHub repositories in the order that they were created.
</a><a href="#h82-0-207" id="h82-0-207" class="d">-//
</a><a href="#h82-0-208" id="h82-0-208" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/#list-all-public-repositories
</a><a href="#h82-0-209" id="h82-0-209" class="d">-func (s *RepositoriesService) ListAll(opt *RepositoryListAllOptions) ([]Repository, *Response, error) {
</a><a href="#h82-0-210" id="h82-0-210" class="d">-	u, err := addOptions(&quot;repositories&quot;, opt)
</a><a href="#h82-0-211" id="h82-0-211" class="d">-	if err != nil {
</a><a href="#h82-0-212" id="h82-0-212" class="d">-		return nil, nil, err
</a><a href="#h82-0-213" id="h82-0-213" class="d">-	}
</a><a href="#h82-0-214" id="h82-0-214" class="d">-
</a><a href="#h82-0-215" id="h82-0-215" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-216" id="h82-0-216" class="d">-	if err != nil {
</a><a href="#h82-0-217" id="h82-0-217" class="d">-		return nil, nil, err
</a><a href="#h82-0-218" id="h82-0-218" class="d">-	}
</a><a href="#h82-0-219" id="h82-0-219" class="d">-
</a><a href="#h82-0-220" id="h82-0-220" class="d">-	repos := new([]Repository)
</a><a href="#h82-0-221" id="h82-0-221" class="d">-	resp, err := s.client.Do(req, repos)
</a><a href="#h82-0-222" id="h82-0-222" class="d">-	if err != nil {
</a><a href="#h82-0-223" id="h82-0-223" class="d">-		return nil, resp, err
</a><a href="#h82-0-224" id="h82-0-224" class="d">-	}
</a><a href="#h82-0-225" id="h82-0-225" class="d">-
</a><a href="#h82-0-226" id="h82-0-226" class="d">-	return *repos, resp, err
</a><a href="#h82-0-227" id="h82-0-227" class="d">-}
</a><a href="#h82-0-228" id="h82-0-228" class="d">-
</a><a href="#h82-0-229" id="h82-0-229" class="d">-// Create a new repository.  If an organization is specified, the new
</a><a href="#h82-0-230" id="h82-0-230" class="d">-// repository will be created under that org.  If the empty string is
</a><a href="#h82-0-231" id="h82-0-231" class="d">-// specified, it will be created for the authenticated user.
</a><a href="#h82-0-232" id="h82-0-232" class="d">-//
</a><a href="#h82-0-233" id="h82-0-233" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/#create
</a><a href="#h82-0-234" id="h82-0-234" class="d">-func (s *RepositoriesService) Create(org string, repo *Repository) (*Repository, *Response, error) {
</a><a href="#h82-0-235" id="h82-0-235" class="d">-	var u string
</a><a href="#h82-0-236" id="h82-0-236" class="d">-	if org != &quot;&quot; {
</a><a href="#h82-0-237" id="h82-0-237" class="d">-		u = fmt.Sprintf(&quot;orgs/%v/repos&quot;, org)
</a><a href="#h82-0-238" id="h82-0-238" class="d">-	} else {
</a><a href="#h82-0-239" id="h82-0-239" class="d">-		u = &quot;user/repos&quot;
</a><a href="#h82-0-240" id="h82-0-240" class="d">-	}
</a><a href="#h82-0-241" id="h82-0-241" class="d">-
</a><a href="#h82-0-242" id="h82-0-242" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, repo)
</a><a href="#h82-0-243" id="h82-0-243" class="d">-	if err != nil {
</a><a href="#h82-0-244" id="h82-0-244" class="d">-		return nil, nil, err
</a><a href="#h82-0-245" id="h82-0-245" class="d">-	}
</a><a href="#h82-0-246" id="h82-0-246" class="d">-
</a><a href="#h82-0-247" id="h82-0-247" class="d">-	r := new(Repository)
</a><a href="#h82-0-248" id="h82-0-248" class="d">-	resp, err := s.client.Do(req, r)
</a><a href="#h82-0-249" id="h82-0-249" class="d">-	if err != nil {
</a><a href="#h82-0-250" id="h82-0-250" class="d">-		return nil, resp, err
</a><a href="#h82-0-251" id="h82-0-251" class="d">-	}
</a><a href="#h82-0-252" id="h82-0-252" class="d">-
</a><a href="#h82-0-253" id="h82-0-253" class="d">-	return r, resp, err
</a><a href="#h82-0-254" id="h82-0-254" class="d">-}
</a><a href="#h82-0-255" id="h82-0-255" class="d">-
</a><a href="#h82-0-256" id="h82-0-256" class="d">-// Get fetches a repository.
</a><a href="#h82-0-257" id="h82-0-257" class="d">-//
</a><a href="#h82-0-258" id="h82-0-258" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/#get
</a><a href="#h82-0-259" id="h82-0-259" class="d">-func (s *RepositoriesService) Get(owner, repo string) (*Repository, *Response, error) {
</a><a href="#h82-0-260" id="h82-0-260" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v&quot;, owner, repo)
</a><a href="#h82-0-261" id="h82-0-261" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-262" id="h82-0-262" class="d">-	if err != nil {
</a><a href="#h82-0-263" id="h82-0-263" class="d">-		return nil, nil, err
</a><a href="#h82-0-264" id="h82-0-264" class="d">-	}
</a><a href="#h82-0-265" id="h82-0-265" class="d">-
</a><a href="#h82-0-266" id="h82-0-266" class="d">-	// TODO: remove custom Accept header when the license support fully launches
</a><a href="#h82-0-267" id="h82-0-267" class="d">-	// https://developer.github.com/v3/licenses/#get-a-repositorys-license
</a><a href="#h82-0-268" id="h82-0-268" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeLicensesPreview)
</a><a href="#h82-0-269" id="h82-0-269" class="d">-
</a><a href="#h82-0-270" id="h82-0-270" class="d">-	repository := new(Repository)
</a><a href="#h82-0-271" id="h82-0-271" class="d">-	resp, err := s.client.Do(req, repository)
</a><a href="#h82-0-272" id="h82-0-272" class="d">-	if err != nil {
</a><a href="#h82-0-273" id="h82-0-273" class="d">-		return nil, resp, err
</a><a href="#h82-0-274" id="h82-0-274" class="d">-	}
</a><a href="#h82-0-275" id="h82-0-275" class="d">-
</a><a href="#h82-0-276" id="h82-0-276" class="d">-	return repository, resp, err
</a><a href="#h82-0-277" id="h82-0-277" class="d">-}
</a><a href="#h82-0-278" id="h82-0-278" class="d">-
</a><a href="#h82-0-279" id="h82-0-279" class="d">-// Edit updates a repository.
</a><a href="#h82-0-280" id="h82-0-280" class="d">-//
</a><a href="#h82-0-281" id="h82-0-281" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/#edit
</a><a href="#h82-0-282" id="h82-0-282" class="d">-func (s *RepositoriesService) Edit(owner, repo string, repository *Repository) (*Repository, *Response, error) {
</a><a href="#h82-0-283" id="h82-0-283" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v&quot;, owner, repo)
</a><a href="#h82-0-284" id="h82-0-284" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, repository)
</a><a href="#h82-0-285" id="h82-0-285" class="d">-	if err != nil {
</a><a href="#h82-0-286" id="h82-0-286" class="d">-		return nil, nil, err
</a><a href="#h82-0-287" id="h82-0-287" class="d">-	}
</a><a href="#h82-0-288" id="h82-0-288" class="d">-
</a><a href="#h82-0-289" id="h82-0-289" class="d">-	r := new(Repository)
</a><a href="#h82-0-290" id="h82-0-290" class="d">-	resp, err := s.client.Do(req, r)
</a><a href="#h82-0-291" id="h82-0-291" class="d">-	if err != nil {
</a><a href="#h82-0-292" id="h82-0-292" class="d">-		return nil, resp, err
</a><a href="#h82-0-293" id="h82-0-293" class="d">-	}
</a><a href="#h82-0-294" id="h82-0-294" class="d">-
</a><a href="#h82-0-295" id="h82-0-295" class="d">-	return r, resp, err
</a><a href="#h82-0-296" id="h82-0-296" class="d">-}
</a><a href="#h82-0-297" id="h82-0-297" class="d">-
</a><a href="#h82-0-298" id="h82-0-298" class="d">-// Delete a repository.
</a><a href="#h82-0-299" id="h82-0-299" class="d">-//
</a><a href="#h82-0-300" id="h82-0-300" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/#delete-a-repository
</a><a href="#h82-0-301" id="h82-0-301" class="d">-func (s *RepositoriesService) Delete(owner, repo string) (*Response, error) {
</a><a href="#h82-0-302" id="h82-0-302" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v&quot;, owner, repo)
</a><a href="#h82-0-303" id="h82-0-303" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h82-0-304" id="h82-0-304" class="d">-	if err != nil {
</a><a href="#h82-0-305" id="h82-0-305" class="d">-		return nil, err
</a><a href="#h82-0-306" id="h82-0-306" class="d">-	}
</a><a href="#h82-0-307" id="h82-0-307" class="d">-
</a><a href="#h82-0-308" id="h82-0-308" class="d">-	return s.client.Do(req, nil)
</a><a href="#h82-0-309" id="h82-0-309" class="d">-}
</a><a href="#h82-0-310" id="h82-0-310" class="d">-
</a><a href="#h82-0-311" id="h82-0-311" class="d">-// Contributor represents a repository contributor
</a><a href="#h82-0-312" id="h82-0-312" class="d">-type Contributor struct {
</a><a href="#h82-0-313" id="h82-0-313" class="d">-	Login             *string `json:&quot;login,omitempty&quot;`
</a><a href="#h82-0-314" id="h82-0-314" class="d">-	ID                *int    `json:&quot;id,omitempty&quot;`
</a><a href="#h82-0-315" id="h82-0-315" class="d">-	AvatarURL         *string `json:&quot;avatar_url,omitempty&quot;`
</a><a href="#h82-0-316" id="h82-0-316" class="d">-	GravatarID        *string `json:&quot;gravatar_id,omitempty&quot;`
</a><a href="#h82-0-317" id="h82-0-317" class="d">-	URL               *string `json:&quot;url,omitempty&quot;`
</a><a href="#h82-0-318" id="h82-0-318" class="d">-	HTMLURL           *string `json:&quot;html_url,omitempty&quot;`
</a><a href="#h82-0-319" id="h82-0-319" class="d">-	FollowersURL      *string `json:&quot;followers_url,omitempty&quot;`
</a><a href="#h82-0-320" id="h82-0-320" class="d">-	FollowingURL      *string `json:&quot;following_url,omitempty&quot;`
</a><a href="#h82-0-321" id="h82-0-321" class="d">-	GistsURL          *string `json:&quot;gists_url,omitempty&quot;`
</a><a href="#h82-0-322" id="h82-0-322" class="d">-	StarredURL        *string `json:&quot;starred_url,omitempty&quot;`
</a><a href="#h82-0-323" id="h82-0-323" class="d">-	SubscriptionsURL  *string `json:&quot;subscriptions_url,omitempty&quot;`
</a><a href="#h82-0-324" id="h82-0-324" class="d">-	OrganizationsURL  *string `json:&quot;organizations_url,omitempty&quot;`
</a><a href="#h82-0-325" id="h82-0-325" class="d">-	ReposURL          *string `json:&quot;repos_url,omitempty&quot;`
</a><a href="#h82-0-326" id="h82-0-326" class="d">-	EventsURL         *string `json:&quot;events_url,omitempty&quot;`
</a><a href="#h82-0-327" id="h82-0-327" class="d">-	ReceivedEventsURL *string `json:&quot;received_events_url,omitempty&quot;`
</a><a href="#h82-0-328" id="h82-0-328" class="d">-	Type              *string `json:&quot;type,omitempty&quot;`
</a><a href="#h82-0-329" id="h82-0-329" class="d">-	SiteAdmin         *bool   `json:&quot;site_admin&quot;`
</a><a href="#h82-0-330" id="h82-0-330" class="d">-	Contributions     *int    `json:&quot;contributions,omitempty&quot;`
</a><a href="#h82-0-331" id="h82-0-331" class="d">-}
</a><a href="#h82-0-332" id="h82-0-332" class="d">-
</a><a href="#h82-0-333" id="h82-0-333" class="d">-// ListContributorsOptions specifies the optional parameters to the
</a><a href="#h82-0-334" id="h82-0-334" class="d">-// RepositoriesService.ListContributors method.
</a><a href="#h82-0-335" id="h82-0-335" class="d">-type ListContributorsOptions struct {
</a><a href="#h82-0-336" id="h82-0-336" class="d">-	// Include anonymous contributors in results or not
</a><a href="#h82-0-337" id="h82-0-337" class="d">-	Anon string `url:&quot;anon,omitempty&quot;`
</a><a href="#h82-0-338" id="h82-0-338" class="d">-
</a><a href="#h82-0-339" id="h82-0-339" class="d">-	ListOptions
</a><a href="#h82-0-340" id="h82-0-340" class="d">-}
</a><a href="#h82-0-341" id="h82-0-341" class="d">-
</a><a href="#h82-0-342" id="h82-0-342" class="d">-// ListContributors lists contributors for a repository.
</a><a href="#h82-0-343" id="h82-0-343" class="d">-//
</a><a href="#h82-0-344" id="h82-0-344" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/#list-contributors
</a><a href="#h82-0-345" id="h82-0-345" class="d">-func (s *RepositoriesService) ListContributors(owner string, repository string, opt *ListContributorsOptions) ([]Contributor, *Response, error) {
</a><a href="#h82-0-346" id="h82-0-346" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/contributors&quot;, owner, repository)
</a><a href="#h82-0-347" id="h82-0-347" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h82-0-348" id="h82-0-348" class="d">-	if err != nil {
</a><a href="#h82-0-349" id="h82-0-349" class="d">-		return nil, nil, err
</a><a href="#h82-0-350" id="h82-0-350" class="d">-	}
</a><a href="#h82-0-351" id="h82-0-351" class="d">-
</a><a href="#h82-0-352" id="h82-0-352" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-353" id="h82-0-353" class="d">-	if err != nil {
</a><a href="#h82-0-354" id="h82-0-354" class="d">-		return nil, nil, err
</a><a href="#h82-0-355" id="h82-0-355" class="d">-	}
</a><a href="#h82-0-356" id="h82-0-356" class="d">-
</a><a href="#h82-0-357" id="h82-0-357" class="d">-	contributor := new([]Contributor)
</a><a href="#h82-0-358" id="h82-0-358" class="d">-	resp, err := s.client.Do(req, contributor)
</a><a href="#h82-0-359" id="h82-0-359" class="d">-	if err != nil {
</a><a href="#h82-0-360" id="h82-0-360" class="d">-		return nil, nil, err
</a><a href="#h82-0-361" id="h82-0-361" class="d">-	}
</a><a href="#h82-0-362" id="h82-0-362" class="d">-
</a><a href="#h82-0-363" id="h82-0-363" class="d">-	return *contributor, resp, err
</a><a href="#h82-0-364" id="h82-0-364" class="d">-}
</a><a href="#h82-0-365" id="h82-0-365" class="d">-
</a><a href="#h82-0-366" id="h82-0-366" class="d">-// ListLanguages lists languages for the specified repository. The returned map
</a><a href="#h82-0-367" id="h82-0-367" class="d">-// specifies the languages and the number of bytes of code written in that
</a><a href="#h82-0-368" id="h82-0-368" class="d">-// language. For example:
</a><a href="#h82-0-369" id="h82-0-369" class="d">-//
</a><a href="#h82-0-370" id="h82-0-370" class="d">-//     {
</a><a href="#h82-0-371" id="h82-0-371" class="d">-//       &quot;C&quot;: 78769,
</a><a href="#h82-0-372" id="h82-0-372" class="d">-//       &quot;Python&quot;: 7769
</a><a href="#h82-0-373" id="h82-0-373" class="d">-//     }
</a><a href="#h82-0-374" id="h82-0-374" class="d">-//
</a><a href="#h82-0-375" id="h82-0-375" class="d">-// GitHub API Docs: http://developer.github.com/v3/repos/#list-languages
</a><a href="#h82-0-376" id="h82-0-376" class="d">-func (s *RepositoriesService) ListLanguages(owner string, repo string) (map[string]int, *Response, error) {
</a><a href="#h82-0-377" id="h82-0-377" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/languages&quot;, owner, repo)
</a><a href="#h82-0-378" id="h82-0-378" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-379" id="h82-0-379" class="d">-	if err != nil {
</a><a href="#h82-0-380" id="h82-0-380" class="d">-		return nil, nil, err
</a><a href="#h82-0-381" id="h82-0-381" class="d">-	}
</a><a href="#h82-0-382" id="h82-0-382" class="d">-
</a><a href="#h82-0-383" id="h82-0-383" class="d">-	languages := make(map[string]int)
</a><a href="#h82-0-384" id="h82-0-384" class="d">-	resp, err := s.client.Do(req, &amp;languages)
</a><a href="#h82-0-385" id="h82-0-385" class="d">-	if err != nil {
</a><a href="#h82-0-386" id="h82-0-386" class="d">-		return nil, resp, err
</a><a href="#h82-0-387" id="h82-0-387" class="d">-	}
</a><a href="#h82-0-388" id="h82-0-388" class="d">-
</a><a href="#h82-0-389" id="h82-0-389" class="d">-	return languages, resp, err
</a><a href="#h82-0-390" id="h82-0-390" class="d">-}
</a><a href="#h82-0-391" id="h82-0-391" class="d">-
</a><a href="#h82-0-392" id="h82-0-392" class="d">-// ListTeams lists the teams for the specified repository.
</a><a href="#h82-0-393" id="h82-0-393" class="d">-//
</a><a href="#h82-0-394" id="h82-0-394" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/#list-teams
</a><a href="#h82-0-395" id="h82-0-395" class="d">-func (s *RepositoriesService) ListTeams(owner string, repo string, opt *ListOptions) ([]Team, *Response, error) {
</a><a href="#h82-0-396" id="h82-0-396" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/teams&quot;, owner, repo)
</a><a href="#h82-0-397" id="h82-0-397" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h82-0-398" id="h82-0-398" class="d">-	if err != nil {
</a><a href="#h82-0-399" id="h82-0-399" class="d">-		return nil, nil, err
</a><a href="#h82-0-400" id="h82-0-400" class="d">-	}
</a><a href="#h82-0-401" id="h82-0-401" class="d">-
</a><a href="#h82-0-402" id="h82-0-402" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-403" id="h82-0-403" class="d">-	if err != nil {
</a><a href="#h82-0-404" id="h82-0-404" class="d">-		return nil, nil, err
</a><a href="#h82-0-405" id="h82-0-405" class="d">-	}
</a><a href="#h82-0-406" id="h82-0-406" class="d">-
</a><a href="#h82-0-407" id="h82-0-407" class="d">-	teams := new([]Team)
</a><a href="#h82-0-408" id="h82-0-408" class="d">-	resp, err := s.client.Do(req, teams)
</a><a href="#h82-0-409" id="h82-0-409" class="d">-	if err != nil {
</a><a href="#h82-0-410" id="h82-0-410" class="d">-		return nil, resp, err
</a><a href="#h82-0-411" id="h82-0-411" class="d">-	}
</a><a href="#h82-0-412" id="h82-0-412" class="d">-
</a><a href="#h82-0-413" id="h82-0-413" class="d">-	return *teams, resp, err
</a><a href="#h82-0-414" id="h82-0-414" class="d">-}
</a><a href="#h82-0-415" id="h82-0-415" class="d">-
</a><a href="#h82-0-416" id="h82-0-416" class="d">-// RepositoryTag represents a repository tag.
</a><a href="#h82-0-417" id="h82-0-417" class="d">-type RepositoryTag struct {
</a><a href="#h82-0-418" id="h82-0-418" class="d">-	Name       *string `json:&quot;name,omitempty&quot;`
</a><a href="#h82-0-419" id="h82-0-419" class="d">-	Commit     *Commit `json:&quot;commit,omitempty&quot;`
</a><a href="#h82-0-420" id="h82-0-420" class="d">-	ZipballURL *string `json:&quot;zipball_url,omitempty&quot;`
</a><a href="#h82-0-421" id="h82-0-421" class="d">-	TarballURL *string `json:&quot;tarball_url,omitempty&quot;`
</a><a href="#h82-0-422" id="h82-0-422" class="d">-}
</a><a href="#h82-0-423" id="h82-0-423" class="d">-
</a><a href="#h82-0-424" id="h82-0-424" class="d">-// ListTags lists tags for the specified repository.
</a><a href="#h82-0-425" id="h82-0-425" class="d">-//
</a><a href="#h82-0-426" id="h82-0-426" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/#list-tags
</a><a href="#h82-0-427" id="h82-0-427" class="d">-func (s *RepositoriesService) ListTags(owner string, repo string, opt *ListOptions) ([]RepositoryTag, *Response, error) {
</a><a href="#h82-0-428" id="h82-0-428" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/tags&quot;, owner, repo)
</a><a href="#h82-0-429" id="h82-0-429" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h82-0-430" id="h82-0-430" class="d">-	if err != nil {
</a><a href="#h82-0-431" id="h82-0-431" class="d">-		return nil, nil, err
</a><a href="#h82-0-432" id="h82-0-432" class="d">-	}
</a><a href="#h82-0-433" id="h82-0-433" class="d">-
</a><a href="#h82-0-434" id="h82-0-434" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-435" id="h82-0-435" class="d">-	if err != nil {
</a><a href="#h82-0-436" id="h82-0-436" class="d">-		return nil, nil, err
</a><a href="#h82-0-437" id="h82-0-437" class="d">-	}
</a><a href="#h82-0-438" id="h82-0-438" class="d">-
</a><a href="#h82-0-439" id="h82-0-439" class="d">-	tags := new([]RepositoryTag)
</a><a href="#h82-0-440" id="h82-0-440" class="d">-	resp, err := s.client.Do(req, tags)
</a><a href="#h82-0-441" id="h82-0-441" class="d">-	if err != nil {
</a><a href="#h82-0-442" id="h82-0-442" class="d">-		return nil, resp, err
</a><a href="#h82-0-443" id="h82-0-443" class="d">-	}
</a><a href="#h82-0-444" id="h82-0-444" class="d">-
</a><a href="#h82-0-445" id="h82-0-445" class="d">-	return *tags, resp, err
</a><a href="#h82-0-446" id="h82-0-446" class="d">-}
</a><a href="#h82-0-447" id="h82-0-447" class="d">-
</a><a href="#h82-0-448" id="h82-0-448" class="d">-// Branch represents a repository branch
</a><a href="#h82-0-449" id="h82-0-449" class="d">-type Branch struct {
</a><a href="#h82-0-450" id="h82-0-450" class="d">-	Name       *string     `json:&quot;name,omitempty&quot;`
</a><a href="#h82-0-451" id="h82-0-451" class="d">-	Commit     *Commit     `json:&quot;commit,omitempty&quot;`
</a><a href="#h82-0-452" id="h82-0-452" class="d">-	Protection *Protection `json:&quot;protection,omitempty&quot;`
</a><a href="#h82-0-453" id="h82-0-453" class="d">-}
</a><a href="#h82-0-454" id="h82-0-454" class="d">-
</a><a href="#h82-0-455" id="h82-0-455" class="d">-// Protection represents a repository branch&#39;s protection
</a><a href="#h82-0-456" id="h82-0-456" class="d">-type Protection struct {
</a><a href="#h82-0-457" id="h82-0-457" class="d">-	Enabled              *bool                 `json:&quot;enabled,omitempty&quot;`
</a><a href="#h82-0-458" id="h82-0-458" class="d">-	RequiredStatusChecks *RequiredStatusChecks `json:&quot;required_status_checks,omitempty&quot;`
</a><a href="#h82-0-459" id="h82-0-459" class="d">-}
</a><a href="#h82-0-460" id="h82-0-460" class="d">-
</a><a href="#h82-0-461" id="h82-0-461" class="d">-// RequiredStatusChecks represents the protection status of a individual branch
</a><a href="#h82-0-462" id="h82-0-462" class="d">-type RequiredStatusChecks struct {
</a><a href="#h82-0-463" id="h82-0-463" class="d">-	// Who required status checks apply to.
</a><a href="#h82-0-464" id="h82-0-464" class="d">-	// Possible values are:
</a><a href="#h82-0-465" id="h82-0-465" class="d">-	//     off
</a><a href="#h82-0-466" id="h82-0-466" class="d">-	//     non_admins
</a><a href="#h82-0-467" id="h82-0-467" class="d">-	//     everyone
</a><a href="#h82-0-468" id="h82-0-468" class="d">-	EnforcementLevel *string `json:&quot;enforcement_level,omitempty&quot;`
</a><a href="#h82-0-469" id="h82-0-469" class="d">-	// The list of status checks which are required
</a><a href="#h82-0-470" id="h82-0-470" class="d">-	Contexts *[]string `json:&quot;contexts,omitempty&quot;`
</a><a href="#h82-0-471" id="h82-0-471" class="d">-}
</a><a href="#h82-0-472" id="h82-0-472" class="d">-
</a><a href="#h82-0-473" id="h82-0-473" class="d">-// ListBranches lists branches for the specified repository.
</a><a href="#h82-0-474" id="h82-0-474" class="d">-//
</a><a href="#h82-0-475" id="h82-0-475" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/#list-branches
</a><a href="#h82-0-476" id="h82-0-476" class="d">-func (s *RepositoriesService) ListBranches(owner string, repo string, opt *ListOptions) ([]Branch, *Response, error) {
</a><a href="#h82-0-477" id="h82-0-477" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/branches&quot;, owner, repo)
</a><a href="#h82-0-478" id="h82-0-478" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h82-0-479" id="h82-0-479" class="d">-	if err != nil {
</a><a href="#h82-0-480" id="h82-0-480" class="d">-		return nil, nil, err
</a><a href="#h82-0-481" id="h82-0-481" class="d">-	}
</a><a href="#h82-0-482" id="h82-0-482" class="d">-
</a><a href="#h82-0-483" id="h82-0-483" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-484" id="h82-0-484" class="d">-	if err != nil {
</a><a href="#h82-0-485" id="h82-0-485" class="d">-		return nil, nil, err
</a><a href="#h82-0-486" id="h82-0-486" class="d">-	}
</a><a href="#h82-0-487" id="h82-0-487" class="d">-
</a><a href="#h82-0-488" id="h82-0-488" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeProtectedBranchesPreview)
</a><a href="#h82-0-489" id="h82-0-489" class="d">-
</a><a href="#h82-0-490" id="h82-0-490" class="d">-	branches := new([]Branch)
</a><a href="#h82-0-491" id="h82-0-491" class="d">-	resp, err := s.client.Do(req, branches)
</a><a href="#h82-0-492" id="h82-0-492" class="d">-	if err != nil {
</a><a href="#h82-0-493" id="h82-0-493" class="d">-		return nil, resp, err
</a><a href="#h82-0-494" id="h82-0-494" class="d">-	}
</a><a href="#h82-0-495" id="h82-0-495" class="d">-
</a><a href="#h82-0-496" id="h82-0-496" class="d">-	return *branches, resp, err
</a><a href="#h82-0-497" id="h82-0-497" class="d">-}
</a><a href="#h82-0-498" id="h82-0-498" class="d">-
</a><a href="#h82-0-499" id="h82-0-499" class="d">-// GetBranch gets the specified branch for a repository.
</a><a href="#h82-0-500" id="h82-0-500" class="d">-//
</a><a href="#h82-0-501" id="h82-0-501" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/#get-branch
</a><a href="#h82-0-502" id="h82-0-502" class="d">-func (s *RepositoriesService) GetBranch(owner, repo, branch string) (*Branch, *Response, error) {
</a><a href="#h82-0-503" id="h82-0-503" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/branches/%v&quot;, owner, repo, branch)
</a><a href="#h82-0-504" id="h82-0-504" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-505" id="h82-0-505" class="d">-	if err != nil {
</a><a href="#h82-0-506" id="h82-0-506" class="d">-		return nil, nil, err
</a><a href="#h82-0-507" id="h82-0-507" class="d">-	}
</a><a href="#h82-0-508" id="h82-0-508" class="d">-
</a><a href="#h82-0-509" id="h82-0-509" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeProtectedBranchesPreview)
</a><a href="#h82-0-510" id="h82-0-510" class="d">-
</a><a href="#h82-0-511" id="h82-0-511" class="d">-	b := new(Branch)
</a><a href="#h82-0-512" id="h82-0-512" class="d">-	resp, err := s.client.Do(req, b)
</a><a href="#h82-0-513" id="h82-0-513" class="d">-	if err != nil {
</a><a href="#h82-0-514" id="h82-0-514" class="d">-		return nil, resp, err
</a><a href="#h82-0-515" id="h82-0-515" class="d">-	}
</a><a href="#h82-0-516" id="h82-0-516" class="d">-
</a><a href="#h82-0-517" id="h82-0-517" class="d">-	return b, resp, err
</a><a href="#h82-0-518" id="h82-0-518" class="d">-}
</a><a href="#h82-0-519" id="h82-0-519" class="d">-
</a><a href="#h82-0-520" id="h82-0-520" class="d">-// EditBranch edits the branch (currently only Branch Protection)
</a><a href="#h82-0-521" id="h82-0-521" class="d">-//
</a><a href="#h82-0-522" id="h82-0-522" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/#enabling-and-disabling-branch-protection
</a><a href="#h82-0-523" id="h82-0-523" class="d">-func (s *RepositoriesService) EditBranch(owner, repo, branchName string, branch *Branch) (*Branch, *Response, error) {
</a><a href="#h82-0-524" id="h82-0-524" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/branches/%v&quot;, owner, repo, branchName)
</a><a href="#h82-0-525" id="h82-0-525" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, branch)
</a><a href="#h82-0-526" id="h82-0-526" class="d">-	if err != nil {
</a><a href="#h82-0-527" id="h82-0-527" class="d">-		return nil, nil, err
</a><a href="#h82-0-528" id="h82-0-528" class="d">-	}
</a><a href="#h82-0-529" id="h82-0-529" class="d">-
</a><a href="#h82-0-530" id="h82-0-530" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeProtectedBranchesPreview)
</a><a href="#h82-0-531" id="h82-0-531" class="d">-
</a><a href="#h82-0-532" id="h82-0-532" class="d">-	b := new(Branch)
</a><a href="#h82-0-533" id="h82-0-533" class="d">-	resp, err := s.client.Do(req, b)
</a><a href="#h82-0-534" id="h82-0-534" class="d">-	if err != nil {
</a><a href="#h82-0-535" id="h82-0-535" class="d">-		return nil, resp, err
</a><a href="#h82-0-536" id="h82-0-536" class="d">-	}
</a><a href="#h82-0-537" id="h82-0-537" class="d">-
</a><a href="#h82-0-538" id="h82-0-538" class="d">-	return b, resp, err
</a><a href="#h82-0-539" id="h82-0-539" class="d">-}
</a><a href="#h82-0-540" id="h82-0-540" class="d">-
</a><a href="#h82-0-541" id="h82-0-541" class="d">-// License gets the contents of a repository&#39;s license if one is detected.
</a><a href="#h82-0-542" id="h82-0-542" class="d">-//
</a><a href="#h82-0-543" id="h82-0-543" class="d">-// GitHub API docs: https://developer.github.com/v3/licenses/#get-the-contents-of-a-repositorys-license
</a><a href="#h82-0-544" id="h82-0-544" class="d">-func (s *RepositoriesService) License(owner, repo string) (*License, *Response, error) {
</a><a href="#h82-0-545" id="h82-0-545" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/license&quot;, owner, repo)
</a><a href="#h82-0-546" id="h82-0-546" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h82-0-547" id="h82-0-547" class="d">-	if err != nil {
</a><a href="#h82-0-548" id="h82-0-548" class="d">-		return nil, nil, err
</a><a href="#h82-0-549" id="h82-0-549" class="d">-	}
</a><a href="#h82-0-550" id="h82-0-550" class="d">-
</a><a href="#h82-0-551" id="h82-0-551" class="d">-	r := &amp;Repository{}
</a><a href="#h82-0-552" id="h82-0-552" class="d">-	resp, err := s.client.Do(req, r)
</a><a href="#h82-0-553" id="h82-0-553" class="d">-	if err != nil {
</a><a href="#h82-0-554" id="h82-0-554" class="d">-		return nil, resp, err
</a><a href="#h82-0-555" id="h82-0-555" class="d">-	}
</a><a href="#h82-0-556" id="h82-0-556" class="d">-
</a><a href="#h82-0-557" id="h82-0-557" class="d">-	return r.License, resp, err
</a><a href="#h82-0-558" id="h82-0-558" class="d">-}
</a><b>diff --git a/<a id="h83" href="../file/vendor/github.com/google/go-github/github/repos_collaborators.go">vendor/github.com/google/go-github/github/repos_collaborators.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_collaborators.go">vendor/github.com/google/go-github/github/repos_collaborators.go</a></b>
<a href="#h83-0" id="h83-0" class="h">@@ -1,95 +0,0 @@
</a><a href="#h83-0-0" id="h83-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h83-0-1" id="h83-0-1" class="d">-//
</a><a href="#h83-0-2" id="h83-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h83-0-3" id="h83-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h83-0-4" id="h83-0-4" class="d">-
</a><a href="#h83-0-5" id="h83-0-5" class="d">-package github
</a><a href="#h83-0-6" id="h83-0-6" class="d">-
</a><a href="#h83-0-7" id="h83-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h83-0-8" id="h83-0-8" class="d">-
</a><a href="#h83-0-9" id="h83-0-9" class="d">-// ListCollaborators lists the Github users that have access to the repository.
</a><a href="#h83-0-10" id="h83-0-10" class="d">-//
</a><a href="#h83-0-11" id="h83-0-11" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/collaborators/#list
</a><a href="#h83-0-12" id="h83-0-12" class="d">-func (s *RepositoriesService) ListCollaborators(owner, repo string, opt *ListOptions) ([]User, *Response, error) {
</a><a href="#h83-0-13" id="h83-0-13" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/collaborators&quot;, owner, repo)
</a><a href="#h83-0-14" id="h83-0-14" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h83-0-15" id="h83-0-15" class="d">-	if err != nil {
</a><a href="#h83-0-16" id="h83-0-16" class="d">-		return nil, nil, err
</a><a href="#h83-0-17" id="h83-0-17" class="d">-	}
</a><a href="#h83-0-18" id="h83-0-18" class="d">-
</a><a href="#h83-0-19" id="h83-0-19" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h83-0-20" id="h83-0-20" class="d">-	if err != nil {
</a><a href="#h83-0-21" id="h83-0-21" class="d">-		return nil, nil, err
</a><a href="#h83-0-22" id="h83-0-22" class="d">-	}
</a><a href="#h83-0-23" id="h83-0-23" class="d">-
</a><a href="#h83-0-24" id="h83-0-24" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeOrgPermissionPreview)
</a><a href="#h83-0-25" id="h83-0-25" class="d">-
</a><a href="#h83-0-26" id="h83-0-26" class="d">-	users := new([]User)
</a><a href="#h83-0-27" id="h83-0-27" class="d">-	resp, err := s.client.Do(req, users)
</a><a href="#h83-0-28" id="h83-0-28" class="d">-	if err != nil {
</a><a href="#h83-0-29" id="h83-0-29" class="d">-		return nil, resp, err
</a><a href="#h83-0-30" id="h83-0-30" class="d">-	}
</a><a href="#h83-0-31" id="h83-0-31" class="d">-
</a><a href="#h83-0-32" id="h83-0-32" class="d">-	return *users, resp, err
</a><a href="#h83-0-33" id="h83-0-33" class="d">-}
</a><a href="#h83-0-34" id="h83-0-34" class="d">-
</a><a href="#h83-0-35" id="h83-0-35" class="d">-// IsCollaborator checks whether the specified Github user has collaborator
</a><a href="#h83-0-36" id="h83-0-36" class="d">-// access to the given repo.
</a><a href="#h83-0-37" id="h83-0-37" class="d">-// Note: This will return false if the user is not a collaborator OR the user
</a><a href="#h83-0-38" id="h83-0-38" class="d">-// is not a GitHub user.
</a><a href="#h83-0-39" id="h83-0-39" class="d">-//
</a><a href="#h83-0-40" id="h83-0-40" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/collaborators/#get
</a><a href="#h83-0-41" id="h83-0-41" class="d">-func (s *RepositoriesService) IsCollaborator(owner, repo, user string) (bool, *Response, error) {
</a><a href="#h83-0-42" id="h83-0-42" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/collaborators/%v&quot;, owner, repo, user)
</a><a href="#h83-0-43" id="h83-0-43" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h83-0-44" id="h83-0-44" class="d">-	if err != nil {
</a><a href="#h83-0-45" id="h83-0-45" class="d">-		return false, nil, err
</a><a href="#h83-0-46" id="h83-0-46" class="d">-	}
</a><a href="#h83-0-47" id="h83-0-47" class="d">-
</a><a href="#h83-0-48" id="h83-0-48" class="d">-	resp, err := s.client.Do(req, nil)
</a><a href="#h83-0-49" id="h83-0-49" class="d">-	isCollab, err := parseBoolResponse(err)
</a><a href="#h83-0-50" id="h83-0-50" class="d">-	return isCollab, resp, err
</a><a href="#h83-0-51" id="h83-0-51" class="d">-}
</a><a href="#h83-0-52" id="h83-0-52" class="d">-
</a><a href="#h83-0-53" id="h83-0-53" class="d">-// RepositoryAddCollaboratorOptions specifies the optional parameters to the
</a><a href="#h83-0-54" id="h83-0-54" class="d">-// RepositoriesService.AddCollaborator method.
</a><a href="#h83-0-55" id="h83-0-55" class="d">-type RepositoryAddCollaboratorOptions struct {
</a><a href="#h83-0-56" id="h83-0-56" class="d">-	// Permission specifies the permission to grant the user on this repository.
</a><a href="#h83-0-57" id="h83-0-57" class="d">-	// Possible values are:
</a><a href="#h83-0-58" id="h83-0-58" class="d">-	//     pull - team members can pull, but not push to or administer this repository
</a><a href="#h83-0-59" id="h83-0-59" class="d">-	//     push - team members can pull and push, but not administer this repository
</a><a href="#h83-0-60" id="h83-0-60" class="d">-	//     admin - team members can pull, push and administer this repository
</a><a href="#h83-0-61" id="h83-0-61" class="d">-	//
</a><a href="#h83-0-62" id="h83-0-62" class="d">-	// Default value is &quot;pull&quot;.  This option is only valid for organization-owned repositories.
</a><a href="#h83-0-63" id="h83-0-63" class="d">-	Permission string `json:&quot;permission,omitempty&quot;`
</a><a href="#h83-0-64" id="h83-0-64" class="d">-}
</a><a href="#h83-0-65" id="h83-0-65" class="d">-
</a><a href="#h83-0-66" id="h83-0-66" class="d">-// AddCollaborator adds the specified Github user as collaborator to the given repo.
</a><a href="#h83-0-67" id="h83-0-67" class="d">-//
</a><a href="#h83-0-68" id="h83-0-68" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/collaborators/#add-collaborator
</a><a href="#h83-0-69" id="h83-0-69" class="d">-func (s *RepositoriesService) AddCollaborator(owner, repo, user string, opt *RepositoryAddCollaboratorOptions) (*Response, error) {
</a><a href="#h83-0-70" id="h83-0-70" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/collaborators/%v&quot;, owner, repo, user)
</a><a href="#h83-0-71" id="h83-0-71" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, opt)
</a><a href="#h83-0-72" id="h83-0-72" class="d">-	if err != nil {
</a><a href="#h83-0-73" id="h83-0-73" class="d">-		return nil, err
</a><a href="#h83-0-74" id="h83-0-74" class="d">-	}
</a><a href="#h83-0-75" id="h83-0-75" class="d">-
</a><a href="#h83-0-76" id="h83-0-76" class="d">-	if opt != nil {
</a><a href="#h83-0-77" id="h83-0-77" class="d">-		req.Header.Set(&quot;Accept&quot;, mediaTypeOrgPermissionPreview)
</a><a href="#h83-0-78" id="h83-0-78" class="d">-	}
</a><a href="#h83-0-79" id="h83-0-79" class="d">-
</a><a href="#h83-0-80" id="h83-0-80" class="d">-	return s.client.Do(req, nil)
</a><a href="#h83-0-81" id="h83-0-81" class="d">-}
</a><a href="#h83-0-82" id="h83-0-82" class="d">-
</a><a href="#h83-0-83" id="h83-0-83" class="d">-// RemoveCollaborator removes the specified Github user as collaborator from the given repo.
</a><a href="#h83-0-84" id="h83-0-84" class="d">-// Note: Does not return error if a valid user that is not a collaborator is removed.
</a><a href="#h83-0-85" id="h83-0-85" class="d">-//
</a><a href="#h83-0-86" id="h83-0-86" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/collaborators/#remove-collaborator
</a><a href="#h83-0-87" id="h83-0-87" class="d">-func (s *RepositoriesService) RemoveCollaborator(owner, repo, user string) (*Response, error) {
</a><a href="#h83-0-88" id="h83-0-88" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/collaborators/%v&quot;, owner, repo, user)
</a><a href="#h83-0-89" id="h83-0-89" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h83-0-90" id="h83-0-90" class="d">-	if err != nil {
</a><a href="#h83-0-91" id="h83-0-91" class="d">-		return nil, err
</a><a href="#h83-0-92" id="h83-0-92" class="d">-	}
</a><a href="#h83-0-93" id="h83-0-93" class="d">-	return s.client.Do(req, nil)
</a><a href="#h83-0-94" id="h83-0-94" class="d">-}
</a><b>diff --git a/<a id="h84" href="../file/vendor/github.com/google/go-github/github/repos_comments.go">vendor/github.com/google/go-github/github/repos_comments.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_comments.go">vendor/github.com/google/go-github/github/repos_comments.go</a></b>
<a href="#h84-0" id="h84-0" class="h">@@ -1,150 +0,0 @@
</a><a href="#h84-0-0" id="h84-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h84-0-1" id="h84-0-1" class="d">-//
</a><a href="#h84-0-2" id="h84-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h84-0-3" id="h84-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h84-0-4" id="h84-0-4" class="d">-
</a><a href="#h84-0-5" id="h84-0-5" class="d">-package github
</a><a href="#h84-0-6" id="h84-0-6" class="d">-
</a><a href="#h84-0-7" id="h84-0-7" class="d">-import (
</a><a href="#h84-0-8" id="h84-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h84-0-9" id="h84-0-9" class="d">-	&quot;time&quot;
</a><a href="#h84-0-10" id="h84-0-10" class="d">-)
</a><a href="#h84-0-11" id="h84-0-11" class="d">-
</a><a href="#h84-0-12" id="h84-0-12" class="d">-// RepositoryComment represents a comment for a commit, file, or line in a repository.
</a><a href="#h84-0-13" id="h84-0-13" class="d">-type RepositoryComment struct {
</a><a href="#h84-0-14" id="h84-0-14" class="d">-	HTMLURL   *string    `json:&quot;html_url,omitempty&quot;`
</a><a href="#h84-0-15" id="h84-0-15" class="d">-	URL       *string    `json:&quot;url,omitempty&quot;`
</a><a href="#h84-0-16" id="h84-0-16" class="d">-	ID        *int       `json:&quot;id,omitempty&quot;`
</a><a href="#h84-0-17" id="h84-0-17" class="d">-	CommitID  *string    `json:&quot;commit_id,omitempty&quot;`
</a><a href="#h84-0-18" id="h84-0-18" class="d">-	User      *User      `json:&quot;user,omitempty&quot;`
</a><a href="#h84-0-19" id="h84-0-19" class="d">-	CreatedAt *time.Time `json:&quot;created_at,omitempty&quot;`
</a><a href="#h84-0-20" id="h84-0-20" class="d">-	UpdatedAt *time.Time `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h84-0-21" id="h84-0-21" class="d">-
</a><a href="#h84-0-22" id="h84-0-22" class="d">-	// User-mutable fields
</a><a href="#h84-0-23" id="h84-0-23" class="d">-	Body *string `json:&quot;body&quot;`
</a><a href="#h84-0-24" id="h84-0-24" class="d">-	// User-initialized fields
</a><a href="#h84-0-25" id="h84-0-25" class="d">-	Path     *string `json:&quot;path,omitempty&quot;`
</a><a href="#h84-0-26" id="h84-0-26" class="d">-	Position *int    `json:&quot;position,omitempty&quot;`
</a><a href="#h84-0-27" id="h84-0-27" class="d">-}
</a><a href="#h84-0-28" id="h84-0-28" class="d">-
</a><a href="#h84-0-29" id="h84-0-29" class="d">-func (r RepositoryComment) String() string {
</a><a href="#h84-0-30" id="h84-0-30" class="d">-	return Stringify(r)
</a><a href="#h84-0-31" id="h84-0-31" class="d">-}
</a><a href="#h84-0-32" id="h84-0-32" class="d">-
</a><a href="#h84-0-33" id="h84-0-33" class="d">-// ListComments lists all the comments for the repository.
</a><a href="#h84-0-34" id="h84-0-34" class="d">-//
</a><a href="#h84-0-35" id="h84-0-35" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/comments/#list-commit-comments-for-a-repository
</a><a href="#h84-0-36" id="h84-0-36" class="d">-func (s *RepositoriesService) ListComments(owner, repo string, opt *ListOptions) ([]RepositoryComment, *Response, error) {
</a><a href="#h84-0-37" id="h84-0-37" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/comments&quot;, owner, repo)
</a><a href="#h84-0-38" id="h84-0-38" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h84-0-39" id="h84-0-39" class="d">-	if err != nil {
</a><a href="#h84-0-40" id="h84-0-40" class="d">-		return nil, nil, err
</a><a href="#h84-0-41" id="h84-0-41" class="d">-	}
</a><a href="#h84-0-42" id="h84-0-42" class="d">-
</a><a href="#h84-0-43" id="h84-0-43" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h84-0-44" id="h84-0-44" class="d">-	if err != nil {
</a><a href="#h84-0-45" id="h84-0-45" class="d">-		return nil, nil, err
</a><a href="#h84-0-46" id="h84-0-46" class="d">-	}
</a><a href="#h84-0-47" id="h84-0-47" class="d">-
</a><a href="#h84-0-48" id="h84-0-48" class="d">-	comments := new([]RepositoryComment)
</a><a href="#h84-0-49" id="h84-0-49" class="d">-	resp, err := s.client.Do(req, comments)
</a><a href="#h84-0-50" id="h84-0-50" class="d">-	if err != nil {
</a><a href="#h84-0-51" id="h84-0-51" class="d">-		return nil, resp, err
</a><a href="#h84-0-52" id="h84-0-52" class="d">-	}
</a><a href="#h84-0-53" id="h84-0-53" class="d">-
</a><a href="#h84-0-54" id="h84-0-54" class="d">-	return *comments, resp, err
</a><a href="#h84-0-55" id="h84-0-55" class="d">-}
</a><a href="#h84-0-56" id="h84-0-56" class="d">-
</a><a href="#h84-0-57" id="h84-0-57" class="d">-// ListCommitComments lists all the comments for a given commit SHA.
</a><a href="#h84-0-58" id="h84-0-58" class="d">-//
</a><a href="#h84-0-59" id="h84-0-59" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/comments/#list-comments-for-a-single-commit
</a><a href="#h84-0-60" id="h84-0-60" class="d">-func (s *RepositoriesService) ListCommitComments(owner, repo, sha string, opt *ListOptions) ([]RepositoryComment, *Response, error) {
</a><a href="#h84-0-61" id="h84-0-61" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/commits/%v/comments&quot;, owner, repo, sha)
</a><a href="#h84-0-62" id="h84-0-62" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h84-0-63" id="h84-0-63" class="d">-	if err != nil {
</a><a href="#h84-0-64" id="h84-0-64" class="d">-		return nil, nil, err
</a><a href="#h84-0-65" id="h84-0-65" class="d">-	}
</a><a href="#h84-0-66" id="h84-0-66" class="d">-
</a><a href="#h84-0-67" id="h84-0-67" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h84-0-68" id="h84-0-68" class="d">-	if err != nil {
</a><a href="#h84-0-69" id="h84-0-69" class="d">-		return nil, nil, err
</a><a href="#h84-0-70" id="h84-0-70" class="d">-	}
</a><a href="#h84-0-71" id="h84-0-71" class="d">-
</a><a href="#h84-0-72" id="h84-0-72" class="d">-	comments := new([]RepositoryComment)
</a><a href="#h84-0-73" id="h84-0-73" class="d">-	resp, err := s.client.Do(req, comments)
</a><a href="#h84-0-74" id="h84-0-74" class="d">-	if err != nil {
</a><a href="#h84-0-75" id="h84-0-75" class="d">-		return nil, resp, err
</a><a href="#h84-0-76" id="h84-0-76" class="d">-	}
</a><a href="#h84-0-77" id="h84-0-77" class="d">-
</a><a href="#h84-0-78" id="h84-0-78" class="d">-	return *comments, resp, err
</a><a href="#h84-0-79" id="h84-0-79" class="d">-}
</a><a href="#h84-0-80" id="h84-0-80" class="d">-
</a><a href="#h84-0-81" id="h84-0-81" class="d">-// CreateComment creates a comment for the given commit.
</a><a href="#h84-0-82" id="h84-0-82" class="d">-// Note: GitHub allows for comments to be created for non-existing files and positions.
</a><a href="#h84-0-83" id="h84-0-83" class="d">-//
</a><a href="#h84-0-84" id="h84-0-84" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/comments/#create-a-commit-comment
</a><a href="#h84-0-85" id="h84-0-85" class="d">-func (s *RepositoriesService) CreateComment(owner, repo, sha string, comment *RepositoryComment) (*RepositoryComment, *Response, error) {
</a><a href="#h84-0-86" id="h84-0-86" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/commits/%v/comments&quot;, owner, repo, sha)
</a><a href="#h84-0-87" id="h84-0-87" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, comment)
</a><a href="#h84-0-88" id="h84-0-88" class="d">-	if err != nil {
</a><a href="#h84-0-89" id="h84-0-89" class="d">-		return nil, nil, err
</a><a href="#h84-0-90" id="h84-0-90" class="d">-	}
</a><a href="#h84-0-91" id="h84-0-91" class="d">-
</a><a href="#h84-0-92" id="h84-0-92" class="d">-	c := new(RepositoryComment)
</a><a href="#h84-0-93" id="h84-0-93" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h84-0-94" id="h84-0-94" class="d">-	if err != nil {
</a><a href="#h84-0-95" id="h84-0-95" class="d">-		return nil, resp, err
</a><a href="#h84-0-96" id="h84-0-96" class="d">-	}
</a><a href="#h84-0-97" id="h84-0-97" class="d">-
</a><a href="#h84-0-98" id="h84-0-98" class="d">-	return c, resp, err
</a><a href="#h84-0-99" id="h84-0-99" class="d">-}
</a><a href="#h84-0-100" id="h84-0-100" class="d">-
</a><a href="#h84-0-101" id="h84-0-101" class="d">-// GetComment gets a single comment from a repository.
</a><a href="#h84-0-102" id="h84-0-102" class="d">-//
</a><a href="#h84-0-103" id="h84-0-103" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/comments/#get-a-single-commit-comment
</a><a href="#h84-0-104" id="h84-0-104" class="d">-func (s *RepositoriesService) GetComment(owner, repo string, id int) (*RepositoryComment, *Response, error) {
</a><a href="#h84-0-105" id="h84-0-105" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/comments/%v&quot;, owner, repo, id)
</a><a href="#h84-0-106" id="h84-0-106" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h84-0-107" id="h84-0-107" class="d">-	if err != nil {
</a><a href="#h84-0-108" id="h84-0-108" class="d">-		return nil, nil, err
</a><a href="#h84-0-109" id="h84-0-109" class="d">-	}
</a><a href="#h84-0-110" id="h84-0-110" class="d">-
</a><a href="#h84-0-111" id="h84-0-111" class="d">-	c := new(RepositoryComment)
</a><a href="#h84-0-112" id="h84-0-112" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h84-0-113" id="h84-0-113" class="d">-	if err != nil {
</a><a href="#h84-0-114" id="h84-0-114" class="d">-		return nil, resp, err
</a><a href="#h84-0-115" id="h84-0-115" class="d">-	}
</a><a href="#h84-0-116" id="h84-0-116" class="d">-
</a><a href="#h84-0-117" id="h84-0-117" class="d">-	return c, resp, err
</a><a href="#h84-0-118" id="h84-0-118" class="d">-}
</a><a href="#h84-0-119" id="h84-0-119" class="d">-
</a><a href="#h84-0-120" id="h84-0-120" class="d">-// UpdateComment updates the body of a single comment.
</a><a href="#h84-0-121" id="h84-0-121" class="d">-//
</a><a href="#h84-0-122" id="h84-0-122" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/comments/#update-a-commit-comment
</a><a href="#h84-0-123" id="h84-0-123" class="d">-func (s *RepositoriesService) UpdateComment(owner, repo string, id int, comment *RepositoryComment) (*RepositoryComment, *Response, error) {
</a><a href="#h84-0-124" id="h84-0-124" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/comments/%v&quot;, owner, repo, id)
</a><a href="#h84-0-125" id="h84-0-125" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, comment)
</a><a href="#h84-0-126" id="h84-0-126" class="d">-	if err != nil {
</a><a href="#h84-0-127" id="h84-0-127" class="d">-		return nil, nil, err
</a><a href="#h84-0-128" id="h84-0-128" class="d">-	}
</a><a href="#h84-0-129" id="h84-0-129" class="d">-
</a><a href="#h84-0-130" id="h84-0-130" class="d">-	c := new(RepositoryComment)
</a><a href="#h84-0-131" id="h84-0-131" class="d">-	resp, err := s.client.Do(req, c)
</a><a href="#h84-0-132" id="h84-0-132" class="d">-	if err != nil {
</a><a href="#h84-0-133" id="h84-0-133" class="d">-		return nil, resp, err
</a><a href="#h84-0-134" id="h84-0-134" class="d">-	}
</a><a href="#h84-0-135" id="h84-0-135" class="d">-
</a><a href="#h84-0-136" id="h84-0-136" class="d">-	return c, resp, err
</a><a href="#h84-0-137" id="h84-0-137" class="d">-}
</a><a href="#h84-0-138" id="h84-0-138" class="d">-
</a><a href="#h84-0-139" id="h84-0-139" class="d">-// DeleteComment deletes a single comment from a repository.
</a><a href="#h84-0-140" id="h84-0-140" class="d">-//
</a><a href="#h84-0-141" id="h84-0-141" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/comments/#delete-a-commit-comment
</a><a href="#h84-0-142" id="h84-0-142" class="d">-func (s *RepositoriesService) DeleteComment(owner, repo string, id int) (*Response, error) {
</a><a href="#h84-0-143" id="h84-0-143" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/comments/%v&quot;, owner, repo, id)
</a><a href="#h84-0-144" id="h84-0-144" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h84-0-145" id="h84-0-145" class="d">-	if err != nil {
</a><a href="#h84-0-146" id="h84-0-146" class="d">-		return nil, err
</a><a href="#h84-0-147" id="h84-0-147" class="d">-	}
</a><a href="#h84-0-148" id="h84-0-148" class="d">-	return s.client.Do(req, nil)
</a><a href="#h84-0-149" id="h84-0-149" class="d">-}
</a><b>diff --git a/<a id="h85" href="../file/vendor/github.com/google/go-github/github/repos_commits.go">vendor/github.com/google/go-github/github/repos_commits.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_commits.go">vendor/github.com/google/go-github/github/repos_commits.go</a></b>
<a href="#h85-0" id="h85-0" class="h">@@ -1,196 +0,0 @@
</a><a href="#h85-0-0" id="h85-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h85-0-1" id="h85-0-1" class="d">-//
</a><a href="#h85-0-2" id="h85-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h85-0-3" id="h85-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h85-0-4" id="h85-0-4" class="d">-
</a><a href="#h85-0-5" id="h85-0-5" class="d">-package github
</a><a href="#h85-0-6" id="h85-0-6" class="d">-
</a><a href="#h85-0-7" id="h85-0-7" class="d">-import (
</a><a href="#h85-0-8" id="h85-0-8" class="d">-	&quot;bytes&quot;
</a><a href="#h85-0-9" id="h85-0-9" class="d">-	&quot;fmt&quot;
</a><a href="#h85-0-10" id="h85-0-10" class="d">-	&quot;time&quot;
</a><a href="#h85-0-11" id="h85-0-11" class="d">-)
</a><a href="#h85-0-12" id="h85-0-12" class="d">-
</a><a href="#h85-0-13" id="h85-0-13" class="d">-// RepositoryCommit represents a commit in a repo.
</a><a href="#h85-0-14" id="h85-0-14" class="d">-// Note that it&#39;s wrapping a Commit, so author/committer information is in two places,
</a><a href="#h85-0-15" id="h85-0-15" class="d">-// but contain different details about them: in RepositoryCommit &quot;github details&quot;, in Commit - &quot;git details&quot;.
</a><a href="#h85-0-16" id="h85-0-16" class="d">-type RepositoryCommit struct {
</a><a href="#h85-0-17" id="h85-0-17" class="d">-	SHA       *string  `json:&quot;sha,omitempty&quot;`
</a><a href="#h85-0-18" id="h85-0-18" class="d">-	Commit    *Commit  `json:&quot;commit,omitempty&quot;`
</a><a href="#h85-0-19" id="h85-0-19" class="d">-	Author    *User    `json:&quot;author,omitempty&quot;`
</a><a href="#h85-0-20" id="h85-0-20" class="d">-	Committer *User    `json:&quot;committer,omitempty&quot;`
</a><a href="#h85-0-21" id="h85-0-21" class="d">-	Parents   []Commit `json:&quot;parents,omitempty&quot;`
</a><a href="#h85-0-22" id="h85-0-22" class="d">-	Message   *string  `json:&quot;message,omitempty&quot;`
</a><a href="#h85-0-23" id="h85-0-23" class="d">-	HTMLURL   *string  `json:&quot;html_url,omitempty&quot;`
</a><a href="#h85-0-24" id="h85-0-24" class="d">-
</a><a href="#h85-0-25" id="h85-0-25" class="d">-	// Details about how many changes were made in this commit. Only filled in during GetCommit!
</a><a href="#h85-0-26" id="h85-0-26" class="d">-	Stats *CommitStats `json:&quot;stats,omitempty&quot;`
</a><a href="#h85-0-27" id="h85-0-27" class="d">-	// Details about which files, and how this commit touched. Only filled in during GetCommit!
</a><a href="#h85-0-28" id="h85-0-28" class="d">-	Files []CommitFile `json:&quot;files,omitempty&quot;`
</a><a href="#h85-0-29" id="h85-0-29" class="d">-}
</a><a href="#h85-0-30" id="h85-0-30" class="d">-
</a><a href="#h85-0-31" id="h85-0-31" class="d">-func (r RepositoryCommit) String() string {
</a><a href="#h85-0-32" id="h85-0-32" class="d">-	return Stringify(r)
</a><a href="#h85-0-33" id="h85-0-33" class="d">-}
</a><a href="#h85-0-34" id="h85-0-34" class="d">-
</a><a href="#h85-0-35" id="h85-0-35" class="d">-// CommitStats represents the number of additions / deletions from a file in a given RepositoryCommit.
</a><a href="#h85-0-36" id="h85-0-36" class="d">-type CommitStats struct {
</a><a href="#h85-0-37" id="h85-0-37" class="d">-	Additions *int `json:&quot;additions,omitempty&quot;`
</a><a href="#h85-0-38" id="h85-0-38" class="d">-	Deletions *int `json:&quot;deletions,omitempty&quot;`
</a><a href="#h85-0-39" id="h85-0-39" class="d">-	Total     *int `json:&quot;total,omitempty&quot;`
</a><a href="#h85-0-40" id="h85-0-40" class="d">-}
</a><a href="#h85-0-41" id="h85-0-41" class="d">-
</a><a href="#h85-0-42" id="h85-0-42" class="d">-func (c CommitStats) String() string {
</a><a href="#h85-0-43" id="h85-0-43" class="d">-	return Stringify(c)
</a><a href="#h85-0-44" id="h85-0-44" class="d">-}
</a><a href="#h85-0-45" id="h85-0-45" class="d">-
</a><a href="#h85-0-46" id="h85-0-46" class="d">-// CommitFile represents a file modified in a commit.
</a><a href="#h85-0-47" id="h85-0-47" class="d">-type CommitFile struct {
</a><a href="#h85-0-48" id="h85-0-48" class="d">-	SHA       *string `json:&quot;sha,omitempty&quot;`
</a><a href="#h85-0-49" id="h85-0-49" class="d">-	Filename  *string `json:&quot;filename,omitempty&quot;`
</a><a href="#h85-0-50" id="h85-0-50" class="d">-	Additions *int    `json:&quot;additions,omitempty&quot;`
</a><a href="#h85-0-51" id="h85-0-51" class="d">-	Deletions *int    `json:&quot;deletions,omitempty&quot;`
</a><a href="#h85-0-52" id="h85-0-52" class="d">-	Changes   *int    `json:&quot;changes,omitempty&quot;`
</a><a href="#h85-0-53" id="h85-0-53" class="d">-	Status    *string `json:&quot;status,omitempty&quot;`
</a><a href="#h85-0-54" id="h85-0-54" class="d">-	Patch     *string `json:&quot;patch,omitempty&quot;`
</a><a href="#h85-0-55" id="h85-0-55" class="d">-}
</a><a href="#h85-0-56" id="h85-0-56" class="d">-
</a><a href="#h85-0-57" id="h85-0-57" class="d">-func (c CommitFile) String() string {
</a><a href="#h85-0-58" id="h85-0-58" class="d">-	return Stringify(c)
</a><a href="#h85-0-59" id="h85-0-59" class="d">-}
</a><a href="#h85-0-60" id="h85-0-60" class="d">-
</a><a href="#h85-0-61" id="h85-0-61" class="d">-// CommitsComparison is the result of comparing two commits.
</a><a href="#h85-0-62" id="h85-0-62" class="d">-// See CompareCommits() for details.
</a><a href="#h85-0-63" id="h85-0-63" class="d">-type CommitsComparison struct {
</a><a href="#h85-0-64" id="h85-0-64" class="d">-	BaseCommit      *RepositoryCommit `json:&quot;base_commit,omitempty&quot;`
</a><a href="#h85-0-65" id="h85-0-65" class="d">-	MergeBaseCommit *RepositoryCommit `json:&quot;merge_base_commit,omitempty&quot;`
</a><a href="#h85-0-66" id="h85-0-66" class="d">-
</a><a href="#h85-0-67" id="h85-0-67" class="d">-	// Head can be &#39;behind&#39; or &#39;ahead&#39;
</a><a href="#h85-0-68" id="h85-0-68" class="d">-	Status       *string `json:&quot;status,omitempty&quot;`
</a><a href="#h85-0-69" id="h85-0-69" class="d">-	AheadBy      *int    `json:&quot;ahead_by,omitempty&quot;`
</a><a href="#h85-0-70" id="h85-0-70" class="d">-	BehindBy     *int    `json:&quot;behind_by,omitempty&quot;`
</a><a href="#h85-0-71" id="h85-0-71" class="d">-	TotalCommits *int    `json:&quot;total_commits,omitempty&quot;`
</a><a href="#h85-0-72" id="h85-0-72" class="d">-
</a><a href="#h85-0-73" id="h85-0-73" class="d">-	Commits []RepositoryCommit `json:&quot;commits,omitempty&quot;`
</a><a href="#h85-0-74" id="h85-0-74" class="d">-
</a><a href="#h85-0-75" id="h85-0-75" class="d">-	Files []CommitFile `json:&quot;files,omitempty&quot;`
</a><a href="#h85-0-76" id="h85-0-76" class="d">-}
</a><a href="#h85-0-77" id="h85-0-77" class="d">-
</a><a href="#h85-0-78" id="h85-0-78" class="d">-func (c CommitsComparison) String() string {
</a><a href="#h85-0-79" id="h85-0-79" class="d">-	return Stringify(c)
</a><a href="#h85-0-80" id="h85-0-80" class="d">-}
</a><a href="#h85-0-81" id="h85-0-81" class="d">-
</a><a href="#h85-0-82" id="h85-0-82" class="d">-// CommitsListOptions specifies the optional parameters to the
</a><a href="#h85-0-83" id="h85-0-83" class="d">-// RepositoriesService.ListCommits method.
</a><a href="#h85-0-84" id="h85-0-84" class="d">-type CommitsListOptions struct {
</a><a href="#h85-0-85" id="h85-0-85" class="d">-	// SHA or branch to start listing Commits from.
</a><a href="#h85-0-86" id="h85-0-86" class="d">-	SHA string `url:&quot;sha,omitempty&quot;`
</a><a href="#h85-0-87" id="h85-0-87" class="d">-
</a><a href="#h85-0-88" id="h85-0-88" class="d">-	// Path that should be touched by the returned Commits.
</a><a href="#h85-0-89" id="h85-0-89" class="d">-	Path string `url:&quot;path,omitempty&quot;`
</a><a href="#h85-0-90" id="h85-0-90" class="d">-
</a><a href="#h85-0-91" id="h85-0-91" class="d">-	// Author of by which to filter Commits.
</a><a href="#h85-0-92" id="h85-0-92" class="d">-	Author string `url:&quot;author,omitempty&quot;`
</a><a href="#h85-0-93" id="h85-0-93" class="d">-
</a><a href="#h85-0-94" id="h85-0-94" class="d">-	// Since when should Commits be included in the response.
</a><a href="#h85-0-95" id="h85-0-95" class="d">-	Since time.Time `url:&quot;since,omitempty&quot;`
</a><a href="#h85-0-96" id="h85-0-96" class="d">-
</a><a href="#h85-0-97" id="h85-0-97" class="d">-	// Until when should Commits be included in the response.
</a><a href="#h85-0-98" id="h85-0-98" class="d">-	Until time.Time `url:&quot;until,omitempty&quot;`
</a><a href="#h85-0-99" id="h85-0-99" class="d">-
</a><a href="#h85-0-100" id="h85-0-100" class="d">-	ListOptions
</a><a href="#h85-0-101" id="h85-0-101" class="d">-}
</a><a href="#h85-0-102" id="h85-0-102" class="d">-
</a><a href="#h85-0-103" id="h85-0-103" class="d">-// ListCommits lists the commits of a repository.
</a><a href="#h85-0-104" id="h85-0-104" class="d">-//
</a><a href="#h85-0-105" id="h85-0-105" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/commits/#list
</a><a href="#h85-0-106" id="h85-0-106" class="d">-func (s *RepositoriesService) ListCommits(owner, repo string, opt *CommitsListOptions) ([]RepositoryCommit, *Response, error) {
</a><a href="#h85-0-107" id="h85-0-107" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/commits&quot;, owner, repo)
</a><a href="#h85-0-108" id="h85-0-108" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h85-0-109" id="h85-0-109" class="d">-	if err != nil {
</a><a href="#h85-0-110" id="h85-0-110" class="d">-		return nil, nil, err
</a><a href="#h85-0-111" id="h85-0-111" class="d">-	}
</a><a href="#h85-0-112" id="h85-0-112" class="d">-
</a><a href="#h85-0-113" id="h85-0-113" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h85-0-114" id="h85-0-114" class="d">-	if err != nil {
</a><a href="#h85-0-115" id="h85-0-115" class="d">-		return nil, nil, err
</a><a href="#h85-0-116" id="h85-0-116" class="d">-	}
</a><a href="#h85-0-117" id="h85-0-117" class="d">-
</a><a href="#h85-0-118" id="h85-0-118" class="d">-	commits := new([]RepositoryCommit)
</a><a href="#h85-0-119" id="h85-0-119" class="d">-	resp, err := s.client.Do(req, commits)
</a><a href="#h85-0-120" id="h85-0-120" class="d">-	if err != nil {
</a><a href="#h85-0-121" id="h85-0-121" class="d">-		return nil, resp, err
</a><a href="#h85-0-122" id="h85-0-122" class="d">-	}
</a><a href="#h85-0-123" id="h85-0-123" class="d">-
</a><a href="#h85-0-124" id="h85-0-124" class="d">-	return *commits, resp, err
</a><a href="#h85-0-125" id="h85-0-125" class="d">-}
</a><a href="#h85-0-126" id="h85-0-126" class="d">-
</a><a href="#h85-0-127" id="h85-0-127" class="d">-// GetCommit fetches the specified commit, including all details about it.
</a><a href="#h85-0-128" id="h85-0-128" class="d">-// todo: support media formats - https://github.com/google/go-github/issues/6
</a><a href="#h85-0-129" id="h85-0-129" class="d">-//
</a><a href="#h85-0-130" id="h85-0-130" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/commits/#get-a-single-commit
</a><a href="#h85-0-131" id="h85-0-131" class="d">-// See also: http://developer.github.com//v3/git/commits/#get-a-single-commit provides the same functionality
</a><a href="#h85-0-132" id="h85-0-132" class="d">-func (s *RepositoriesService) GetCommit(owner, repo, sha string) (*RepositoryCommit, *Response, error) {
</a><a href="#h85-0-133" id="h85-0-133" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/commits/%v&quot;, owner, repo, sha)
</a><a href="#h85-0-134" id="h85-0-134" class="d">-
</a><a href="#h85-0-135" id="h85-0-135" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h85-0-136" id="h85-0-136" class="d">-	if err != nil {
</a><a href="#h85-0-137" id="h85-0-137" class="d">-		return nil, nil, err
</a><a href="#h85-0-138" id="h85-0-138" class="d">-	}
</a><a href="#h85-0-139" id="h85-0-139" class="d">-
</a><a href="#h85-0-140" id="h85-0-140" class="d">-	commit := new(RepositoryCommit)
</a><a href="#h85-0-141" id="h85-0-141" class="d">-	resp, err := s.client.Do(req, commit)
</a><a href="#h85-0-142" id="h85-0-142" class="d">-	if err != nil {
</a><a href="#h85-0-143" id="h85-0-143" class="d">-		return nil, resp, err
</a><a href="#h85-0-144" id="h85-0-144" class="d">-	}
</a><a href="#h85-0-145" id="h85-0-145" class="d">-
</a><a href="#h85-0-146" id="h85-0-146" class="d">-	return commit, resp, err
</a><a href="#h85-0-147" id="h85-0-147" class="d">-}
</a><a href="#h85-0-148" id="h85-0-148" class="d">-
</a><a href="#h85-0-149" id="h85-0-149" class="d">-// GetCommitSHA1 gets the SHA-1 of a commit reference.  If a last-known SHA1 is
</a><a href="#h85-0-150" id="h85-0-150" class="d">-// supplied and no new commits have occurred, a 304 Unmodified response is returned.
</a><a href="#h85-0-151" id="h85-0-151" class="d">-//
</a><a href="#h85-0-152" id="h85-0-152" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/commits/#get-the-sha-1-of-a-commit-reference
</a><a href="#h85-0-153" id="h85-0-153" class="d">-func (s *RepositoriesService) GetCommitSHA1(owner, repo, ref, lastSHA string) (string, *Response, error) {
</a><a href="#h85-0-154" id="h85-0-154" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/commits/%v&quot;, owner, repo, ref)
</a><a href="#h85-0-155" id="h85-0-155" class="d">-
</a><a href="#h85-0-156" id="h85-0-156" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h85-0-157" id="h85-0-157" class="d">-	if err != nil {
</a><a href="#h85-0-158" id="h85-0-158" class="d">-		return &quot;&quot;, nil, err
</a><a href="#h85-0-159" id="h85-0-159" class="d">-	}
</a><a href="#h85-0-160" id="h85-0-160" class="d">-	if lastSHA != &quot;&quot; {
</a><a href="#h85-0-161" id="h85-0-161" class="d">-		req.Header.Set(&quot;If-None-Match&quot;, `&quot;`+lastSHA+`&quot;`)
</a><a href="#h85-0-162" id="h85-0-162" class="d">-	}
</a><a href="#h85-0-163" id="h85-0-163" class="d">-
</a><a href="#h85-0-164" id="h85-0-164" class="d">-	// TODO: remove custom Accept header when this API fully launches.
</a><a href="#h85-0-165" id="h85-0-165" class="d">-	req.Header.Set(&quot;Accept&quot;, mediaTypeCommitReferenceSHAPreview)
</a><a href="#h85-0-166" id="h85-0-166" class="d">-
</a><a href="#h85-0-167" id="h85-0-167" class="d">-	var buf bytes.Buffer
</a><a href="#h85-0-168" id="h85-0-168" class="d">-	resp, err := s.client.Do(req, &amp;buf)
</a><a href="#h85-0-169" id="h85-0-169" class="d">-	if err != nil {
</a><a href="#h85-0-170" id="h85-0-170" class="d">-		return &quot;&quot;, resp, err
</a><a href="#h85-0-171" id="h85-0-171" class="d">-	}
</a><a href="#h85-0-172" id="h85-0-172" class="d">-
</a><a href="#h85-0-173" id="h85-0-173" class="d">-	return buf.String(), resp, err
</a><a href="#h85-0-174" id="h85-0-174" class="d">-}
</a><a href="#h85-0-175" id="h85-0-175" class="d">-
</a><a href="#h85-0-176" id="h85-0-176" class="d">-// CompareCommits compares a range of commits with each other.
</a><a href="#h85-0-177" id="h85-0-177" class="d">-// todo: support media formats - https://github.com/google/go-github/issues/6
</a><a href="#h85-0-178" id="h85-0-178" class="d">-//
</a><a href="#h85-0-179" id="h85-0-179" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/commits/index.html#compare-two-commits
</a><a href="#h85-0-180" id="h85-0-180" class="d">-func (s *RepositoriesService) CompareCommits(owner, repo string, base, head string) (*CommitsComparison, *Response, error) {
</a><a href="#h85-0-181" id="h85-0-181" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/compare/%v...%v&quot;, owner, repo, base, head)
</a><a href="#h85-0-182" id="h85-0-182" class="d">-
</a><a href="#h85-0-183" id="h85-0-183" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h85-0-184" id="h85-0-184" class="d">-	if err != nil {
</a><a href="#h85-0-185" id="h85-0-185" class="d">-		return nil, nil, err
</a><a href="#h85-0-186" id="h85-0-186" class="d">-	}
</a><a href="#h85-0-187" id="h85-0-187" class="d">-
</a><a href="#h85-0-188" id="h85-0-188" class="d">-	comp := new(CommitsComparison)
</a><a href="#h85-0-189" id="h85-0-189" class="d">-	resp, err := s.client.Do(req, comp)
</a><a href="#h85-0-190" id="h85-0-190" class="d">-	if err != nil {
</a><a href="#h85-0-191" id="h85-0-191" class="d">-		return nil, resp, err
</a><a href="#h85-0-192" id="h85-0-192" class="d">-	}
</a><a href="#h85-0-193" id="h85-0-193" class="d">-
</a><a href="#h85-0-194" id="h85-0-194" class="d">-	return comp, resp, err
</a><a href="#h85-0-195" id="h85-0-195" class="d">-}
</a><b>diff --git a/<a id="h86" href="../file/vendor/github.com/google/go-github/github/repos_contents.go">vendor/github.com/google/go-github/github/repos_contents.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_contents.go">vendor/github.com/google/go-github/github/repos_contents.go</a></b>
<a href="#h86-0" id="h86-0" class="h">@@ -1,248 +0,0 @@
</a><a href="#h86-0-0" id="h86-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h86-0-1" id="h86-0-1" class="d">-//
</a><a href="#h86-0-2" id="h86-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h86-0-3" id="h86-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h86-0-4" id="h86-0-4" class="d">-
</a><a href="#h86-0-5" id="h86-0-5" class="d">-// Repository contents API methods.
</a><a href="#h86-0-6" id="h86-0-6" class="d">-// http://developer.github.com/v3/repos/contents/
</a><a href="#h86-0-7" id="h86-0-7" class="d">-
</a><a href="#h86-0-8" id="h86-0-8" class="d">-package github
</a><a href="#h86-0-9" id="h86-0-9" class="d">-
</a><a href="#h86-0-10" id="h86-0-10" class="d">-import (
</a><a href="#h86-0-11" id="h86-0-11" class="d">-	&quot;encoding/base64&quot;
</a><a href="#h86-0-12" id="h86-0-12" class="d">-	&quot;encoding/json&quot;
</a><a href="#h86-0-13" id="h86-0-13" class="d">-	&quot;errors&quot;
</a><a href="#h86-0-14" id="h86-0-14" class="d">-	&quot;fmt&quot;
</a><a href="#h86-0-15" id="h86-0-15" class="d">-	&quot;io&quot;
</a><a href="#h86-0-16" id="h86-0-16" class="d">-	&quot;net/http&quot;
</a><a href="#h86-0-17" id="h86-0-17" class="d">-	&quot;net/url&quot;
</a><a href="#h86-0-18" id="h86-0-18" class="d">-	&quot;path&quot;
</a><a href="#h86-0-19" id="h86-0-19" class="d">-)
</a><a href="#h86-0-20" id="h86-0-20" class="d">-
</a><a href="#h86-0-21" id="h86-0-21" class="d">-// RepositoryContent represents a file or directory in a github repository.
</a><a href="#h86-0-22" id="h86-0-22" class="d">-type RepositoryContent struct {
</a><a href="#h86-0-23" id="h86-0-23" class="d">-	Type        *string `json:&quot;type,omitempty&quot;`
</a><a href="#h86-0-24" id="h86-0-24" class="d">-	Encoding    *string `json:&quot;encoding,omitempty&quot;`
</a><a href="#h86-0-25" id="h86-0-25" class="d">-	Size        *int    `json:&quot;size,omitempty&quot;`
</a><a href="#h86-0-26" id="h86-0-26" class="d">-	Name        *string `json:&quot;name,omitempty&quot;`
</a><a href="#h86-0-27" id="h86-0-27" class="d">-	Path        *string `json:&quot;path,omitempty&quot;`
</a><a href="#h86-0-28" id="h86-0-28" class="d">-	Content     *string `json:&quot;content,omitempty&quot;`
</a><a href="#h86-0-29" id="h86-0-29" class="d">-	SHA         *string `json:&quot;sha,omitempty&quot;`
</a><a href="#h86-0-30" id="h86-0-30" class="d">-	URL         *string `json:&quot;url,omitempty&quot;`
</a><a href="#h86-0-31" id="h86-0-31" class="d">-	GitURL      *string `json:&quot;git_url,omitempty&quot;`
</a><a href="#h86-0-32" id="h86-0-32" class="d">-	HTMLURL     *string `json:&quot;html_url,omitempty&quot;`
</a><a href="#h86-0-33" id="h86-0-33" class="d">-	DownloadURL *string `json:&quot;download_url,omitempty&quot;`
</a><a href="#h86-0-34" id="h86-0-34" class="d">-}
</a><a href="#h86-0-35" id="h86-0-35" class="d">-
</a><a href="#h86-0-36" id="h86-0-36" class="d">-// RepositoryContentResponse holds the parsed response from CreateFile, UpdateFile, and DeleteFile.
</a><a href="#h86-0-37" id="h86-0-37" class="d">-type RepositoryContentResponse struct {
</a><a href="#h86-0-38" id="h86-0-38" class="d">-	Content *RepositoryContent `json:&quot;content,omitempty&quot;`
</a><a href="#h86-0-39" id="h86-0-39" class="d">-	Commit  `json:&quot;commit,omitempty&quot;`
</a><a href="#h86-0-40" id="h86-0-40" class="d">-}
</a><a href="#h86-0-41" id="h86-0-41" class="d">-
</a><a href="#h86-0-42" id="h86-0-42" class="d">-// RepositoryContentFileOptions specifies optional parameters for CreateFile, UpdateFile, and DeleteFile.
</a><a href="#h86-0-43" id="h86-0-43" class="d">-type RepositoryContentFileOptions struct {
</a><a href="#h86-0-44" id="h86-0-44" class="d">-	Message   *string       `json:&quot;message,omitempty&quot;`
</a><a href="#h86-0-45" id="h86-0-45" class="d">-	Content   []byte        `json:&quot;content,omitempty&quot;` // unencoded
</a><a href="#h86-0-46" id="h86-0-46" class="d">-	SHA       *string       `json:&quot;sha,omitempty&quot;`
</a><a href="#h86-0-47" id="h86-0-47" class="d">-	Branch    *string       `json:&quot;branch,omitempty&quot;`
</a><a href="#h86-0-48" id="h86-0-48" class="d">-	Author    *CommitAuthor `json:&quot;author,omitempty&quot;`
</a><a href="#h86-0-49" id="h86-0-49" class="d">-	Committer *CommitAuthor `json:&quot;committer,omitempty&quot;`
</a><a href="#h86-0-50" id="h86-0-50" class="d">-}
</a><a href="#h86-0-51" id="h86-0-51" class="d">-
</a><a href="#h86-0-52" id="h86-0-52" class="d">-// RepositoryContentGetOptions represents an optional ref parameter, which can be a SHA,
</a><a href="#h86-0-53" id="h86-0-53" class="d">-// branch, or tag
</a><a href="#h86-0-54" id="h86-0-54" class="d">-type RepositoryContentGetOptions struct {
</a><a href="#h86-0-55" id="h86-0-55" class="d">-	Ref string `url:&quot;ref,omitempty&quot;`
</a><a href="#h86-0-56" id="h86-0-56" class="d">-}
</a><a href="#h86-0-57" id="h86-0-57" class="d">-
</a><a href="#h86-0-58" id="h86-0-58" class="d">-func (r RepositoryContent) String() string {
</a><a href="#h86-0-59" id="h86-0-59" class="d">-	return Stringify(r)
</a><a href="#h86-0-60" id="h86-0-60" class="d">-}
</a><a href="#h86-0-61" id="h86-0-61" class="d">-
</a><a href="#h86-0-62" id="h86-0-62" class="d">-// Decode decodes the file content if it is base64 encoded.
</a><a href="#h86-0-63" id="h86-0-63" class="d">-func (r *RepositoryContent) Decode() ([]byte, error) {
</a><a href="#h86-0-64" id="h86-0-64" class="d">-	if *r.Encoding != &quot;base64&quot; {
</a><a href="#h86-0-65" id="h86-0-65" class="d">-		return nil, errors.New(&quot;cannot decode non-base64&quot;)
</a><a href="#h86-0-66" id="h86-0-66" class="d">-	}
</a><a href="#h86-0-67" id="h86-0-67" class="d">-	o, err := base64.StdEncoding.DecodeString(*r.Content)
</a><a href="#h86-0-68" id="h86-0-68" class="d">-	if err != nil {
</a><a href="#h86-0-69" id="h86-0-69" class="d">-		return nil, err
</a><a href="#h86-0-70" id="h86-0-70" class="d">-	}
</a><a href="#h86-0-71" id="h86-0-71" class="d">-	return o, nil
</a><a href="#h86-0-72" id="h86-0-72" class="d">-}
</a><a href="#h86-0-73" id="h86-0-73" class="d">-
</a><a href="#h86-0-74" id="h86-0-74" class="d">-// GetReadme gets the Readme file for the repository.
</a><a href="#h86-0-75" id="h86-0-75" class="d">-//
</a><a href="#h86-0-76" id="h86-0-76" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/contents/#get-the-readme
</a><a href="#h86-0-77" id="h86-0-77" class="d">-func (s *RepositoriesService) GetReadme(owner, repo string, opt *RepositoryContentGetOptions) (*RepositoryContent, *Response, error) {
</a><a href="#h86-0-78" id="h86-0-78" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/readme&quot;, owner, repo)
</a><a href="#h86-0-79" id="h86-0-79" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h86-0-80" id="h86-0-80" class="d">-	if err != nil {
</a><a href="#h86-0-81" id="h86-0-81" class="d">-		return nil, nil, err
</a><a href="#h86-0-82" id="h86-0-82" class="d">-	}
</a><a href="#h86-0-83" id="h86-0-83" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h86-0-84" id="h86-0-84" class="d">-	if err != nil {
</a><a href="#h86-0-85" id="h86-0-85" class="d">-		return nil, nil, err
</a><a href="#h86-0-86" id="h86-0-86" class="d">-	}
</a><a href="#h86-0-87" id="h86-0-87" class="d">-	readme := new(RepositoryContent)
</a><a href="#h86-0-88" id="h86-0-88" class="d">-	resp, err := s.client.Do(req, readme)
</a><a href="#h86-0-89" id="h86-0-89" class="d">-	if err != nil {
</a><a href="#h86-0-90" id="h86-0-90" class="d">-		return nil, resp, err
</a><a href="#h86-0-91" id="h86-0-91" class="d">-	}
</a><a href="#h86-0-92" id="h86-0-92" class="d">-	return readme, resp, err
</a><a href="#h86-0-93" id="h86-0-93" class="d">-}
</a><a href="#h86-0-94" id="h86-0-94" class="d">-
</a><a href="#h86-0-95" id="h86-0-95" class="d">-// DownloadContents returns an io.ReadCloser that reads the contents of the
</a><a href="#h86-0-96" id="h86-0-96" class="d">-// specified file. This function will work with files of any size, as opposed
</a><a href="#h86-0-97" id="h86-0-97" class="d">-// to GetContents which is limited to 1 Mb files. It is the caller&#39;s
</a><a href="#h86-0-98" id="h86-0-98" class="d">-// responsibility to close the ReadCloser.
</a><a href="#h86-0-99" id="h86-0-99" class="d">-func (s *RepositoriesService) DownloadContents(owner, repo, filepath string, opt *RepositoryContentGetOptions) (io.ReadCloser, error) {
</a><a href="#h86-0-100" id="h86-0-100" class="d">-	dir := path.Dir(filepath)
</a><a href="#h86-0-101" id="h86-0-101" class="d">-	filename := path.Base(filepath)
</a><a href="#h86-0-102" id="h86-0-102" class="d">-	_, dirContents, _, err := s.GetContents(owner, repo, dir, opt)
</a><a href="#h86-0-103" id="h86-0-103" class="d">-	if err != nil {
</a><a href="#h86-0-104" id="h86-0-104" class="d">-		return nil, err
</a><a href="#h86-0-105" id="h86-0-105" class="d">-	}
</a><a href="#h86-0-106" id="h86-0-106" class="d">-	for _, contents := range dirContents {
</a><a href="#h86-0-107" id="h86-0-107" class="d">-		if *contents.Name == filename {
</a><a href="#h86-0-108" id="h86-0-108" class="d">-			if contents.DownloadURL == nil || *contents.DownloadURL == &quot;&quot; {
</a><a href="#h86-0-109" id="h86-0-109" class="d">-				return nil, fmt.Errorf(&quot;No download link found for %s&quot;, filepath)
</a><a href="#h86-0-110" id="h86-0-110" class="d">-			}
</a><a href="#h86-0-111" id="h86-0-111" class="d">-			resp, err := s.client.client.Get(*contents.DownloadURL)
</a><a href="#h86-0-112" id="h86-0-112" class="d">-			if err != nil {
</a><a href="#h86-0-113" id="h86-0-113" class="d">-				return nil, err
</a><a href="#h86-0-114" id="h86-0-114" class="d">-			}
</a><a href="#h86-0-115" id="h86-0-115" class="d">-			return resp.Body, nil
</a><a href="#h86-0-116" id="h86-0-116" class="d">-		}
</a><a href="#h86-0-117" id="h86-0-117" class="d">-	}
</a><a href="#h86-0-118" id="h86-0-118" class="d">-	return nil, fmt.Errorf(&quot;No file named %s found in %s&quot;, filename, dir)
</a><a href="#h86-0-119" id="h86-0-119" class="d">-}
</a><a href="#h86-0-120" id="h86-0-120" class="d">-
</a><a href="#h86-0-121" id="h86-0-121" class="d">-// GetContents can return either the metadata and content of a single file
</a><a href="#h86-0-122" id="h86-0-122" class="d">-// (when path references a file) or the metadata of all the files and/or
</a><a href="#h86-0-123" id="h86-0-123" class="d">-// subdirectories of a directory (when path references a directory). To make it
</a><a href="#h86-0-124" id="h86-0-124" class="d">-// easy to distinguish between both result types and to mimic the API as much
</a><a href="#h86-0-125" id="h86-0-125" class="d">-// as possible, both result types will be returned but only one will contain a
</a><a href="#h86-0-126" id="h86-0-126" class="d">-// value and the other will be nil.
</a><a href="#h86-0-127" id="h86-0-127" class="d">-//
</a><a href="#h86-0-128" id="h86-0-128" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/contents/#get-contents
</a><a href="#h86-0-129" id="h86-0-129" class="d">-func (s *RepositoriesService) GetContents(owner, repo, path string, opt *RepositoryContentGetOptions) (fileContent *RepositoryContent, directoryContent []*RepositoryContent, resp *Response, err error) {
</a><a href="#h86-0-130" id="h86-0-130" class="d">-	escapedPath := (&amp;url.URL{Path: path}).String()
</a><a href="#h86-0-131" id="h86-0-131" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/contents/%s&quot;, owner, repo, escapedPath)
</a><a href="#h86-0-132" id="h86-0-132" class="d">-	u, err = addOptions(u, opt)
</a><a href="#h86-0-133" id="h86-0-133" class="d">-	if err != nil {
</a><a href="#h86-0-134" id="h86-0-134" class="d">-		return nil, nil, nil, err
</a><a href="#h86-0-135" id="h86-0-135" class="d">-	}
</a><a href="#h86-0-136" id="h86-0-136" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h86-0-137" id="h86-0-137" class="d">-	if err != nil {
</a><a href="#h86-0-138" id="h86-0-138" class="d">-		return nil, nil, nil, err
</a><a href="#h86-0-139" id="h86-0-139" class="d">-	}
</a><a href="#h86-0-140" id="h86-0-140" class="d">-	var rawJSON json.RawMessage
</a><a href="#h86-0-141" id="h86-0-141" class="d">-	resp, err = s.client.Do(req, &amp;rawJSON)
</a><a href="#h86-0-142" id="h86-0-142" class="d">-	if err != nil {
</a><a href="#h86-0-143" id="h86-0-143" class="d">-		return nil, nil, resp, err
</a><a href="#h86-0-144" id="h86-0-144" class="d">-	}
</a><a href="#h86-0-145" id="h86-0-145" class="d">-	fileUnmarshalError := json.Unmarshal(rawJSON, &amp;fileContent)
</a><a href="#h86-0-146" id="h86-0-146" class="d">-	if fileUnmarshalError == nil {
</a><a href="#h86-0-147" id="h86-0-147" class="d">-		return fileContent, nil, resp, fileUnmarshalError
</a><a href="#h86-0-148" id="h86-0-148" class="d">-	}
</a><a href="#h86-0-149" id="h86-0-149" class="d">-	directoryUnmarshalError := json.Unmarshal(rawJSON, &amp;directoryContent)
</a><a href="#h86-0-150" id="h86-0-150" class="d">-	if directoryUnmarshalError == nil {
</a><a href="#h86-0-151" id="h86-0-151" class="d">-		return nil, directoryContent, resp, directoryUnmarshalError
</a><a href="#h86-0-152" id="h86-0-152" class="d">-	}
</a><a href="#h86-0-153" id="h86-0-153" class="d">-	return nil, nil, resp, fmt.Errorf(&quot;unmarshalling failed for both file and directory content: %s and %s &quot;, fileUnmarshalError, directoryUnmarshalError)
</a><a href="#h86-0-154" id="h86-0-154" class="d">-}
</a><a href="#h86-0-155" id="h86-0-155" class="d">-
</a><a href="#h86-0-156" id="h86-0-156" class="d">-// CreateFile creates a new file in a repository at the given path and returns
</a><a href="#h86-0-157" id="h86-0-157" class="d">-// the commit and file metadata.
</a><a href="#h86-0-158" id="h86-0-158" class="d">-//
</a><a href="#h86-0-159" id="h86-0-159" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/contents/#create-a-file
</a><a href="#h86-0-160" id="h86-0-160" class="d">-func (s *RepositoriesService) CreateFile(owner, repo, path string, opt *RepositoryContentFileOptions) (*RepositoryContentResponse, *Response, error) {
</a><a href="#h86-0-161" id="h86-0-161" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/contents/%s&quot;, owner, repo, path)
</a><a href="#h86-0-162" id="h86-0-162" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, opt)
</a><a href="#h86-0-163" id="h86-0-163" class="d">-	if err != nil {
</a><a href="#h86-0-164" id="h86-0-164" class="d">-		return nil, nil, err
</a><a href="#h86-0-165" id="h86-0-165" class="d">-	}
</a><a href="#h86-0-166" id="h86-0-166" class="d">-	createResponse := new(RepositoryContentResponse)
</a><a href="#h86-0-167" id="h86-0-167" class="d">-	resp, err := s.client.Do(req, createResponse)
</a><a href="#h86-0-168" id="h86-0-168" class="d">-	if err != nil {
</a><a href="#h86-0-169" id="h86-0-169" class="d">-		return nil, resp, err
</a><a href="#h86-0-170" id="h86-0-170" class="d">-	}
</a><a href="#h86-0-171" id="h86-0-171" class="d">-	return createResponse, resp, err
</a><a href="#h86-0-172" id="h86-0-172" class="d">-}
</a><a href="#h86-0-173" id="h86-0-173" class="d">-
</a><a href="#h86-0-174" id="h86-0-174" class="d">-// UpdateFile updates a file in a repository at the given path and returns the
</a><a href="#h86-0-175" id="h86-0-175" class="d">-// commit and file metadata. Requires the blob SHA of the file being updated.
</a><a href="#h86-0-176" id="h86-0-176" class="d">-//
</a><a href="#h86-0-177" id="h86-0-177" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/contents/#update-a-file
</a><a href="#h86-0-178" id="h86-0-178" class="d">-func (s *RepositoriesService) UpdateFile(owner, repo, path string, opt *RepositoryContentFileOptions) (*RepositoryContentResponse, *Response, error) {
</a><a href="#h86-0-179" id="h86-0-179" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/contents/%s&quot;, owner, repo, path)
</a><a href="#h86-0-180" id="h86-0-180" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, opt)
</a><a href="#h86-0-181" id="h86-0-181" class="d">-	if err != nil {
</a><a href="#h86-0-182" id="h86-0-182" class="d">-		return nil, nil, err
</a><a href="#h86-0-183" id="h86-0-183" class="d">-	}
</a><a href="#h86-0-184" id="h86-0-184" class="d">-	updateResponse := new(RepositoryContentResponse)
</a><a href="#h86-0-185" id="h86-0-185" class="d">-	resp, err := s.client.Do(req, updateResponse)
</a><a href="#h86-0-186" id="h86-0-186" class="d">-	if err != nil {
</a><a href="#h86-0-187" id="h86-0-187" class="d">-		return nil, resp, err
</a><a href="#h86-0-188" id="h86-0-188" class="d">-	}
</a><a href="#h86-0-189" id="h86-0-189" class="d">-	return updateResponse, resp, err
</a><a href="#h86-0-190" id="h86-0-190" class="d">-}
</a><a href="#h86-0-191" id="h86-0-191" class="d">-
</a><a href="#h86-0-192" id="h86-0-192" class="d">-// DeleteFile deletes a file from a repository and returns the commit.
</a><a href="#h86-0-193" id="h86-0-193" class="d">-// Requires the blob SHA of the file to be deleted.
</a><a href="#h86-0-194" id="h86-0-194" class="d">-//
</a><a href="#h86-0-195" id="h86-0-195" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/contents/#delete-a-file
</a><a href="#h86-0-196" id="h86-0-196" class="d">-func (s *RepositoriesService) DeleteFile(owner, repo, path string, opt *RepositoryContentFileOptions) (*RepositoryContentResponse, *Response, error) {
</a><a href="#h86-0-197" id="h86-0-197" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/contents/%s&quot;, owner, repo, path)
</a><a href="#h86-0-198" id="h86-0-198" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, opt)
</a><a href="#h86-0-199" id="h86-0-199" class="d">-	if err != nil {
</a><a href="#h86-0-200" id="h86-0-200" class="d">-		return nil, nil, err
</a><a href="#h86-0-201" id="h86-0-201" class="d">-	}
</a><a href="#h86-0-202" id="h86-0-202" class="d">-	deleteResponse := new(RepositoryContentResponse)
</a><a href="#h86-0-203" id="h86-0-203" class="d">-	resp, err := s.client.Do(req, deleteResponse)
</a><a href="#h86-0-204" id="h86-0-204" class="d">-	if err != nil {
</a><a href="#h86-0-205" id="h86-0-205" class="d">-		return nil, resp, err
</a><a href="#h86-0-206" id="h86-0-206" class="d">-	}
</a><a href="#h86-0-207" id="h86-0-207" class="d">-	return deleteResponse, resp, err
</a><a href="#h86-0-208" id="h86-0-208" class="d">-}
</a><a href="#h86-0-209" id="h86-0-209" class="d">-
</a><a href="#h86-0-210" id="h86-0-210" class="d">-// archiveFormat is used to define the archive type when calling GetArchiveLink.
</a><a href="#h86-0-211" id="h86-0-211" class="d">-type archiveFormat string
</a><a href="#h86-0-212" id="h86-0-212" class="d">-
</a><a href="#h86-0-213" id="h86-0-213" class="d">-const (
</a><a href="#h86-0-214" id="h86-0-214" class="d">-	// Tarball specifies an archive in gzipped tar format.
</a><a href="#h86-0-215" id="h86-0-215" class="d">-	Tarball archiveFormat = &quot;tarball&quot;
</a><a href="#h86-0-216" id="h86-0-216" class="d">-
</a><a href="#h86-0-217" id="h86-0-217" class="d">-	// Zipball specifies an archive in zip format.
</a><a href="#h86-0-218" id="h86-0-218" class="d">-	Zipball archiveFormat = &quot;zipball&quot;
</a><a href="#h86-0-219" id="h86-0-219" class="d">-)
</a><a href="#h86-0-220" id="h86-0-220" class="d">-
</a><a href="#h86-0-221" id="h86-0-221" class="d">-// GetArchiveLink returns an URL to download a tarball or zipball archive for a
</a><a href="#h86-0-222" id="h86-0-222" class="d">-// repository. The archiveFormat can be specified by either the github.Tarball
</a><a href="#h86-0-223" id="h86-0-223" class="d">-// or github.Zipball constant.
</a><a href="#h86-0-224" id="h86-0-224" class="d">-//
</a><a href="#h86-0-225" id="h86-0-225" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/contents/#get-archive-link
</a><a href="#h86-0-226" id="h86-0-226" class="d">-func (s *RepositoriesService) GetArchiveLink(owner, repo string, archiveformat archiveFormat, opt *RepositoryContentGetOptions) (*url.URL, *Response, error) {
</a><a href="#h86-0-227" id="h86-0-227" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/%s&quot;, owner, repo, archiveformat)
</a><a href="#h86-0-228" id="h86-0-228" class="d">-	if opt != nil &amp;&amp; opt.Ref != &quot;&quot; {
</a><a href="#h86-0-229" id="h86-0-229" class="d">-		u += fmt.Sprintf(&quot;/%s&quot;, opt.Ref)
</a><a href="#h86-0-230" id="h86-0-230" class="d">-	}
</a><a href="#h86-0-231" id="h86-0-231" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h86-0-232" id="h86-0-232" class="d">-	if err != nil {
</a><a href="#h86-0-233" id="h86-0-233" class="d">-		return nil, nil, err
</a><a href="#h86-0-234" id="h86-0-234" class="d">-	}
</a><a href="#h86-0-235" id="h86-0-235" class="d">-	var resp *http.Response
</a><a href="#h86-0-236" id="h86-0-236" class="d">-	// Use http.DefaultTransport if no custom Transport is configured
</a><a href="#h86-0-237" id="h86-0-237" class="d">-	if s.client.client.Transport == nil {
</a><a href="#h86-0-238" id="h86-0-238" class="d">-		resp, err = http.DefaultTransport.RoundTrip(req)
</a><a href="#h86-0-239" id="h86-0-239" class="d">-	} else {
</a><a href="#h86-0-240" id="h86-0-240" class="d">-		resp, err = s.client.client.Transport.RoundTrip(req)
</a><a href="#h86-0-241" id="h86-0-241" class="d">-	}
</a><a href="#h86-0-242" id="h86-0-242" class="d">-	if err != nil || resp.StatusCode != http.StatusFound {
</a><a href="#h86-0-243" id="h86-0-243" class="d">-		return nil, newResponse(resp), err
</a><a href="#h86-0-244" id="h86-0-244" class="d">-	}
</a><a href="#h86-0-245" id="h86-0-245" class="d">-	parsedURL, err := url.Parse(resp.Header.Get(&quot;Location&quot;))
</a><a href="#h86-0-246" id="h86-0-246" class="d">-	return parsedURL, newResponse(resp), err
</a><a href="#h86-0-247" id="h86-0-247" class="d">-}
</a><b>diff --git a/<a id="h87" href="../file/vendor/github.com/google/go-github/github/repos_deployments.go">vendor/github.com/google/go-github/github/repos_deployments.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_deployments.go">vendor/github.com/google/go-github/github/repos_deployments.go</a></b>
<a href="#h87-0" id="h87-0" class="h">@@ -1,168 +0,0 @@
</a><a href="#h87-0-0" id="h87-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h87-0-1" id="h87-0-1" class="d">-//
</a><a href="#h87-0-2" id="h87-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h87-0-3" id="h87-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h87-0-4" id="h87-0-4" class="d">-
</a><a href="#h87-0-5" id="h87-0-5" class="d">-package github
</a><a href="#h87-0-6" id="h87-0-6" class="d">-
</a><a href="#h87-0-7" id="h87-0-7" class="d">-import (
</a><a href="#h87-0-8" id="h87-0-8" class="d">-	&quot;encoding/json&quot;
</a><a href="#h87-0-9" id="h87-0-9" class="d">-	&quot;fmt&quot;
</a><a href="#h87-0-10" id="h87-0-10" class="d">-)
</a><a href="#h87-0-11" id="h87-0-11" class="d">-
</a><a href="#h87-0-12" id="h87-0-12" class="d">-// Deployment represents a deployment in a repo
</a><a href="#h87-0-13" id="h87-0-13" class="d">-type Deployment struct {
</a><a href="#h87-0-14" id="h87-0-14" class="d">-	URL           *string         `json:&quot;url,omitempty&quot;`
</a><a href="#h87-0-15" id="h87-0-15" class="d">-	ID            *int            `json:&quot;id,omitempty&quot;`
</a><a href="#h87-0-16" id="h87-0-16" class="d">-	SHA           *string         `json:&quot;sha,omitempty&quot;`
</a><a href="#h87-0-17" id="h87-0-17" class="d">-	Ref           *string         `json:&quot;ref,omitempty&quot;`
</a><a href="#h87-0-18" id="h87-0-18" class="d">-	Task          *string         `json:&quot;task,omitempty&quot;`
</a><a href="#h87-0-19" id="h87-0-19" class="d">-	Payload       json.RawMessage `json:&quot;payload,omitempty&quot;`
</a><a href="#h87-0-20" id="h87-0-20" class="d">-	Environment   *string         `json:&quot;environment,omitempty&quot;`
</a><a href="#h87-0-21" id="h87-0-21" class="d">-	Description   *string         `json:&quot;description,omitempty&quot;`
</a><a href="#h87-0-22" id="h87-0-22" class="d">-	Creator       *User           `json:&quot;creator,omitempty&quot;`
</a><a href="#h87-0-23" id="h87-0-23" class="d">-	CreatedAt     *Timestamp      `json:&quot;created_at,omitempty&quot;`
</a><a href="#h87-0-24" id="h87-0-24" class="d">-	UpdatedAt     *Timestamp      `json:&quot;pushed_at,omitempty&quot;`
</a><a href="#h87-0-25" id="h87-0-25" class="d">-	StatusesURL   *string         `json:&quot;statuses_url,omitempty&quot;`
</a><a href="#h87-0-26" id="h87-0-26" class="d">-	RepositoryURL *string         `json:&quot;repository_url,omitempty&quot;`
</a><a href="#h87-0-27" id="h87-0-27" class="d">-}
</a><a href="#h87-0-28" id="h87-0-28" class="d">-
</a><a href="#h87-0-29" id="h87-0-29" class="d">-// DeploymentRequest represents a deployment request
</a><a href="#h87-0-30" id="h87-0-30" class="d">-type DeploymentRequest struct {
</a><a href="#h87-0-31" id="h87-0-31" class="d">-	Ref              *string   `json:&quot;ref,omitempty&quot;`
</a><a href="#h87-0-32" id="h87-0-32" class="d">-	Task             *string   `json:&quot;task,omitempty&quot;`
</a><a href="#h87-0-33" id="h87-0-33" class="d">-	AutoMerge        *bool     `json:&quot;auto_merge,omitempty&quot;`
</a><a href="#h87-0-34" id="h87-0-34" class="d">-	RequiredContexts *[]string `json:&quot;required_contexts,omitempty&quot;`
</a><a href="#h87-0-35" id="h87-0-35" class="d">-	Payload          *string   `json:&quot;payload,omitempty&quot;`
</a><a href="#h87-0-36" id="h87-0-36" class="d">-	Environment      *string   `json:&quot;environment,omitempty&quot;`
</a><a href="#h87-0-37" id="h87-0-37" class="d">-	Description      *string   `json:&quot;description,omitempty&quot;`
</a><a href="#h87-0-38" id="h87-0-38" class="d">-}
</a><a href="#h87-0-39" id="h87-0-39" class="d">-
</a><a href="#h87-0-40" id="h87-0-40" class="d">-// DeploymentsListOptions specifies the optional parameters to the
</a><a href="#h87-0-41" id="h87-0-41" class="d">-// RepositoriesService.ListDeployments method.
</a><a href="#h87-0-42" id="h87-0-42" class="d">-type DeploymentsListOptions struct {
</a><a href="#h87-0-43" id="h87-0-43" class="d">-	// SHA of the Deployment.
</a><a href="#h87-0-44" id="h87-0-44" class="d">-	SHA string `url:&quot;sha,omitempty&quot;`
</a><a href="#h87-0-45" id="h87-0-45" class="d">-
</a><a href="#h87-0-46" id="h87-0-46" class="d">-	// List deployments for a given ref.
</a><a href="#h87-0-47" id="h87-0-47" class="d">-	Ref string `url:&quot;ref,omitempty&quot;`
</a><a href="#h87-0-48" id="h87-0-48" class="d">-
</a><a href="#h87-0-49" id="h87-0-49" class="d">-	// List deployments for a given task.
</a><a href="#h87-0-50" id="h87-0-50" class="d">-	Task string `url:&quot;task,omitempty&quot;`
</a><a href="#h87-0-51" id="h87-0-51" class="d">-
</a><a href="#h87-0-52" id="h87-0-52" class="d">-	// List deployments for a given environment.
</a><a href="#h87-0-53" id="h87-0-53" class="d">-	Environment string `url:&quot;environment,omitempty&quot;`
</a><a href="#h87-0-54" id="h87-0-54" class="d">-
</a><a href="#h87-0-55" id="h87-0-55" class="d">-	ListOptions
</a><a href="#h87-0-56" id="h87-0-56" class="d">-}
</a><a href="#h87-0-57" id="h87-0-57" class="d">-
</a><a href="#h87-0-58" id="h87-0-58" class="d">-// ListDeployments lists the deployments of a repository.
</a><a href="#h87-0-59" id="h87-0-59" class="d">-//
</a><a href="#h87-0-60" id="h87-0-60" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/deployments/#list-deployments
</a><a href="#h87-0-61" id="h87-0-61" class="d">-func (s *RepositoriesService) ListDeployments(owner, repo string, opt *DeploymentsListOptions) ([]Deployment, *Response, error) {
</a><a href="#h87-0-62" id="h87-0-62" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/deployments&quot;, owner, repo)
</a><a href="#h87-0-63" id="h87-0-63" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h87-0-64" id="h87-0-64" class="d">-	if err != nil {
</a><a href="#h87-0-65" id="h87-0-65" class="d">-		return nil, nil, err
</a><a href="#h87-0-66" id="h87-0-66" class="d">-	}
</a><a href="#h87-0-67" id="h87-0-67" class="d">-
</a><a href="#h87-0-68" id="h87-0-68" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h87-0-69" id="h87-0-69" class="d">-	if err != nil {
</a><a href="#h87-0-70" id="h87-0-70" class="d">-		return nil, nil, err
</a><a href="#h87-0-71" id="h87-0-71" class="d">-	}
</a><a href="#h87-0-72" id="h87-0-72" class="d">-
</a><a href="#h87-0-73" id="h87-0-73" class="d">-	deployments := new([]Deployment)
</a><a href="#h87-0-74" id="h87-0-74" class="d">-	resp, err := s.client.Do(req, deployments)
</a><a href="#h87-0-75" id="h87-0-75" class="d">-	if err != nil {
</a><a href="#h87-0-76" id="h87-0-76" class="d">-		return nil, resp, err
</a><a href="#h87-0-77" id="h87-0-77" class="d">-	}
</a><a href="#h87-0-78" id="h87-0-78" class="d">-
</a><a href="#h87-0-79" id="h87-0-79" class="d">-	return *deployments, resp, err
</a><a href="#h87-0-80" id="h87-0-80" class="d">-}
</a><a href="#h87-0-81" id="h87-0-81" class="d">-
</a><a href="#h87-0-82" id="h87-0-82" class="d">-// CreateDeployment creates a new deployment for a repository.
</a><a href="#h87-0-83" id="h87-0-83" class="d">-//
</a><a href="#h87-0-84" id="h87-0-84" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/deployments/#create-a-deployment
</a><a href="#h87-0-85" id="h87-0-85" class="d">-func (s *RepositoriesService) CreateDeployment(owner, repo string, request *DeploymentRequest) (*Deployment, *Response, error) {
</a><a href="#h87-0-86" id="h87-0-86" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/deployments&quot;, owner, repo)
</a><a href="#h87-0-87" id="h87-0-87" class="d">-
</a><a href="#h87-0-88" id="h87-0-88" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, request)
</a><a href="#h87-0-89" id="h87-0-89" class="d">-	if err != nil {
</a><a href="#h87-0-90" id="h87-0-90" class="d">-		return nil, nil, err
</a><a href="#h87-0-91" id="h87-0-91" class="d">-	}
</a><a href="#h87-0-92" id="h87-0-92" class="d">-
</a><a href="#h87-0-93" id="h87-0-93" class="d">-	d := new(Deployment)
</a><a href="#h87-0-94" id="h87-0-94" class="d">-	resp, err := s.client.Do(req, d)
</a><a href="#h87-0-95" id="h87-0-95" class="d">-	if err != nil {
</a><a href="#h87-0-96" id="h87-0-96" class="d">-		return nil, resp, err
</a><a href="#h87-0-97" id="h87-0-97" class="d">-	}
</a><a href="#h87-0-98" id="h87-0-98" class="d">-
</a><a href="#h87-0-99" id="h87-0-99" class="d">-	return d, resp, err
</a><a href="#h87-0-100" id="h87-0-100" class="d">-}
</a><a href="#h87-0-101" id="h87-0-101" class="d">-
</a><a href="#h87-0-102" id="h87-0-102" class="d">-// DeploymentStatus represents the status of a
</a><a href="#h87-0-103" id="h87-0-103" class="d">-// particular deployment.
</a><a href="#h87-0-104" id="h87-0-104" class="d">-type DeploymentStatus struct {
</a><a href="#h87-0-105" id="h87-0-105" class="d">-	ID *int `json:&quot;id,omitempty&quot;`
</a><a href="#h87-0-106" id="h87-0-106" class="d">-	// State is the deployment state.
</a><a href="#h87-0-107" id="h87-0-107" class="d">-	// Possible values are: &quot;pending&quot;, &quot;success&quot;, &quot;failure&quot;, &quot;error&quot;.
</a><a href="#h87-0-108" id="h87-0-108" class="d">-	State         *string    `json:&quot;state,omitempty&quot;`
</a><a href="#h87-0-109" id="h87-0-109" class="d">-	Creator       *User      `json:&quot;creator,omitempty&quot;`
</a><a href="#h87-0-110" id="h87-0-110" class="d">-	Description   *string    `json:&quot;description,omitempty&quot;`
</a><a href="#h87-0-111" id="h87-0-111" class="d">-	TargetURL     *string    `json:&quot;target_url,omitempty&quot;`
</a><a href="#h87-0-112" id="h87-0-112" class="d">-	CreatedAt     *Timestamp `json:&quot;created_at,omitempty&quot;`
</a><a href="#h87-0-113" id="h87-0-113" class="d">-	UpdatedAt     *Timestamp `json:&quot;pushed_at,omitempty&quot;`
</a><a href="#h87-0-114" id="h87-0-114" class="d">-	DeploymentURL *string    `json:&quot;deployment_url,omitempty&quot;`
</a><a href="#h87-0-115" id="h87-0-115" class="d">-	RepositoryURL *string    `json:&quot;repository_url,omitempty&quot;`
</a><a href="#h87-0-116" id="h87-0-116" class="d">-}
</a><a href="#h87-0-117" id="h87-0-117" class="d">-
</a><a href="#h87-0-118" id="h87-0-118" class="d">-// DeploymentStatusRequest represents a deployment request
</a><a href="#h87-0-119" id="h87-0-119" class="d">-type DeploymentStatusRequest struct {
</a><a href="#h87-0-120" id="h87-0-120" class="d">-	State       *string `json:&quot;state,omitempty&quot;`
</a><a href="#h87-0-121" id="h87-0-121" class="d">-	TargetURL   *string `json:&quot;target_url,omitempty&quot;`
</a><a href="#h87-0-122" id="h87-0-122" class="d">-	Description *string `json:&quot;description,omitempty&quot;`
</a><a href="#h87-0-123" id="h87-0-123" class="d">-}
</a><a href="#h87-0-124" id="h87-0-124" class="d">-
</a><a href="#h87-0-125" id="h87-0-125" class="d">-// ListDeploymentStatuses lists the statuses of a given deployment of a repository.
</a><a href="#h87-0-126" id="h87-0-126" class="d">-//
</a><a href="#h87-0-127" id="h87-0-127" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/deployments/#list-deployment-statuses
</a><a href="#h87-0-128" id="h87-0-128" class="d">-func (s *RepositoriesService) ListDeploymentStatuses(owner, repo string, deployment int, opt *ListOptions) ([]DeploymentStatus, *Response, error) {
</a><a href="#h87-0-129" id="h87-0-129" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/deployments/%v/statuses&quot;, owner, repo, deployment)
</a><a href="#h87-0-130" id="h87-0-130" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h87-0-131" id="h87-0-131" class="d">-	if err != nil {
</a><a href="#h87-0-132" id="h87-0-132" class="d">-		return nil, nil, err
</a><a href="#h87-0-133" id="h87-0-133" class="d">-	}
</a><a href="#h87-0-134" id="h87-0-134" class="d">-
</a><a href="#h87-0-135" id="h87-0-135" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h87-0-136" id="h87-0-136" class="d">-	if err != nil {
</a><a href="#h87-0-137" id="h87-0-137" class="d">-		return nil, nil, err
</a><a href="#h87-0-138" id="h87-0-138" class="d">-	}
</a><a href="#h87-0-139" id="h87-0-139" class="d">-
</a><a href="#h87-0-140" id="h87-0-140" class="d">-	statuses := new([]DeploymentStatus)
</a><a href="#h87-0-141" id="h87-0-141" class="d">-	resp, err := s.client.Do(req, statuses)
</a><a href="#h87-0-142" id="h87-0-142" class="d">-	if err != nil {
</a><a href="#h87-0-143" id="h87-0-143" class="d">-		return nil, resp, err
</a><a href="#h87-0-144" id="h87-0-144" class="d">-	}
</a><a href="#h87-0-145" id="h87-0-145" class="d">-
</a><a href="#h87-0-146" id="h87-0-146" class="d">-	return *statuses, resp, err
</a><a href="#h87-0-147" id="h87-0-147" class="d">-}
</a><a href="#h87-0-148" id="h87-0-148" class="d">-
</a><a href="#h87-0-149" id="h87-0-149" class="d">-// CreateDeploymentStatus creates a new status for a deployment.
</a><a href="#h87-0-150" id="h87-0-150" class="d">-//
</a><a href="#h87-0-151" id="h87-0-151" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/deployments/#create-a-deployment-status
</a><a href="#h87-0-152" id="h87-0-152" class="d">-func (s *RepositoriesService) CreateDeploymentStatus(owner, repo string, deployment int, request *DeploymentStatusRequest) (*DeploymentStatus, *Response, error) {
</a><a href="#h87-0-153" id="h87-0-153" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/deployments/%v/statuses&quot;, owner, repo, deployment)
</a><a href="#h87-0-154" id="h87-0-154" class="d">-
</a><a href="#h87-0-155" id="h87-0-155" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, request)
</a><a href="#h87-0-156" id="h87-0-156" class="d">-	if err != nil {
</a><a href="#h87-0-157" id="h87-0-157" class="d">-		return nil, nil, err
</a><a href="#h87-0-158" id="h87-0-158" class="d">-	}
</a><a href="#h87-0-159" id="h87-0-159" class="d">-
</a><a href="#h87-0-160" id="h87-0-160" class="d">-	d := new(DeploymentStatus)
</a><a href="#h87-0-161" id="h87-0-161" class="d">-	resp, err := s.client.Do(req, d)
</a><a href="#h87-0-162" id="h87-0-162" class="d">-	if err != nil {
</a><a href="#h87-0-163" id="h87-0-163" class="d">-		return nil, resp, err
</a><a href="#h87-0-164" id="h87-0-164" class="d">-	}
</a><a href="#h87-0-165" id="h87-0-165" class="d">-
</a><a href="#h87-0-166" id="h87-0-166" class="d">-	return d, resp, err
</a><a href="#h87-0-167" id="h87-0-167" class="d">-}
</a><b>diff --git a/<a id="h88" href="../file/vendor/github.com/google/go-github/github/repos_forks.go">vendor/github.com/google/go-github/github/repos_forks.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_forks.go">vendor/github.com/google/go-github/github/repos_forks.go</a></b>
<a href="#h88-0" id="h88-0" class="h">@@ -1,73 +0,0 @@
</a><a href="#h88-0-0" id="h88-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h88-0-1" id="h88-0-1" class="d">-//
</a><a href="#h88-0-2" id="h88-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h88-0-3" id="h88-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h88-0-4" id="h88-0-4" class="d">-
</a><a href="#h88-0-5" id="h88-0-5" class="d">-package github
</a><a href="#h88-0-6" id="h88-0-6" class="d">-
</a><a href="#h88-0-7" id="h88-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h88-0-8" id="h88-0-8" class="d">-
</a><a href="#h88-0-9" id="h88-0-9" class="d">-// RepositoryListForksOptions specifies the optional parameters to the
</a><a href="#h88-0-10" id="h88-0-10" class="d">-// RepositoriesService.ListForks method.
</a><a href="#h88-0-11" id="h88-0-11" class="d">-type RepositoryListForksOptions struct {
</a><a href="#h88-0-12" id="h88-0-12" class="d">-	// How to sort the forks list.  Possible values are: newest, oldest,
</a><a href="#h88-0-13" id="h88-0-13" class="d">-	// watchers.  Default is &quot;newest&quot;.
</a><a href="#h88-0-14" id="h88-0-14" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h88-0-15" id="h88-0-15" class="d">-
</a><a href="#h88-0-16" id="h88-0-16" class="d">-	ListOptions
</a><a href="#h88-0-17" id="h88-0-17" class="d">-}
</a><a href="#h88-0-18" id="h88-0-18" class="d">-
</a><a href="#h88-0-19" id="h88-0-19" class="d">-// ListForks lists the forks of the specified repository.
</a><a href="#h88-0-20" id="h88-0-20" class="d">-//
</a><a href="#h88-0-21" id="h88-0-21" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/forks/#list-forks
</a><a href="#h88-0-22" id="h88-0-22" class="d">-func (s *RepositoriesService) ListForks(owner, repo string, opt *RepositoryListForksOptions) ([]Repository, *Response, error) {
</a><a href="#h88-0-23" id="h88-0-23" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/forks&quot;, owner, repo)
</a><a href="#h88-0-24" id="h88-0-24" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h88-0-25" id="h88-0-25" class="d">-	if err != nil {
</a><a href="#h88-0-26" id="h88-0-26" class="d">-		return nil, nil, err
</a><a href="#h88-0-27" id="h88-0-27" class="d">-	}
</a><a href="#h88-0-28" id="h88-0-28" class="d">-
</a><a href="#h88-0-29" id="h88-0-29" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h88-0-30" id="h88-0-30" class="d">-	if err != nil {
</a><a href="#h88-0-31" id="h88-0-31" class="d">-		return nil, nil, err
</a><a href="#h88-0-32" id="h88-0-32" class="d">-	}
</a><a href="#h88-0-33" id="h88-0-33" class="d">-
</a><a href="#h88-0-34" id="h88-0-34" class="d">-	repos := new([]Repository)
</a><a href="#h88-0-35" id="h88-0-35" class="d">-	resp, err := s.client.Do(req, repos)
</a><a href="#h88-0-36" id="h88-0-36" class="d">-	if err != nil {
</a><a href="#h88-0-37" id="h88-0-37" class="d">-		return nil, resp, err
</a><a href="#h88-0-38" id="h88-0-38" class="d">-	}
</a><a href="#h88-0-39" id="h88-0-39" class="d">-
</a><a href="#h88-0-40" id="h88-0-40" class="d">-	return *repos, resp, err
</a><a href="#h88-0-41" id="h88-0-41" class="d">-}
</a><a href="#h88-0-42" id="h88-0-42" class="d">-
</a><a href="#h88-0-43" id="h88-0-43" class="d">-// RepositoryCreateForkOptions specifies the optional parameters to the
</a><a href="#h88-0-44" id="h88-0-44" class="d">-// RepositoriesService.CreateFork method.
</a><a href="#h88-0-45" id="h88-0-45" class="d">-type RepositoryCreateForkOptions struct {
</a><a href="#h88-0-46" id="h88-0-46" class="d">-	// The organization to fork the repository into.
</a><a href="#h88-0-47" id="h88-0-47" class="d">-	Organization string `url:&quot;organization,omitempty&quot;`
</a><a href="#h88-0-48" id="h88-0-48" class="d">-}
</a><a href="#h88-0-49" id="h88-0-49" class="d">-
</a><a href="#h88-0-50" id="h88-0-50" class="d">-// CreateFork creates a fork of the specified repository.
</a><a href="#h88-0-51" id="h88-0-51" class="d">-//
</a><a href="#h88-0-52" id="h88-0-52" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/forks/#list-forks
</a><a href="#h88-0-53" id="h88-0-53" class="d">-func (s *RepositoriesService) CreateFork(owner, repo string, opt *RepositoryCreateForkOptions) (*Repository, *Response, error) {
</a><a href="#h88-0-54" id="h88-0-54" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/forks&quot;, owner, repo)
</a><a href="#h88-0-55" id="h88-0-55" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h88-0-56" id="h88-0-56" class="d">-	if err != nil {
</a><a href="#h88-0-57" id="h88-0-57" class="d">-		return nil, nil, err
</a><a href="#h88-0-58" id="h88-0-58" class="d">-	}
</a><a href="#h88-0-59" id="h88-0-59" class="d">-
</a><a href="#h88-0-60" id="h88-0-60" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, nil)
</a><a href="#h88-0-61" id="h88-0-61" class="d">-	if err != nil {
</a><a href="#h88-0-62" id="h88-0-62" class="d">-		return nil, nil, err
</a><a href="#h88-0-63" id="h88-0-63" class="d">-	}
</a><a href="#h88-0-64" id="h88-0-64" class="d">-
</a><a href="#h88-0-65" id="h88-0-65" class="d">-	fork := new(Repository)
</a><a href="#h88-0-66" id="h88-0-66" class="d">-	resp, err := s.client.Do(req, fork)
</a><a href="#h88-0-67" id="h88-0-67" class="d">-	if err != nil {
</a><a href="#h88-0-68" id="h88-0-68" class="d">-		return nil, resp, err
</a><a href="#h88-0-69" id="h88-0-69" class="d">-	}
</a><a href="#h88-0-70" id="h88-0-70" class="d">-
</a><a href="#h88-0-71" id="h88-0-71" class="d">-	return fork, resp, err
</a><a href="#h88-0-72" id="h88-0-72" class="d">-}
</a><b>diff --git a/<a id="h89" href="../file/vendor/github.com/google/go-github/github/repos_hooks.go">vendor/github.com/google/go-github/github/repos_hooks.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_hooks.go">vendor/github.com/google/go-github/github/repos_hooks.go</a></b>
<a href="#h89-0" id="h89-0" class="h">@@ -1,196 +0,0 @@
</a><a href="#h89-0-0" id="h89-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h89-0-1" id="h89-0-1" class="d">-//
</a><a href="#h89-0-2" id="h89-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h89-0-3" id="h89-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h89-0-4" id="h89-0-4" class="d">-
</a><a href="#h89-0-5" id="h89-0-5" class="d">-package github
</a><a href="#h89-0-6" id="h89-0-6" class="d">-
</a><a href="#h89-0-7" id="h89-0-7" class="d">-import (
</a><a href="#h89-0-8" id="h89-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h89-0-9" id="h89-0-9" class="d">-	&quot;time&quot;
</a><a href="#h89-0-10" id="h89-0-10" class="d">-)
</a><a href="#h89-0-11" id="h89-0-11" class="d">-
</a><a href="#h89-0-12" id="h89-0-12" class="d">-// WebHookPayload represents the data that is received from GitHub when a push
</a><a href="#h89-0-13" id="h89-0-13" class="d">-// event hook is triggered.  The format of these payloads pre-date most of the
</a><a href="#h89-0-14" id="h89-0-14" class="d">-// GitHub v3 API, so there are lots of minor incompatibilities with the types
</a><a href="#h89-0-15" id="h89-0-15" class="d">-// defined in the rest of the API.  Therefore, several types are duplicated
</a><a href="#h89-0-16" id="h89-0-16" class="d">-// here to account for these differences.
</a><a href="#h89-0-17" id="h89-0-17" class="d">-//
</a><a href="#h89-0-18" id="h89-0-18" class="d">-// GitHub API docs: https://help.github.com/articles/post-receive-hooks
</a><a href="#h89-0-19" id="h89-0-19" class="d">-type WebHookPayload struct {
</a><a href="#h89-0-20" id="h89-0-20" class="d">-	After      *string         `json:&quot;after,omitempty&quot;`
</a><a href="#h89-0-21" id="h89-0-21" class="d">-	Before     *string         `json:&quot;before,omitempty&quot;`
</a><a href="#h89-0-22" id="h89-0-22" class="d">-	Commits    []WebHookCommit `json:&quot;commits,omitempty&quot;`
</a><a href="#h89-0-23" id="h89-0-23" class="d">-	Compare    *string         `json:&quot;compare,omitempty&quot;`
</a><a href="#h89-0-24" id="h89-0-24" class="d">-	Created    *bool           `json:&quot;created,omitempty&quot;`
</a><a href="#h89-0-25" id="h89-0-25" class="d">-	Deleted    *bool           `json:&quot;deleted,omitempty&quot;`
</a><a href="#h89-0-26" id="h89-0-26" class="d">-	Forced     *bool           `json:&quot;forced,omitempty&quot;`
</a><a href="#h89-0-27" id="h89-0-27" class="d">-	HeadCommit *WebHookCommit  `json:&quot;head_commit,omitempty&quot;`
</a><a href="#h89-0-28" id="h89-0-28" class="d">-	Pusher     *User           `json:&quot;pusher,omitempty&quot;`
</a><a href="#h89-0-29" id="h89-0-29" class="d">-	Ref        *string         `json:&quot;ref,omitempty&quot;`
</a><a href="#h89-0-30" id="h89-0-30" class="d">-	Repo       *Repository     `json:&quot;repository,omitempty&quot;`
</a><a href="#h89-0-31" id="h89-0-31" class="d">-	Sender     *User           `json:&quot;sender,omitempty&quot;`
</a><a href="#h89-0-32" id="h89-0-32" class="d">-}
</a><a href="#h89-0-33" id="h89-0-33" class="d">-
</a><a href="#h89-0-34" id="h89-0-34" class="d">-func (w WebHookPayload) String() string {
</a><a href="#h89-0-35" id="h89-0-35" class="d">-	return Stringify(w)
</a><a href="#h89-0-36" id="h89-0-36" class="d">-}
</a><a href="#h89-0-37" id="h89-0-37" class="d">-
</a><a href="#h89-0-38" id="h89-0-38" class="d">-// WebHookCommit represents the commit variant we receive from GitHub in a
</a><a href="#h89-0-39" id="h89-0-39" class="d">-// WebHookPayload.
</a><a href="#h89-0-40" id="h89-0-40" class="d">-type WebHookCommit struct {
</a><a href="#h89-0-41" id="h89-0-41" class="d">-	Added     []string       `json:&quot;added,omitempty&quot;`
</a><a href="#h89-0-42" id="h89-0-42" class="d">-	Author    *WebHookAuthor `json:&quot;author,omitempty&quot;`
</a><a href="#h89-0-43" id="h89-0-43" class="d">-	Committer *WebHookAuthor `json:&quot;committer,omitempty&quot;`
</a><a href="#h89-0-44" id="h89-0-44" class="d">-	Distinct  *bool          `json:&quot;distinct,omitempty&quot;`
</a><a href="#h89-0-45" id="h89-0-45" class="d">-	ID        *string        `json:&quot;id,omitempty&quot;`
</a><a href="#h89-0-46" id="h89-0-46" class="d">-	Message   *string        `json:&quot;message,omitempty&quot;`
</a><a href="#h89-0-47" id="h89-0-47" class="d">-	Modified  []string       `json:&quot;modified,omitempty&quot;`
</a><a href="#h89-0-48" id="h89-0-48" class="d">-	Removed   []string       `json:&quot;removed,omitempty&quot;`
</a><a href="#h89-0-49" id="h89-0-49" class="d">-	Timestamp *time.Time     `json:&quot;timestamp,omitempty&quot;`
</a><a href="#h89-0-50" id="h89-0-50" class="d">-}
</a><a href="#h89-0-51" id="h89-0-51" class="d">-
</a><a href="#h89-0-52" id="h89-0-52" class="d">-func (w WebHookCommit) String() string {
</a><a href="#h89-0-53" id="h89-0-53" class="d">-	return Stringify(w)
</a><a href="#h89-0-54" id="h89-0-54" class="d">-}
</a><a href="#h89-0-55" id="h89-0-55" class="d">-
</a><a href="#h89-0-56" id="h89-0-56" class="d">-// WebHookAuthor represents the author or committer of a commit, as specified
</a><a href="#h89-0-57" id="h89-0-57" class="d">-// in a WebHookCommit.  The commit author may not correspond to a GitHub User.
</a><a href="#h89-0-58" id="h89-0-58" class="d">-type WebHookAuthor struct {
</a><a href="#h89-0-59" id="h89-0-59" class="d">-	Email    *string `json:&quot;email,omitempty&quot;`
</a><a href="#h89-0-60" id="h89-0-60" class="d">-	Name     *string `json:&quot;name,omitempty&quot;`
</a><a href="#h89-0-61" id="h89-0-61" class="d">-	Username *string `json:&quot;username,omitempty&quot;`
</a><a href="#h89-0-62" id="h89-0-62" class="d">-}
</a><a href="#h89-0-63" id="h89-0-63" class="d">-
</a><a href="#h89-0-64" id="h89-0-64" class="d">-func (w WebHookAuthor) String() string {
</a><a href="#h89-0-65" id="h89-0-65" class="d">-	return Stringify(w)
</a><a href="#h89-0-66" id="h89-0-66" class="d">-}
</a><a href="#h89-0-67" id="h89-0-67" class="d">-
</a><a href="#h89-0-68" id="h89-0-68" class="d">-// Hook represents a GitHub (web and service) hook for a repository.
</a><a href="#h89-0-69" id="h89-0-69" class="d">-type Hook struct {
</a><a href="#h89-0-70" id="h89-0-70" class="d">-	CreatedAt *time.Time             `json:&quot;created_at,omitempty&quot;`
</a><a href="#h89-0-71" id="h89-0-71" class="d">-	UpdatedAt *time.Time             `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h89-0-72" id="h89-0-72" class="d">-	Name      *string                `json:&quot;name,omitempty&quot;`
</a><a href="#h89-0-73" id="h89-0-73" class="d">-	URL       *string                `json:&quot;url,omitempty&quot;`
</a><a href="#h89-0-74" id="h89-0-74" class="d">-	Events    []string               `json:&quot;events,omitempty&quot;`
</a><a href="#h89-0-75" id="h89-0-75" class="d">-	Active    *bool                  `json:&quot;active,omitempty&quot;`
</a><a href="#h89-0-76" id="h89-0-76" class="d">-	Config    map[string]interface{} `json:&quot;config,omitempty&quot;`
</a><a href="#h89-0-77" id="h89-0-77" class="d">-	ID        *int                   `json:&quot;id,omitempty&quot;`
</a><a href="#h89-0-78" id="h89-0-78" class="d">-}
</a><a href="#h89-0-79" id="h89-0-79" class="d">-
</a><a href="#h89-0-80" id="h89-0-80" class="d">-func (h Hook) String() string {
</a><a href="#h89-0-81" id="h89-0-81" class="d">-	return Stringify(h)
</a><a href="#h89-0-82" id="h89-0-82" class="d">-}
</a><a href="#h89-0-83" id="h89-0-83" class="d">-
</a><a href="#h89-0-84" id="h89-0-84" class="d">-// CreateHook creates a Hook for the specified repository.
</a><a href="#h89-0-85" id="h89-0-85" class="d">-// Name and Config are required fields.
</a><a href="#h89-0-86" id="h89-0-86" class="d">-//
</a><a href="#h89-0-87" id="h89-0-87" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/hooks/#create-a-hook
</a><a href="#h89-0-88" id="h89-0-88" class="d">-func (s *RepositoriesService) CreateHook(owner, repo string, hook *Hook) (*Hook, *Response, error) {
</a><a href="#h89-0-89" id="h89-0-89" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/hooks&quot;, owner, repo)
</a><a href="#h89-0-90" id="h89-0-90" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, hook)
</a><a href="#h89-0-91" id="h89-0-91" class="d">-	if err != nil {
</a><a href="#h89-0-92" id="h89-0-92" class="d">-		return nil, nil, err
</a><a href="#h89-0-93" id="h89-0-93" class="d">-	}
</a><a href="#h89-0-94" id="h89-0-94" class="d">-
</a><a href="#h89-0-95" id="h89-0-95" class="d">-	h := new(Hook)
</a><a href="#h89-0-96" id="h89-0-96" class="d">-	resp, err := s.client.Do(req, h)
</a><a href="#h89-0-97" id="h89-0-97" class="d">-	if err != nil {
</a><a href="#h89-0-98" id="h89-0-98" class="d">-		return nil, resp, err
</a><a href="#h89-0-99" id="h89-0-99" class="d">-	}
</a><a href="#h89-0-100" id="h89-0-100" class="d">-
</a><a href="#h89-0-101" id="h89-0-101" class="d">-	return h, resp, err
</a><a href="#h89-0-102" id="h89-0-102" class="d">-}
</a><a href="#h89-0-103" id="h89-0-103" class="d">-
</a><a href="#h89-0-104" id="h89-0-104" class="d">-// ListHooks lists all Hooks for the specified repository.
</a><a href="#h89-0-105" id="h89-0-105" class="d">-//
</a><a href="#h89-0-106" id="h89-0-106" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/hooks/#list
</a><a href="#h89-0-107" id="h89-0-107" class="d">-func (s *RepositoriesService) ListHooks(owner, repo string, opt *ListOptions) ([]Hook, *Response, error) {
</a><a href="#h89-0-108" id="h89-0-108" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/hooks&quot;, owner, repo)
</a><a href="#h89-0-109" id="h89-0-109" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h89-0-110" id="h89-0-110" class="d">-	if err != nil {
</a><a href="#h89-0-111" id="h89-0-111" class="d">-		return nil, nil, err
</a><a href="#h89-0-112" id="h89-0-112" class="d">-	}
</a><a href="#h89-0-113" id="h89-0-113" class="d">-
</a><a href="#h89-0-114" id="h89-0-114" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h89-0-115" id="h89-0-115" class="d">-	if err != nil {
</a><a href="#h89-0-116" id="h89-0-116" class="d">-		return nil, nil, err
</a><a href="#h89-0-117" id="h89-0-117" class="d">-	}
</a><a href="#h89-0-118" id="h89-0-118" class="d">-
</a><a href="#h89-0-119" id="h89-0-119" class="d">-	hooks := new([]Hook)
</a><a href="#h89-0-120" id="h89-0-120" class="d">-	resp, err := s.client.Do(req, hooks)
</a><a href="#h89-0-121" id="h89-0-121" class="d">-	if err != nil {
</a><a href="#h89-0-122" id="h89-0-122" class="d">-		return nil, resp, err
</a><a href="#h89-0-123" id="h89-0-123" class="d">-	}
</a><a href="#h89-0-124" id="h89-0-124" class="d">-
</a><a href="#h89-0-125" id="h89-0-125" class="d">-	return *hooks, resp, err
</a><a href="#h89-0-126" id="h89-0-126" class="d">-}
</a><a href="#h89-0-127" id="h89-0-127" class="d">-
</a><a href="#h89-0-128" id="h89-0-128" class="d">-// GetHook returns a single specified Hook.
</a><a href="#h89-0-129" id="h89-0-129" class="d">-//
</a><a href="#h89-0-130" id="h89-0-130" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/hooks/#get-single-hook
</a><a href="#h89-0-131" id="h89-0-131" class="d">-func (s *RepositoriesService) GetHook(owner, repo string, id int) (*Hook, *Response, error) {
</a><a href="#h89-0-132" id="h89-0-132" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/hooks/%d&quot;, owner, repo, id)
</a><a href="#h89-0-133" id="h89-0-133" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h89-0-134" id="h89-0-134" class="d">-	if err != nil {
</a><a href="#h89-0-135" id="h89-0-135" class="d">-		return nil, nil, err
</a><a href="#h89-0-136" id="h89-0-136" class="d">-	}
</a><a href="#h89-0-137" id="h89-0-137" class="d">-	hook := new(Hook)
</a><a href="#h89-0-138" id="h89-0-138" class="d">-	resp, err := s.client.Do(req, hook)
</a><a href="#h89-0-139" id="h89-0-139" class="d">-	return hook, resp, err
</a><a href="#h89-0-140" id="h89-0-140" class="d">-}
</a><a href="#h89-0-141" id="h89-0-141" class="d">-
</a><a href="#h89-0-142" id="h89-0-142" class="d">-// EditHook updates a specified Hook.
</a><a href="#h89-0-143" id="h89-0-143" class="d">-//
</a><a href="#h89-0-144" id="h89-0-144" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/hooks/#edit-a-hook
</a><a href="#h89-0-145" id="h89-0-145" class="d">-func (s *RepositoriesService) EditHook(owner, repo string, id int, hook *Hook) (*Hook, *Response, error) {
</a><a href="#h89-0-146" id="h89-0-146" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/hooks/%d&quot;, owner, repo, id)
</a><a href="#h89-0-147" id="h89-0-147" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, hook)
</a><a href="#h89-0-148" id="h89-0-148" class="d">-	if err != nil {
</a><a href="#h89-0-149" id="h89-0-149" class="d">-		return nil, nil, err
</a><a href="#h89-0-150" id="h89-0-150" class="d">-	}
</a><a href="#h89-0-151" id="h89-0-151" class="d">-	h := new(Hook)
</a><a href="#h89-0-152" id="h89-0-152" class="d">-	resp, err := s.client.Do(req, h)
</a><a href="#h89-0-153" id="h89-0-153" class="d">-	return h, resp, err
</a><a href="#h89-0-154" id="h89-0-154" class="d">-}
</a><a href="#h89-0-155" id="h89-0-155" class="d">-
</a><a href="#h89-0-156" id="h89-0-156" class="d">-// DeleteHook deletes a specified Hook.
</a><a href="#h89-0-157" id="h89-0-157" class="d">-//
</a><a href="#h89-0-158" id="h89-0-158" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/hooks/#delete-a-hook
</a><a href="#h89-0-159" id="h89-0-159" class="d">-func (s *RepositoriesService) DeleteHook(owner, repo string, id int) (*Response, error) {
</a><a href="#h89-0-160" id="h89-0-160" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/hooks/%d&quot;, owner, repo, id)
</a><a href="#h89-0-161" id="h89-0-161" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h89-0-162" id="h89-0-162" class="d">-	if err != nil {
</a><a href="#h89-0-163" id="h89-0-163" class="d">-		return nil, err
</a><a href="#h89-0-164" id="h89-0-164" class="d">-	}
</a><a href="#h89-0-165" id="h89-0-165" class="d">-	return s.client.Do(req, nil)
</a><a href="#h89-0-166" id="h89-0-166" class="d">-}
</a><a href="#h89-0-167" id="h89-0-167" class="d">-
</a><a href="#h89-0-168" id="h89-0-168" class="d">-// PingHook triggers a &#39;ping&#39; event to be sent to the Hook.
</a><a href="#h89-0-169" id="h89-0-169" class="d">-//
</a><a href="#h89-0-170" id="h89-0-170" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/hooks/#ping-a-hook
</a><a href="#h89-0-171" id="h89-0-171" class="d">-func (s *RepositoriesService) PingHook(owner, repo string, id int) (*Response, error) {
</a><a href="#h89-0-172" id="h89-0-172" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/hooks/%d/pings&quot;, owner, repo, id)
</a><a href="#h89-0-173" id="h89-0-173" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, nil)
</a><a href="#h89-0-174" id="h89-0-174" class="d">-	if err != nil {
</a><a href="#h89-0-175" id="h89-0-175" class="d">-		return nil, err
</a><a href="#h89-0-176" id="h89-0-176" class="d">-	}
</a><a href="#h89-0-177" id="h89-0-177" class="d">-	return s.client.Do(req, nil)
</a><a href="#h89-0-178" id="h89-0-178" class="d">-}
</a><a href="#h89-0-179" id="h89-0-179" class="d">-
</a><a href="#h89-0-180" id="h89-0-180" class="d">-// TestHook triggers a test Hook by github.
</a><a href="#h89-0-181" id="h89-0-181" class="d">-//
</a><a href="#h89-0-182" id="h89-0-182" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/hooks/#test-a-push-hook
</a><a href="#h89-0-183" id="h89-0-183" class="d">-func (s *RepositoriesService) TestHook(owner, repo string, id int) (*Response, error) {
</a><a href="#h89-0-184" id="h89-0-184" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/hooks/%d/tests&quot;, owner, repo, id)
</a><a href="#h89-0-185" id="h89-0-185" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, nil)
</a><a href="#h89-0-186" id="h89-0-186" class="d">-	if err != nil {
</a><a href="#h89-0-187" id="h89-0-187" class="d">-		return nil, err
</a><a href="#h89-0-188" id="h89-0-188" class="d">-	}
</a><a href="#h89-0-189" id="h89-0-189" class="d">-	return s.client.Do(req, nil)
</a><a href="#h89-0-190" id="h89-0-190" class="d">-}
</a><a href="#h89-0-191" id="h89-0-191" class="d">-
</a><a href="#h89-0-192" id="h89-0-192" class="d">-// ListServiceHooks is deprecated.  Use Client.ListServiceHooks instead.
</a><a href="#h89-0-193" id="h89-0-193" class="d">-func (s *RepositoriesService) ListServiceHooks() ([]ServiceHook, *Response, error) {
</a><a href="#h89-0-194" id="h89-0-194" class="d">-	return s.client.ListServiceHooks()
</a><a href="#h89-0-195" id="h89-0-195" class="d">-}
</a><b>diff --git a/<a id="h90" href="../file/vendor/github.com/google/go-github/github/repos_keys.go">vendor/github.com/google/go-github/github/repos_keys.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_keys.go">vendor/github.com/google/go-github/github/repos_keys.go</a></b>
<a href="#h90-0" id="h90-0" class="h">@@ -1,108 +0,0 @@
</a><a href="#h90-0-0" id="h90-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h90-0-1" id="h90-0-1" class="d">-//
</a><a href="#h90-0-2" id="h90-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h90-0-3" id="h90-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h90-0-4" id="h90-0-4" class="d">-
</a><a href="#h90-0-5" id="h90-0-5" class="d">-package github
</a><a href="#h90-0-6" id="h90-0-6" class="d">-
</a><a href="#h90-0-7" id="h90-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h90-0-8" id="h90-0-8" class="d">-
</a><a href="#h90-0-9" id="h90-0-9" class="d">-// The Key type is defined in users_keys.go
</a><a href="#h90-0-10" id="h90-0-10" class="d">-
</a><a href="#h90-0-11" id="h90-0-11" class="d">-// ListKeys lists the deploy keys for a repository.
</a><a href="#h90-0-12" id="h90-0-12" class="d">-//
</a><a href="#h90-0-13" id="h90-0-13" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/keys/#list
</a><a href="#h90-0-14" id="h90-0-14" class="d">-func (s *RepositoriesService) ListKeys(owner string, repo string, opt *ListOptions) ([]Key, *Response, error) {
</a><a href="#h90-0-15" id="h90-0-15" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/keys&quot;, owner, repo)
</a><a href="#h90-0-16" id="h90-0-16" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h90-0-17" id="h90-0-17" class="d">-	if err != nil {
</a><a href="#h90-0-18" id="h90-0-18" class="d">-		return nil, nil, err
</a><a href="#h90-0-19" id="h90-0-19" class="d">-	}
</a><a href="#h90-0-20" id="h90-0-20" class="d">-
</a><a href="#h90-0-21" id="h90-0-21" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h90-0-22" id="h90-0-22" class="d">-	if err != nil {
</a><a href="#h90-0-23" id="h90-0-23" class="d">-		return nil, nil, err
</a><a href="#h90-0-24" id="h90-0-24" class="d">-	}
</a><a href="#h90-0-25" id="h90-0-25" class="d">-
</a><a href="#h90-0-26" id="h90-0-26" class="d">-	keys := new([]Key)
</a><a href="#h90-0-27" id="h90-0-27" class="d">-	resp, err := s.client.Do(req, keys)
</a><a href="#h90-0-28" id="h90-0-28" class="d">-	if err != nil {
</a><a href="#h90-0-29" id="h90-0-29" class="d">-		return nil, resp, err
</a><a href="#h90-0-30" id="h90-0-30" class="d">-	}
</a><a href="#h90-0-31" id="h90-0-31" class="d">-
</a><a href="#h90-0-32" id="h90-0-32" class="d">-	return *keys, resp, err
</a><a href="#h90-0-33" id="h90-0-33" class="d">-}
</a><a href="#h90-0-34" id="h90-0-34" class="d">-
</a><a href="#h90-0-35" id="h90-0-35" class="d">-// GetKey fetches a single deploy key.
</a><a href="#h90-0-36" id="h90-0-36" class="d">-//
</a><a href="#h90-0-37" id="h90-0-37" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/keys/#get
</a><a href="#h90-0-38" id="h90-0-38" class="d">-func (s *RepositoriesService) GetKey(owner string, repo string, id int) (*Key, *Response, error) {
</a><a href="#h90-0-39" id="h90-0-39" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/keys/%v&quot;, owner, repo, id)
</a><a href="#h90-0-40" id="h90-0-40" class="d">-
</a><a href="#h90-0-41" id="h90-0-41" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h90-0-42" id="h90-0-42" class="d">-	if err != nil {
</a><a href="#h90-0-43" id="h90-0-43" class="d">-		return nil, nil, err
</a><a href="#h90-0-44" id="h90-0-44" class="d">-	}
</a><a href="#h90-0-45" id="h90-0-45" class="d">-
</a><a href="#h90-0-46" id="h90-0-46" class="d">-	key := new(Key)
</a><a href="#h90-0-47" id="h90-0-47" class="d">-	resp, err := s.client.Do(req, key)
</a><a href="#h90-0-48" id="h90-0-48" class="d">-	if err != nil {
</a><a href="#h90-0-49" id="h90-0-49" class="d">-		return nil, resp, err
</a><a href="#h90-0-50" id="h90-0-50" class="d">-	}
</a><a href="#h90-0-51" id="h90-0-51" class="d">-
</a><a href="#h90-0-52" id="h90-0-52" class="d">-	return key, resp, err
</a><a href="#h90-0-53" id="h90-0-53" class="d">-}
</a><a href="#h90-0-54" id="h90-0-54" class="d">-
</a><a href="#h90-0-55" id="h90-0-55" class="d">-// CreateKey adds a deploy key for a repository.
</a><a href="#h90-0-56" id="h90-0-56" class="d">-//
</a><a href="#h90-0-57" id="h90-0-57" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/keys/#create
</a><a href="#h90-0-58" id="h90-0-58" class="d">-func (s *RepositoriesService) CreateKey(owner string, repo string, key *Key) (*Key, *Response, error) {
</a><a href="#h90-0-59" id="h90-0-59" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/keys&quot;, owner, repo)
</a><a href="#h90-0-60" id="h90-0-60" class="d">-
</a><a href="#h90-0-61" id="h90-0-61" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, key)
</a><a href="#h90-0-62" id="h90-0-62" class="d">-	if err != nil {
</a><a href="#h90-0-63" id="h90-0-63" class="d">-		return nil, nil, err
</a><a href="#h90-0-64" id="h90-0-64" class="d">-	}
</a><a href="#h90-0-65" id="h90-0-65" class="d">-
</a><a href="#h90-0-66" id="h90-0-66" class="d">-	k := new(Key)
</a><a href="#h90-0-67" id="h90-0-67" class="d">-	resp, err := s.client.Do(req, k)
</a><a href="#h90-0-68" id="h90-0-68" class="d">-	if err != nil {
</a><a href="#h90-0-69" id="h90-0-69" class="d">-		return nil, resp, err
</a><a href="#h90-0-70" id="h90-0-70" class="d">-	}
</a><a href="#h90-0-71" id="h90-0-71" class="d">-
</a><a href="#h90-0-72" id="h90-0-72" class="d">-	return k, resp, err
</a><a href="#h90-0-73" id="h90-0-73" class="d">-}
</a><a href="#h90-0-74" id="h90-0-74" class="d">-
</a><a href="#h90-0-75" id="h90-0-75" class="d">-// EditKey edits a deploy key.
</a><a href="#h90-0-76" id="h90-0-76" class="d">-//
</a><a href="#h90-0-77" id="h90-0-77" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/keys/#edit
</a><a href="#h90-0-78" id="h90-0-78" class="d">-func (s *RepositoriesService) EditKey(owner string, repo string, id int, key *Key) (*Key, *Response, error) {
</a><a href="#h90-0-79" id="h90-0-79" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/keys/%v&quot;, owner, repo, id)
</a><a href="#h90-0-80" id="h90-0-80" class="d">-
</a><a href="#h90-0-81" id="h90-0-81" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, key)
</a><a href="#h90-0-82" id="h90-0-82" class="d">-	if err != nil {
</a><a href="#h90-0-83" id="h90-0-83" class="d">-		return nil, nil, err
</a><a href="#h90-0-84" id="h90-0-84" class="d">-	}
</a><a href="#h90-0-85" id="h90-0-85" class="d">-
</a><a href="#h90-0-86" id="h90-0-86" class="d">-	k := new(Key)
</a><a href="#h90-0-87" id="h90-0-87" class="d">-	resp, err := s.client.Do(req, k)
</a><a href="#h90-0-88" id="h90-0-88" class="d">-	if err != nil {
</a><a href="#h90-0-89" id="h90-0-89" class="d">-		return nil, resp, err
</a><a href="#h90-0-90" id="h90-0-90" class="d">-	}
</a><a href="#h90-0-91" id="h90-0-91" class="d">-
</a><a href="#h90-0-92" id="h90-0-92" class="d">-	return k, resp, err
</a><a href="#h90-0-93" id="h90-0-93" class="d">-}
</a><a href="#h90-0-94" id="h90-0-94" class="d">-
</a><a href="#h90-0-95" id="h90-0-95" class="d">-// DeleteKey deletes a deploy key.
</a><a href="#h90-0-96" id="h90-0-96" class="d">-//
</a><a href="#h90-0-97" id="h90-0-97" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/keys/#delete
</a><a href="#h90-0-98" id="h90-0-98" class="d">-func (s *RepositoriesService) DeleteKey(owner string, repo string, id int) (*Response, error) {
</a><a href="#h90-0-99" id="h90-0-99" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/keys/%v&quot;, owner, repo, id)
</a><a href="#h90-0-100" id="h90-0-100" class="d">-
</a><a href="#h90-0-101" id="h90-0-101" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h90-0-102" id="h90-0-102" class="d">-	if err != nil {
</a><a href="#h90-0-103" id="h90-0-103" class="d">-		return nil, err
</a><a href="#h90-0-104" id="h90-0-104" class="d">-	}
</a><a href="#h90-0-105" id="h90-0-105" class="d">-
</a><a href="#h90-0-106" id="h90-0-106" class="d">-	return s.client.Do(req, nil)
</a><a href="#h90-0-107" id="h90-0-107" class="d">-}
</a><b>diff --git a/<a id="h91" href="../file/vendor/github.com/google/go-github/github/repos_merging.go">vendor/github.com/google/go-github/github/repos_merging.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_merging.go">vendor/github.com/google/go-github/github/repos_merging.go</a></b>
<a href="#h91-0" id="h91-0" class="h">@@ -1,37 +0,0 @@
</a><a href="#h91-0-0" id="h91-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h91-0-1" id="h91-0-1" class="d">-//
</a><a href="#h91-0-2" id="h91-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h91-0-3" id="h91-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h91-0-4" id="h91-0-4" class="d">-
</a><a href="#h91-0-5" id="h91-0-5" class="d">-package github
</a><a href="#h91-0-6" id="h91-0-6" class="d">-
</a><a href="#h91-0-7" id="h91-0-7" class="d">-import (
</a><a href="#h91-0-8" id="h91-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h91-0-9" id="h91-0-9" class="d">-)
</a><a href="#h91-0-10" id="h91-0-10" class="d">-
</a><a href="#h91-0-11" id="h91-0-11" class="d">-// RepositoryMergeRequest represents a request to merge a branch in a
</a><a href="#h91-0-12" id="h91-0-12" class="d">-// repository.
</a><a href="#h91-0-13" id="h91-0-13" class="d">-type RepositoryMergeRequest struct {
</a><a href="#h91-0-14" id="h91-0-14" class="d">-	Base          *string `json:&quot;base,omitempty&quot;`
</a><a href="#h91-0-15" id="h91-0-15" class="d">-	Head          *string `json:&quot;head,omitempty&quot;`
</a><a href="#h91-0-16" id="h91-0-16" class="d">-	CommitMessage *string `json:&quot;commit_message,omitempty&quot;`
</a><a href="#h91-0-17" id="h91-0-17" class="d">-}
</a><a href="#h91-0-18" id="h91-0-18" class="d">-
</a><a href="#h91-0-19" id="h91-0-19" class="d">-// Merge a branch in the specified repository.
</a><a href="#h91-0-20" id="h91-0-20" class="d">-//
</a><a href="#h91-0-21" id="h91-0-21" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/merging/#perform-a-merge
</a><a href="#h91-0-22" id="h91-0-22" class="d">-func (s *RepositoriesService) Merge(owner, repo string, request *RepositoryMergeRequest) (*RepositoryCommit, *Response, error) {
</a><a href="#h91-0-23" id="h91-0-23" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/merges&quot;, owner, repo)
</a><a href="#h91-0-24" id="h91-0-24" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, request)
</a><a href="#h91-0-25" id="h91-0-25" class="d">-	if err != nil {
</a><a href="#h91-0-26" id="h91-0-26" class="d">-		return nil, nil, err
</a><a href="#h91-0-27" id="h91-0-27" class="d">-	}
</a><a href="#h91-0-28" id="h91-0-28" class="d">-
</a><a href="#h91-0-29" id="h91-0-29" class="d">-	commit := new(RepositoryCommit)
</a><a href="#h91-0-30" id="h91-0-30" class="d">-	resp, err := s.client.Do(req, commit)
</a><a href="#h91-0-31" id="h91-0-31" class="d">-	if err != nil {
</a><a href="#h91-0-32" id="h91-0-32" class="d">-		return nil, resp, err
</a><a href="#h91-0-33" id="h91-0-33" class="d">-	}
</a><a href="#h91-0-34" id="h91-0-34" class="d">-
</a><a href="#h91-0-35" id="h91-0-35" class="d">-	return commit, resp, err
</a><a href="#h91-0-36" id="h91-0-36" class="d">-}
</a><b>diff --git a/<a id="h92" href="../file/vendor/github.com/google/go-github/github/repos_pages.go">vendor/github.com/google/go-github/github/repos_pages.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_pages.go">vendor/github.com/google/go-github/github/repos_pages.go</a></b>
<a href="#h92-0" id="h92-0" class="h">@@ -1,90 +0,0 @@
</a><a href="#h92-0-0" id="h92-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h92-0-1" id="h92-0-1" class="d">-//
</a><a href="#h92-0-2" id="h92-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h92-0-3" id="h92-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h92-0-4" id="h92-0-4" class="d">-
</a><a href="#h92-0-5" id="h92-0-5" class="d">-package github
</a><a href="#h92-0-6" id="h92-0-6" class="d">-
</a><a href="#h92-0-7" id="h92-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h92-0-8" id="h92-0-8" class="d">-
</a><a href="#h92-0-9" id="h92-0-9" class="d">-// Pages represents a GitHub Pages site configuration.
</a><a href="#h92-0-10" id="h92-0-10" class="d">-type Pages struct {
</a><a href="#h92-0-11" id="h92-0-11" class="d">-	URL       *string `json:&quot;url,omitempty&quot;`
</a><a href="#h92-0-12" id="h92-0-12" class="d">-	Status    *string `json:&quot;status,omitempty&quot;`
</a><a href="#h92-0-13" id="h92-0-13" class="d">-	CNAME     *string `json:&quot;cname,omitempty&quot;`
</a><a href="#h92-0-14" id="h92-0-14" class="d">-	Custom404 *bool   `json:&quot;custom_404,omitempty&quot;`
</a><a href="#h92-0-15" id="h92-0-15" class="d">-}
</a><a href="#h92-0-16" id="h92-0-16" class="d">-
</a><a href="#h92-0-17" id="h92-0-17" class="d">-// PagesError represents a build error for a GitHub Pages site.
</a><a href="#h92-0-18" id="h92-0-18" class="d">-type PagesError struct {
</a><a href="#h92-0-19" id="h92-0-19" class="d">-	Message *string `json:&quot;message,omitempty&quot;`
</a><a href="#h92-0-20" id="h92-0-20" class="d">-}
</a><a href="#h92-0-21" id="h92-0-21" class="d">-
</a><a href="#h92-0-22" id="h92-0-22" class="d">-// PagesBuild represents the build information for a GitHub Pages site.
</a><a href="#h92-0-23" id="h92-0-23" class="d">-type PagesBuild struct {
</a><a href="#h92-0-24" id="h92-0-24" class="d">-	URL       *string     `json:&quot;url,omitempty&quot;`
</a><a href="#h92-0-25" id="h92-0-25" class="d">-	Status    *string     `json:&quot;status,omitempty&quot;`
</a><a href="#h92-0-26" id="h92-0-26" class="d">-	Error     *PagesError `json:&quot;error,omitempty&quot;`
</a><a href="#h92-0-27" id="h92-0-27" class="d">-	Pusher    *User       `json:&quot;pusher,omitempty&quot;`
</a><a href="#h92-0-28" id="h92-0-28" class="d">-	Commit    *string     `json:&quot;commit,omitempty&quot;`
</a><a href="#h92-0-29" id="h92-0-29" class="d">-	Duration  *int        `json:&quot;duration,omitempty&quot;`
</a><a href="#h92-0-30" id="h92-0-30" class="d">-	CreatedAt *Timestamp  `json:&quot;created_at,omitempty&quot;`
</a><a href="#h92-0-31" id="h92-0-31" class="d">-	UpdatedAt *Timestamp  `json:&quot;created_at,omitempty&quot;`
</a><a href="#h92-0-32" id="h92-0-32" class="d">-}
</a><a href="#h92-0-33" id="h92-0-33" class="d">-
</a><a href="#h92-0-34" id="h92-0-34" class="d">-// GetPagesInfo fetches information about a GitHub Pages site.
</a><a href="#h92-0-35" id="h92-0-35" class="d">-//
</a><a href="#h92-0-36" id="h92-0-36" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/pages/#get-information-about-a-pages-site
</a><a href="#h92-0-37" id="h92-0-37" class="d">-func (s *RepositoriesService) GetPagesInfo(owner string, repo string) (*Pages, *Response, error) {
</a><a href="#h92-0-38" id="h92-0-38" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pages&quot;, owner, repo)
</a><a href="#h92-0-39" id="h92-0-39" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h92-0-40" id="h92-0-40" class="d">-	if err != nil {
</a><a href="#h92-0-41" id="h92-0-41" class="d">-		return nil, nil, err
</a><a href="#h92-0-42" id="h92-0-42" class="d">-	}
</a><a href="#h92-0-43" id="h92-0-43" class="d">-
</a><a href="#h92-0-44" id="h92-0-44" class="d">-	site := new(Pages)
</a><a href="#h92-0-45" id="h92-0-45" class="d">-	resp, err := s.client.Do(req, site)
</a><a href="#h92-0-46" id="h92-0-46" class="d">-	if err != nil {
</a><a href="#h92-0-47" id="h92-0-47" class="d">-		return nil, resp, err
</a><a href="#h92-0-48" id="h92-0-48" class="d">-	}
</a><a href="#h92-0-49" id="h92-0-49" class="d">-
</a><a href="#h92-0-50" id="h92-0-50" class="d">-	return site, resp, err
</a><a href="#h92-0-51" id="h92-0-51" class="d">-}
</a><a href="#h92-0-52" id="h92-0-52" class="d">-
</a><a href="#h92-0-53" id="h92-0-53" class="d">-// ListPagesBuilds lists the builds for a GitHub Pages site.
</a><a href="#h92-0-54" id="h92-0-54" class="d">-//
</a><a href="#h92-0-55" id="h92-0-55" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/pages/#list-pages-builds
</a><a href="#h92-0-56" id="h92-0-56" class="d">-func (s *RepositoriesService) ListPagesBuilds(owner string, repo string) ([]PagesBuild, *Response, error) {
</a><a href="#h92-0-57" id="h92-0-57" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pages/builds&quot;, owner, repo)
</a><a href="#h92-0-58" id="h92-0-58" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h92-0-59" id="h92-0-59" class="d">-	if err != nil {
</a><a href="#h92-0-60" id="h92-0-60" class="d">-		return nil, nil, err
</a><a href="#h92-0-61" id="h92-0-61" class="d">-	}
</a><a href="#h92-0-62" id="h92-0-62" class="d">-
</a><a href="#h92-0-63" id="h92-0-63" class="d">-	var pages []PagesBuild
</a><a href="#h92-0-64" id="h92-0-64" class="d">-	resp, err := s.client.Do(req, &amp;pages)
</a><a href="#h92-0-65" id="h92-0-65" class="d">-	if err != nil {
</a><a href="#h92-0-66" id="h92-0-66" class="d">-		return nil, resp, err
</a><a href="#h92-0-67" id="h92-0-67" class="d">-	}
</a><a href="#h92-0-68" id="h92-0-68" class="d">-
</a><a href="#h92-0-69" id="h92-0-69" class="d">-	return pages, resp, err
</a><a href="#h92-0-70" id="h92-0-70" class="d">-}
</a><a href="#h92-0-71" id="h92-0-71" class="d">-
</a><a href="#h92-0-72" id="h92-0-72" class="d">-// GetLatestPagesBuild fetches the latest build information for a GitHub pages site.
</a><a href="#h92-0-73" id="h92-0-73" class="d">-//
</a><a href="#h92-0-74" id="h92-0-74" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/pages/#list-latest-pages-build
</a><a href="#h92-0-75" id="h92-0-75" class="d">-func (s *RepositoriesService) GetLatestPagesBuild(owner string, repo string) (*PagesBuild, *Response, error) {
</a><a href="#h92-0-76" id="h92-0-76" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/pages/builds/latest&quot;, owner, repo)
</a><a href="#h92-0-77" id="h92-0-77" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h92-0-78" id="h92-0-78" class="d">-	if err != nil {
</a><a href="#h92-0-79" id="h92-0-79" class="d">-		return nil, nil, err
</a><a href="#h92-0-80" id="h92-0-80" class="d">-	}
</a><a href="#h92-0-81" id="h92-0-81" class="d">-
</a><a href="#h92-0-82" id="h92-0-82" class="d">-	build := new(PagesBuild)
</a><a href="#h92-0-83" id="h92-0-83" class="d">-	resp, err := s.client.Do(req, build)
</a><a href="#h92-0-84" id="h92-0-84" class="d">-	if err != nil {
</a><a href="#h92-0-85" id="h92-0-85" class="d">-		return nil, resp, err
</a><a href="#h92-0-86" id="h92-0-86" class="d">-	}
</a><a href="#h92-0-87" id="h92-0-87" class="d">-
</a><a href="#h92-0-88" id="h92-0-88" class="d">-	return build, resp, err
</a><a href="#h92-0-89" id="h92-0-89" class="d">-}
</a><b>diff --git a/<a id="h93" href="../file/vendor/github.com/google/go-github/github/repos_releases.go">vendor/github.com/google/go-github/github/repos_releases.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_releases.go">vendor/github.com/google/go-github/github/repos_releases.go</a></b>
<a href="#h93-0" id="h93-0" class="h">@@ -1,320 +0,0 @@
</a><a href="#h93-0-0" id="h93-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h93-0-1" id="h93-0-1" class="d">-//
</a><a href="#h93-0-2" id="h93-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h93-0-3" id="h93-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h93-0-4" id="h93-0-4" class="d">-
</a><a href="#h93-0-5" id="h93-0-5" class="d">-package github
</a><a href="#h93-0-6" id="h93-0-6" class="d">-
</a><a href="#h93-0-7" id="h93-0-7" class="d">-import (
</a><a href="#h93-0-8" id="h93-0-8" class="d">-	&quot;errors&quot;
</a><a href="#h93-0-9" id="h93-0-9" class="d">-	&quot;fmt&quot;
</a><a href="#h93-0-10" id="h93-0-10" class="d">-	&quot;io&quot;
</a><a href="#h93-0-11" id="h93-0-11" class="d">-	&quot;mime&quot;
</a><a href="#h93-0-12" id="h93-0-12" class="d">-	&quot;net/http&quot;
</a><a href="#h93-0-13" id="h93-0-13" class="d">-	&quot;os&quot;
</a><a href="#h93-0-14" id="h93-0-14" class="d">-	&quot;path/filepath&quot;
</a><a href="#h93-0-15" id="h93-0-15" class="d">-	&quot;strings&quot;
</a><a href="#h93-0-16" id="h93-0-16" class="d">-)
</a><a href="#h93-0-17" id="h93-0-17" class="d">-
</a><a href="#h93-0-18" id="h93-0-18" class="d">-// RepositoryRelease represents a GitHub release in a repository.
</a><a href="#h93-0-19" id="h93-0-19" class="d">-type RepositoryRelease struct {
</a><a href="#h93-0-20" id="h93-0-20" class="d">-	ID              *int           `json:&quot;id,omitempty&quot;`
</a><a href="#h93-0-21" id="h93-0-21" class="d">-	TagName         *string        `json:&quot;tag_name,omitempty&quot;`
</a><a href="#h93-0-22" id="h93-0-22" class="d">-	TargetCommitish *string        `json:&quot;target_commitish,omitempty&quot;`
</a><a href="#h93-0-23" id="h93-0-23" class="d">-	Name            *string        `json:&quot;name,omitempty&quot;`
</a><a href="#h93-0-24" id="h93-0-24" class="d">-	Body            *string        `json:&quot;body,omitempty&quot;`
</a><a href="#h93-0-25" id="h93-0-25" class="d">-	Draft           *bool          `json:&quot;draft,omitempty&quot;`
</a><a href="#h93-0-26" id="h93-0-26" class="d">-	Prerelease      *bool          `json:&quot;prerelease,omitempty&quot;`
</a><a href="#h93-0-27" id="h93-0-27" class="d">-	CreatedAt       *Timestamp     `json:&quot;created_at,omitempty&quot;`
</a><a href="#h93-0-28" id="h93-0-28" class="d">-	PublishedAt     *Timestamp     `json:&quot;published_at,omitempty&quot;`
</a><a href="#h93-0-29" id="h93-0-29" class="d">-	URL             *string        `json:&quot;url,omitempty&quot;`
</a><a href="#h93-0-30" id="h93-0-30" class="d">-	HTMLURL         *string        `json:&quot;html_url,omitempty&quot;`
</a><a href="#h93-0-31" id="h93-0-31" class="d">-	AssetsURL       *string        `json:&quot;assets_url,omitempty&quot;`
</a><a href="#h93-0-32" id="h93-0-32" class="d">-	Assets          []ReleaseAsset `json:&quot;assets,omitempty&quot;`
</a><a href="#h93-0-33" id="h93-0-33" class="d">-	UploadURL       *string        `json:&quot;upload_url,omitempty&quot;`
</a><a href="#h93-0-34" id="h93-0-34" class="d">-	ZipballURL      *string        `json:&quot;zipball_url,omitempty&quot;`
</a><a href="#h93-0-35" id="h93-0-35" class="d">-	TarballURL      *string        `json:&quot;tarball_url,omitempty&quot;`
</a><a href="#h93-0-36" id="h93-0-36" class="d">-	Author          *CommitAuthor  `json:&quot;author,omitempty&quot;`
</a><a href="#h93-0-37" id="h93-0-37" class="d">-}
</a><a href="#h93-0-38" id="h93-0-38" class="d">-
</a><a href="#h93-0-39" id="h93-0-39" class="d">-func (r RepositoryRelease) String() string {
</a><a href="#h93-0-40" id="h93-0-40" class="d">-	return Stringify(r)
</a><a href="#h93-0-41" id="h93-0-41" class="d">-}
</a><a href="#h93-0-42" id="h93-0-42" class="d">-
</a><a href="#h93-0-43" id="h93-0-43" class="d">-// ReleaseAsset represents a Github release asset in a repository.
</a><a href="#h93-0-44" id="h93-0-44" class="d">-type ReleaseAsset struct {
</a><a href="#h93-0-45" id="h93-0-45" class="d">-	ID                 *int       `json:&quot;id,omitempty&quot;`
</a><a href="#h93-0-46" id="h93-0-46" class="d">-	URL                *string    `json:&quot;url,omitempty&quot;`
</a><a href="#h93-0-47" id="h93-0-47" class="d">-	Name               *string    `json:&quot;name,omitempty&quot;`
</a><a href="#h93-0-48" id="h93-0-48" class="d">-	Label              *string    `json:&quot;label,omitempty&quot;`
</a><a href="#h93-0-49" id="h93-0-49" class="d">-	State              *string    `json:&quot;state,omitempty&quot;`
</a><a href="#h93-0-50" id="h93-0-50" class="d">-	ContentType        *string    `json:&quot;content_type,omitempty&quot;`
</a><a href="#h93-0-51" id="h93-0-51" class="d">-	Size               *int       `json:&quot;size,omitempty&quot;`
</a><a href="#h93-0-52" id="h93-0-52" class="d">-	DownloadCount      *int       `json:&quot;download_count,omitempty&quot;`
</a><a href="#h93-0-53" id="h93-0-53" class="d">-	CreatedAt          *Timestamp `json:&quot;created_at,omitempty&quot;`
</a><a href="#h93-0-54" id="h93-0-54" class="d">-	UpdatedAt          *Timestamp `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h93-0-55" id="h93-0-55" class="d">-	BrowserDownloadURL *string    `json:&quot;browser_download_url,omitempty&quot;`
</a><a href="#h93-0-56" id="h93-0-56" class="d">-	Uploader           *User      `json:&quot;uploader,omitempty&quot;`
</a><a href="#h93-0-57" id="h93-0-57" class="d">-}
</a><a href="#h93-0-58" id="h93-0-58" class="d">-
</a><a href="#h93-0-59" id="h93-0-59" class="d">-func (r ReleaseAsset) String() string {
</a><a href="#h93-0-60" id="h93-0-60" class="d">-	return Stringify(r)
</a><a href="#h93-0-61" id="h93-0-61" class="d">-}
</a><a href="#h93-0-62" id="h93-0-62" class="d">-
</a><a href="#h93-0-63" id="h93-0-63" class="d">-// ListReleases lists the releases for a repository.
</a><a href="#h93-0-64" id="h93-0-64" class="d">-//
</a><a href="#h93-0-65" id="h93-0-65" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/releases/#list-releases-for-a-repository
</a><a href="#h93-0-66" id="h93-0-66" class="d">-func (s *RepositoriesService) ListReleases(owner, repo string, opt *ListOptions) ([]RepositoryRelease, *Response, error) {
</a><a href="#h93-0-67" id="h93-0-67" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases&quot;, owner, repo)
</a><a href="#h93-0-68" id="h93-0-68" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h93-0-69" id="h93-0-69" class="d">-	if err != nil {
</a><a href="#h93-0-70" id="h93-0-70" class="d">-		return nil, nil, err
</a><a href="#h93-0-71" id="h93-0-71" class="d">-	}
</a><a href="#h93-0-72" id="h93-0-72" class="d">-
</a><a href="#h93-0-73" id="h93-0-73" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h93-0-74" id="h93-0-74" class="d">-	if err != nil {
</a><a href="#h93-0-75" id="h93-0-75" class="d">-		return nil, nil, err
</a><a href="#h93-0-76" id="h93-0-76" class="d">-	}
</a><a href="#h93-0-77" id="h93-0-77" class="d">-
</a><a href="#h93-0-78" id="h93-0-78" class="d">-	releases := new([]RepositoryRelease)
</a><a href="#h93-0-79" id="h93-0-79" class="d">-	resp, err := s.client.Do(req, releases)
</a><a href="#h93-0-80" id="h93-0-80" class="d">-	if err != nil {
</a><a href="#h93-0-81" id="h93-0-81" class="d">-		return nil, resp, err
</a><a href="#h93-0-82" id="h93-0-82" class="d">-	}
</a><a href="#h93-0-83" id="h93-0-83" class="d">-	return *releases, resp, err
</a><a href="#h93-0-84" id="h93-0-84" class="d">-}
</a><a href="#h93-0-85" id="h93-0-85" class="d">-
</a><a href="#h93-0-86" id="h93-0-86" class="d">-// GetRelease fetches a single release.
</a><a href="#h93-0-87" id="h93-0-87" class="d">-//
</a><a href="#h93-0-88" id="h93-0-88" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/releases/#get-a-single-release
</a><a href="#h93-0-89" id="h93-0-89" class="d">-func (s *RepositoriesService) GetRelease(owner, repo string, id int) (*RepositoryRelease, *Response, error) {
</a><a href="#h93-0-90" id="h93-0-90" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/%d&quot;, owner, repo, id)
</a><a href="#h93-0-91" id="h93-0-91" class="d">-	return s.getSingleRelease(u)
</a><a href="#h93-0-92" id="h93-0-92" class="d">-}
</a><a href="#h93-0-93" id="h93-0-93" class="d">-
</a><a href="#h93-0-94" id="h93-0-94" class="d">-// GetLatestRelease fetches the latest published release for the repository.
</a><a href="#h93-0-95" id="h93-0-95" class="d">-//
</a><a href="#h93-0-96" id="h93-0-96" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/releases/#get-the-latest-release
</a><a href="#h93-0-97" id="h93-0-97" class="d">-func (s *RepositoriesService) GetLatestRelease(owner, repo string) (*RepositoryRelease, *Response, error) {
</a><a href="#h93-0-98" id="h93-0-98" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/latest&quot;, owner, repo)
</a><a href="#h93-0-99" id="h93-0-99" class="d">-	return s.getSingleRelease(u)
</a><a href="#h93-0-100" id="h93-0-100" class="d">-}
</a><a href="#h93-0-101" id="h93-0-101" class="d">-
</a><a href="#h93-0-102" id="h93-0-102" class="d">-// GetReleaseByTag fetches a release with the specified tag.
</a><a href="#h93-0-103" id="h93-0-103" class="d">-//
</a><a href="#h93-0-104" id="h93-0-104" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/releases/#get-a-release-by-tag-name
</a><a href="#h93-0-105" id="h93-0-105" class="d">-func (s *RepositoriesService) GetReleaseByTag(owner, repo, tag string) (*RepositoryRelease, *Response, error) {
</a><a href="#h93-0-106" id="h93-0-106" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/tags/%s&quot;, owner, repo, tag)
</a><a href="#h93-0-107" id="h93-0-107" class="d">-	return s.getSingleRelease(u)
</a><a href="#h93-0-108" id="h93-0-108" class="d">-}
</a><a href="#h93-0-109" id="h93-0-109" class="d">-
</a><a href="#h93-0-110" id="h93-0-110" class="d">-func (s *RepositoriesService) getSingleRelease(url string) (*RepositoryRelease, *Response, error) {
</a><a href="#h93-0-111" id="h93-0-111" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, url, nil)
</a><a href="#h93-0-112" id="h93-0-112" class="d">-	if err != nil {
</a><a href="#h93-0-113" id="h93-0-113" class="d">-		return nil, nil, err
</a><a href="#h93-0-114" id="h93-0-114" class="d">-	}
</a><a href="#h93-0-115" id="h93-0-115" class="d">-
</a><a href="#h93-0-116" id="h93-0-116" class="d">-	release := new(RepositoryRelease)
</a><a href="#h93-0-117" id="h93-0-117" class="d">-	resp, err := s.client.Do(req, release)
</a><a href="#h93-0-118" id="h93-0-118" class="d">-	if err != nil {
</a><a href="#h93-0-119" id="h93-0-119" class="d">-		return nil, resp, err
</a><a href="#h93-0-120" id="h93-0-120" class="d">-	}
</a><a href="#h93-0-121" id="h93-0-121" class="d">-	return release, resp, err
</a><a href="#h93-0-122" id="h93-0-122" class="d">-}
</a><a href="#h93-0-123" id="h93-0-123" class="d">-
</a><a href="#h93-0-124" id="h93-0-124" class="d">-// CreateRelease adds a new release for a repository.
</a><a href="#h93-0-125" id="h93-0-125" class="d">-//
</a><a href="#h93-0-126" id="h93-0-126" class="d">-// GitHub API docs : http://developer.github.com/v3/repos/releases/#create-a-release
</a><a href="#h93-0-127" id="h93-0-127" class="d">-func (s *RepositoriesService) CreateRelease(owner, repo string, release *RepositoryRelease) (*RepositoryRelease, *Response, error) {
</a><a href="#h93-0-128" id="h93-0-128" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases&quot;, owner, repo)
</a><a href="#h93-0-129" id="h93-0-129" class="d">-
</a><a href="#h93-0-130" id="h93-0-130" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, release)
</a><a href="#h93-0-131" id="h93-0-131" class="d">-	if err != nil {
</a><a href="#h93-0-132" id="h93-0-132" class="d">-		return nil, nil, err
</a><a href="#h93-0-133" id="h93-0-133" class="d">-	}
</a><a href="#h93-0-134" id="h93-0-134" class="d">-
</a><a href="#h93-0-135" id="h93-0-135" class="d">-	r := new(RepositoryRelease)
</a><a href="#h93-0-136" id="h93-0-136" class="d">-	resp, err := s.client.Do(req, r)
</a><a href="#h93-0-137" id="h93-0-137" class="d">-	if err != nil {
</a><a href="#h93-0-138" id="h93-0-138" class="d">-		return nil, resp, err
</a><a href="#h93-0-139" id="h93-0-139" class="d">-	}
</a><a href="#h93-0-140" id="h93-0-140" class="d">-	return r, resp, err
</a><a href="#h93-0-141" id="h93-0-141" class="d">-}
</a><a href="#h93-0-142" id="h93-0-142" class="d">-
</a><a href="#h93-0-143" id="h93-0-143" class="d">-// EditRelease edits a repository release.
</a><a href="#h93-0-144" id="h93-0-144" class="d">-//
</a><a href="#h93-0-145" id="h93-0-145" class="d">-// GitHub API docs : http://developer.github.com/v3/repos/releases/#edit-a-release
</a><a href="#h93-0-146" id="h93-0-146" class="d">-func (s *RepositoriesService) EditRelease(owner, repo string, id int, release *RepositoryRelease) (*RepositoryRelease, *Response, error) {
</a><a href="#h93-0-147" id="h93-0-147" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/%d&quot;, owner, repo, id)
</a><a href="#h93-0-148" id="h93-0-148" class="d">-
</a><a href="#h93-0-149" id="h93-0-149" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, release)
</a><a href="#h93-0-150" id="h93-0-150" class="d">-	if err != nil {
</a><a href="#h93-0-151" id="h93-0-151" class="d">-		return nil, nil, err
</a><a href="#h93-0-152" id="h93-0-152" class="d">-	}
</a><a href="#h93-0-153" id="h93-0-153" class="d">-
</a><a href="#h93-0-154" id="h93-0-154" class="d">-	r := new(RepositoryRelease)
</a><a href="#h93-0-155" id="h93-0-155" class="d">-	resp, err := s.client.Do(req, r)
</a><a href="#h93-0-156" id="h93-0-156" class="d">-	if err != nil {
</a><a href="#h93-0-157" id="h93-0-157" class="d">-		return nil, resp, err
</a><a href="#h93-0-158" id="h93-0-158" class="d">-	}
</a><a href="#h93-0-159" id="h93-0-159" class="d">-	return r, resp, err
</a><a href="#h93-0-160" id="h93-0-160" class="d">-}
</a><a href="#h93-0-161" id="h93-0-161" class="d">-
</a><a href="#h93-0-162" id="h93-0-162" class="d">-// DeleteRelease delete a single release from a repository.
</a><a href="#h93-0-163" id="h93-0-163" class="d">-//
</a><a href="#h93-0-164" id="h93-0-164" class="d">-// GitHub API docs : http://developer.github.com/v3/repos/releases/#delete-a-release
</a><a href="#h93-0-165" id="h93-0-165" class="d">-func (s *RepositoriesService) DeleteRelease(owner, repo string, id int) (*Response, error) {
</a><a href="#h93-0-166" id="h93-0-166" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/%d&quot;, owner, repo, id)
</a><a href="#h93-0-167" id="h93-0-167" class="d">-
</a><a href="#h93-0-168" id="h93-0-168" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h93-0-169" id="h93-0-169" class="d">-	if err != nil {
</a><a href="#h93-0-170" id="h93-0-170" class="d">-		return nil, err
</a><a href="#h93-0-171" id="h93-0-171" class="d">-	}
</a><a href="#h93-0-172" id="h93-0-172" class="d">-	return s.client.Do(req, nil)
</a><a href="#h93-0-173" id="h93-0-173" class="d">-}
</a><a href="#h93-0-174" id="h93-0-174" class="d">-
</a><a href="#h93-0-175" id="h93-0-175" class="d">-// ListReleaseAssets lists the release&#39;s assets.
</a><a href="#h93-0-176" id="h93-0-176" class="d">-//
</a><a href="#h93-0-177" id="h93-0-177" class="d">-// GitHub API docs : http://developer.github.com/v3/repos/releases/#list-assets-for-a-release
</a><a href="#h93-0-178" id="h93-0-178" class="d">-func (s *RepositoriesService) ListReleaseAssets(owner, repo string, id int, opt *ListOptions) ([]ReleaseAsset, *Response, error) {
</a><a href="#h93-0-179" id="h93-0-179" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/%d/assets&quot;, owner, repo, id)
</a><a href="#h93-0-180" id="h93-0-180" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h93-0-181" id="h93-0-181" class="d">-	if err != nil {
</a><a href="#h93-0-182" id="h93-0-182" class="d">-		return nil, nil, err
</a><a href="#h93-0-183" id="h93-0-183" class="d">-	}
</a><a href="#h93-0-184" id="h93-0-184" class="d">-
</a><a href="#h93-0-185" id="h93-0-185" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h93-0-186" id="h93-0-186" class="d">-	if err != nil {
</a><a href="#h93-0-187" id="h93-0-187" class="d">-		return nil, nil, err
</a><a href="#h93-0-188" id="h93-0-188" class="d">-	}
</a><a href="#h93-0-189" id="h93-0-189" class="d">-
</a><a href="#h93-0-190" id="h93-0-190" class="d">-	assets := new([]ReleaseAsset)
</a><a href="#h93-0-191" id="h93-0-191" class="d">-	resp, err := s.client.Do(req, assets)
</a><a href="#h93-0-192" id="h93-0-192" class="d">-	if err != nil {
</a><a href="#h93-0-193" id="h93-0-193" class="d">-		return nil, resp, nil
</a><a href="#h93-0-194" id="h93-0-194" class="d">-	}
</a><a href="#h93-0-195" id="h93-0-195" class="d">-	return *assets, resp, err
</a><a href="#h93-0-196" id="h93-0-196" class="d">-}
</a><a href="#h93-0-197" id="h93-0-197" class="d">-
</a><a href="#h93-0-198" id="h93-0-198" class="d">-// GetReleaseAsset fetches a single release asset.
</a><a href="#h93-0-199" id="h93-0-199" class="d">-//
</a><a href="#h93-0-200" id="h93-0-200" class="d">-// GitHub API docs : http://developer.github.com/v3/repos/releases/#get-a-single-release-asset
</a><a href="#h93-0-201" id="h93-0-201" class="d">-func (s *RepositoriesService) GetReleaseAsset(owner, repo string, id int) (*ReleaseAsset, *Response, error) {
</a><a href="#h93-0-202" id="h93-0-202" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/assets/%d&quot;, owner, repo, id)
</a><a href="#h93-0-203" id="h93-0-203" class="d">-
</a><a href="#h93-0-204" id="h93-0-204" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h93-0-205" id="h93-0-205" class="d">-	if err != nil {
</a><a href="#h93-0-206" id="h93-0-206" class="d">-		return nil, nil, err
</a><a href="#h93-0-207" id="h93-0-207" class="d">-	}
</a><a href="#h93-0-208" id="h93-0-208" class="d">-
</a><a href="#h93-0-209" id="h93-0-209" class="d">-	asset := new(ReleaseAsset)
</a><a href="#h93-0-210" id="h93-0-210" class="d">-	resp, err := s.client.Do(req, asset)
</a><a href="#h93-0-211" id="h93-0-211" class="d">-	if err != nil {
</a><a href="#h93-0-212" id="h93-0-212" class="d">-		return nil, resp, nil
</a><a href="#h93-0-213" id="h93-0-213" class="d">-	}
</a><a href="#h93-0-214" id="h93-0-214" class="d">-	return asset, resp, err
</a><a href="#h93-0-215" id="h93-0-215" class="d">-}
</a><a href="#h93-0-216" id="h93-0-216" class="d">-
</a><a href="#h93-0-217" id="h93-0-217" class="d">-// DownloadReleaseAsset downloads a release asset or returns a redirect URL.
</a><a href="#h93-0-218" id="h93-0-218" class="d">-//
</a><a href="#h93-0-219" id="h93-0-219" class="d">-// DownloadReleaseAsset returns an io.ReadCloser that reads the contents of the
</a><a href="#h93-0-220" id="h93-0-220" class="d">-// specified release asset. It is the caller&#39;s responsibility to close the ReadCloser.
</a><a href="#h93-0-221" id="h93-0-221" class="d">-// If a redirect is returned, the redirect URL will be returned as a string instead
</a><a href="#h93-0-222" id="h93-0-222" class="d">-// of the io.ReadCloser. Exactly one of rc and redirectURL will be zero.
</a><a href="#h93-0-223" id="h93-0-223" class="d">-//
</a><a href="#h93-0-224" id="h93-0-224" class="d">-// GitHub API docs : http://developer.github.com/v3/repos/releases/#get-a-single-release-asset
</a><a href="#h93-0-225" id="h93-0-225" class="d">-func (s *RepositoriesService) DownloadReleaseAsset(owner, repo string, id int) (rc io.ReadCloser, redirectURL string, err error) {
</a><a href="#h93-0-226" id="h93-0-226" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/assets/%d&quot;, owner, repo, id)
</a><a href="#h93-0-227" id="h93-0-227" class="d">-
</a><a href="#h93-0-228" id="h93-0-228" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h93-0-229" id="h93-0-229" class="d">-	if err != nil {
</a><a href="#h93-0-230" id="h93-0-230" class="d">-		return nil, &quot;&quot;, err
</a><a href="#h93-0-231" id="h93-0-231" class="d">-	}
</a><a href="#h93-0-232" id="h93-0-232" class="d">-	req.Header.Set(&quot;Accept&quot;, defaultMediaType)
</a><a href="#h93-0-233" id="h93-0-233" class="d">-
</a><a href="#h93-0-234" id="h93-0-234" class="d">-	s.client.clientMu.Lock()
</a><a href="#h93-0-235" id="h93-0-235" class="d">-	defer s.client.clientMu.Unlock()
</a><a href="#h93-0-236" id="h93-0-236" class="d">-
</a><a href="#h93-0-237" id="h93-0-237" class="d">-	var loc string
</a><a href="#h93-0-238" id="h93-0-238" class="d">-	saveRedirect := s.client.client.CheckRedirect
</a><a href="#h93-0-239" id="h93-0-239" class="d">-	s.client.client.CheckRedirect = func(req *http.Request, via []*http.Request) error {
</a><a href="#h93-0-240" id="h93-0-240" class="d">-		loc = req.URL.String()
</a><a href="#h93-0-241" id="h93-0-241" class="d">-		return errors.New(&quot;disable redirect&quot;)
</a><a href="#h93-0-242" id="h93-0-242" class="d">-	}
</a><a href="#h93-0-243" id="h93-0-243" class="d">-	defer func() { s.client.client.CheckRedirect = saveRedirect }()
</a><a href="#h93-0-244" id="h93-0-244" class="d">-
</a><a href="#h93-0-245" id="h93-0-245" class="d">-	resp, err := s.client.client.Do(req)
</a><a href="#h93-0-246" id="h93-0-246" class="d">-	if err != nil {
</a><a href="#h93-0-247" id="h93-0-247" class="d">-		if !strings.Contains(err.Error(), &quot;disable redirect&quot;) {
</a><a href="#h93-0-248" id="h93-0-248" class="d">-			return nil, &quot;&quot;, err
</a><a href="#h93-0-249" id="h93-0-249" class="d">-		}
</a><a href="#h93-0-250" id="h93-0-250" class="d">-		return nil, loc, nil
</a><a href="#h93-0-251" id="h93-0-251" class="d">-	}
</a><a href="#h93-0-252" id="h93-0-252" class="d">-
</a><a href="#h93-0-253" id="h93-0-253" class="d">-	return resp.Body, &quot;&quot;, nil
</a><a href="#h93-0-254" id="h93-0-254" class="d">-}
</a><a href="#h93-0-255" id="h93-0-255" class="d">-
</a><a href="#h93-0-256" id="h93-0-256" class="d">-// EditReleaseAsset edits a repository release asset.
</a><a href="#h93-0-257" id="h93-0-257" class="d">-//
</a><a href="#h93-0-258" id="h93-0-258" class="d">-// GitHub API docs : http://developer.github.com/v3/repos/releases/#edit-a-release-asset
</a><a href="#h93-0-259" id="h93-0-259" class="d">-func (s *RepositoriesService) EditReleaseAsset(owner, repo string, id int, release *ReleaseAsset) (*ReleaseAsset, *Response, error) {
</a><a href="#h93-0-260" id="h93-0-260" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/assets/%d&quot;, owner, repo, id)
</a><a href="#h93-0-261" id="h93-0-261" class="d">-
</a><a href="#h93-0-262" id="h93-0-262" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, release)
</a><a href="#h93-0-263" id="h93-0-263" class="d">-	if err != nil {
</a><a href="#h93-0-264" id="h93-0-264" class="d">-		return nil, nil, err
</a><a href="#h93-0-265" id="h93-0-265" class="d">-	}
</a><a href="#h93-0-266" id="h93-0-266" class="d">-
</a><a href="#h93-0-267" id="h93-0-267" class="d">-	asset := new(ReleaseAsset)
</a><a href="#h93-0-268" id="h93-0-268" class="d">-	resp, err := s.client.Do(req, asset)
</a><a href="#h93-0-269" id="h93-0-269" class="d">-	if err != nil {
</a><a href="#h93-0-270" id="h93-0-270" class="d">-		return nil, resp, err
</a><a href="#h93-0-271" id="h93-0-271" class="d">-	}
</a><a href="#h93-0-272" id="h93-0-272" class="d">-	return asset, resp, err
</a><a href="#h93-0-273" id="h93-0-273" class="d">-}
</a><a href="#h93-0-274" id="h93-0-274" class="d">-
</a><a href="#h93-0-275" id="h93-0-275" class="d">-// DeleteReleaseAsset delete a single release asset from a repository.
</a><a href="#h93-0-276" id="h93-0-276" class="d">-//
</a><a href="#h93-0-277" id="h93-0-277" class="d">-// GitHub API docs : http://developer.github.com/v3/repos/releases/#delete-a-release-asset
</a><a href="#h93-0-278" id="h93-0-278" class="d">-func (s *RepositoriesService) DeleteReleaseAsset(owner, repo string, id int) (*Response, error) {
</a><a href="#h93-0-279" id="h93-0-279" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/assets/%d&quot;, owner, repo, id)
</a><a href="#h93-0-280" id="h93-0-280" class="d">-
</a><a href="#h93-0-281" id="h93-0-281" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h93-0-282" id="h93-0-282" class="d">-	if err != nil {
</a><a href="#h93-0-283" id="h93-0-283" class="d">-		return nil, err
</a><a href="#h93-0-284" id="h93-0-284" class="d">-	}
</a><a href="#h93-0-285" id="h93-0-285" class="d">-	return s.client.Do(req, nil)
</a><a href="#h93-0-286" id="h93-0-286" class="d">-}
</a><a href="#h93-0-287" id="h93-0-287" class="d">-
</a><a href="#h93-0-288" id="h93-0-288" class="d">-// UploadReleaseAsset creates an asset by uploading a file into a release repository.
</a><a href="#h93-0-289" id="h93-0-289" class="d">-// To upload assets that cannot be represented by an os.File, call NewUploadRequest directly.
</a><a href="#h93-0-290" id="h93-0-290" class="d">-//
</a><a href="#h93-0-291" id="h93-0-291" class="d">-// GitHub API docs : http://developer.github.com/v3/repos/releases/#upload-a-release-asset
</a><a href="#h93-0-292" id="h93-0-292" class="d">-func (s *RepositoriesService) UploadReleaseAsset(owner, repo string, id int, opt *UploadOptions, file *os.File) (*ReleaseAsset, *Response, error) {
</a><a href="#h93-0-293" id="h93-0-293" class="d">-	u := fmt.Sprintf(&quot;repos/%s/%s/releases/%d/assets&quot;, owner, repo, id)
</a><a href="#h93-0-294" id="h93-0-294" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h93-0-295" id="h93-0-295" class="d">-	if err != nil {
</a><a href="#h93-0-296" id="h93-0-296" class="d">-		return nil, nil, err
</a><a href="#h93-0-297" id="h93-0-297" class="d">-	}
</a><a href="#h93-0-298" id="h93-0-298" class="d">-
</a><a href="#h93-0-299" id="h93-0-299" class="d">-	stat, err := file.Stat()
</a><a href="#h93-0-300" id="h93-0-300" class="d">-	if err != nil {
</a><a href="#h93-0-301" id="h93-0-301" class="d">-		return nil, nil, err
</a><a href="#h93-0-302" id="h93-0-302" class="d">-	}
</a><a href="#h93-0-303" id="h93-0-303" class="d">-	if stat.IsDir() {
</a><a href="#h93-0-304" id="h93-0-304" class="d">-		return nil, nil, errors.New(&quot;the asset to upload can&#39;t be a directory&quot;)
</a><a href="#h93-0-305" id="h93-0-305" class="d">-	}
</a><a href="#h93-0-306" id="h93-0-306" class="d">-
</a><a href="#h93-0-307" id="h93-0-307" class="d">-	mediaType := mime.TypeByExtension(filepath.Ext(file.Name()))
</a><a href="#h93-0-308" id="h93-0-308" class="d">-	req, err := s.client.NewUploadRequest(u, file, stat.Size(), mediaType)
</a><a href="#h93-0-309" id="h93-0-309" class="d">-	if err != nil {
</a><a href="#h93-0-310" id="h93-0-310" class="d">-		return nil, nil, err
</a><a href="#h93-0-311" id="h93-0-311" class="d">-	}
</a><a href="#h93-0-312" id="h93-0-312" class="d">-
</a><a href="#h93-0-313" id="h93-0-313" class="d">-	asset := new(ReleaseAsset)
</a><a href="#h93-0-314" id="h93-0-314" class="d">-	resp, err := s.client.Do(req, asset)
</a><a href="#h93-0-315" id="h93-0-315" class="d">-	if err != nil {
</a><a href="#h93-0-316" id="h93-0-316" class="d">-		return nil, resp, err
</a><a href="#h93-0-317" id="h93-0-317" class="d">-	}
</a><a href="#h93-0-318" id="h93-0-318" class="d">-	return asset, resp, err
</a><a href="#h93-0-319" id="h93-0-319" class="d">-}
</a><b>diff --git a/<a id="h94" href="../file/vendor/github.com/google/go-github/github/repos_stats.go">vendor/github.com/google/go-github/github/repos_stats.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_stats.go">vendor/github.com/google/go-github/github/repos_stats.go</a></b>
<a href="#h94-0" id="h94-0" class="h">@@ -1,214 +0,0 @@
</a><a href="#h94-0-0" id="h94-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h94-0-1" id="h94-0-1" class="d">-//
</a><a href="#h94-0-2" id="h94-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h94-0-3" id="h94-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h94-0-4" id="h94-0-4" class="d">-
</a><a href="#h94-0-5" id="h94-0-5" class="d">-package github
</a><a href="#h94-0-6" id="h94-0-6" class="d">-
</a><a href="#h94-0-7" id="h94-0-7" class="d">-import (
</a><a href="#h94-0-8" id="h94-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h94-0-9" id="h94-0-9" class="d">-	&quot;time&quot;
</a><a href="#h94-0-10" id="h94-0-10" class="d">-)
</a><a href="#h94-0-11" id="h94-0-11" class="d">-
</a><a href="#h94-0-12" id="h94-0-12" class="d">-// ContributorStats represents a contributor to a repository and their
</a><a href="#h94-0-13" id="h94-0-13" class="d">-// weekly contributions to a given repo.
</a><a href="#h94-0-14" id="h94-0-14" class="d">-type ContributorStats struct {
</a><a href="#h94-0-15" id="h94-0-15" class="d">-	Author *Contributor  `json:&quot;author,omitempty&quot;`
</a><a href="#h94-0-16" id="h94-0-16" class="d">-	Total  *int          `json:&quot;total,omitempty&quot;`
</a><a href="#h94-0-17" id="h94-0-17" class="d">-	Weeks  []WeeklyStats `json:&quot;weeks,omitempty&quot;`
</a><a href="#h94-0-18" id="h94-0-18" class="d">-}
</a><a href="#h94-0-19" id="h94-0-19" class="d">-
</a><a href="#h94-0-20" id="h94-0-20" class="d">-func (c ContributorStats) String() string {
</a><a href="#h94-0-21" id="h94-0-21" class="d">-	return Stringify(c)
</a><a href="#h94-0-22" id="h94-0-22" class="d">-}
</a><a href="#h94-0-23" id="h94-0-23" class="d">-
</a><a href="#h94-0-24" id="h94-0-24" class="d">-// WeeklyStats represents the number of additions, deletions and commits
</a><a href="#h94-0-25" id="h94-0-25" class="d">-// a Contributor made in a given week.
</a><a href="#h94-0-26" id="h94-0-26" class="d">-type WeeklyStats struct {
</a><a href="#h94-0-27" id="h94-0-27" class="d">-	Week      *Timestamp `json:&quot;w,omitempty&quot;`
</a><a href="#h94-0-28" id="h94-0-28" class="d">-	Additions *int       `json:&quot;a,omitempty&quot;`
</a><a href="#h94-0-29" id="h94-0-29" class="d">-	Deletions *int       `json:&quot;d,omitempty&quot;`
</a><a href="#h94-0-30" id="h94-0-30" class="d">-	Commits   *int       `json:&quot;c,omitempty&quot;`
</a><a href="#h94-0-31" id="h94-0-31" class="d">-}
</a><a href="#h94-0-32" id="h94-0-32" class="d">-
</a><a href="#h94-0-33" id="h94-0-33" class="d">-func (w WeeklyStats) String() string {
</a><a href="#h94-0-34" id="h94-0-34" class="d">-	return Stringify(w)
</a><a href="#h94-0-35" id="h94-0-35" class="d">-}
</a><a href="#h94-0-36" id="h94-0-36" class="d">-
</a><a href="#h94-0-37" id="h94-0-37" class="d">-// ListContributorsStats gets a repo&#39;s contributor list with additions,
</a><a href="#h94-0-38" id="h94-0-38" class="d">-// deletions and commit counts.
</a><a href="#h94-0-39" id="h94-0-39" class="d">-//
</a><a href="#h94-0-40" id="h94-0-40" class="d">-// If this is the first time these statistics are requested for the given
</a><a href="#h94-0-41" id="h94-0-41" class="d">-// repository, this method will return a non-nil error and a status code of
</a><a href="#h94-0-42" id="h94-0-42" class="d">-// 202. This is because this is the status that github returns to signify that
</a><a href="#h94-0-43" id="h94-0-43" class="d">-// it is now computing the requested statistics. A follow up request, after a
</a><a href="#h94-0-44" id="h94-0-44" class="d">-// delay of a second or so, should result in a successful request.
</a><a href="#h94-0-45" id="h94-0-45" class="d">-//
</a><a href="#h94-0-46" id="h94-0-46" class="d">-// GitHub API Docs: https://developer.github.com/v3/repos/statistics/#contributors
</a><a href="#h94-0-47" id="h94-0-47" class="d">-func (s *RepositoriesService) ListContributorsStats(owner, repo string) ([]ContributorStats, *Response, error) {
</a><a href="#h94-0-48" id="h94-0-48" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/stats/contributors&quot;, owner, repo)
</a><a href="#h94-0-49" id="h94-0-49" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h94-0-50" id="h94-0-50" class="d">-	if err != nil {
</a><a href="#h94-0-51" id="h94-0-51" class="d">-		return nil, nil, err
</a><a href="#h94-0-52" id="h94-0-52" class="d">-	}
</a><a href="#h94-0-53" id="h94-0-53" class="d">-
</a><a href="#h94-0-54" id="h94-0-54" class="d">-	var contributorStats []ContributorStats
</a><a href="#h94-0-55" id="h94-0-55" class="d">-	resp, err := s.client.Do(req, &amp;contributorStats)
</a><a href="#h94-0-56" id="h94-0-56" class="d">-	if err != nil {
</a><a href="#h94-0-57" id="h94-0-57" class="d">-		return nil, resp, err
</a><a href="#h94-0-58" id="h94-0-58" class="d">-	}
</a><a href="#h94-0-59" id="h94-0-59" class="d">-
</a><a href="#h94-0-60" id="h94-0-60" class="d">-	return contributorStats, resp, err
</a><a href="#h94-0-61" id="h94-0-61" class="d">-}
</a><a href="#h94-0-62" id="h94-0-62" class="d">-
</a><a href="#h94-0-63" id="h94-0-63" class="d">-// WeeklyCommitActivity represents the weekly commit activity for a repository.
</a><a href="#h94-0-64" id="h94-0-64" class="d">-// The days array is a group of commits per day, starting on Sunday.
</a><a href="#h94-0-65" id="h94-0-65" class="d">-type WeeklyCommitActivity struct {
</a><a href="#h94-0-66" id="h94-0-66" class="d">-	Days  []int      `json:&quot;days,omitempty&quot;`
</a><a href="#h94-0-67" id="h94-0-67" class="d">-	Total *int       `json:&quot;total,omitempty&quot;`
</a><a href="#h94-0-68" id="h94-0-68" class="d">-	Week  *Timestamp `json:&quot;week,omitempty&quot;`
</a><a href="#h94-0-69" id="h94-0-69" class="d">-}
</a><a href="#h94-0-70" id="h94-0-70" class="d">-
</a><a href="#h94-0-71" id="h94-0-71" class="d">-func (w WeeklyCommitActivity) String() string {
</a><a href="#h94-0-72" id="h94-0-72" class="d">-	return Stringify(w)
</a><a href="#h94-0-73" id="h94-0-73" class="d">-}
</a><a href="#h94-0-74" id="h94-0-74" class="d">-
</a><a href="#h94-0-75" id="h94-0-75" class="d">-// ListCommitActivity returns the last year of commit activity
</a><a href="#h94-0-76" id="h94-0-76" class="d">-// grouped by week. The days array is a group of commits per day,
</a><a href="#h94-0-77" id="h94-0-77" class="d">-// starting on Sunday.
</a><a href="#h94-0-78" id="h94-0-78" class="d">-//
</a><a href="#h94-0-79" id="h94-0-79" class="d">-// If this is the first time these statistics are requested for the given
</a><a href="#h94-0-80" id="h94-0-80" class="d">-// repository, this method will return a non-nil error and a status code of
</a><a href="#h94-0-81" id="h94-0-81" class="d">-// 202. This is because this is the status that github returns to signify that
</a><a href="#h94-0-82" id="h94-0-82" class="d">-// it is now computing the requested statistics. A follow up request, after a
</a><a href="#h94-0-83" id="h94-0-83" class="d">-// delay of a second or so, should result in a successful request.
</a><a href="#h94-0-84" id="h94-0-84" class="d">-//
</a><a href="#h94-0-85" id="h94-0-85" class="d">-// GitHub API Docs: https://developer.github.com/v3/repos/statistics/#commit-activity
</a><a href="#h94-0-86" id="h94-0-86" class="d">-func (s *RepositoriesService) ListCommitActivity(owner, repo string) ([]WeeklyCommitActivity, *Response, error) {
</a><a href="#h94-0-87" id="h94-0-87" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/stats/commit_activity&quot;, owner, repo)
</a><a href="#h94-0-88" id="h94-0-88" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h94-0-89" id="h94-0-89" class="d">-	if err != nil {
</a><a href="#h94-0-90" id="h94-0-90" class="d">-		return nil, nil, err
</a><a href="#h94-0-91" id="h94-0-91" class="d">-	}
</a><a href="#h94-0-92" id="h94-0-92" class="d">-
</a><a href="#h94-0-93" id="h94-0-93" class="d">-	var weeklyCommitActivity []WeeklyCommitActivity
</a><a href="#h94-0-94" id="h94-0-94" class="d">-	resp, err := s.client.Do(req, &amp;weeklyCommitActivity)
</a><a href="#h94-0-95" id="h94-0-95" class="d">-	if err != nil {
</a><a href="#h94-0-96" id="h94-0-96" class="d">-		return nil, resp, err
</a><a href="#h94-0-97" id="h94-0-97" class="d">-	}
</a><a href="#h94-0-98" id="h94-0-98" class="d">-
</a><a href="#h94-0-99" id="h94-0-99" class="d">-	return weeklyCommitActivity, resp, err
</a><a href="#h94-0-100" id="h94-0-100" class="d">-}
</a><a href="#h94-0-101" id="h94-0-101" class="d">-
</a><a href="#h94-0-102" id="h94-0-102" class="d">-// ListCodeFrequency returns a weekly aggregate of the number of additions and
</a><a href="#h94-0-103" id="h94-0-103" class="d">-// deletions pushed to a repository.  Returned WeeklyStats will contain
</a><a href="#h94-0-104" id="h94-0-104" class="d">-// additions and deletions, but not total commits.
</a><a href="#h94-0-105" id="h94-0-105" class="d">-//
</a><a href="#h94-0-106" id="h94-0-106" class="d">-// GitHub API Docs: https://developer.github.com/v3/repos/statistics/#code-frequency
</a><a href="#h94-0-107" id="h94-0-107" class="d">-func (s *RepositoriesService) ListCodeFrequency(owner, repo string) ([]WeeklyStats, *Response, error) {
</a><a href="#h94-0-108" id="h94-0-108" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/stats/code_frequency&quot;, owner, repo)
</a><a href="#h94-0-109" id="h94-0-109" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h94-0-110" id="h94-0-110" class="d">-	if err != nil {
</a><a href="#h94-0-111" id="h94-0-111" class="d">-		return nil, nil, err
</a><a href="#h94-0-112" id="h94-0-112" class="d">-	}
</a><a href="#h94-0-113" id="h94-0-113" class="d">-
</a><a href="#h94-0-114" id="h94-0-114" class="d">-	var weeks [][]int
</a><a href="#h94-0-115" id="h94-0-115" class="d">-	resp, err := s.client.Do(req, &amp;weeks)
</a><a href="#h94-0-116" id="h94-0-116" class="d">-
</a><a href="#h94-0-117" id="h94-0-117" class="d">-	// convert int slices into WeeklyStats
</a><a href="#h94-0-118" id="h94-0-118" class="d">-	var stats []WeeklyStats
</a><a href="#h94-0-119" id="h94-0-119" class="d">-	for _, week := range weeks {
</a><a href="#h94-0-120" id="h94-0-120" class="d">-		if len(week) != 3 {
</a><a href="#h94-0-121" id="h94-0-121" class="d">-			continue
</a><a href="#h94-0-122" id="h94-0-122" class="d">-		}
</a><a href="#h94-0-123" id="h94-0-123" class="d">-		stat := WeeklyStats{
</a><a href="#h94-0-124" id="h94-0-124" class="d">-			Week:      &amp;Timestamp{time.Unix(int64(week[0]), 0)},
</a><a href="#h94-0-125" id="h94-0-125" class="d">-			Additions: Int(week[1]),
</a><a href="#h94-0-126" id="h94-0-126" class="d">-			Deletions: Int(week[2]),
</a><a href="#h94-0-127" id="h94-0-127" class="d">-		}
</a><a href="#h94-0-128" id="h94-0-128" class="d">-		stats = append(stats, stat)
</a><a href="#h94-0-129" id="h94-0-129" class="d">-	}
</a><a href="#h94-0-130" id="h94-0-130" class="d">-
</a><a href="#h94-0-131" id="h94-0-131" class="d">-	return stats, resp, err
</a><a href="#h94-0-132" id="h94-0-132" class="d">-}
</a><a href="#h94-0-133" id="h94-0-133" class="d">-
</a><a href="#h94-0-134" id="h94-0-134" class="d">-// RepositoryParticipation is the number of commits by everyone
</a><a href="#h94-0-135" id="h94-0-135" class="d">-// who has contributed to the repository (including the owner)
</a><a href="#h94-0-136" id="h94-0-136" class="d">-// as well as the number of commits by the owner themself.
</a><a href="#h94-0-137" id="h94-0-137" class="d">-type RepositoryParticipation struct {
</a><a href="#h94-0-138" id="h94-0-138" class="d">-	All   []int `json:&quot;all,omitempty&quot;`
</a><a href="#h94-0-139" id="h94-0-139" class="d">-	Owner []int `json:&quot;owner,omitempty&quot;`
</a><a href="#h94-0-140" id="h94-0-140" class="d">-}
</a><a href="#h94-0-141" id="h94-0-141" class="d">-
</a><a href="#h94-0-142" id="h94-0-142" class="d">-func (r RepositoryParticipation) String() string {
</a><a href="#h94-0-143" id="h94-0-143" class="d">-	return Stringify(r)
</a><a href="#h94-0-144" id="h94-0-144" class="d">-}
</a><a href="#h94-0-145" id="h94-0-145" class="d">-
</a><a href="#h94-0-146" id="h94-0-146" class="d">-// ListParticipation returns the total commit counts for the &#39;owner&#39;
</a><a href="#h94-0-147" id="h94-0-147" class="d">-// and total commit counts in &#39;all&#39;. &#39;all&#39; is everyone combined,
</a><a href="#h94-0-148" id="h94-0-148" class="d">-// including the &#39;owner&#39; in the last 52 weeks. If youd like to get
</a><a href="#h94-0-149" id="h94-0-149" class="d">-// the commit counts for non-owners, you can subtract &#39;all&#39; from &#39;owner&#39;.
</a><a href="#h94-0-150" id="h94-0-150" class="d">-//
</a><a href="#h94-0-151" id="h94-0-151" class="d">-// The array order is oldest week (index 0) to most recent week.
</a><a href="#h94-0-152" id="h94-0-152" class="d">-//
</a><a href="#h94-0-153" id="h94-0-153" class="d">-// If this is the first time these statistics are requested for the given
</a><a href="#h94-0-154" id="h94-0-154" class="d">-// repository, this method will return a non-nil error and a status code
</a><a href="#h94-0-155" id="h94-0-155" class="d">-// of 202. This is because this is the status that github returns to
</a><a href="#h94-0-156" id="h94-0-156" class="d">-// signify that it is now computing the requested statistics. A follow
</a><a href="#h94-0-157" id="h94-0-157" class="d">-// up request, after a delay of a second or so, should result in a
</a><a href="#h94-0-158" id="h94-0-158" class="d">-// successful request.
</a><a href="#h94-0-159" id="h94-0-159" class="d">-//
</a><a href="#h94-0-160" id="h94-0-160" class="d">-// GitHub API Docs: https://developer.github.com/v3/repos/statistics/#participation
</a><a href="#h94-0-161" id="h94-0-161" class="d">-func (s *RepositoriesService) ListParticipation(owner, repo string) (*RepositoryParticipation, *Response, error) {
</a><a href="#h94-0-162" id="h94-0-162" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/stats/participation&quot;, owner, repo)
</a><a href="#h94-0-163" id="h94-0-163" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h94-0-164" id="h94-0-164" class="d">-	if err != nil {
</a><a href="#h94-0-165" id="h94-0-165" class="d">-		return nil, nil, err
</a><a href="#h94-0-166" id="h94-0-166" class="d">-	}
</a><a href="#h94-0-167" id="h94-0-167" class="d">-
</a><a href="#h94-0-168" id="h94-0-168" class="d">-	participation := new(RepositoryParticipation)
</a><a href="#h94-0-169" id="h94-0-169" class="d">-	resp, err := s.client.Do(req, participation)
</a><a href="#h94-0-170" id="h94-0-170" class="d">-	if err != nil {
</a><a href="#h94-0-171" id="h94-0-171" class="d">-		return nil, resp, err
</a><a href="#h94-0-172" id="h94-0-172" class="d">-	}
</a><a href="#h94-0-173" id="h94-0-173" class="d">-
</a><a href="#h94-0-174" id="h94-0-174" class="d">-	return participation, resp, err
</a><a href="#h94-0-175" id="h94-0-175" class="d">-}
</a><a href="#h94-0-176" id="h94-0-176" class="d">-
</a><a href="#h94-0-177" id="h94-0-177" class="d">-// PunchCard represents the number of commits made during a given hour of a
</a><a href="#h94-0-178" id="h94-0-178" class="d">-// day of thew eek.
</a><a href="#h94-0-179" id="h94-0-179" class="d">-type PunchCard struct {
</a><a href="#h94-0-180" id="h94-0-180" class="d">-	Day     *int // Day of the week (0-6: =Sunday - Saturday).
</a><a href="#h94-0-181" id="h94-0-181" class="d">-	Hour    *int // Hour of day (0-23).
</a><a href="#h94-0-182" id="h94-0-182" class="d">-	Commits *int // Number of commits.
</a><a href="#h94-0-183" id="h94-0-183" class="d">-}
</a><a href="#h94-0-184" id="h94-0-184" class="d">-
</a><a href="#h94-0-185" id="h94-0-185" class="d">-// ListPunchCard returns the number of commits per hour in each day.
</a><a href="#h94-0-186" id="h94-0-186" class="d">-//
</a><a href="#h94-0-187" id="h94-0-187" class="d">-// GitHub API Docs: https://developer.github.com/v3/repos/statistics/#punch-card
</a><a href="#h94-0-188" id="h94-0-188" class="d">-func (s *RepositoriesService) ListPunchCard(owner, repo string) ([]PunchCard, *Response, error) {
</a><a href="#h94-0-189" id="h94-0-189" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/stats/punch_card&quot;, owner, repo)
</a><a href="#h94-0-190" id="h94-0-190" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h94-0-191" id="h94-0-191" class="d">-	if err != nil {
</a><a href="#h94-0-192" id="h94-0-192" class="d">-		return nil, nil, err
</a><a href="#h94-0-193" id="h94-0-193" class="d">-	}
</a><a href="#h94-0-194" id="h94-0-194" class="d">-
</a><a href="#h94-0-195" id="h94-0-195" class="d">-	var results [][]int
</a><a href="#h94-0-196" id="h94-0-196" class="d">-	resp, err := s.client.Do(req, &amp;results)
</a><a href="#h94-0-197" id="h94-0-197" class="d">-
</a><a href="#h94-0-198" id="h94-0-198" class="d">-	// convert int slices into Punchcards
</a><a href="#h94-0-199" id="h94-0-199" class="d">-	var cards []PunchCard
</a><a href="#h94-0-200" id="h94-0-200" class="d">-	for _, result := range results {
</a><a href="#h94-0-201" id="h94-0-201" class="d">-		if len(result) != 3 {
</a><a href="#h94-0-202" id="h94-0-202" class="d">-			continue
</a><a href="#h94-0-203" id="h94-0-203" class="d">-		}
</a><a href="#h94-0-204" id="h94-0-204" class="d">-		card := PunchCard{
</a><a href="#h94-0-205" id="h94-0-205" class="d">-			Day:     Int(result[0]),
</a><a href="#h94-0-206" id="h94-0-206" class="d">-			Hour:    Int(result[1]),
</a><a href="#h94-0-207" id="h94-0-207" class="d">-			Commits: Int(result[2]),
</a><a href="#h94-0-208" id="h94-0-208" class="d">-		}
</a><a href="#h94-0-209" id="h94-0-209" class="d">-		cards = append(cards, card)
</a><a href="#h94-0-210" id="h94-0-210" class="d">-	}
</a><a href="#h94-0-211" id="h94-0-211" class="d">-
</a><a href="#h94-0-212" id="h94-0-212" class="d">-	return cards, resp, err
</a><a href="#h94-0-213" id="h94-0-213" class="d">-}
</a><b>diff --git a/<a id="h95" href="../file/vendor/github.com/google/go-github/github/repos_statuses.go">vendor/github.com/google/go-github/github/repos_statuses.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/repos_statuses.go">vendor/github.com/google/go-github/github/repos_statuses.go</a></b>
<a href="#h95-0" id="h95-0" class="h">@@ -1,128 +0,0 @@
</a><a href="#h95-0-0" id="h95-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h95-0-1" id="h95-0-1" class="d">-//
</a><a href="#h95-0-2" id="h95-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h95-0-3" id="h95-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h95-0-4" id="h95-0-4" class="d">-
</a><a href="#h95-0-5" id="h95-0-5" class="d">-package github
</a><a href="#h95-0-6" id="h95-0-6" class="d">-
</a><a href="#h95-0-7" id="h95-0-7" class="d">-import (
</a><a href="#h95-0-8" id="h95-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h95-0-9" id="h95-0-9" class="d">-	&quot;time&quot;
</a><a href="#h95-0-10" id="h95-0-10" class="d">-)
</a><a href="#h95-0-11" id="h95-0-11" class="d">-
</a><a href="#h95-0-12" id="h95-0-12" class="d">-// RepoStatus represents the status of a repository at a particular reference.
</a><a href="#h95-0-13" id="h95-0-13" class="d">-type RepoStatus struct {
</a><a href="#h95-0-14" id="h95-0-14" class="d">-	ID  *int    `json:&quot;id,omitempty&quot;`
</a><a href="#h95-0-15" id="h95-0-15" class="d">-	URL *string `json:&quot;url,omitempty&quot;`
</a><a href="#h95-0-16" id="h95-0-16" class="d">-
</a><a href="#h95-0-17" id="h95-0-17" class="d">-	// State is the current state of the repository.  Possible values are:
</a><a href="#h95-0-18" id="h95-0-18" class="d">-	// pending, success, error, or failure.
</a><a href="#h95-0-19" id="h95-0-19" class="d">-	State *string `json:&quot;state,omitempty&quot;`
</a><a href="#h95-0-20" id="h95-0-20" class="d">-
</a><a href="#h95-0-21" id="h95-0-21" class="d">-	// TargetURL is the URL of the page representing this status.  It will be
</a><a href="#h95-0-22" id="h95-0-22" class="d">-	// linked from the GitHub UI to allow users to see the source of the status.
</a><a href="#h95-0-23" id="h95-0-23" class="d">-	TargetURL *string `json:&quot;target_url,omitempty&quot;`
</a><a href="#h95-0-24" id="h95-0-24" class="d">-
</a><a href="#h95-0-25" id="h95-0-25" class="d">-	// Description is a short high level summary of the status.
</a><a href="#h95-0-26" id="h95-0-26" class="d">-	Description *string `json:&quot;description,omitempty&quot;`
</a><a href="#h95-0-27" id="h95-0-27" class="d">-
</a><a href="#h95-0-28" id="h95-0-28" class="d">-	// A string label to differentiate this status from the statuses of other systems.
</a><a href="#h95-0-29" id="h95-0-29" class="d">-	Context *string `json:&quot;context,omitempty&quot;`
</a><a href="#h95-0-30" id="h95-0-30" class="d">-
</a><a href="#h95-0-31" id="h95-0-31" class="d">-	Creator   *User      `json:&quot;creator,omitempty&quot;`
</a><a href="#h95-0-32" id="h95-0-32" class="d">-	CreatedAt *time.Time `json:&quot;created_at,omitempty&quot;`
</a><a href="#h95-0-33" id="h95-0-33" class="d">-	UpdatedAt *time.Time `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h95-0-34" id="h95-0-34" class="d">-}
</a><a href="#h95-0-35" id="h95-0-35" class="d">-
</a><a href="#h95-0-36" id="h95-0-36" class="d">-func (r RepoStatus) String() string {
</a><a href="#h95-0-37" id="h95-0-37" class="d">-	return Stringify(r)
</a><a href="#h95-0-38" id="h95-0-38" class="d">-}
</a><a href="#h95-0-39" id="h95-0-39" class="d">-
</a><a href="#h95-0-40" id="h95-0-40" class="d">-// ListStatuses lists the statuses of a repository at the specified
</a><a href="#h95-0-41" id="h95-0-41" class="d">-// reference.  ref can be a SHA, a branch name, or a tag name.
</a><a href="#h95-0-42" id="h95-0-42" class="d">-//
</a><a href="#h95-0-43" id="h95-0-43" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/statuses/#list-statuses-for-a-specific-ref
</a><a href="#h95-0-44" id="h95-0-44" class="d">-func (s *RepositoriesService) ListStatuses(owner, repo, ref string, opt *ListOptions) ([]RepoStatus, *Response, error) {
</a><a href="#h95-0-45" id="h95-0-45" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/commits/%v/statuses&quot;, owner, repo, ref)
</a><a href="#h95-0-46" id="h95-0-46" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h95-0-47" id="h95-0-47" class="d">-	if err != nil {
</a><a href="#h95-0-48" id="h95-0-48" class="d">-		return nil, nil, err
</a><a href="#h95-0-49" id="h95-0-49" class="d">-	}
</a><a href="#h95-0-50" id="h95-0-50" class="d">-
</a><a href="#h95-0-51" id="h95-0-51" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h95-0-52" id="h95-0-52" class="d">-	if err != nil {
</a><a href="#h95-0-53" id="h95-0-53" class="d">-		return nil, nil, err
</a><a href="#h95-0-54" id="h95-0-54" class="d">-	}
</a><a href="#h95-0-55" id="h95-0-55" class="d">-
</a><a href="#h95-0-56" id="h95-0-56" class="d">-	statuses := new([]RepoStatus)
</a><a href="#h95-0-57" id="h95-0-57" class="d">-	resp, err := s.client.Do(req, statuses)
</a><a href="#h95-0-58" id="h95-0-58" class="d">-	if err != nil {
</a><a href="#h95-0-59" id="h95-0-59" class="d">-		return nil, resp, err
</a><a href="#h95-0-60" id="h95-0-60" class="d">-	}
</a><a href="#h95-0-61" id="h95-0-61" class="d">-
</a><a href="#h95-0-62" id="h95-0-62" class="d">-	return *statuses, resp, err
</a><a href="#h95-0-63" id="h95-0-63" class="d">-}
</a><a href="#h95-0-64" id="h95-0-64" class="d">-
</a><a href="#h95-0-65" id="h95-0-65" class="d">-// CreateStatus creates a new status for a repository at the specified
</a><a href="#h95-0-66" id="h95-0-66" class="d">-// reference.  Ref can be a SHA, a branch name, or a tag name.
</a><a href="#h95-0-67" id="h95-0-67" class="d">-//
</a><a href="#h95-0-68" id="h95-0-68" class="d">-// GitHub API docs: http://developer.github.com/v3/repos/statuses/#create-a-status
</a><a href="#h95-0-69" id="h95-0-69" class="d">-func (s *RepositoriesService) CreateStatus(owner, repo, ref string, status *RepoStatus) (*RepoStatus, *Response, error) {
</a><a href="#h95-0-70" id="h95-0-70" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/statuses/%v&quot;, owner, repo, ref)
</a><a href="#h95-0-71" id="h95-0-71" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, status)
</a><a href="#h95-0-72" id="h95-0-72" class="d">-	if err != nil {
</a><a href="#h95-0-73" id="h95-0-73" class="d">-		return nil, nil, err
</a><a href="#h95-0-74" id="h95-0-74" class="d">-	}
</a><a href="#h95-0-75" id="h95-0-75" class="d">-
</a><a href="#h95-0-76" id="h95-0-76" class="d">-	repoStatus := new(RepoStatus)
</a><a href="#h95-0-77" id="h95-0-77" class="d">-	resp, err := s.client.Do(req, repoStatus)
</a><a href="#h95-0-78" id="h95-0-78" class="d">-	if err != nil {
</a><a href="#h95-0-79" id="h95-0-79" class="d">-		return nil, resp, err
</a><a href="#h95-0-80" id="h95-0-80" class="d">-	}
</a><a href="#h95-0-81" id="h95-0-81" class="d">-
</a><a href="#h95-0-82" id="h95-0-82" class="d">-	return repoStatus, resp, err
</a><a href="#h95-0-83" id="h95-0-83" class="d">-}
</a><a href="#h95-0-84" id="h95-0-84" class="d">-
</a><a href="#h95-0-85" id="h95-0-85" class="d">-// CombinedStatus represents the combined status of a repository at a particular reference.
</a><a href="#h95-0-86" id="h95-0-86" class="d">-type CombinedStatus struct {
</a><a href="#h95-0-87" id="h95-0-87" class="d">-	// State is the combined state of the repository.  Possible values are:
</a><a href="#h95-0-88" id="h95-0-88" class="d">-	// failure, pending, or success.
</a><a href="#h95-0-89" id="h95-0-89" class="d">-	State *string `json:&quot;state,omitempty&quot;`
</a><a href="#h95-0-90" id="h95-0-90" class="d">-
</a><a href="#h95-0-91" id="h95-0-91" class="d">-	Name       *string      `json:&quot;name,omitempty&quot;`
</a><a href="#h95-0-92" id="h95-0-92" class="d">-	SHA        *string      `json:&quot;sha,omitempty&quot;`
</a><a href="#h95-0-93" id="h95-0-93" class="d">-	TotalCount *int         `json:&quot;total_count,omitempty&quot;`
</a><a href="#h95-0-94" id="h95-0-94" class="d">-	Statuses   []RepoStatus `json:&quot;statuses,omitempty&quot;`
</a><a href="#h95-0-95" id="h95-0-95" class="d">-
</a><a href="#h95-0-96" id="h95-0-96" class="d">-	CommitURL     *string `json:&quot;commit_url,omitempty&quot;`
</a><a href="#h95-0-97" id="h95-0-97" class="d">-	RepositoryURL *string `json:&quot;repository_url,omitempty&quot;`
</a><a href="#h95-0-98" id="h95-0-98" class="d">-}
</a><a href="#h95-0-99" id="h95-0-99" class="d">-
</a><a href="#h95-0-100" id="h95-0-100" class="d">-func (s CombinedStatus) String() string {
</a><a href="#h95-0-101" id="h95-0-101" class="d">-	return Stringify(s)
</a><a href="#h95-0-102" id="h95-0-102" class="d">-}
</a><a href="#h95-0-103" id="h95-0-103" class="d">-
</a><a href="#h95-0-104" id="h95-0-104" class="d">-// GetCombinedStatus returns the combined status of a repository at the specified
</a><a href="#h95-0-105" id="h95-0-105" class="d">-// reference.  ref can be a SHA, a branch name, or a tag name.
</a><a href="#h95-0-106" id="h95-0-106" class="d">-//
</a><a href="#h95-0-107" id="h95-0-107" class="d">-// GitHub API docs: https://developer.github.com/v3/repos/statuses/#get-the-combined-status-for-a-specific-ref
</a><a href="#h95-0-108" id="h95-0-108" class="d">-func (s *RepositoriesService) GetCombinedStatus(owner, repo, ref string, opt *ListOptions) (*CombinedStatus, *Response, error) {
</a><a href="#h95-0-109" id="h95-0-109" class="d">-	u := fmt.Sprintf(&quot;repos/%v/%v/commits/%v/status&quot;, owner, repo, ref)
</a><a href="#h95-0-110" id="h95-0-110" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h95-0-111" id="h95-0-111" class="d">-	if err != nil {
</a><a href="#h95-0-112" id="h95-0-112" class="d">-		return nil, nil, err
</a><a href="#h95-0-113" id="h95-0-113" class="d">-	}
</a><a href="#h95-0-114" id="h95-0-114" class="d">-
</a><a href="#h95-0-115" id="h95-0-115" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h95-0-116" id="h95-0-116" class="d">-	if err != nil {
</a><a href="#h95-0-117" id="h95-0-117" class="d">-		return nil, nil, err
</a><a href="#h95-0-118" id="h95-0-118" class="d">-	}
</a><a href="#h95-0-119" id="h95-0-119" class="d">-
</a><a href="#h95-0-120" id="h95-0-120" class="d">-	status := new(CombinedStatus)
</a><a href="#h95-0-121" id="h95-0-121" class="d">-	resp, err := s.client.Do(req, status)
</a><a href="#h95-0-122" id="h95-0-122" class="d">-	if err != nil {
</a><a href="#h95-0-123" id="h95-0-123" class="d">-		return nil, resp, err
</a><a href="#h95-0-124" id="h95-0-124" class="d">-	}
</a><a href="#h95-0-125" id="h95-0-125" class="d">-
</a><a href="#h95-0-126" id="h95-0-126" class="d">-	return status, resp, err
</a><a href="#h95-0-127" id="h95-0-127" class="d">-}
</a><b>diff --git a/<a id="h96" href="../file/vendor/github.com/google/go-github/github/search.go">vendor/github.com/google/go-github/github/search.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/search.go">vendor/github.com/google/go-github/github/search.go</a></b>
<a href="#h96-0" id="h96-0" class="h">@@ -1,158 +0,0 @@
</a><a href="#h96-0-0" id="h96-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h96-0-1" id="h96-0-1" class="d">-//
</a><a href="#h96-0-2" id="h96-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h96-0-3" id="h96-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h96-0-4" id="h96-0-4" class="d">-
</a><a href="#h96-0-5" id="h96-0-5" class="d">-package github
</a><a href="#h96-0-6" id="h96-0-6" class="d">-
</a><a href="#h96-0-7" id="h96-0-7" class="d">-import (
</a><a href="#h96-0-8" id="h96-0-8" class="d">-	&quot;fmt&quot;
</a><a href="#h96-0-9" id="h96-0-9" class="d">-
</a><a href="#h96-0-10" id="h96-0-10" class="d">-	qs &quot;github.com/google/go-querystring/query&quot;
</a><a href="#h96-0-11" id="h96-0-11" class="d">-)
</a><a href="#h96-0-12" id="h96-0-12" class="d">-
</a><a href="#h96-0-13" id="h96-0-13" class="d">-// SearchService provides access to the search related functions
</a><a href="#h96-0-14" id="h96-0-14" class="d">-// in the GitHub API.
</a><a href="#h96-0-15" id="h96-0-15" class="d">-//
</a><a href="#h96-0-16" id="h96-0-16" class="d">-// GitHub API docs: http://developer.github.com/v3/search/
</a><a href="#h96-0-17" id="h96-0-17" class="d">-type SearchService struct {
</a><a href="#h96-0-18" id="h96-0-18" class="d">-	client *Client
</a><a href="#h96-0-19" id="h96-0-19" class="d">-}
</a><a href="#h96-0-20" id="h96-0-20" class="d">-
</a><a href="#h96-0-21" id="h96-0-21" class="d">-// SearchOptions specifies optional parameters to the SearchService methods.
</a><a href="#h96-0-22" id="h96-0-22" class="d">-type SearchOptions struct {
</a><a href="#h96-0-23" id="h96-0-23" class="d">-	// How to sort the search results.  Possible values are:
</a><a href="#h96-0-24" id="h96-0-24" class="d">-	//   - for repositories: stars, fork, updated
</a><a href="#h96-0-25" id="h96-0-25" class="d">-	//   - for code: indexed
</a><a href="#h96-0-26" id="h96-0-26" class="d">-	//   - for issues: comments, created, updated
</a><a href="#h96-0-27" id="h96-0-27" class="d">-	//   - for users: followers, repositories, joined
</a><a href="#h96-0-28" id="h96-0-28" class="d">-	//
</a><a href="#h96-0-29" id="h96-0-29" class="d">-	// Default is to sort by best match.
</a><a href="#h96-0-30" id="h96-0-30" class="d">-	Sort string `url:&quot;sort,omitempty&quot;`
</a><a href="#h96-0-31" id="h96-0-31" class="d">-
</a><a href="#h96-0-32" id="h96-0-32" class="d">-	// Sort order if sort parameter is provided. Possible values are: asc,
</a><a href="#h96-0-33" id="h96-0-33" class="d">-	// desc. Default is desc.
</a><a href="#h96-0-34" id="h96-0-34" class="d">-	Order string `url:&quot;order,omitempty&quot;`
</a><a href="#h96-0-35" id="h96-0-35" class="d">-
</a><a href="#h96-0-36" id="h96-0-36" class="d">-	// Whether to retrieve text match metadata with a query
</a><a href="#h96-0-37" id="h96-0-37" class="d">-	TextMatch bool `url:&quot;-&quot;`
</a><a href="#h96-0-38" id="h96-0-38" class="d">-
</a><a href="#h96-0-39" id="h96-0-39" class="d">-	ListOptions
</a><a href="#h96-0-40" id="h96-0-40" class="d">-}
</a><a href="#h96-0-41" id="h96-0-41" class="d">-
</a><a href="#h96-0-42" id="h96-0-42" class="d">-// RepositoriesSearchResult represents the result of a repositories search.
</a><a href="#h96-0-43" id="h96-0-43" class="d">-type RepositoriesSearchResult struct {
</a><a href="#h96-0-44" id="h96-0-44" class="d">-	Total        *int         `json:&quot;total_count,omitempty&quot;`
</a><a href="#h96-0-45" id="h96-0-45" class="d">-	Repositories []Repository `json:&quot;items,omitempty&quot;`
</a><a href="#h96-0-46" id="h96-0-46" class="d">-}
</a><a href="#h96-0-47" id="h96-0-47" class="d">-
</a><a href="#h96-0-48" id="h96-0-48" class="d">-// Repositories searches repositories via various criteria.
</a><a href="#h96-0-49" id="h96-0-49" class="d">-//
</a><a href="#h96-0-50" id="h96-0-50" class="d">-// GitHub API docs: http://developer.github.com/v3/search/#search-repositories
</a><a href="#h96-0-51" id="h96-0-51" class="d">-func (s *SearchService) Repositories(query string, opt *SearchOptions) (*RepositoriesSearchResult, *Response, error) {
</a><a href="#h96-0-52" id="h96-0-52" class="d">-	result := new(RepositoriesSearchResult)
</a><a href="#h96-0-53" id="h96-0-53" class="d">-	resp, err := s.search(&quot;repositories&quot;, query, opt, result)
</a><a href="#h96-0-54" id="h96-0-54" class="d">-	return result, resp, err
</a><a href="#h96-0-55" id="h96-0-55" class="d">-}
</a><a href="#h96-0-56" id="h96-0-56" class="d">-
</a><a href="#h96-0-57" id="h96-0-57" class="d">-// IssuesSearchResult represents the result of an issues search.
</a><a href="#h96-0-58" id="h96-0-58" class="d">-type IssuesSearchResult struct {
</a><a href="#h96-0-59" id="h96-0-59" class="d">-	Total  *int    `json:&quot;total_count,omitempty&quot;`
</a><a href="#h96-0-60" id="h96-0-60" class="d">-	Issues []Issue `json:&quot;items,omitempty&quot;`
</a><a href="#h96-0-61" id="h96-0-61" class="d">-}
</a><a href="#h96-0-62" id="h96-0-62" class="d">-
</a><a href="#h96-0-63" id="h96-0-63" class="d">-// Issues searches issues via various criteria.
</a><a href="#h96-0-64" id="h96-0-64" class="d">-//
</a><a href="#h96-0-65" id="h96-0-65" class="d">-// GitHub API docs: http://developer.github.com/v3/search/#search-issues
</a><a href="#h96-0-66" id="h96-0-66" class="d">-func (s *SearchService) Issues(query string, opt *SearchOptions) (*IssuesSearchResult, *Response, error) {
</a><a href="#h96-0-67" id="h96-0-67" class="d">-	result := new(IssuesSearchResult)
</a><a href="#h96-0-68" id="h96-0-68" class="d">-	resp, err := s.search(&quot;issues&quot;, query, opt, result)
</a><a href="#h96-0-69" id="h96-0-69" class="d">-	return result, resp, err
</a><a href="#h96-0-70" id="h96-0-70" class="d">-}
</a><a href="#h96-0-71" id="h96-0-71" class="d">-
</a><a href="#h96-0-72" id="h96-0-72" class="d">-// UsersSearchResult represents the result of an issues search.
</a><a href="#h96-0-73" id="h96-0-73" class="d">-type UsersSearchResult struct {
</a><a href="#h96-0-74" id="h96-0-74" class="d">-	Total *int   `json:&quot;total_count,omitempty&quot;`
</a><a href="#h96-0-75" id="h96-0-75" class="d">-	Users []User `json:&quot;items,omitempty&quot;`
</a><a href="#h96-0-76" id="h96-0-76" class="d">-}
</a><a href="#h96-0-77" id="h96-0-77" class="d">-
</a><a href="#h96-0-78" id="h96-0-78" class="d">-// Users searches users via various criteria.
</a><a href="#h96-0-79" id="h96-0-79" class="d">-//
</a><a href="#h96-0-80" id="h96-0-80" class="d">-// GitHub API docs: http://developer.github.com/v3/search/#search-users
</a><a href="#h96-0-81" id="h96-0-81" class="d">-func (s *SearchService) Users(query string, opt *SearchOptions) (*UsersSearchResult, *Response, error) {
</a><a href="#h96-0-82" id="h96-0-82" class="d">-	result := new(UsersSearchResult)
</a><a href="#h96-0-83" id="h96-0-83" class="d">-	resp, err := s.search(&quot;users&quot;, query, opt, result)
</a><a href="#h96-0-84" id="h96-0-84" class="d">-	return result, resp, err
</a><a href="#h96-0-85" id="h96-0-85" class="d">-}
</a><a href="#h96-0-86" id="h96-0-86" class="d">-
</a><a href="#h96-0-87" id="h96-0-87" class="d">-// Match represents a single text match.
</a><a href="#h96-0-88" id="h96-0-88" class="d">-type Match struct {
</a><a href="#h96-0-89" id="h96-0-89" class="d">-	Text    *string `json:&quot;text,omitempty&quot;`
</a><a href="#h96-0-90" id="h96-0-90" class="d">-	Indices []int   `json:&quot;indices,omitempty&quot;`
</a><a href="#h96-0-91" id="h96-0-91" class="d">-}
</a><a href="#h96-0-92" id="h96-0-92" class="d">-
</a><a href="#h96-0-93" id="h96-0-93" class="d">-// TextMatch represents a text match for a SearchResult
</a><a href="#h96-0-94" id="h96-0-94" class="d">-type TextMatch struct {
</a><a href="#h96-0-95" id="h96-0-95" class="d">-	ObjectURL  *string `json:&quot;object_url,omitempty&quot;`
</a><a href="#h96-0-96" id="h96-0-96" class="d">-	ObjectType *string `json:&quot;object_type,omitempty&quot;`
</a><a href="#h96-0-97" id="h96-0-97" class="d">-	Property   *string `json:&quot;property,omitempty&quot;`
</a><a href="#h96-0-98" id="h96-0-98" class="d">-	Fragment   *string `json:&quot;fragment,omitempty&quot;`
</a><a href="#h96-0-99" id="h96-0-99" class="d">-	Matches    []Match `json:&quot;matches,omitempty&quot;`
</a><a href="#h96-0-100" id="h96-0-100" class="d">-}
</a><a href="#h96-0-101" id="h96-0-101" class="d">-
</a><a href="#h96-0-102" id="h96-0-102" class="d">-func (tm TextMatch) String() string {
</a><a href="#h96-0-103" id="h96-0-103" class="d">-	return Stringify(tm)
</a><a href="#h96-0-104" id="h96-0-104" class="d">-}
</a><a href="#h96-0-105" id="h96-0-105" class="d">-
</a><a href="#h96-0-106" id="h96-0-106" class="d">-// CodeSearchResult represents the result of an code search.
</a><a href="#h96-0-107" id="h96-0-107" class="d">-type CodeSearchResult struct {
</a><a href="#h96-0-108" id="h96-0-108" class="d">-	Total       *int         `json:&quot;total_count,omitempty&quot;`
</a><a href="#h96-0-109" id="h96-0-109" class="d">-	CodeResults []CodeResult `json:&quot;items,omitempty&quot;`
</a><a href="#h96-0-110" id="h96-0-110" class="d">-}
</a><a href="#h96-0-111" id="h96-0-111" class="d">-
</a><a href="#h96-0-112" id="h96-0-112" class="d">-// CodeResult represents a single search result.
</a><a href="#h96-0-113" id="h96-0-113" class="d">-type CodeResult struct {
</a><a href="#h96-0-114" id="h96-0-114" class="d">-	Name        *string     `json:&quot;name,omitempty&quot;`
</a><a href="#h96-0-115" id="h96-0-115" class="d">-	Path        *string     `json:&quot;path,omitempty&quot;`
</a><a href="#h96-0-116" id="h96-0-116" class="d">-	SHA         *string     `json:&quot;sha,omitempty&quot;`
</a><a href="#h96-0-117" id="h96-0-117" class="d">-	HTMLURL     *string     `json:&quot;html_url,omitempty&quot;`
</a><a href="#h96-0-118" id="h96-0-118" class="d">-	Repository  *Repository `json:&quot;repository,omitempty&quot;`
</a><a href="#h96-0-119" id="h96-0-119" class="d">-	TextMatches []TextMatch `json:&quot;text_matches,omitempty&quot;`
</a><a href="#h96-0-120" id="h96-0-120" class="d">-}
</a><a href="#h96-0-121" id="h96-0-121" class="d">-
</a><a href="#h96-0-122" id="h96-0-122" class="d">-func (c CodeResult) String() string {
</a><a href="#h96-0-123" id="h96-0-123" class="d">-	return Stringify(c)
</a><a href="#h96-0-124" id="h96-0-124" class="d">-}
</a><a href="#h96-0-125" id="h96-0-125" class="d">-
</a><a href="#h96-0-126" id="h96-0-126" class="d">-// Code searches code via various criteria.
</a><a href="#h96-0-127" id="h96-0-127" class="d">-//
</a><a href="#h96-0-128" id="h96-0-128" class="d">-// GitHub API docs: http://developer.github.com/v3/search/#search-code
</a><a href="#h96-0-129" id="h96-0-129" class="d">-func (s *SearchService) Code(query string, opt *SearchOptions) (*CodeSearchResult, *Response, error) {
</a><a href="#h96-0-130" id="h96-0-130" class="d">-	result := new(CodeSearchResult)
</a><a href="#h96-0-131" id="h96-0-131" class="d">-	resp, err := s.search(&quot;code&quot;, query, opt, result)
</a><a href="#h96-0-132" id="h96-0-132" class="d">-	return result, resp, err
</a><a href="#h96-0-133" id="h96-0-133" class="d">-}
</a><a href="#h96-0-134" id="h96-0-134" class="d">-
</a><a href="#h96-0-135" id="h96-0-135" class="d">-// Helper function that executes search queries against different
</a><a href="#h96-0-136" id="h96-0-136" class="d">-// GitHub search types (repositories, code, issues, users)
</a><a href="#h96-0-137" id="h96-0-137" class="d">-func (s *SearchService) search(searchType string, query string, opt *SearchOptions, result interface{}) (*Response, error) {
</a><a href="#h96-0-138" id="h96-0-138" class="d">-	params, err := qs.Values(opt)
</a><a href="#h96-0-139" id="h96-0-139" class="d">-	if err != nil {
</a><a href="#h96-0-140" id="h96-0-140" class="d">-		return nil, err
</a><a href="#h96-0-141" id="h96-0-141" class="d">-	}
</a><a href="#h96-0-142" id="h96-0-142" class="d">-	params.Add(&quot;q&quot;, query)
</a><a href="#h96-0-143" id="h96-0-143" class="d">-	u := fmt.Sprintf(&quot;search/%s?%s&quot;, searchType, params.Encode())
</a><a href="#h96-0-144" id="h96-0-144" class="d">-
</a><a href="#h96-0-145" id="h96-0-145" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h96-0-146" id="h96-0-146" class="d">-	if err != nil {
</a><a href="#h96-0-147" id="h96-0-147" class="d">-		return nil, err
</a><a href="#h96-0-148" id="h96-0-148" class="d">-	}
</a><a href="#h96-0-149" id="h96-0-149" class="d">-
</a><a href="#h96-0-150" id="h96-0-150" class="d">-	if opt != nil &amp;&amp; opt.TextMatch {
</a><a href="#h96-0-151" id="h96-0-151" class="d">-		// Accept header defaults to &quot;application/vnd.github.v3+json&quot;
</a><a href="#h96-0-152" id="h96-0-152" class="d">-		// We change it here to fetch back text-match metadata
</a><a href="#h96-0-153" id="h96-0-153" class="d">-		req.Header.Set(&quot;Accept&quot;, &quot;application/vnd.github.v3.text-match+json&quot;)
</a><a href="#h96-0-154" id="h96-0-154" class="d">-	}
</a><a href="#h96-0-155" id="h96-0-155" class="d">-
</a><a href="#h96-0-156" id="h96-0-156" class="d">-	return s.client.Do(req, result)
</a><a href="#h96-0-157" id="h96-0-157" class="d">-}
</a><b>diff --git a/<a id="h97" href="../file/vendor/github.com/google/go-github/github/strings.go">vendor/github.com/google/go-github/github/strings.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/strings.go">vendor/github.com/google/go-github/github/strings.go</a></b>
<a href="#h97-0" id="h97-0" class="h">@@ -1,93 +0,0 @@
</a><a href="#h97-0-0" id="h97-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h97-0-1" id="h97-0-1" class="d">-//
</a><a href="#h97-0-2" id="h97-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h97-0-3" id="h97-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h97-0-4" id="h97-0-4" class="d">-
</a><a href="#h97-0-5" id="h97-0-5" class="d">-package github
</a><a href="#h97-0-6" id="h97-0-6" class="d">-
</a><a href="#h97-0-7" id="h97-0-7" class="d">-import (
</a><a href="#h97-0-8" id="h97-0-8" class="d">-	&quot;bytes&quot;
</a><a href="#h97-0-9" id="h97-0-9" class="d">-	&quot;fmt&quot;
</a><a href="#h97-0-10" id="h97-0-10" class="d">-	&quot;io&quot;
</a><a href="#h97-0-11" id="h97-0-11" class="d">-
</a><a href="#h97-0-12" id="h97-0-12" class="d">-	&quot;reflect&quot;
</a><a href="#h97-0-13" id="h97-0-13" class="d">-)
</a><a href="#h97-0-14" id="h97-0-14" class="d">-
</a><a href="#h97-0-15" id="h97-0-15" class="d">-var timestampType = reflect.TypeOf(Timestamp{})
</a><a href="#h97-0-16" id="h97-0-16" class="d">-
</a><a href="#h97-0-17" id="h97-0-17" class="d">-// Stringify attempts to create a reasonable string representation of types in
</a><a href="#h97-0-18" id="h97-0-18" class="d">-// the GitHub library.  It does things like resolve pointers to their values
</a><a href="#h97-0-19" id="h97-0-19" class="d">-// and omits struct fields with nil values.
</a><a href="#h97-0-20" id="h97-0-20" class="d">-func Stringify(message interface{}) string {
</a><a href="#h97-0-21" id="h97-0-21" class="d">-	var buf bytes.Buffer
</a><a href="#h97-0-22" id="h97-0-22" class="d">-	v := reflect.ValueOf(message)
</a><a href="#h97-0-23" id="h97-0-23" class="d">-	stringifyValue(&amp;buf, v)
</a><a href="#h97-0-24" id="h97-0-24" class="d">-	return buf.String()
</a><a href="#h97-0-25" id="h97-0-25" class="d">-}
</a><a href="#h97-0-26" id="h97-0-26" class="d">-
</a><a href="#h97-0-27" id="h97-0-27" class="d">-// stringifyValue was heavily inspired by the goprotobuf library.
</a><a href="#h97-0-28" id="h97-0-28" class="d">-
</a><a href="#h97-0-29" id="h97-0-29" class="d">-func stringifyValue(w io.Writer, val reflect.Value) {
</a><a href="#h97-0-30" id="h97-0-30" class="d">-	if val.Kind() == reflect.Ptr &amp;&amp; val.IsNil() {
</a><a href="#h97-0-31" id="h97-0-31" class="d">-		w.Write([]byte(&quot;&lt;nil&gt;&quot;))
</a><a href="#h97-0-32" id="h97-0-32" class="d">-		return
</a><a href="#h97-0-33" id="h97-0-33" class="d">-	}
</a><a href="#h97-0-34" id="h97-0-34" class="d">-
</a><a href="#h97-0-35" id="h97-0-35" class="d">-	v := reflect.Indirect(val)
</a><a href="#h97-0-36" id="h97-0-36" class="d">-
</a><a href="#h97-0-37" id="h97-0-37" class="d">-	switch v.Kind() {
</a><a href="#h97-0-38" id="h97-0-38" class="d">-	case reflect.String:
</a><a href="#h97-0-39" id="h97-0-39" class="d">-		fmt.Fprintf(w, `&quot;%s&quot;`, v)
</a><a href="#h97-0-40" id="h97-0-40" class="d">-	case reflect.Slice:
</a><a href="#h97-0-41" id="h97-0-41" class="d">-		w.Write([]byte{&#39;[&#39;})
</a><a href="#h97-0-42" id="h97-0-42" class="d">-		for i := 0; i &lt; v.Len(); i++ {
</a><a href="#h97-0-43" id="h97-0-43" class="d">-			if i &gt; 0 {
</a><a href="#h97-0-44" id="h97-0-44" class="d">-				w.Write([]byte{&#39; &#39;})
</a><a href="#h97-0-45" id="h97-0-45" class="d">-			}
</a><a href="#h97-0-46" id="h97-0-46" class="d">-
</a><a href="#h97-0-47" id="h97-0-47" class="d">-			stringifyValue(w, v.Index(i))
</a><a href="#h97-0-48" id="h97-0-48" class="d">-		}
</a><a href="#h97-0-49" id="h97-0-49" class="d">-
</a><a href="#h97-0-50" id="h97-0-50" class="d">-		w.Write([]byte{&#39;]&#39;})
</a><a href="#h97-0-51" id="h97-0-51" class="d">-		return
</a><a href="#h97-0-52" id="h97-0-52" class="d">-	case reflect.Struct:
</a><a href="#h97-0-53" id="h97-0-53" class="d">-		if v.Type().Name() != &quot;&quot; {
</a><a href="#h97-0-54" id="h97-0-54" class="d">-			w.Write([]byte(v.Type().String()))
</a><a href="#h97-0-55" id="h97-0-55" class="d">-		}
</a><a href="#h97-0-56" id="h97-0-56" class="d">-
</a><a href="#h97-0-57" id="h97-0-57" class="d">-		// special handling of Timestamp values
</a><a href="#h97-0-58" id="h97-0-58" class="d">-		if v.Type() == timestampType {
</a><a href="#h97-0-59" id="h97-0-59" class="d">-			fmt.Fprintf(w, &quot;{%s}&quot;, v.Interface())
</a><a href="#h97-0-60" id="h97-0-60" class="d">-			return
</a><a href="#h97-0-61" id="h97-0-61" class="d">-		}
</a><a href="#h97-0-62" id="h97-0-62" class="d">-
</a><a href="#h97-0-63" id="h97-0-63" class="d">-		w.Write([]byte{&#39;{&#39;})
</a><a href="#h97-0-64" id="h97-0-64" class="d">-
</a><a href="#h97-0-65" id="h97-0-65" class="d">-		var sep bool
</a><a href="#h97-0-66" id="h97-0-66" class="d">-		for i := 0; i &lt; v.NumField(); i++ {
</a><a href="#h97-0-67" id="h97-0-67" class="d">-			fv := v.Field(i)
</a><a href="#h97-0-68" id="h97-0-68" class="d">-			if fv.Kind() == reflect.Ptr &amp;&amp; fv.IsNil() {
</a><a href="#h97-0-69" id="h97-0-69" class="d">-				continue
</a><a href="#h97-0-70" id="h97-0-70" class="d">-			}
</a><a href="#h97-0-71" id="h97-0-71" class="d">-			if fv.Kind() == reflect.Slice &amp;&amp; fv.IsNil() {
</a><a href="#h97-0-72" id="h97-0-72" class="d">-				continue
</a><a href="#h97-0-73" id="h97-0-73" class="d">-			}
</a><a href="#h97-0-74" id="h97-0-74" class="d">-
</a><a href="#h97-0-75" id="h97-0-75" class="d">-			if sep {
</a><a href="#h97-0-76" id="h97-0-76" class="d">-				w.Write([]byte(&quot;, &quot;))
</a><a href="#h97-0-77" id="h97-0-77" class="d">-			} else {
</a><a href="#h97-0-78" id="h97-0-78" class="d">-				sep = true
</a><a href="#h97-0-79" id="h97-0-79" class="d">-			}
</a><a href="#h97-0-80" id="h97-0-80" class="d">-
</a><a href="#h97-0-81" id="h97-0-81" class="d">-			w.Write([]byte(v.Type().Field(i).Name))
</a><a href="#h97-0-82" id="h97-0-82" class="d">-			w.Write([]byte{&#39;:&#39;})
</a><a href="#h97-0-83" id="h97-0-83" class="d">-			stringifyValue(w, fv)
</a><a href="#h97-0-84" id="h97-0-84" class="d">-		}
</a><a href="#h97-0-85" id="h97-0-85" class="d">-
</a><a href="#h97-0-86" id="h97-0-86" class="d">-		w.Write([]byte{&#39;}&#39;})
</a><a href="#h97-0-87" id="h97-0-87" class="d">-	default:
</a><a href="#h97-0-88" id="h97-0-88" class="d">-		if v.CanInterface() {
</a><a href="#h97-0-89" id="h97-0-89" class="d">-			fmt.Fprint(w, v.Interface())
</a><a href="#h97-0-90" id="h97-0-90" class="d">-		}
</a><a href="#h97-0-91" id="h97-0-91" class="d">-	}
</a><a href="#h97-0-92" id="h97-0-92" class="d">-}
</a><b>diff --git a/<a id="h98" href="../file/vendor/github.com/google/go-github/github/timestamp.go">vendor/github.com/google/go-github/github/timestamp.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/timestamp.go">vendor/github.com/google/go-github/github/timestamp.go</a></b>
<a href="#h98-0" id="h98-0" class="h">@@ -1,41 +0,0 @@
</a><a href="#h98-0-0" id="h98-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h98-0-1" id="h98-0-1" class="d">-//
</a><a href="#h98-0-2" id="h98-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h98-0-3" id="h98-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h98-0-4" id="h98-0-4" class="d">-
</a><a href="#h98-0-5" id="h98-0-5" class="d">-package github
</a><a href="#h98-0-6" id="h98-0-6" class="d">-
</a><a href="#h98-0-7" id="h98-0-7" class="d">-import (
</a><a href="#h98-0-8" id="h98-0-8" class="d">-	&quot;strconv&quot;
</a><a href="#h98-0-9" id="h98-0-9" class="d">-	&quot;time&quot;
</a><a href="#h98-0-10" id="h98-0-10" class="d">-)
</a><a href="#h98-0-11" id="h98-0-11" class="d">-
</a><a href="#h98-0-12" id="h98-0-12" class="d">-// Timestamp represents a time that can be unmarshalled from a JSON string
</a><a href="#h98-0-13" id="h98-0-13" class="d">-// formatted as either an RFC3339 or Unix timestamp. This is necessary for some
</a><a href="#h98-0-14" id="h98-0-14" class="d">-// fields since the GitHub API is inconsistent in how it represents times. All
</a><a href="#h98-0-15" id="h98-0-15" class="d">-// exported methods of time.Time can be called on Timestamp.
</a><a href="#h98-0-16" id="h98-0-16" class="d">-type Timestamp struct {
</a><a href="#h98-0-17" id="h98-0-17" class="d">-	time.Time
</a><a href="#h98-0-18" id="h98-0-18" class="d">-}
</a><a href="#h98-0-19" id="h98-0-19" class="d">-
</a><a href="#h98-0-20" id="h98-0-20" class="d">-func (t Timestamp) String() string {
</a><a href="#h98-0-21" id="h98-0-21" class="d">-	return t.Time.String()
</a><a href="#h98-0-22" id="h98-0-22" class="d">-}
</a><a href="#h98-0-23" id="h98-0-23" class="d">-
</a><a href="#h98-0-24" id="h98-0-24" class="d">-// UnmarshalJSON implements the json.Unmarshaler interface.
</a><a href="#h98-0-25" id="h98-0-25" class="d">-// Time is expected in RFC3339 or Unix format.
</a><a href="#h98-0-26" id="h98-0-26" class="d">-func (t *Timestamp) UnmarshalJSON(data []byte) (err error) {
</a><a href="#h98-0-27" id="h98-0-27" class="d">-	str := string(data)
</a><a href="#h98-0-28" id="h98-0-28" class="d">-	i, err := strconv.ParseInt(str, 10, 64)
</a><a href="#h98-0-29" id="h98-0-29" class="d">-	if err == nil {
</a><a href="#h98-0-30" id="h98-0-30" class="d">-		(*t).Time = time.Unix(i, 0)
</a><a href="#h98-0-31" id="h98-0-31" class="d">-	} else {
</a><a href="#h98-0-32" id="h98-0-32" class="d">-		(*t).Time, err = time.Parse(`&quot;`+time.RFC3339+`&quot;`, str)
</a><a href="#h98-0-33" id="h98-0-33" class="d">-	}
</a><a href="#h98-0-34" id="h98-0-34" class="d">-	return
</a><a href="#h98-0-35" id="h98-0-35" class="d">-}
</a><a href="#h98-0-36" id="h98-0-36" class="d">-
</a><a href="#h98-0-37" id="h98-0-37" class="d">-// Equal reports whether t and u are equal based on time.Equal
</a><a href="#h98-0-38" id="h98-0-38" class="d">-func (t Timestamp) Equal(u Timestamp) bool {
</a><a href="#h98-0-39" id="h98-0-39" class="d">-	return t.Time.Equal(u.Time)
</a><a href="#h98-0-40" id="h98-0-40" class="d">-}
</a><b>diff --git a/<a id="h99" href="../file/vendor/github.com/google/go-github/github/users.go">vendor/github.com/google/go-github/github/users.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/users.go">vendor/github.com/google/go-github/github/users.go</a></b>
<a href="#h99-0" id="h99-0" class="h">@@ -1,145 +0,0 @@
</a><a href="#h99-0-0" id="h99-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h99-0-1" id="h99-0-1" class="d">-//
</a><a href="#h99-0-2" id="h99-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h99-0-3" id="h99-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h99-0-4" id="h99-0-4" class="d">-
</a><a href="#h99-0-5" id="h99-0-5" class="d">-package github
</a><a href="#h99-0-6" id="h99-0-6" class="d">-
</a><a href="#h99-0-7" id="h99-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h99-0-8" id="h99-0-8" class="d">-
</a><a href="#h99-0-9" id="h99-0-9" class="d">-// UsersService handles communication with the user related
</a><a href="#h99-0-10" id="h99-0-10" class="d">-// methods of the GitHub API.
</a><a href="#h99-0-11" id="h99-0-11" class="d">-//
</a><a href="#h99-0-12" id="h99-0-12" class="d">-// GitHub API docs: http://developer.github.com/v3/users/
</a><a href="#h99-0-13" id="h99-0-13" class="d">-type UsersService struct {
</a><a href="#h99-0-14" id="h99-0-14" class="d">-	client *Client
</a><a href="#h99-0-15" id="h99-0-15" class="d">-}
</a><a href="#h99-0-16" id="h99-0-16" class="d">-
</a><a href="#h99-0-17" id="h99-0-17" class="d">-// User represents a GitHub user.
</a><a href="#h99-0-18" id="h99-0-18" class="d">-type User struct {
</a><a href="#h99-0-19" id="h99-0-19" class="d">-	Login             *string    `json:&quot;login,omitempty&quot;`
</a><a href="#h99-0-20" id="h99-0-20" class="d">-	ID                *int       `json:&quot;id,omitempty&quot;`
</a><a href="#h99-0-21" id="h99-0-21" class="d">-	AvatarURL         *string    `json:&quot;avatar_url,omitempty&quot;`
</a><a href="#h99-0-22" id="h99-0-22" class="d">-	HTMLURL           *string    `json:&quot;html_url,omitempty&quot;`
</a><a href="#h99-0-23" id="h99-0-23" class="d">-	GravatarID        *string    `json:&quot;gravatar_id,omitempty&quot;`
</a><a href="#h99-0-24" id="h99-0-24" class="d">-	Name              *string    `json:&quot;name,omitempty&quot;`
</a><a href="#h99-0-25" id="h99-0-25" class="d">-	Company           *string    `json:&quot;company,omitempty&quot;`
</a><a href="#h99-0-26" id="h99-0-26" class="d">-	Blog              *string    `json:&quot;blog,omitempty&quot;`
</a><a href="#h99-0-27" id="h99-0-27" class="d">-	Location          *string    `json:&quot;location,omitempty&quot;`
</a><a href="#h99-0-28" id="h99-0-28" class="d">-	Email             *string    `json:&quot;email,omitempty&quot;`
</a><a href="#h99-0-29" id="h99-0-29" class="d">-	Hireable          *bool      `json:&quot;hireable,omitempty&quot;`
</a><a href="#h99-0-30" id="h99-0-30" class="d">-	Bio               *string    `json:&quot;bio,omitempty&quot;`
</a><a href="#h99-0-31" id="h99-0-31" class="d">-	PublicRepos       *int       `json:&quot;public_repos,omitempty&quot;`
</a><a href="#h99-0-32" id="h99-0-32" class="d">-	PublicGists       *int       `json:&quot;public_gists,omitempty&quot;`
</a><a href="#h99-0-33" id="h99-0-33" class="d">-	Followers         *int       `json:&quot;followers,omitempty&quot;`
</a><a href="#h99-0-34" id="h99-0-34" class="d">-	Following         *int       `json:&quot;following,omitempty&quot;`
</a><a href="#h99-0-35" id="h99-0-35" class="d">-	CreatedAt         *Timestamp `json:&quot;created_at,omitempty&quot;`
</a><a href="#h99-0-36" id="h99-0-36" class="d">-	UpdatedAt         *Timestamp `json:&quot;updated_at,omitempty&quot;`
</a><a href="#h99-0-37" id="h99-0-37" class="d">-	SuspendedAt       *Timestamp `json:&quot;suspended_at,omitempty&quot;`
</a><a href="#h99-0-38" id="h99-0-38" class="d">-	Type              *string    `json:&quot;type,omitempty&quot;`
</a><a href="#h99-0-39" id="h99-0-39" class="d">-	SiteAdmin         *bool      `json:&quot;site_admin,omitempty&quot;`
</a><a href="#h99-0-40" id="h99-0-40" class="d">-	TotalPrivateRepos *int       `json:&quot;total_private_repos,omitempty&quot;`
</a><a href="#h99-0-41" id="h99-0-41" class="d">-	OwnedPrivateRepos *int       `json:&quot;owned_private_repos,omitempty&quot;`
</a><a href="#h99-0-42" id="h99-0-42" class="d">-	PrivateGists      *int       `json:&quot;private_gists,omitempty&quot;`
</a><a href="#h99-0-43" id="h99-0-43" class="d">-	DiskUsage         *int       `json:&quot;disk_usage,omitempty&quot;`
</a><a href="#h99-0-44" id="h99-0-44" class="d">-	Collaborators     *int       `json:&quot;collaborators,omitempty&quot;`
</a><a href="#h99-0-45" id="h99-0-45" class="d">-	Plan              *Plan      `json:&quot;plan,omitempty&quot;`
</a><a href="#h99-0-46" id="h99-0-46" class="d">-
</a><a href="#h99-0-47" id="h99-0-47" class="d">-	// API URLs
</a><a href="#h99-0-48" id="h99-0-48" class="d">-	URL               *string `json:&quot;url,omitempty&quot;`
</a><a href="#h99-0-49" id="h99-0-49" class="d">-	EventsURL         *string `json:&quot;events_url,omitempty&quot;`
</a><a href="#h99-0-50" id="h99-0-50" class="d">-	FollowingURL      *string `json:&quot;following_url,omitempty&quot;`
</a><a href="#h99-0-51" id="h99-0-51" class="d">-	FollowersURL      *string `json:&quot;followers_url,omitempty&quot;`
</a><a href="#h99-0-52" id="h99-0-52" class="d">-	GistsURL          *string `json:&quot;gists_url,omitempty&quot;`
</a><a href="#h99-0-53" id="h99-0-53" class="d">-	OrganizationsURL  *string `json:&quot;organizations_url,omitempty&quot;`
</a><a href="#h99-0-54" id="h99-0-54" class="d">-	ReceivedEventsURL *string `json:&quot;received_events_url,omitempty&quot;`
</a><a href="#h99-0-55" id="h99-0-55" class="d">-	ReposURL          *string `json:&quot;repos_url,omitempty&quot;`
</a><a href="#h99-0-56" id="h99-0-56" class="d">-	StarredURL        *string `json:&quot;starred_url,omitempty&quot;`
</a><a href="#h99-0-57" id="h99-0-57" class="d">-	SubscriptionsURL  *string `json:&quot;subscriptions_url,omitempty&quot;`
</a><a href="#h99-0-58" id="h99-0-58" class="d">-
</a><a href="#h99-0-59" id="h99-0-59" class="d">-	// TextMatches is only populated from search results that request text matches
</a><a href="#h99-0-60" id="h99-0-60" class="d">-	// See: search.go and https://developer.github.com/v3/search/#text-match-metadata
</a><a href="#h99-0-61" id="h99-0-61" class="d">-	TextMatches []TextMatch `json:&quot;text_matches,omitempty&quot;`
</a><a href="#h99-0-62" id="h99-0-62" class="d">-
</a><a href="#h99-0-63" id="h99-0-63" class="d">-	// Permissions identifies the permissions that a user has on a given
</a><a href="#h99-0-64" id="h99-0-64" class="d">-	// repository. This is only populated when calling Repositories.ListCollaborators.
</a><a href="#h99-0-65" id="h99-0-65" class="d">-	Permissions *map[string]bool `json:&quot;permissions,omitempty&quot;`
</a><a href="#h99-0-66" id="h99-0-66" class="d">-}
</a><a href="#h99-0-67" id="h99-0-67" class="d">-
</a><a href="#h99-0-68" id="h99-0-68" class="d">-func (u User) String() string {
</a><a href="#h99-0-69" id="h99-0-69" class="d">-	return Stringify(u)
</a><a href="#h99-0-70" id="h99-0-70" class="d">-}
</a><a href="#h99-0-71" id="h99-0-71" class="d">-
</a><a href="#h99-0-72" id="h99-0-72" class="d">-// Get fetches a user.  Passing the empty string will fetch the authenticated
</a><a href="#h99-0-73" id="h99-0-73" class="d">-// user.
</a><a href="#h99-0-74" id="h99-0-74" class="d">-//
</a><a href="#h99-0-75" id="h99-0-75" class="d">-// GitHub API docs: http://developer.github.com/v3/users/#get-a-single-user
</a><a href="#h99-0-76" id="h99-0-76" class="d">-func (s *UsersService) Get(user string) (*User, *Response, error) {
</a><a href="#h99-0-77" id="h99-0-77" class="d">-	var u string
</a><a href="#h99-0-78" id="h99-0-78" class="d">-	if user != &quot;&quot; {
</a><a href="#h99-0-79" id="h99-0-79" class="d">-		u = fmt.Sprintf(&quot;users/%v&quot;, user)
</a><a href="#h99-0-80" id="h99-0-80" class="d">-	} else {
</a><a href="#h99-0-81" id="h99-0-81" class="d">-		u = &quot;user&quot;
</a><a href="#h99-0-82" id="h99-0-82" class="d">-	}
</a><a href="#h99-0-83" id="h99-0-83" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h99-0-84" id="h99-0-84" class="d">-	if err != nil {
</a><a href="#h99-0-85" id="h99-0-85" class="d">-		return nil, nil, err
</a><a href="#h99-0-86" id="h99-0-86" class="d">-	}
</a><a href="#h99-0-87" id="h99-0-87" class="d">-
</a><a href="#h99-0-88" id="h99-0-88" class="d">-	uResp := new(User)
</a><a href="#h99-0-89" id="h99-0-89" class="d">-	resp, err := s.client.Do(req, uResp)
</a><a href="#h99-0-90" id="h99-0-90" class="d">-	if err != nil {
</a><a href="#h99-0-91" id="h99-0-91" class="d">-		return nil, resp, err
</a><a href="#h99-0-92" id="h99-0-92" class="d">-	}
</a><a href="#h99-0-93" id="h99-0-93" class="d">-
</a><a href="#h99-0-94" id="h99-0-94" class="d">-	return uResp, resp, err
</a><a href="#h99-0-95" id="h99-0-95" class="d">-}
</a><a href="#h99-0-96" id="h99-0-96" class="d">-
</a><a href="#h99-0-97" id="h99-0-97" class="d">-// Edit the authenticated user.
</a><a href="#h99-0-98" id="h99-0-98" class="d">-//
</a><a href="#h99-0-99" id="h99-0-99" class="d">-// GitHub API docs: http://developer.github.com/v3/users/#update-the-authenticated-user
</a><a href="#h99-0-100" id="h99-0-100" class="d">-func (s *UsersService) Edit(user *User) (*User, *Response, error) {
</a><a href="#h99-0-101" id="h99-0-101" class="d">-	u := &quot;user&quot;
</a><a href="#h99-0-102" id="h99-0-102" class="d">-	req, err := s.client.NewRequest(&quot;PATCH&quot;, u, user)
</a><a href="#h99-0-103" id="h99-0-103" class="d">-	if err != nil {
</a><a href="#h99-0-104" id="h99-0-104" class="d">-		return nil, nil, err
</a><a href="#h99-0-105" id="h99-0-105" class="d">-	}
</a><a href="#h99-0-106" id="h99-0-106" class="d">-
</a><a href="#h99-0-107" id="h99-0-107" class="d">-	uResp := new(User)
</a><a href="#h99-0-108" id="h99-0-108" class="d">-	resp, err := s.client.Do(req, uResp)
</a><a href="#h99-0-109" id="h99-0-109" class="d">-	if err != nil {
</a><a href="#h99-0-110" id="h99-0-110" class="d">-		return nil, resp, err
</a><a href="#h99-0-111" id="h99-0-111" class="d">-	}
</a><a href="#h99-0-112" id="h99-0-112" class="d">-
</a><a href="#h99-0-113" id="h99-0-113" class="d">-	return uResp, resp, err
</a><a href="#h99-0-114" id="h99-0-114" class="d">-}
</a><a href="#h99-0-115" id="h99-0-115" class="d">-
</a><a href="#h99-0-116" id="h99-0-116" class="d">-// UserListOptions specifies optional parameters to the UsersService.ListAll
</a><a href="#h99-0-117" id="h99-0-117" class="d">-// method.
</a><a href="#h99-0-118" id="h99-0-118" class="d">-type UserListOptions struct {
</a><a href="#h99-0-119" id="h99-0-119" class="d">-	// ID of the last user seen
</a><a href="#h99-0-120" id="h99-0-120" class="d">-	Since int `url:&quot;since,omitempty&quot;`
</a><a href="#h99-0-121" id="h99-0-121" class="d">-}
</a><a href="#h99-0-122" id="h99-0-122" class="d">-
</a><a href="#h99-0-123" id="h99-0-123" class="d">-// ListAll lists all GitHub users.
</a><a href="#h99-0-124" id="h99-0-124" class="d">-//
</a><a href="#h99-0-125" id="h99-0-125" class="d">-// GitHub API docs: http://developer.github.com/v3/users/#get-all-users
</a><a href="#h99-0-126" id="h99-0-126" class="d">-func (s *UsersService) ListAll(opt *UserListOptions) ([]User, *Response, error) {
</a><a href="#h99-0-127" id="h99-0-127" class="d">-	u, err := addOptions(&quot;users&quot;, opt)
</a><a href="#h99-0-128" id="h99-0-128" class="d">-	if err != nil {
</a><a href="#h99-0-129" id="h99-0-129" class="d">-		return nil, nil, err
</a><a href="#h99-0-130" id="h99-0-130" class="d">-	}
</a><a href="#h99-0-131" id="h99-0-131" class="d">-
</a><a href="#h99-0-132" id="h99-0-132" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h99-0-133" id="h99-0-133" class="d">-	if err != nil {
</a><a href="#h99-0-134" id="h99-0-134" class="d">-		return nil, nil, err
</a><a href="#h99-0-135" id="h99-0-135" class="d">-	}
</a><a href="#h99-0-136" id="h99-0-136" class="d">-
</a><a href="#h99-0-137" id="h99-0-137" class="d">-	users := new([]User)
</a><a href="#h99-0-138" id="h99-0-138" class="d">-	resp, err := s.client.Do(req, users)
</a><a href="#h99-0-139" id="h99-0-139" class="d">-	if err != nil {
</a><a href="#h99-0-140" id="h99-0-140" class="d">-		return nil, resp, err
</a><a href="#h99-0-141" id="h99-0-141" class="d">-	}
</a><a href="#h99-0-142" id="h99-0-142" class="d">-
</a><a href="#h99-0-143" id="h99-0-143" class="d">-	return *users, resp, err
</a><a href="#h99-0-144" id="h99-0-144" class="d">-}
</a><b>diff --git a/<a id="h100" href="../file/vendor/github.com/google/go-github/github/users_administration.go">vendor/github.com/google/go-github/github/users_administration.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/users_administration.go">vendor/github.com/google/go-github/github/users_administration.go</a></b>
<a href="#h100-0" id="h100-0" class="h">@@ -1,64 +0,0 @@
</a><a href="#h100-0-0" id="h100-0-0" class="d">-// Copyright 2014 The go-github AUTHORS. All rights reserved.
</a><a href="#h100-0-1" id="h100-0-1" class="d">-//
</a><a href="#h100-0-2" id="h100-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h100-0-3" id="h100-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h100-0-4" id="h100-0-4" class="d">-
</a><a href="#h100-0-5" id="h100-0-5" class="d">-package github
</a><a href="#h100-0-6" id="h100-0-6" class="d">-
</a><a href="#h100-0-7" id="h100-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h100-0-8" id="h100-0-8" class="d">-
</a><a href="#h100-0-9" id="h100-0-9" class="d">-// PromoteSiteAdmin promotes a user to a site administrator of a GitHub Enterprise instance.
</a><a href="#h100-0-10" id="h100-0-10" class="d">-//
</a><a href="#h100-0-11" id="h100-0-11" class="d">-// GitHub API docs: https://developer.github.com/v3/users/administration/#promote-an-ordinary-user-to-a-site-administrator
</a><a href="#h100-0-12" id="h100-0-12" class="d">-func (s *UsersService) PromoteSiteAdmin(user string) (*Response, error) {
</a><a href="#h100-0-13" id="h100-0-13" class="d">-	u := fmt.Sprintf(&quot;users/%v/site_admin&quot;, user)
</a><a href="#h100-0-14" id="h100-0-14" class="d">-
</a><a href="#h100-0-15" id="h100-0-15" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, nil)
</a><a href="#h100-0-16" id="h100-0-16" class="d">-	if err != nil {
</a><a href="#h100-0-17" id="h100-0-17" class="d">-		return nil, err
</a><a href="#h100-0-18" id="h100-0-18" class="d">-	}
</a><a href="#h100-0-19" id="h100-0-19" class="d">-
</a><a href="#h100-0-20" id="h100-0-20" class="d">-	return s.client.Do(req, nil)
</a><a href="#h100-0-21" id="h100-0-21" class="d">-}
</a><a href="#h100-0-22" id="h100-0-22" class="d">-
</a><a href="#h100-0-23" id="h100-0-23" class="d">-// DemoteSiteAdmin demotes a user from site administrator of a GitHub Enterprise instance.
</a><a href="#h100-0-24" id="h100-0-24" class="d">-//
</a><a href="#h100-0-25" id="h100-0-25" class="d">-// GitHub API docs: https://developer.github.com/v3/users/administration/#demote-a-site-administrator-to-an-ordinary-user
</a><a href="#h100-0-26" id="h100-0-26" class="d">-func (s *UsersService) DemoteSiteAdmin(user string) (*Response, error) {
</a><a href="#h100-0-27" id="h100-0-27" class="d">-	u := fmt.Sprintf(&quot;users/%v/site_admin&quot;, user)
</a><a href="#h100-0-28" id="h100-0-28" class="d">-
</a><a href="#h100-0-29" id="h100-0-29" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h100-0-30" id="h100-0-30" class="d">-	if err != nil {
</a><a href="#h100-0-31" id="h100-0-31" class="d">-		return nil, err
</a><a href="#h100-0-32" id="h100-0-32" class="d">-	}
</a><a href="#h100-0-33" id="h100-0-33" class="d">-
</a><a href="#h100-0-34" id="h100-0-34" class="d">-	return s.client.Do(req, nil)
</a><a href="#h100-0-35" id="h100-0-35" class="d">-}
</a><a href="#h100-0-36" id="h100-0-36" class="d">-
</a><a href="#h100-0-37" id="h100-0-37" class="d">-// Suspend a user on a GitHub Enterprise instance.
</a><a href="#h100-0-38" id="h100-0-38" class="d">-//
</a><a href="#h100-0-39" id="h100-0-39" class="d">-// GitHub API docs: https://developer.github.com/v3/users/administration/#suspend-a-user
</a><a href="#h100-0-40" id="h100-0-40" class="d">-func (s *UsersService) Suspend(user string) (*Response, error) {
</a><a href="#h100-0-41" id="h100-0-41" class="d">-	u := fmt.Sprintf(&quot;users/%v/suspended&quot;, user)
</a><a href="#h100-0-42" id="h100-0-42" class="d">-
</a><a href="#h100-0-43" id="h100-0-43" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, nil)
</a><a href="#h100-0-44" id="h100-0-44" class="d">-	if err != nil {
</a><a href="#h100-0-45" id="h100-0-45" class="d">-		return nil, err
</a><a href="#h100-0-46" id="h100-0-46" class="d">-	}
</a><a href="#h100-0-47" id="h100-0-47" class="d">-
</a><a href="#h100-0-48" id="h100-0-48" class="d">-	return s.client.Do(req, nil)
</a><a href="#h100-0-49" id="h100-0-49" class="d">-}
</a><a href="#h100-0-50" id="h100-0-50" class="d">-
</a><a href="#h100-0-51" id="h100-0-51" class="d">-// Unsuspend a user on a GitHub Enterprise instance.
</a><a href="#h100-0-52" id="h100-0-52" class="d">-//
</a><a href="#h100-0-53" id="h100-0-53" class="d">-// GitHub API docs: https://developer.github.com/v3/users/administration/#unsuspend-a-user
</a><a href="#h100-0-54" id="h100-0-54" class="d">-func (s *UsersService) Unsuspend(user string) (*Response, error) {
</a><a href="#h100-0-55" id="h100-0-55" class="d">-	u := fmt.Sprintf(&quot;users/%v/suspended&quot;, user)
</a><a href="#h100-0-56" id="h100-0-56" class="d">-
</a><a href="#h100-0-57" id="h100-0-57" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h100-0-58" id="h100-0-58" class="d">-	if err != nil {
</a><a href="#h100-0-59" id="h100-0-59" class="d">-		return nil, err
</a><a href="#h100-0-60" id="h100-0-60" class="d">-	}
</a><a href="#h100-0-61" id="h100-0-61" class="d">-
</a><a href="#h100-0-62" id="h100-0-62" class="d">-	return s.client.Do(req, nil)
</a><a href="#h100-0-63" id="h100-0-63" class="d">-}
</a><b>diff --git a/<a id="h101" href="../file/vendor/github.com/google/go-github/github/users_emails.go">vendor/github.com/google/go-github/github/users_emails.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/users_emails.go">vendor/github.com/google/go-github/github/users_emails.go</a></b>
<a href="#h101-0" id="h101-0" class="h">@@ -1,69 +0,0 @@
</a><a href="#h101-0-0" id="h101-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h101-0-1" id="h101-0-1" class="d">-//
</a><a href="#h101-0-2" id="h101-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h101-0-3" id="h101-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h101-0-4" id="h101-0-4" class="d">-
</a><a href="#h101-0-5" id="h101-0-5" class="d">-package github
</a><a href="#h101-0-6" id="h101-0-6" class="d">-
</a><a href="#h101-0-7" id="h101-0-7" class="d">-// UserEmail represents user&#39;s email address
</a><a href="#h101-0-8" id="h101-0-8" class="d">-type UserEmail struct {
</a><a href="#h101-0-9" id="h101-0-9" class="d">-	Email    *string `json:&quot;email,omitempty&quot;`
</a><a href="#h101-0-10" id="h101-0-10" class="d">-	Primary  *bool   `json:&quot;primary,omitempty&quot;`
</a><a href="#h101-0-11" id="h101-0-11" class="d">-	Verified *bool   `json:&quot;verified,omitempty&quot;`
</a><a href="#h101-0-12" id="h101-0-12" class="d">-}
</a><a href="#h101-0-13" id="h101-0-13" class="d">-
</a><a href="#h101-0-14" id="h101-0-14" class="d">-// ListEmails lists all email addresses for the authenticated user.
</a><a href="#h101-0-15" id="h101-0-15" class="d">-//
</a><a href="#h101-0-16" id="h101-0-16" class="d">-// GitHub API docs: http://developer.github.com/v3/users/emails/#list-email-addresses-for-a-user
</a><a href="#h101-0-17" id="h101-0-17" class="d">-func (s *UsersService) ListEmails(opt *ListOptions) ([]UserEmail, *Response, error) {
</a><a href="#h101-0-18" id="h101-0-18" class="d">-	u := &quot;user/emails&quot;
</a><a href="#h101-0-19" id="h101-0-19" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h101-0-20" id="h101-0-20" class="d">-	if err != nil {
</a><a href="#h101-0-21" id="h101-0-21" class="d">-		return nil, nil, err
</a><a href="#h101-0-22" id="h101-0-22" class="d">-	}
</a><a href="#h101-0-23" id="h101-0-23" class="d">-
</a><a href="#h101-0-24" id="h101-0-24" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h101-0-25" id="h101-0-25" class="d">-	if err != nil {
</a><a href="#h101-0-26" id="h101-0-26" class="d">-		return nil, nil, err
</a><a href="#h101-0-27" id="h101-0-27" class="d">-	}
</a><a href="#h101-0-28" id="h101-0-28" class="d">-
</a><a href="#h101-0-29" id="h101-0-29" class="d">-	emails := new([]UserEmail)
</a><a href="#h101-0-30" id="h101-0-30" class="d">-	resp, err := s.client.Do(req, emails)
</a><a href="#h101-0-31" id="h101-0-31" class="d">-	if err != nil {
</a><a href="#h101-0-32" id="h101-0-32" class="d">-		return nil, resp, err
</a><a href="#h101-0-33" id="h101-0-33" class="d">-	}
</a><a href="#h101-0-34" id="h101-0-34" class="d">-
</a><a href="#h101-0-35" id="h101-0-35" class="d">-	return *emails, resp, err
</a><a href="#h101-0-36" id="h101-0-36" class="d">-}
</a><a href="#h101-0-37" id="h101-0-37" class="d">-
</a><a href="#h101-0-38" id="h101-0-38" class="d">-// AddEmails adds email addresses of the authenticated user.
</a><a href="#h101-0-39" id="h101-0-39" class="d">-//
</a><a href="#h101-0-40" id="h101-0-40" class="d">-// GitHub API docs: http://developer.github.com/v3/users/emails/#add-email-addresses
</a><a href="#h101-0-41" id="h101-0-41" class="d">-func (s *UsersService) AddEmails(emails []string) ([]UserEmail, *Response, error) {
</a><a href="#h101-0-42" id="h101-0-42" class="d">-	u := &quot;user/emails&quot;
</a><a href="#h101-0-43" id="h101-0-43" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, emails)
</a><a href="#h101-0-44" id="h101-0-44" class="d">-	if err != nil {
</a><a href="#h101-0-45" id="h101-0-45" class="d">-		return nil, nil, err
</a><a href="#h101-0-46" id="h101-0-46" class="d">-	}
</a><a href="#h101-0-47" id="h101-0-47" class="d">-
</a><a href="#h101-0-48" id="h101-0-48" class="d">-	e := new([]UserEmail)
</a><a href="#h101-0-49" id="h101-0-49" class="d">-	resp, err := s.client.Do(req, e)
</a><a href="#h101-0-50" id="h101-0-50" class="d">-	if err != nil {
</a><a href="#h101-0-51" id="h101-0-51" class="d">-		return nil, resp, err
</a><a href="#h101-0-52" id="h101-0-52" class="d">-	}
</a><a href="#h101-0-53" id="h101-0-53" class="d">-
</a><a href="#h101-0-54" id="h101-0-54" class="d">-	return *e, resp, err
</a><a href="#h101-0-55" id="h101-0-55" class="d">-}
</a><a href="#h101-0-56" id="h101-0-56" class="d">-
</a><a href="#h101-0-57" id="h101-0-57" class="d">-// DeleteEmails deletes email addresses from authenticated user.
</a><a href="#h101-0-58" id="h101-0-58" class="d">-//
</a><a href="#h101-0-59" id="h101-0-59" class="d">-// GitHub API docs: http://developer.github.com/v3/users/emails/#delete-email-addresses
</a><a href="#h101-0-60" id="h101-0-60" class="d">-func (s *UsersService) DeleteEmails(emails []string) (*Response, error) {
</a><a href="#h101-0-61" id="h101-0-61" class="d">-	u := &quot;user/emails&quot;
</a><a href="#h101-0-62" id="h101-0-62" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, emails)
</a><a href="#h101-0-63" id="h101-0-63" class="d">-	if err != nil {
</a><a href="#h101-0-64" id="h101-0-64" class="d">-		return nil, err
</a><a href="#h101-0-65" id="h101-0-65" class="d">-	}
</a><a href="#h101-0-66" id="h101-0-66" class="d">-
</a><a href="#h101-0-67" id="h101-0-67" class="d">-	return s.client.Do(req, nil)
</a><a href="#h101-0-68" id="h101-0-68" class="d">-}
</a><b>diff --git a/<a id="h102" href="../file/vendor/github.com/google/go-github/github/users_followers.go">vendor/github.com/google/go-github/github/users_followers.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/users_followers.go">vendor/github.com/google/go-github/github/users_followers.go</a></b>
<a href="#h102-0" id="h102-0" class="h">@@ -1,116 +0,0 @@
</a><a href="#h102-0-0" id="h102-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h102-0-1" id="h102-0-1" class="d">-//
</a><a href="#h102-0-2" id="h102-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h102-0-3" id="h102-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h102-0-4" id="h102-0-4" class="d">-
</a><a href="#h102-0-5" id="h102-0-5" class="d">-package github
</a><a href="#h102-0-6" id="h102-0-6" class="d">-
</a><a href="#h102-0-7" id="h102-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h102-0-8" id="h102-0-8" class="d">-
</a><a href="#h102-0-9" id="h102-0-9" class="d">-// ListFollowers lists the followers for a user.  Passing the empty string will
</a><a href="#h102-0-10" id="h102-0-10" class="d">-// fetch followers for the authenticated user.
</a><a href="#h102-0-11" id="h102-0-11" class="d">-//
</a><a href="#h102-0-12" id="h102-0-12" class="d">-// GitHub API docs: http://developer.github.com/v3/users/followers/#list-followers-of-a-user
</a><a href="#h102-0-13" id="h102-0-13" class="d">-func (s *UsersService) ListFollowers(user string, opt *ListOptions) ([]User, *Response, error) {
</a><a href="#h102-0-14" id="h102-0-14" class="d">-	var u string
</a><a href="#h102-0-15" id="h102-0-15" class="d">-	if user != &quot;&quot; {
</a><a href="#h102-0-16" id="h102-0-16" class="d">-		u = fmt.Sprintf(&quot;users/%v/followers&quot;, user)
</a><a href="#h102-0-17" id="h102-0-17" class="d">-	} else {
</a><a href="#h102-0-18" id="h102-0-18" class="d">-		u = &quot;user/followers&quot;
</a><a href="#h102-0-19" id="h102-0-19" class="d">-	}
</a><a href="#h102-0-20" id="h102-0-20" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h102-0-21" id="h102-0-21" class="d">-	if err != nil {
</a><a href="#h102-0-22" id="h102-0-22" class="d">-		return nil, nil, err
</a><a href="#h102-0-23" id="h102-0-23" class="d">-	}
</a><a href="#h102-0-24" id="h102-0-24" class="d">-
</a><a href="#h102-0-25" id="h102-0-25" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h102-0-26" id="h102-0-26" class="d">-	if err != nil {
</a><a href="#h102-0-27" id="h102-0-27" class="d">-		return nil, nil, err
</a><a href="#h102-0-28" id="h102-0-28" class="d">-	}
</a><a href="#h102-0-29" id="h102-0-29" class="d">-
</a><a href="#h102-0-30" id="h102-0-30" class="d">-	users := new([]User)
</a><a href="#h102-0-31" id="h102-0-31" class="d">-	resp, err := s.client.Do(req, users)
</a><a href="#h102-0-32" id="h102-0-32" class="d">-	if err != nil {
</a><a href="#h102-0-33" id="h102-0-33" class="d">-		return nil, resp, err
</a><a href="#h102-0-34" id="h102-0-34" class="d">-	}
</a><a href="#h102-0-35" id="h102-0-35" class="d">-
</a><a href="#h102-0-36" id="h102-0-36" class="d">-	return *users, resp, err
</a><a href="#h102-0-37" id="h102-0-37" class="d">-}
</a><a href="#h102-0-38" id="h102-0-38" class="d">-
</a><a href="#h102-0-39" id="h102-0-39" class="d">-// ListFollowing lists the people that a user is following.  Passing the empty
</a><a href="#h102-0-40" id="h102-0-40" class="d">-// string will list people the authenticated user is following.
</a><a href="#h102-0-41" id="h102-0-41" class="d">-//
</a><a href="#h102-0-42" id="h102-0-42" class="d">-// GitHub API docs: http://developer.github.com/v3/users/followers/#list-users-followed-by-another-user
</a><a href="#h102-0-43" id="h102-0-43" class="d">-func (s *UsersService) ListFollowing(user string, opt *ListOptions) ([]User, *Response, error) {
</a><a href="#h102-0-44" id="h102-0-44" class="d">-	var u string
</a><a href="#h102-0-45" id="h102-0-45" class="d">-	if user != &quot;&quot; {
</a><a href="#h102-0-46" id="h102-0-46" class="d">-		u = fmt.Sprintf(&quot;users/%v/following&quot;, user)
</a><a href="#h102-0-47" id="h102-0-47" class="d">-	} else {
</a><a href="#h102-0-48" id="h102-0-48" class="d">-		u = &quot;user/following&quot;
</a><a href="#h102-0-49" id="h102-0-49" class="d">-	}
</a><a href="#h102-0-50" id="h102-0-50" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h102-0-51" id="h102-0-51" class="d">-	if err != nil {
</a><a href="#h102-0-52" id="h102-0-52" class="d">-		return nil, nil, err
</a><a href="#h102-0-53" id="h102-0-53" class="d">-	}
</a><a href="#h102-0-54" id="h102-0-54" class="d">-
</a><a href="#h102-0-55" id="h102-0-55" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h102-0-56" id="h102-0-56" class="d">-	if err != nil {
</a><a href="#h102-0-57" id="h102-0-57" class="d">-		return nil, nil, err
</a><a href="#h102-0-58" id="h102-0-58" class="d">-	}
</a><a href="#h102-0-59" id="h102-0-59" class="d">-
</a><a href="#h102-0-60" id="h102-0-60" class="d">-	users := new([]User)
</a><a href="#h102-0-61" id="h102-0-61" class="d">-	resp, err := s.client.Do(req, users)
</a><a href="#h102-0-62" id="h102-0-62" class="d">-	if err != nil {
</a><a href="#h102-0-63" id="h102-0-63" class="d">-		return nil, resp, err
</a><a href="#h102-0-64" id="h102-0-64" class="d">-	}
</a><a href="#h102-0-65" id="h102-0-65" class="d">-
</a><a href="#h102-0-66" id="h102-0-66" class="d">-	return *users, resp, err
</a><a href="#h102-0-67" id="h102-0-67" class="d">-}
</a><a href="#h102-0-68" id="h102-0-68" class="d">-
</a><a href="#h102-0-69" id="h102-0-69" class="d">-// IsFollowing checks if &quot;user&quot; is following &quot;target&quot;.  Passing the empty
</a><a href="#h102-0-70" id="h102-0-70" class="d">-// string for &quot;user&quot; will check if the authenticated user is following &quot;target&quot;.
</a><a href="#h102-0-71" id="h102-0-71" class="d">-//
</a><a href="#h102-0-72" id="h102-0-72" class="d">-// GitHub API docs: http://developer.github.com/v3/users/followers/#check-if-you-are-following-a-user
</a><a href="#h102-0-73" id="h102-0-73" class="d">-func (s *UsersService) IsFollowing(user, target string) (bool, *Response, error) {
</a><a href="#h102-0-74" id="h102-0-74" class="d">-	var u string
</a><a href="#h102-0-75" id="h102-0-75" class="d">-	if user != &quot;&quot; {
</a><a href="#h102-0-76" id="h102-0-76" class="d">-		u = fmt.Sprintf(&quot;users/%v/following/%v&quot;, user, target)
</a><a href="#h102-0-77" id="h102-0-77" class="d">-	} else {
</a><a href="#h102-0-78" id="h102-0-78" class="d">-		u = fmt.Sprintf(&quot;user/following/%v&quot;, target)
</a><a href="#h102-0-79" id="h102-0-79" class="d">-	}
</a><a href="#h102-0-80" id="h102-0-80" class="d">-
</a><a href="#h102-0-81" id="h102-0-81" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h102-0-82" id="h102-0-82" class="d">-	if err != nil {
</a><a href="#h102-0-83" id="h102-0-83" class="d">-		return false, nil, err
</a><a href="#h102-0-84" id="h102-0-84" class="d">-	}
</a><a href="#h102-0-85" id="h102-0-85" class="d">-
</a><a href="#h102-0-86" id="h102-0-86" class="d">-	resp, err := s.client.Do(req, nil)
</a><a href="#h102-0-87" id="h102-0-87" class="d">-	following, err := parseBoolResponse(err)
</a><a href="#h102-0-88" id="h102-0-88" class="d">-	return following, resp, err
</a><a href="#h102-0-89" id="h102-0-89" class="d">-}
</a><a href="#h102-0-90" id="h102-0-90" class="d">-
</a><a href="#h102-0-91" id="h102-0-91" class="d">-// Follow will cause the authenticated user to follow the specified user.
</a><a href="#h102-0-92" id="h102-0-92" class="d">-//
</a><a href="#h102-0-93" id="h102-0-93" class="d">-// GitHub API docs: http://developer.github.com/v3/users/followers/#follow-a-user
</a><a href="#h102-0-94" id="h102-0-94" class="d">-func (s *UsersService) Follow(user string) (*Response, error) {
</a><a href="#h102-0-95" id="h102-0-95" class="d">-	u := fmt.Sprintf(&quot;user/following/%v&quot;, user)
</a><a href="#h102-0-96" id="h102-0-96" class="d">-	req, err := s.client.NewRequest(&quot;PUT&quot;, u, nil)
</a><a href="#h102-0-97" id="h102-0-97" class="d">-	if err != nil {
</a><a href="#h102-0-98" id="h102-0-98" class="d">-		return nil, err
</a><a href="#h102-0-99" id="h102-0-99" class="d">-	}
</a><a href="#h102-0-100" id="h102-0-100" class="d">-
</a><a href="#h102-0-101" id="h102-0-101" class="d">-	return s.client.Do(req, nil)
</a><a href="#h102-0-102" id="h102-0-102" class="d">-}
</a><a href="#h102-0-103" id="h102-0-103" class="d">-
</a><a href="#h102-0-104" id="h102-0-104" class="d">-// Unfollow will cause the authenticated user to unfollow the specified user.
</a><a href="#h102-0-105" id="h102-0-105" class="d">-//
</a><a href="#h102-0-106" id="h102-0-106" class="d">-// GitHub API docs: http://developer.github.com/v3/users/followers/#unfollow-a-user
</a><a href="#h102-0-107" id="h102-0-107" class="d">-func (s *UsersService) Unfollow(user string) (*Response, error) {
</a><a href="#h102-0-108" id="h102-0-108" class="d">-	u := fmt.Sprintf(&quot;user/following/%v&quot;, user)
</a><a href="#h102-0-109" id="h102-0-109" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h102-0-110" id="h102-0-110" class="d">-	if err != nil {
</a><a href="#h102-0-111" id="h102-0-111" class="d">-		return nil, err
</a><a href="#h102-0-112" id="h102-0-112" class="d">-	}
</a><a href="#h102-0-113" id="h102-0-113" class="d">-
</a><a href="#h102-0-114" id="h102-0-114" class="d">-	return s.client.Do(req, nil)
</a><a href="#h102-0-115" id="h102-0-115" class="d">-}
</a><b>diff --git a/<a id="h103" href="../file/vendor/github.com/google/go-github/github/users_keys.go">vendor/github.com/google/go-github/github/users_keys.go</a> b/<a href="../file/vendor/github.com/google/go-github/github/users_keys.go">vendor/github.com/google/go-github/github/users_keys.go</a></b>
<a href="#h103-0" id="h103-0" class="h">@@ -1,104 +0,0 @@
</a><a href="#h103-0-0" id="h103-0-0" class="d">-// Copyright 2013 The go-github AUTHORS. All rights reserved.
</a><a href="#h103-0-1" id="h103-0-1" class="d">-//
</a><a href="#h103-0-2" id="h103-0-2" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h103-0-3" id="h103-0-3" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h103-0-4" id="h103-0-4" class="d">-
</a><a href="#h103-0-5" id="h103-0-5" class="d">-package github
</a><a href="#h103-0-6" id="h103-0-6" class="d">-
</a><a href="#h103-0-7" id="h103-0-7" class="d">-import &quot;fmt&quot;
</a><a href="#h103-0-8" id="h103-0-8" class="d">-
</a><a href="#h103-0-9" id="h103-0-9" class="d">-// Key represents a public SSH key used to authenticate a user or deploy script.
</a><a href="#h103-0-10" id="h103-0-10" class="d">-type Key struct {
</a><a href="#h103-0-11" id="h103-0-11" class="d">-	ID    *int    `json:&quot;id,omitempty&quot;`
</a><a href="#h103-0-12" id="h103-0-12" class="d">-	Key   *string `json:&quot;key,omitempty&quot;`
</a><a href="#h103-0-13" id="h103-0-13" class="d">-	URL   *string `json:&quot;url,omitempty&quot;`
</a><a href="#h103-0-14" id="h103-0-14" class="d">-	Title *string `json:&quot;title,omitempty&quot;`
</a><a href="#h103-0-15" id="h103-0-15" class="d">-}
</a><a href="#h103-0-16" id="h103-0-16" class="d">-
</a><a href="#h103-0-17" id="h103-0-17" class="d">-func (k Key) String() string {
</a><a href="#h103-0-18" id="h103-0-18" class="d">-	return Stringify(k)
</a><a href="#h103-0-19" id="h103-0-19" class="d">-}
</a><a href="#h103-0-20" id="h103-0-20" class="d">-
</a><a href="#h103-0-21" id="h103-0-21" class="d">-// ListKeys lists the verified public keys for a user.  Passing the empty
</a><a href="#h103-0-22" id="h103-0-22" class="d">-// string will fetch keys for the authenticated user.
</a><a href="#h103-0-23" id="h103-0-23" class="d">-//
</a><a href="#h103-0-24" id="h103-0-24" class="d">-// GitHub API docs: http://developer.github.com/v3/users/keys/#list-public-keys-for-a-user
</a><a href="#h103-0-25" id="h103-0-25" class="d">-func (s *UsersService) ListKeys(user string, opt *ListOptions) ([]Key, *Response, error) {
</a><a href="#h103-0-26" id="h103-0-26" class="d">-	var u string
</a><a href="#h103-0-27" id="h103-0-27" class="d">-	if user != &quot;&quot; {
</a><a href="#h103-0-28" id="h103-0-28" class="d">-		u = fmt.Sprintf(&quot;users/%v/keys&quot;, user)
</a><a href="#h103-0-29" id="h103-0-29" class="d">-	} else {
</a><a href="#h103-0-30" id="h103-0-30" class="d">-		u = &quot;user/keys&quot;
</a><a href="#h103-0-31" id="h103-0-31" class="d">-	}
</a><a href="#h103-0-32" id="h103-0-32" class="d">-	u, err := addOptions(u, opt)
</a><a href="#h103-0-33" id="h103-0-33" class="d">-	if err != nil {
</a><a href="#h103-0-34" id="h103-0-34" class="d">-		return nil, nil, err
</a><a href="#h103-0-35" id="h103-0-35" class="d">-	}
</a><a href="#h103-0-36" id="h103-0-36" class="d">-
</a><a href="#h103-0-37" id="h103-0-37" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h103-0-38" id="h103-0-38" class="d">-	if err != nil {
</a><a href="#h103-0-39" id="h103-0-39" class="d">-		return nil, nil, err
</a><a href="#h103-0-40" id="h103-0-40" class="d">-	}
</a><a href="#h103-0-41" id="h103-0-41" class="d">-
</a><a href="#h103-0-42" id="h103-0-42" class="d">-	keys := new([]Key)
</a><a href="#h103-0-43" id="h103-0-43" class="d">-	resp, err := s.client.Do(req, keys)
</a><a href="#h103-0-44" id="h103-0-44" class="d">-	if err != nil {
</a><a href="#h103-0-45" id="h103-0-45" class="d">-		return nil, resp, err
</a><a href="#h103-0-46" id="h103-0-46" class="d">-	}
</a><a href="#h103-0-47" id="h103-0-47" class="d">-
</a><a href="#h103-0-48" id="h103-0-48" class="d">-	return *keys, resp, err
</a><a href="#h103-0-49" id="h103-0-49" class="d">-}
</a><a href="#h103-0-50" id="h103-0-50" class="d">-
</a><a href="#h103-0-51" id="h103-0-51" class="d">-// GetKey fetches a single public key.
</a><a href="#h103-0-52" id="h103-0-52" class="d">-//
</a><a href="#h103-0-53" id="h103-0-53" class="d">-// GitHub API docs: http://developer.github.com/v3/users/keys/#get-a-single-public-key
</a><a href="#h103-0-54" id="h103-0-54" class="d">-func (s *UsersService) GetKey(id int) (*Key, *Response, error) {
</a><a href="#h103-0-55" id="h103-0-55" class="d">-	u := fmt.Sprintf(&quot;user/keys/%v&quot;, id)
</a><a href="#h103-0-56" id="h103-0-56" class="d">-
</a><a href="#h103-0-57" id="h103-0-57" class="d">-	req, err := s.client.NewRequest(&quot;GET&quot;, u, nil)
</a><a href="#h103-0-58" id="h103-0-58" class="d">-	if err != nil {
</a><a href="#h103-0-59" id="h103-0-59" class="d">-		return nil, nil, err
</a><a href="#h103-0-60" id="h103-0-60" class="d">-	}
</a><a href="#h103-0-61" id="h103-0-61" class="d">-
</a><a href="#h103-0-62" id="h103-0-62" class="d">-	key := new(Key)
</a><a href="#h103-0-63" id="h103-0-63" class="d">-	resp, err := s.client.Do(req, key)
</a><a href="#h103-0-64" id="h103-0-64" class="d">-	if err != nil {
</a><a href="#h103-0-65" id="h103-0-65" class="d">-		return nil, resp, err
</a><a href="#h103-0-66" id="h103-0-66" class="d">-	}
</a><a href="#h103-0-67" id="h103-0-67" class="d">-
</a><a href="#h103-0-68" id="h103-0-68" class="d">-	return key, resp, err
</a><a href="#h103-0-69" id="h103-0-69" class="d">-}
</a><a href="#h103-0-70" id="h103-0-70" class="d">-
</a><a href="#h103-0-71" id="h103-0-71" class="d">-// CreateKey adds a public key for the authenticated user.
</a><a href="#h103-0-72" id="h103-0-72" class="d">-//
</a><a href="#h103-0-73" id="h103-0-73" class="d">-// GitHub API docs: http://developer.github.com/v3/users/keys/#create-a-public-key
</a><a href="#h103-0-74" id="h103-0-74" class="d">-func (s *UsersService) CreateKey(key *Key) (*Key, *Response, error) {
</a><a href="#h103-0-75" id="h103-0-75" class="d">-	u := &quot;user/keys&quot;
</a><a href="#h103-0-76" id="h103-0-76" class="d">-
</a><a href="#h103-0-77" id="h103-0-77" class="d">-	req, err := s.client.NewRequest(&quot;POST&quot;, u, key)
</a><a href="#h103-0-78" id="h103-0-78" class="d">-	if err != nil {
</a><a href="#h103-0-79" id="h103-0-79" class="d">-		return nil, nil, err
</a><a href="#h103-0-80" id="h103-0-80" class="d">-	}
</a><a href="#h103-0-81" id="h103-0-81" class="d">-
</a><a href="#h103-0-82" id="h103-0-82" class="d">-	k := new(Key)
</a><a href="#h103-0-83" id="h103-0-83" class="d">-	resp, err := s.client.Do(req, k)
</a><a href="#h103-0-84" id="h103-0-84" class="d">-	if err != nil {
</a><a href="#h103-0-85" id="h103-0-85" class="d">-		return nil, resp, err
</a><a href="#h103-0-86" id="h103-0-86" class="d">-	}
</a><a href="#h103-0-87" id="h103-0-87" class="d">-
</a><a href="#h103-0-88" id="h103-0-88" class="d">-	return k, resp, err
</a><a href="#h103-0-89" id="h103-0-89" class="d">-}
</a><a href="#h103-0-90" id="h103-0-90" class="d">-
</a><a href="#h103-0-91" id="h103-0-91" class="d">-// DeleteKey deletes a public key.
</a><a href="#h103-0-92" id="h103-0-92" class="d">-//
</a><a href="#h103-0-93" id="h103-0-93" class="d">-// GitHub API docs: http://developer.github.com/v3/users/keys/#delete-a-public-key
</a><a href="#h103-0-94" id="h103-0-94" class="d">-func (s *UsersService) DeleteKey(id int) (*Response, error) {
</a><a href="#h103-0-95" id="h103-0-95" class="d">-	u := fmt.Sprintf(&quot;user/keys/%v&quot;, id)
</a><a href="#h103-0-96" id="h103-0-96" class="d">-
</a><a href="#h103-0-97" id="h103-0-97" class="d">-	req, err := s.client.NewRequest(&quot;DELETE&quot;, u, nil)
</a><a href="#h103-0-98" id="h103-0-98" class="d">-	if err != nil {
</a><a href="#h103-0-99" id="h103-0-99" class="d">-		return nil, err
</a><a href="#h103-0-100" id="h103-0-100" class="d">-	}
</a><a href="#h103-0-101" id="h103-0-101" class="d">-
</a><a href="#h103-0-102" id="h103-0-102" class="d">-	return s.client.Do(req, nil)
</a><a href="#h103-0-103" id="h103-0-103" class="d">-}
</a><b>diff --git a/<a id="h104" href="../file/vendor/github.com/google/go-querystring/LICENSE">vendor/github.com/google/go-querystring/LICENSE</a> b/<a href="../file/vendor/github.com/google/go-querystring/LICENSE">vendor/github.com/google/go-querystring/LICENSE</a></b>
<a href="#h104-0" id="h104-0" class="h">@@ -1,27 +0,0 @@
</a><a href="#h104-0-0" id="h104-0-0" class="d">-Copyright (c) 2013 Google. All rights reserved.
</a><a href="#h104-0-1" id="h104-0-1" class="d">-
</a><a href="#h104-0-2" id="h104-0-2" class="d">-Redistribution and use in source and binary forms, with or without
</a><a href="#h104-0-3" id="h104-0-3" class="d">-modification, are permitted provided that the following conditions are
</a><a href="#h104-0-4" id="h104-0-4" class="d">-met:
</a><a href="#h104-0-5" id="h104-0-5" class="d">-
</a><a href="#h104-0-6" id="h104-0-6" class="d">-   * Redistributions of source code must retain the above copyright
</a><a href="#h104-0-7" id="h104-0-7" class="d">-notice, this list of conditions and the following disclaimer.
</a><a href="#h104-0-8" id="h104-0-8" class="d">-   * Redistributions in binary form must reproduce the above
</a><a href="#h104-0-9" id="h104-0-9" class="d">-copyright notice, this list of conditions and the following disclaimer
</a><a href="#h104-0-10" id="h104-0-10" class="d">-in the documentation and/or other materials provided with the
</a><a href="#h104-0-11" id="h104-0-11" class="d">-distribution.
</a><a href="#h104-0-12" id="h104-0-12" class="d">-   * Neither the name of Google Inc. nor the names of its
</a><a href="#h104-0-13" id="h104-0-13" class="d">-contributors may be used to endorse or promote products derived from
</a><a href="#h104-0-14" id="h104-0-14" class="d">-this software without specific prior written permission.
</a><a href="#h104-0-15" id="h104-0-15" class="d">-
</a><a href="#h104-0-16" id="h104-0-16" class="d">-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h104-0-17" id="h104-0-17" class="d">-&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h104-0-18" id="h104-0-18" class="d">-LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h104-0-19" id="h104-0-19" class="d">-A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h104-0-20" id="h104-0-20" class="d">-OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h104-0-21" id="h104-0-21" class="d">-SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h104-0-22" id="h104-0-22" class="d">-LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h104-0-23" id="h104-0-23" class="d">-DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h104-0-24" id="h104-0-24" class="d">-THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h104-0-25" id="h104-0-25" class="d">-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h104-0-26" id="h104-0-26" class="d">-OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><b>diff --git a/<a id="h105" href="../file/vendor/github.com/google/go-querystring/query/BUILD">vendor/github.com/google/go-querystring/query/BUILD</a> b/<a href="../file/vendor/github.com/google/go-querystring/query/BUILD">vendor/github.com/google/go-querystring/query/BUILD</a></b>
<a href="#h105-0" id="h105-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h105-0-0" id="h105-0-0" class="d">-
</a><a href="#h105-0-1" id="h105-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h105-0-2" id="h105-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h105-0-3" id="h105-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h105-0-4" id="h105-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h105-0-5" id="h105-0-5" class="d">-)
</a><a href="#h105-0-6" id="h105-0-6" class="d">-
</a><a href="#h105-0-7" id="h105-0-7" class="d">-go_library(
</a><a href="#h105-0-8" id="h105-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h105-0-9" id="h105-0-9" class="d">-  srcs = [
</a><a href="#h105-0-10" id="h105-0-10" class="d">-    &quot;encode.go&quot;,
</a><a href="#h105-0-11" id="h105-0-11" class="d">-  ],
</a><a href="#h105-0-12" id="h105-0-12" class="d">-  deps = [
</a><a href="#h105-0-13" id="h105-0-13" class="d">-  ],
</a><a href="#h105-0-14" id="h105-0-14" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h105-0-15" id="h105-0-15" class="d">-)
</a><a href="#h105-0-16" id="h105-0-16" class="d">-
</a><a href="#h105-0-17" id="h105-0-17" class="d">-
</a><b>diff --git a/<a id="h106" href="../file/vendor/github.com/google/go-querystring/query/encode.go">vendor/github.com/google/go-querystring/query/encode.go</a> b/<a href="../file/vendor/github.com/google/go-querystring/query/encode.go">vendor/github.com/google/go-querystring/query/encode.go</a></b>
<a href="#h106-0" id="h106-0" class="h">@@ -1,311 +0,0 @@
</a><a href="#h106-0-0" id="h106-0-0" class="d">-// Copyright 2013 The Go Authors. All rights reserved.
</a><a href="#h106-0-1" id="h106-0-1" class="d">-// Use of this source code is governed by a BSD-style
</a><a href="#h106-0-2" id="h106-0-2" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h106-0-3" id="h106-0-3" class="d">-
</a><a href="#h106-0-4" id="h106-0-4" class="d">-// Package query implements encoding of structs into URL query parameters.
</a><a href="#h106-0-5" id="h106-0-5" class="d">-//
</a><a href="#h106-0-6" id="h106-0-6" class="d">-// As a simple example:
</a><a href="#h106-0-7" id="h106-0-7" class="d">-//
</a><a href="#h106-0-8" id="h106-0-8" class="d">-// 	type Options struct {
</a><a href="#h106-0-9" id="h106-0-9" class="d">-// 		Query   string `url:&quot;q&quot;`
</a><a href="#h106-0-10" id="h106-0-10" class="d">-// 		ShowAll bool   `url:&quot;all&quot;`
</a><a href="#h106-0-11" id="h106-0-11" class="d">-// 		Page    int    `url:&quot;page&quot;`
</a><a href="#h106-0-12" id="h106-0-12" class="d">-// 	}
</a><a href="#h106-0-13" id="h106-0-13" class="d">-//
</a><a href="#h106-0-14" id="h106-0-14" class="d">-// 	opt := Options{ &quot;foo&quot;, true, 2 }
</a><a href="#h106-0-15" id="h106-0-15" class="d">-// 	v, _ := query.Values(opt)
</a><a href="#h106-0-16" id="h106-0-16" class="d">-// 	fmt.Print(v.Encode()) // will output: &quot;q=foo&amp;all=true&amp;page=2&quot;
</a><a href="#h106-0-17" id="h106-0-17" class="d">-//
</a><a href="#h106-0-18" id="h106-0-18" class="d">-// The exact mapping between Go values and url.Values is described in the
</a><a href="#h106-0-19" id="h106-0-19" class="d">-// documentation for the Values() function.
</a><a href="#h106-0-20" id="h106-0-20" class="d">-package query
</a><a href="#h106-0-21" id="h106-0-21" class="d">-
</a><a href="#h106-0-22" id="h106-0-22" class="d">-import (
</a><a href="#h106-0-23" id="h106-0-23" class="d">-	&quot;bytes&quot;
</a><a href="#h106-0-24" id="h106-0-24" class="d">-	&quot;fmt&quot;
</a><a href="#h106-0-25" id="h106-0-25" class="d">-	&quot;net/url&quot;
</a><a href="#h106-0-26" id="h106-0-26" class="d">-	&quot;reflect&quot;
</a><a href="#h106-0-27" id="h106-0-27" class="d">-	&quot;strconv&quot;
</a><a href="#h106-0-28" id="h106-0-28" class="d">-	&quot;strings&quot;
</a><a href="#h106-0-29" id="h106-0-29" class="d">-	&quot;time&quot;
</a><a href="#h106-0-30" id="h106-0-30" class="d">-)
</a><a href="#h106-0-31" id="h106-0-31" class="d">-
</a><a href="#h106-0-32" id="h106-0-32" class="d">-var timeType = reflect.TypeOf(time.Time{})
</a><a href="#h106-0-33" id="h106-0-33" class="d">-
</a><a href="#h106-0-34" id="h106-0-34" class="d">-var encoderType = reflect.TypeOf(new(Encoder)).Elem()
</a><a href="#h106-0-35" id="h106-0-35" class="d">-
</a><a href="#h106-0-36" id="h106-0-36" class="d">-// Encoder is an interface implemented by any type that wishes to encode
</a><a href="#h106-0-37" id="h106-0-37" class="d">-// itself into URL values in a non-standard way.
</a><a href="#h106-0-38" id="h106-0-38" class="d">-type Encoder interface {
</a><a href="#h106-0-39" id="h106-0-39" class="d">-	EncodeValues(key string, v *url.Values) error
</a><a href="#h106-0-40" id="h106-0-40" class="d">-}
</a><a href="#h106-0-41" id="h106-0-41" class="d">-
</a><a href="#h106-0-42" id="h106-0-42" class="d">-// Values returns the url.Values encoding of v.
</a><a href="#h106-0-43" id="h106-0-43" class="d">-//
</a><a href="#h106-0-44" id="h106-0-44" class="d">-// Values expects to be passed a struct, and traverses it recursively using the
</a><a href="#h106-0-45" id="h106-0-45" class="d">-// following encoding rules.
</a><a href="#h106-0-46" id="h106-0-46" class="d">-//
</a><a href="#h106-0-47" id="h106-0-47" class="d">-// Each exported struct field is encoded as a URL parameter unless
</a><a href="#h106-0-48" id="h106-0-48" class="d">-//
</a><a href="#h106-0-49" id="h106-0-49" class="d">-//	- the field&#39;s tag is &quot;-&quot;, or
</a><a href="#h106-0-50" id="h106-0-50" class="d">-//	- the field is empty and its tag specifies the &quot;omitempty&quot; option
</a><a href="#h106-0-51" id="h106-0-51" class="d">-//
</a><a href="#h106-0-52" id="h106-0-52" class="d">-// The empty values are false, 0, any nil pointer or interface value, any array
</a><a href="#h106-0-53" id="h106-0-53" class="d">-// slice, map, or string of length zero, and any time.Time that returns true
</a><a href="#h106-0-54" id="h106-0-54" class="d">-// for IsZero().
</a><a href="#h106-0-55" id="h106-0-55" class="d">-//
</a><a href="#h106-0-56" id="h106-0-56" class="d">-// The URL parameter name defaults to the struct field name but can be
</a><a href="#h106-0-57" id="h106-0-57" class="d">-// specified in the struct field&#39;s tag value.  The &quot;url&quot; key in the struct
</a><a href="#h106-0-58" id="h106-0-58" class="d">-// field&#39;s tag value is the key name, followed by an optional comma and
</a><a href="#h106-0-59" id="h106-0-59" class="d">-// options.  For example:
</a><a href="#h106-0-60" id="h106-0-60" class="d">-//
</a><a href="#h106-0-61" id="h106-0-61" class="d">-// 	// Field is ignored by this package.
</a><a href="#h106-0-62" id="h106-0-62" class="d">-// 	Field int `url:&quot;-&quot;`
</a><a href="#h106-0-63" id="h106-0-63" class="d">-//
</a><a href="#h106-0-64" id="h106-0-64" class="d">-// 	// Field appears as URL parameter &quot;myName&quot;.
</a><a href="#h106-0-65" id="h106-0-65" class="d">-// 	Field int `url:&quot;myName&quot;`
</a><a href="#h106-0-66" id="h106-0-66" class="d">-//
</a><a href="#h106-0-67" id="h106-0-67" class="d">-// 	// Field appears as URL parameter &quot;myName&quot; and the field is omitted if
</a><a href="#h106-0-68" id="h106-0-68" class="d">-// 	// its value is empty
</a><a href="#h106-0-69" id="h106-0-69" class="d">-// 	Field int `url:&quot;myName,omitempty&quot;`
</a><a href="#h106-0-70" id="h106-0-70" class="d">-//
</a><a href="#h106-0-71" id="h106-0-71" class="d">-// 	// Field appears as URL parameter &quot;Field&quot; (the default), but the field
</a><a href="#h106-0-72" id="h106-0-72" class="d">-// 	// is skipped if empty.  Note the leading comma.
</a><a href="#h106-0-73" id="h106-0-73" class="d">-// 	Field int `url:&quot;,omitempty&quot;`
</a><a href="#h106-0-74" id="h106-0-74" class="d">-//
</a><a href="#h106-0-75" id="h106-0-75" class="d">-// For encoding individual field values, the following type-dependent rules
</a><a href="#h106-0-76" id="h106-0-76" class="d">-// apply:
</a><a href="#h106-0-77" id="h106-0-77" class="d">-//
</a><a href="#h106-0-78" id="h106-0-78" class="d">-// Boolean values default to encoding as the strings &quot;true&quot; or &quot;false&quot;.
</a><a href="#h106-0-79" id="h106-0-79" class="d">-// Including the &quot;int&quot; option signals that the field should be encoded as the
</a><a href="#h106-0-80" id="h106-0-80" class="d">-// strings &quot;1&quot; or &quot;0&quot;.
</a><a href="#h106-0-81" id="h106-0-81" class="d">-//
</a><a href="#h106-0-82" id="h106-0-82" class="d">-// time.Time values default to encoding as RFC3339 timestamps.  Including the
</a><a href="#h106-0-83" id="h106-0-83" class="d">-// &quot;unix&quot; option signals that the field should be encoded as a Unix time (see
</a><a href="#h106-0-84" id="h106-0-84" class="d">-// time.Unix())
</a><a href="#h106-0-85" id="h106-0-85" class="d">-//
</a><a href="#h106-0-86" id="h106-0-86" class="d">-// Slice and Array values default to encoding as multiple URL values of the
</a><a href="#h106-0-87" id="h106-0-87" class="d">-// same name.  Including the &quot;comma&quot; option signals that the field should be
</a><a href="#h106-0-88" id="h106-0-88" class="d">-// encoded as a single comma-delimited value.  Including the &quot;space&quot; option
</a><a href="#h106-0-89" id="h106-0-89" class="d">-// similarly encodes the value as a single space-delimited string. Including
</a><a href="#h106-0-90" id="h106-0-90" class="d">-// the &quot;brackets&quot; option signals that the multiple URL values should have &quot;[]&quot;
</a><a href="#h106-0-91" id="h106-0-91" class="d">-// appended to the value name.
</a><a href="#h106-0-92" id="h106-0-92" class="d">-//
</a><a href="#h106-0-93" id="h106-0-93" class="d">-// Anonymous struct fields are usually encoded as if their inner exported
</a><a href="#h106-0-94" id="h106-0-94" class="d">-// fields were fields in the outer struct, subject to the standard Go
</a><a href="#h106-0-95" id="h106-0-95" class="d">-// visibility rules.  An anonymous struct field with a name given in its URL
</a><a href="#h106-0-96" id="h106-0-96" class="d">-// tag is treated as having that name, rather than being anonymous.
</a><a href="#h106-0-97" id="h106-0-97" class="d">-//
</a><a href="#h106-0-98" id="h106-0-98" class="d">-// Non-nil pointer values are encoded as the value pointed to.
</a><a href="#h106-0-99" id="h106-0-99" class="d">-//
</a><a href="#h106-0-100" id="h106-0-100" class="d">-// Nested structs are encoded including parent fields in value names for
</a><a href="#h106-0-101" id="h106-0-101" class="d">-// scoping. e.g:
</a><a href="#h106-0-102" id="h106-0-102" class="d">-//
</a><a href="#h106-0-103" id="h106-0-103" class="d">-// 	&quot;user[name]=acme&amp;user[addr][postcode]=1234&amp;user[addr][city]=SFO&quot;
</a><a href="#h106-0-104" id="h106-0-104" class="d">-//
</a><a href="#h106-0-105" id="h106-0-105" class="d">-// All other values are encoded using their default string representation.
</a><a href="#h106-0-106" id="h106-0-106" class="d">-//
</a><a href="#h106-0-107" id="h106-0-107" class="d">-// Multiple fields that encode to the same URL parameter name will be included
</a><a href="#h106-0-108" id="h106-0-108" class="d">-// as multiple URL values of the same name.
</a><a href="#h106-0-109" id="h106-0-109" class="d">-func Values(v interface{}) (url.Values, error) {
</a><a href="#h106-0-110" id="h106-0-110" class="d">-	values := make(url.Values)
</a><a href="#h106-0-111" id="h106-0-111" class="d">-	val := reflect.ValueOf(v)
</a><a href="#h106-0-112" id="h106-0-112" class="d">-	for val.Kind() == reflect.Ptr {
</a><a href="#h106-0-113" id="h106-0-113" class="d">-		if val.IsNil() {
</a><a href="#h106-0-114" id="h106-0-114" class="d">-			return values, nil
</a><a href="#h106-0-115" id="h106-0-115" class="d">-		}
</a><a href="#h106-0-116" id="h106-0-116" class="d">-		val = val.Elem()
</a><a href="#h106-0-117" id="h106-0-117" class="d">-	}
</a><a href="#h106-0-118" id="h106-0-118" class="d">-
</a><a href="#h106-0-119" id="h106-0-119" class="d">-	if v == nil {
</a><a href="#h106-0-120" id="h106-0-120" class="d">-		return values, nil
</a><a href="#h106-0-121" id="h106-0-121" class="d">-	}
</a><a href="#h106-0-122" id="h106-0-122" class="d">-
</a><a href="#h106-0-123" id="h106-0-123" class="d">-	if val.Kind() != reflect.Struct {
</a><a href="#h106-0-124" id="h106-0-124" class="d">-		return nil, fmt.Errorf(&quot;query: Values() expects struct input. Got %v&quot;, val.Kind())
</a><a href="#h106-0-125" id="h106-0-125" class="d">-	}
</a><a href="#h106-0-126" id="h106-0-126" class="d">-
</a><a href="#h106-0-127" id="h106-0-127" class="d">-	err := reflectValue(values, val, &quot;&quot;)
</a><a href="#h106-0-128" id="h106-0-128" class="d">-	return values, err
</a><a href="#h106-0-129" id="h106-0-129" class="d">-}
</a><a href="#h106-0-130" id="h106-0-130" class="d">-
</a><a href="#h106-0-131" id="h106-0-131" class="d">-// reflectValue populates the values parameter from the struct fields in val.
</a><a href="#h106-0-132" id="h106-0-132" class="d">-// Embedded structs are followed recursively (using the rules defined in the
</a><a href="#h106-0-133" id="h106-0-133" class="d">-// Values function documentation) breadth-first.
</a><a href="#h106-0-134" id="h106-0-134" class="d">-func reflectValue(values url.Values, val reflect.Value, scope string) error {
</a><a href="#h106-0-135" id="h106-0-135" class="d">-	var embedded []reflect.Value
</a><a href="#h106-0-136" id="h106-0-136" class="d">-
</a><a href="#h106-0-137" id="h106-0-137" class="d">-	typ := val.Type()
</a><a href="#h106-0-138" id="h106-0-138" class="d">-	for i := 0; i &lt; typ.NumField(); i++ {
</a><a href="#h106-0-139" id="h106-0-139" class="d">-		sf := typ.Field(i)
</a><a href="#h106-0-140" id="h106-0-140" class="d">-		if sf.PkgPath != &quot;&quot; &amp;&amp; !sf.Anonymous { // unexported
</a><a href="#h106-0-141" id="h106-0-141" class="d">-			continue
</a><a href="#h106-0-142" id="h106-0-142" class="d">-		}
</a><a href="#h106-0-143" id="h106-0-143" class="d">-
</a><a href="#h106-0-144" id="h106-0-144" class="d">-		sv := val.Field(i)
</a><a href="#h106-0-145" id="h106-0-145" class="d">-		tag := sf.Tag.Get(&quot;url&quot;)
</a><a href="#h106-0-146" id="h106-0-146" class="d">-		if tag == &quot;-&quot; {
</a><a href="#h106-0-147" id="h106-0-147" class="d">-			continue
</a><a href="#h106-0-148" id="h106-0-148" class="d">-		}
</a><a href="#h106-0-149" id="h106-0-149" class="d">-		name, opts := parseTag(tag)
</a><a href="#h106-0-150" id="h106-0-150" class="d">-		if name == &quot;&quot; {
</a><a href="#h106-0-151" id="h106-0-151" class="d">-			if sf.Anonymous &amp;&amp; sv.Kind() == reflect.Struct {
</a><a href="#h106-0-152" id="h106-0-152" class="d">-				// save embedded struct for later processing
</a><a href="#h106-0-153" id="h106-0-153" class="d">-				embedded = append(embedded, sv)
</a><a href="#h106-0-154" id="h106-0-154" class="d">-				continue
</a><a href="#h106-0-155" id="h106-0-155" class="d">-			}
</a><a href="#h106-0-156" id="h106-0-156" class="d">-
</a><a href="#h106-0-157" id="h106-0-157" class="d">-			name = sf.Name
</a><a href="#h106-0-158" id="h106-0-158" class="d">-		}
</a><a href="#h106-0-159" id="h106-0-159" class="d">-
</a><a href="#h106-0-160" id="h106-0-160" class="d">-		if scope != &quot;&quot; {
</a><a href="#h106-0-161" id="h106-0-161" class="d">-			name = scope + &quot;[&quot; + name + &quot;]&quot;
</a><a href="#h106-0-162" id="h106-0-162" class="d">-		}
</a><a href="#h106-0-163" id="h106-0-163" class="d">-
</a><a href="#h106-0-164" id="h106-0-164" class="d">-		if opts.Contains(&quot;omitempty&quot;) &amp;&amp; isEmptyValue(sv) {
</a><a href="#h106-0-165" id="h106-0-165" class="d">-			continue
</a><a href="#h106-0-166" id="h106-0-166" class="d">-		}
</a><a href="#h106-0-167" id="h106-0-167" class="d">-
</a><a href="#h106-0-168" id="h106-0-168" class="d">-		if sv.Type().Implements(encoderType) {
</a><a href="#h106-0-169" id="h106-0-169" class="d">-			if !reflect.Indirect(sv).IsValid() {
</a><a href="#h106-0-170" id="h106-0-170" class="d">-				sv = reflect.New(sv.Type().Elem())
</a><a href="#h106-0-171" id="h106-0-171" class="d">-			}
</a><a href="#h106-0-172" id="h106-0-172" class="d">-
</a><a href="#h106-0-173" id="h106-0-173" class="d">-			m := sv.Interface().(Encoder)
</a><a href="#h106-0-174" id="h106-0-174" class="d">-			if err := m.EncodeValues(name, &amp;values); err != nil {
</a><a href="#h106-0-175" id="h106-0-175" class="d">-				return err
</a><a href="#h106-0-176" id="h106-0-176" class="d">-			}
</a><a href="#h106-0-177" id="h106-0-177" class="d">-			continue
</a><a href="#h106-0-178" id="h106-0-178" class="d">-		}
</a><a href="#h106-0-179" id="h106-0-179" class="d">-
</a><a href="#h106-0-180" id="h106-0-180" class="d">-		if sv.Kind() == reflect.Slice || sv.Kind() == reflect.Array {
</a><a href="#h106-0-181" id="h106-0-181" class="d">-			var del byte
</a><a href="#h106-0-182" id="h106-0-182" class="d">-			if opts.Contains(&quot;comma&quot;) {
</a><a href="#h106-0-183" id="h106-0-183" class="d">-				del = &#39;,&#39;
</a><a href="#h106-0-184" id="h106-0-184" class="d">-			} else if opts.Contains(&quot;space&quot;) {
</a><a href="#h106-0-185" id="h106-0-185" class="d">-				del = &#39; &#39;
</a><a href="#h106-0-186" id="h106-0-186" class="d">-			} else if opts.Contains(&quot;brackets&quot;) {
</a><a href="#h106-0-187" id="h106-0-187" class="d">-				name = name + &quot;[]&quot;
</a><a href="#h106-0-188" id="h106-0-188" class="d">-			}
</a><a href="#h106-0-189" id="h106-0-189" class="d">-
</a><a href="#h106-0-190" id="h106-0-190" class="d">-			if del != 0 {
</a><a href="#h106-0-191" id="h106-0-191" class="d">-				s := new(bytes.Buffer)
</a><a href="#h106-0-192" id="h106-0-192" class="d">-				first := true
</a><a href="#h106-0-193" id="h106-0-193" class="d">-				for i := 0; i &lt; sv.Len(); i++ {
</a><a href="#h106-0-194" id="h106-0-194" class="d">-					if first {
</a><a href="#h106-0-195" id="h106-0-195" class="d">-						first = false
</a><a href="#h106-0-196" id="h106-0-196" class="d">-					} else {
</a><a href="#h106-0-197" id="h106-0-197" class="d">-						s.WriteByte(del)
</a><a href="#h106-0-198" id="h106-0-198" class="d">-					}
</a><a href="#h106-0-199" id="h106-0-199" class="d">-					s.WriteString(valueString(sv.Index(i), opts))
</a><a href="#h106-0-200" id="h106-0-200" class="d">-				}
</a><a href="#h106-0-201" id="h106-0-201" class="d">-				values.Add(name, s.String())
</a><a href="#h106-0-202" id="h106-0-202" class="d">-			} else {
</a><a href="#h106-0-203" id="h106-0-203" class="d">-				for i := 0; i &lt; sv.Len(); i++ {
</a><a href="#h106-0-204" id="h106-0-204" class="d">-					values.Add(name, valueString(sv.Index(i), opts))
</a><a href="#h106-0-205" id="h106-0-205" class="d">-				}
</a><a href="#h106-0-206" id="h106-0-206" class="d">-			}
</a><a href="#h106-0-207" id="h106-0-207" class="d">-			continue
</a><a href="#h106-0-208" id="h106-0-208" class="d">-		}
</a><a href="#h106-0-209" id="h106-0-209" class="d">-
</a><a href="#h106-0-210" id="h106-0-210" class="d">-		if sv.Type() == timeType {
</a><a href="#h106-0-211" id="h106-0-211" class="d">-			values.Add(name, valueString(sv, opts))
</a><a href="#h106-0-212" id="h106-0-212" class="d">-			continue
</a><a href="#h106-0-213" id="h106-0-213" class="d">-		}
</a><a href="#h106-0-214" id="h106-0-214" class="d">-
</a><a href="#h106-0-215" id="h106-0-215" class="d">-		for sv.Kind() == reflect.Ptr {
</a><a href="#h106-0-216" id="h106-0-216" class="d">-			if sv.IsNil() {
</a><a href="#h106-0-217" id="h106-0-217" class="d">-				break
</a><a href="#h106-0-218" id="h106-0-218" class="d">-			}
</a><a href="#h106-0-219" id="h106-0-219" class="d">-			sv = sv.Elem()
</a><a href="#h106-0-220" id="h106-0-220" class="d">-		}
</a><a href="#h106-0-221" id="h106-0-221" class="d">-
</a><a href="#h106-0-222" id="h106-0-222" class="d">-		if sv.Kind() == reflect.Struct {
</a><a href="#h106-0-223" id="h106-0-223" class="d">-			reflectValue(values, sv, name)
</a><a href="#h106-0-224" id="h106-0-224" class="d">-			continue
</a><a href="#h106-0-225" id="h106-0-225" class="d">-		}
</a><a href="#h106-0-226" id="h106-0-226" class="d">-
</a><a href="#h106-0-227" id="h106-0-227" class="d">-		values.Add(name, valueString(sv, opts))
</a><a href="#h106-0-228" id="h106-0-228" class="d">-	}
</a><a href="#h106-0-229" id="h106-0-229" class="d">-
</a><a href="#h106-0-230" id="h106-0-230" class="d">-	for _, f := range embedded {
</a><a href="#h106-0-231" id="h106-0-231" class="d">-		if err := reflectValue(values, f, scope); err != nil {
</a><a href="#h106-0-232" id="h106-0-232" class="d">-			return err
</a><a href="#h106-0-233" id="h106-0-233" class="d">-		}
</a><a href="#h106-0-234" id="h106-0-234" class="d">-	}
</a><a href="#h106-0-235" id="h106-0-235" class="d">-
</a><a href="#h106-0-236" id="h106-0-236" class="d">-	return nil
</a><a href="#h106-0-237" id="h106-0-237" class="d">-}
</a><a href="#h106-0-238" id="h106-0-238" class="d">-
</a><a href="#h106-0-239" id="h106-0-239" class="d">-// valueString returns the string representation of a value.
</a><a href="#h106-0-240" id="h106-0-240" class="d">-func valueString(v reflect.Value, opts tagOptions) string {
</a><a href="#h106-0-241" id="h106-0-241" class="d">-	for v.Kind() == reflect.Ptr {
</a><a href="#h106-0-242" id="h106-0-242" class="d">-		if v.IsNil() {
</a><a href="#h106-0-243" id="h106-0-243" class="d">-			return &quot;&quot;
</a><a href="#h106-0-244" id="h106-0-244" class="d">-		}
</a><a href="#h106-0-245" id="h106-0-245" class="d">-		v = v.Elem()
</a><a href="#h106-0-246" id="h106-0-246" class="d">-	}
</a><a href="#h106-0-247" id="h106-0-247" class="d">-
</a><a href="#h106-0-248" id="h106-0-248" class="d">-	if v.Kind() == reflect.Bool &amp;&amp; opts.Contains(&quot;int&quot;) {
</a><a href="#h106-0-249" id="h106-0-249" class="d">-		if v.Bool() {
</a><a href="#h106-0-250" id="h106-0-250" class="d">-			return &quot;1&quot;
</a><a href="#h106-0-251" id="h106-0-251" class="d">-		}
</a><a href="#h106-0-252" id="h106-0-252" class="d">-		return &quot;0&quot;
</a><a href="#h106-0-253" id="h106-0-253" class="d">-	}
</a><a href="#h106-0-254" id="h106-0-254" class="d">-
</a><a href="#h106-0-255" id="h106-0-255" class="d">-	if v.Type() == timeType {
</a><a href="#h106-0-256" id="h106-0-256" class="d">-		t := v.Interface().(time.Time)
</a><a href="#h106-0-257" id="h106-0-257" class="d">-		if opts.Contains(&quot;unix&quot;) {
</a><a href="#h106-0-258" id="h106-0-258" class="d">-			return strconv.FormatInt(t.Unix(), 10)
</a><a href="#h106-0-259" id="h106-0-259" class="d">-		}
</a><a href="#h106-0-260" id="h106-0-260" class="d">-		return t.Format(time.RFC3339)
</a><a href="#h106-0-261" id="h106-0-261" class="d">-	}
</a><a href="#h106-0-262" id="h106-0-262" class="d">-
</a><a href="#h106-0-263" id="h106-0-263" class="d">-	return fmt.Sprint(v.Interface())
</a><a href="#h106-0-264" id="h106-0-264" class="d">-}
</a><a href="#h106-0-265" id="h106-0-265" class="d">-
</a><a href="#h106-0-266" id="h106-0-266" class="d">-// isEmptyValue checks if a value should be considered empty for the purposes
</a><a href="#h106-0-267" id="h106-0-267" class="d">-// of omitting fields with the &quot;omitempty&quot; option.
</a><a href="#h106-0-268" id="h106-0-268" class="d">-func isEmptyValue(v reflect.Value) bool {
</a><a href="#h106-0-269" id="h106-0-269" class="d">-	switch v.Kind() {
</a><a href="#h106-0-270" id="h106-0-270" class="d">-	case reflect.Array, reflect.Map, reflect.Slice, reflect.String:
</a><a href="#h106-0-271" id="h106-0-271" class="d">-		return v.Len() == 0
</a><a href="#h106-0-272" id="h106-0-272" class="d">-	case reflect.Bool:
</a><a href="#h106-0-273" id="h106-0-273" class="d">-		return !v.Bool()
</a><a href="#h106-0-274" id="h106-0-274" class="d">-	case reflect.Int, reflect.Int8, reflect.Int16, reflect.Int32, reflect.Int64:
</a><a href="#h106-0-275" id="h106-0-275" class="d">-		return v.Int() == 0
</a><a href="#h106-0-276" id="h106-0-276" class="d">-	case reflect.Uint, reflect.Uint8, reflect.Uint16, reflect.Uint32, reflect.Uint64, reflect.Uintptr:
</a><a href="#h106-0-277" id="h106-0-277" class="d">-		return v.Uint() == 0
</a><a href="#h106-0-278" id="h106-0-278" class="d">-	case reflect.Float32, reflect.Float64:
</a><a href="#h106-0-279" id="h106-0-279" class="d">-		return v.Float() == 0
</a><a href="#h106-0-280" id="h106-0-280" class="d">-	case reflect.Interface, reflect.Ptr:
</a><a href="#h106-0-281" id="h106-0-281" class="d">-		return v.IsNil()
</a><a href="#h106-0-282" id="h106-0-282" class="d">-	}
</a><a href="#h106-0-283" id="h106-0-283" class="d">-
</a><a href="#h106-0-284" id="h106-0-284" class="d">-	if v.Type() == timeType {
</a><a href="#h106-0-285" id="h106-0-285" class="d">-		return v.Interface().(time.Time).IsZero()
</a><a href="#h106-0-286" id="h106-0-286" class="d">-	}
</a><a href="#h106-0-287" id="h106-0-287" class="d">-
</a><a href="#h106-0-288" id="h106-0-288" class="d">-	return false
</a><a href="#h106-0-289" id="h106-0-289" class="d">-}
</a><a href="#h106-0-290" id="h106-0-290" class="d">-
</a><a href="#h106-0-291" id="h106-0-291" class="d">-// tagOptions is the string following a comma in a struct field&#39;s &quot;url&quot; tag, or
</a><a href="#h106-0-292" id="h106-0-292" class="d">-// the empty string. It does not include the leading comma.
</a><a href="#h106-0-293" id="h106-0-293" class="d">-type tagOptions []string
</a><a href="#h106-0-294" id="h106-0-294" class="d">-
</a><a href="#h106-0-295" id="h106-0-295" class="d">-// parseTag splits a struct field&#39;s url tag into its name and comma-separated
</a><a href="#h106-0-296" id="h106-0-296" class="d">-// options.
</a><a href="#h106-0-297" id="h106-0-297" class="d">-func parseTag(tag string) (string, tagOptions) {
</a><a href="#h106-0-298" id="h106-0-298" class="d">-	s := strings.Split(tag, &quot;,&quot;)
</a><a href="#h106-0-299" id="h106-0-299" class="d">-	return s[0], s[1:]
</a><a href="#h106-0-300" id="h106-0-300" class="d">-}
</a><a href="#h106-0-301" id="h106-0-301" class="d">-
</a><a href="#h106-0-302" id="h106-0-302" class="d">-// Contains checks whether the tagOptions contains the specified option.
</a><a href="#h106-0-303" id="h106-0-303" class="d">-func (o tagOptions) Contains(option string) bool {
</a><a href="#h106-0-304" id="h106-0-304" class="d">-	for _, s := range o {
</a><a href="#h106-0-305" id="h106-0-305" class="d">-		if s == option {
</a><a href="#h106-0-306" id="h106-0-306" class="d">-			return true
</a><a href="#h106-0-307" id="h106-0-307" class="d">-		}
</a><a href="#h106-0-308" id="h106-0-308" class="d">-	}
</a><a href="#h106-0-309" id="h106-0-309" class="d">-	return false
</a><a href="#h106-0-310" id="h106-0-310" class="d">-}
</a><b>diff --git a/<a id="h107" href="../file/vendor/github.com/honeycombio/libhoney-go/BUILD">vendor/github.com/honeycombio/libhoney-go/BUILD</a> b/<a href="../file/vendor/github.com/honeycombio/libhoney-go/BUILD">vendor/github.com/honeycombio/libhoney-go/BUILD</a></b>
<a href="#h107-0" id="h107-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h107-0-0" id="h107-0-0" class="d">-
</a><a href="#h107-0-1" id="h107-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h107-0-2" id="h107-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h107-0-3" id="h107-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h107-0-4" id="h107-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h107-0-5" id="h107-0-5" class="d">-)
</a><a href="#h107-0-6" id="h107-0-6" class="d">-
</a><a href="#h107-0-7" id="h107-0-7" class="d">-go_library(
</a><a href="#h107-0-8" id="h107-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h107-0-9" id="h107-0-9" class="d">-  srcs = [
</a><a href="#h107-0-10" id="h107-0-10" class="d">-    &quot;doc.go&quot;,
</a><a href="#h107-0-11" id="h107-0-11" class="d">-    &quot;libhoney.go&quot;,
</a><a href="#h107-0-12" id="h107-0-12" class="d">-    &quot;response.go&quot;,
</a><a href="#h107-0-13" id="h107-0-13" class="d">-    &quot;test_helpers.go&quot;,
</a><a href="#h107-0-14" id="h107-0-14" class="d">-    &quot;transmission.go&quot;,
</a><a href="#h107-0-15" id="h107-0-15" class="d">-  ],
</a><a href="#h107-0-16" id="h107-0-16" class="d">-  deps = [
</a><a href="#h107-0-17" id="h107-0-17" class="d">-    &quot;//vendor/github.com/facebookgo/muster:go_default_library&quot;,
</a><a href="#h107-0-18" id="h107-0-18" class="d">-    &quot;//vendor/gopkg.in/alexcesaro/statsd.v2:go_default_library&quot;,
</a><a href="#h107-0-19" id="h107-0-19" class="d">-  ],
</a><a href="#h107-0-20" id="h107-0-20" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h107-0-21" id="h107-0-21" class="d">-)
</a><a href="#h107-0-22" id="h107-0-22" class="d">-
</a><a href="#h107-0-23" id="h107-0-23" class="d">-
</a><b>diff --git a/<a id="h108" href="../file/vendor/github.com/honeycombio/libhoney-go/CONTRIBUTORS">vendor/github.com/honeycombio/libhoney-go/CONTRIBUTORS</a> b/<a href="../file/vendor/github.com/honeycombio/libhoney-go/CONTRIBUTORS">vendor/github.com/honeycombio/libhoney-go/CONTRIBUTORS</a></b>
<a href="#h108-0" id="h108-0" class="h">@@ -1,8 +0,0 @@
</a><a href="#h108-0-0" id="h108-0-0" class="d">-Libhoney contributors:
</a><a href="#h108-0-1" id="h108-0-1" class="d">-
</a><a href="#h108-0-2" id="h108-0-2" class="d">-Ben Hartshorne
</a><a href="#h108-0-3" id="h108-0-3" class="d">-Charity Majors
</a><a href="#h108-0-4" id="h108-0-4" class="d">-Chris Toshok
</a><a href="#h108-0-5" id="h108-0-5" class="d">-Christine Yen
</a><a href="#h108-0-6" id="h108-0-6" class="d">-Conrad Irwin
</a><a href="#h108-0-7" id="h108-0-7" class="d">-Ian Wilkes
</a><b>diff --git a/<a id="h109" href="../file/vendor/github.com/honeycombio/libhoney-go/LICENSE">vendor/github.com/honeycombio/libhoney-go/LICENSE</a> b/<a href="../file/vendor/github.com/honeycombio/libhoney-go/LICENSE">vendor/github.com/honeycombio/libhoney-go/LICENSE</a></b>
<a href="#h109-0" id="h109-0" class="h">@@ -1,201 +0,0 @@
</a><a href="#h109-0-0" id="h109-0-0" class="d">-                                 Apache License
</a><a href="#h109-0-1" id="h109-0-1" class="d">-                           Version 2.0, January 2004
</a><a href="#h109-0-2" id="h109-0-2" class="d">-                        http://www.apache.org/licenses/
</a><a href="#h109-0-3" id="h109-0-3" class="d">-
</a><a href="#h109-0-4" id="h109-0-4" class="d">-   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION
</a><a href="#h109-0-5" id="h109-0-5" class="d">-
</a><a href="#h109-0-6" id="h109-0-6" class="d">-   1. Definitions.
</a><a href="#h109-0-7" id="h109-0-7" class="d">-
</a><a href="#h109-0-8" id="h109-0-8" class="d">-      &quot;License&quot; shall mean the terms and conditions for use, reproduction,
</a><a href="#h109-0-9" id="h109-0-9" class="d">-      and distribution as defined by Sections 1 through 9 of this document.
</a><a href="#h109-0-10" id="h109-0-10" class="d">-
</a><a href="#h109-0-11" id="h109-0-11" class="d">-      &quot;Licensor&quot; shall mean the copyright owner or entity authorized by
</a><a href="#h109-0-12" id="h109-0-12" class="d">-      the copyright owner that is granting the License.
</a><a href="#h109-0-13" id="h109-0-13" class="d">-
</a><a href="#h109-0-14" id="h109-0-14" class="d">-      &quot;Legal Entity&quot; shall mean the union of the acting entity and all
</a><a href="#h109-0-15" id="h109-0-15" class="d">-      other entities that control, are controlled by, or are under common
</a><a href="#h109-0-16" id="h109-0-16" class="d">-      control with that entity. For the purposes of this definition,
</a><a href="#h109-0-17" id="h109-0-17" class="d">-      &quot;control&quot; means (i) the power, direct or indirect, to cause the
</a><a href="#h109-0-18" id="h109-0-18" class="d">-      direction or management of such entity, whether by contract or
</a><a href="#h109-0-19" id="h109-0-19" class="d">-      otherwise, or (ii) ownership of fifty percent (50%) or more of the
</a><a href="#h109-0-20" id="h109-0-20" class="d">-      outstanding shares, or (iii) beneficial ownership of such entity.
</a><a href="#h109-0-21" id="h109-0-21" class="d">-
</a><a href="#h109-0-22" id="h109-0-22" class="d">-      &quot;You&quot; (or &quot;Your&quot;) shall mean an individual or Legal Entity
</a><a href="#h109-0-23" id="h109-0-23" class="d">-      exercising permissions granted by this License.
</a><a href="#h109-0-24" id="h109-0-24" class="d">-
</a><a href="#h109-0-25" id="h109-0-25" class="d">-      &quot;Source&quot; form shall mean the preferred form for making modifications,
</a><a href="#h109-0-26" id="h109-0-26" class="d">-      including but not limited to software source code, documentation
</a><a href="#h109-0-27" id="h109-0-27" class="d">-      source, and configuration files.
</a><a href="#h109-0-28" id="h109-0-28" class="d">-
</a><a href="#h109-0-29" id="h109-0-29" class="d">-      &quot;Object&quot; form shall mean any form resulting from mechanical
</a><a href="#h109-0-30" id="h109-0-30" class="d">-      transformation or translation of a Source form, including but
</a><a href="#h109-0-31" id="h109-0-31" class="d">-      not limited to compiled object code, generated documentation,
</a><a href="#h109-0-32" id="h109-0-32" class="d">-      and conversions to other media types.
</a><a href="#h109-0-33" id="h109-0-33" class="d">-
</a><a href="#h109-0-34" id="h109-0-34" class="d">-      &quot;Work&quot; shall mean the work of authorship, whether in Source or
</a><a href="#h109-0-35" id="h109-0-35" class="d">-      Object form, made available under the License, as indicated by a
</a><a href="#h109-0-36" id="h109-0-36" class="d">-      copyright notice that is included in or attached to the work
</a><a href="#h109-0-37" id="h109-0-37" class="d">-      (an example is provided in the Appendix below).
</a><a href="#h109-0-38" id="h109-0-38" class="d">-
</a><a href="#h109-0-39" id="h109-0-39" class="d">-      &quot;Derivative Works&quot; shall mean any work, whether in Source or Object
</a><a href="#h109-0-40" id="h109-0-40" class="d">-      form, that is based on (or derived from) the Work and for which the
</a><a href="#h109-0-41" id="h109-0-41" class="d">-      editorial revisions, annotations, elaborations, or other modifications
</a><a href="#h109-0-42" id="h109-0-42" class="d">-      represent, as a whole, an original work of authorship. For the purposes
</a><a href="#h109-0-43" id="h109-0-43" class="d">-      of this License, Derivative Works shall not include works that remain
</a><a href="#h109-0-44" id="h109-0-44" class="d">-      separable from, or merely link (or bind by name) to the interfaces of,
</a><a href="#h109-0-45" id="h109-0-45" class="d">-      the Work and Derivative Works thereof.
</a><a href="#h109-0-46" id="h109-0-46" class="d">-
</a><a href="#h109-0-47" id="h109-0-47" class="d">-      &quot;Contribution&quot; shall mean any work of authorship, including
</a><a href="#h109-0-48" id="h109-0-48" class="d">-      the original version of the Work and any modifications or additions
</a><a href="#h109-0-49" id="h109-0-49" class="d">-      to that Work or Derivative Works thereof, that is intentionally
</a><a href="#h109-0-50" id="h109-0-50" class="d">-      submitted to Licensor for inclusion in the Work by the copyright owner
</a><a href="#h109-0-51" id="h109-0-51" class="d">-      or by an individual or Legal Entity authorized to submit on behalf of
</a><a href="#h109-0-52" id="h109-0-52" class="d">-      the copyright owner. For the purposes of this definition, &quot;submitted&quot;
</a><a href="#h109-0-53" id="h109-0-53" class="d">-      means any form of electronic, verbal, or written communication sent
</a><a href="#h109-0-54" id="h109-0-54" class="d">-      to the Licensor or its representatives, including but not limited to
</a><a href="#h109-0-55" id="h109-0-55" class="d">-      communication on electronic mailing lists, source code control systems,
</a><a href="#h109-0-56" id="h109-0-56" class="d">-      and issue tracking systems that are managed by, or on behalf of, the
</a><a href="#h109-0-57" id="h109-0-57" class="d">-      Licensor for the purpose of discussing and improving the Work, but
</a><a href="#h109-0-58" id="h109-0-58" class="d">-      excluding communication that is conspicuously marked or otherwise
</a><a href="#h109-0-59" id="h109-0-59" class="d">-      designated in writing by the copyright owner as &quot;Not a Contribution.&quot;
</a><a href="#h109-0-60" id="h109-0-60" class="d">-
</a><a href="#h109-0-61" id="h109-0-61" class="d">-      &quot;Contributor&quot; shall mean Licensor and any individual or Legal Entity
</a><a href="#h109-0-62" id="h109-0-62" class="d">-      on behalf of whom a Contribution has been received by Licensor and
</a><a href="#h109-0-63" id="h109-0-63" class="d">-      subsequently incorporated within the Work.
</a><a href="#h109-0-64" id="h109-0-64" class="d">-
</a><a href="#h109-0-65" id="h109-0-65" class="d">-   2. Grant of Copyright License. Subject to the terms and conditions of
</a><a href="#h109-0-66" id="h109-0-66" class="d">-      this License, each Contributor hereby grants to You a perpetual,
</a><a href="#h109-0-67" id="h109-0-67" class="d">-      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
</a><a href="#h109-0-68" id="h109-0-68" class="d">-      copyright license to reproduce, prepare Derivative Works of,
</a><a href="#h109-0-69" id="h109-0-69" class="d">-      publicly display, publicly perform, sublicense, and distribute the
</a><a href="#h109-0-70" id="h109-0-70" class="d">-      Work and such Derivative Works in Source or Object form.
</a><a href="#h109-0-71" id="h109-0-71" class="d">-
</a><a href="#h109-0-72" id="h109-0-72" class="d">-   3. Grant of Patent License. Subject to the terms and conditions of
</a><a href="#h109-0-73" id="h109-0-73" class="d">-      this License, each Contributor hereby grants to You a perpetual,
</a><a href="#h109-0-74" id="h109-0-74" class="d">-      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
</a><a href="#h109-0-75" id="h109-0-75" class="d">-      (except as stated in this section) patent license to make, have made,
</a><a href="#h109-0-76" id="h109-0-76" class="d">-      use, offer to sell, sell, import, and otherwise transfer the Work,
</a><a href="#h109-0-77" id="h109-0-77" class="d">-      where such license applies only to those patent claims licensable
</a><a href="#h109-0-78" id="h109-0-78" class="d">-      by such Contributor that are necessarily infringed by their
</a><a href="#h109-0-79" id="h109-0-79" class="d">-      Contribution(s) alone or by combination of their Contribution(s)
</a><a href="#h109-0-80" id="h109-0-80" class="d">-      with the Work to which such Contribution(s) was submitted. If You
</a><a href="#h109-0-81" id="h109-0-81" class="d">-      institute patent litigation against any entity (including a
</a><a href="#h109-0-82" id="h109-0-82" class="d">-      cross-claim or counterclaim in a lawsuit) alleging that the Work
</a><a href="#h109-0-83" id="h109-0-83" class="d">-      or a Contribution incorporated within the Work constitutes direct
</a><a href="#h109-0-84" id="h109-0-84" class="d">-      or contributory patent infringement, then any patent licenses
</a><a href="#h109-0-85" id="h109-0-85" class="d">-      granted to You under this License for that Work shall terminate
</a><a href="#h109-0-86" id="h109-0-86" class="d">-      as of the date such litigation is filed.
</a><a href="#h109-0-87" id="h109-0-87" class="d">-
</a><a href="#h109-0-88" id="h109-0-88" class="d">-   4. Redistribution. You may reproduce and distribute copies of the
</a><a href="#h109-0-89" id="h109-0-89" class="d">-      Work or Derivative Works thereof in any medium, with or without
</a><a href="#h109-0-90" id="h109-0-90" class="d">-      modifications, and in Source or Object form, provided that You
</a><a href="#h109-0-91" id="h109-0-91" class="d">-      meet the following conditions:
</a><a href="#h109-0-92" id="h109-0-92" class="d">-
</a><a href="#h109-0-93" id="h109-0-93" class="d">-      (a) You must give any other recipients of the Work or
</a><a href="#h109-0-94" id="h109-0-94" class="d">-          Derivative Works a copy of this License; and
</a><a href="#h109-0-95" id="h109-0-95" class="d">-
</a><a href="#h109-0-96" id="h109-0-96" class="d">-      (b) You must cause any modified files to carry prominent notices
</a><a href="#h109-0-97" id="h109-0-97" class="d">-          stating that You changed the files; and
</a><a href="#h109-0-98" id="h109-0-98" class="d">-
</a><a href="#h109-0-99" id="h109-0-99" class="d">-      (c) You must retain, in the Source form of any Derivative Works
</a><a href="#h109-0-100" id="h109-0-100" class="d">-          that You distribute, all copyright, patent, trademark, and
</a><a href="#h109-0-101" id="h109-0-101" class="d">-          attribution notices from the Source form of the Work,
</a><a href="#h109-0-102" id="h109-0-102" class="d">-          excluding those notices that do not pertain to any part of
</a><a href="#h109-0-103" id="h109-0-103" class="d">-          the Derivative Works; and
</a><a href="#h109-0-104" id="h109-0-104" class="d">-
</a><a href="#h109-0-105" id="h109-0-105" class="d">-      (d) If the Work includes a &quot;NOTICE&quot; text file as part of its
</a><a href="#h109-0-106" id="h109-0-106" class="d">-          distribution, then any Derivative Works that You distribute must
</a><a href="#h109-0-107" id="h109-0-107" class="d">-          include a readable copy of the attribution notices contained
</a><a href="#h109-0-108" id="h109-0-108" class="d">-          within such NOTICE file, excluding those notices that do not
</a><a href="#h109-0-109" id="h109-0-109" class="d">-          pertain to any part of the Derivative Works, in at least one
</a><a href="#h109-0-110" id="h109-0-110" class="d">-          of the following places: within a NOTICE text file distributed
</a><a href="#h109-0-111" id="h109-0-111" class="d">-          as part of the Derivative Works; within the Source form or
</a><a href="#h109-0-112" id="h109-0-112" class="d">-          documentation, if provided along with the Derivative Works; or,
</a><a href="#h109-0-113" id="h109-0-113" class="d">-          within a display generated by the Derivative Works, if and
</a><a href="#h109-0-114" id="h109-0-114" class="d">-          wherever such third-party notices normally appear. The contents
</a><a href="#h109-0-115" id="h109-0-115" class="d">-          of the NOTICE file are for informational purposes only and
</a><a href="#h109-0-116" id="h109-0-116" class="d">-          do not modify the License. You may add Your own attribution
</a><a href="#h109-0-117" id="h109-0-117" class="d">-          notices within Derivative Works that You distribute, alongside
</a><a href="#h109-0-118" id="h109-0-118" class="d">-          or as an addendum to the NOTICE text from the Work, provided
</a><a href="#h109-0-119" id="h109-0-119" class="d">-          that such additional attribution notices cannot be construed
</a><a href="#h109-0-120" id="h109-0-120" class="d">-          as modifying the License.
</a><a href="#h109-0-121" id="h109-0-121" class="d">-
</a><a href="#h109-0-122" id="h109-0-122" class="d">-      You may add Your own copyright statement to Your modifications and
</a><a href="#h109-0-123" id="h109-0-123" class="d">-      may provide additional or different license terms and conditions
</a><a href="#h109-0-124" id="h109-0-124" class="d">-      for use, reproduction, or distribution of Your modifications, or
</a><a href="#h109-0-125" id="h109-0-125" class="d">-      for any such Derivative Works as a whole, provided Your use,
</a><a href="#h109-0-126" id="h109-0-126" class="d">-      reproduction, and distribution of the Work otherwise complies with
</a><a href="#h109-0-127" id="h109-0-127" class="d">-      the conditions stated in this License.
</a><a href="#h109-0-128" id="h109-0-128" class="d">-
</a><a href="#h109-0-129" id="h109-0-129" class="d">-   5. Submission of Contributions. Unless You explicitly state otherwise,
</a><a href="#h109-0-130" id="h109-0-130" class="d">-      any Contribution intentionally submitted for inclusion in the Work
</a><a href="#h109-0-131" id="h109-0-131" class="d">-      by You to the Licensor shall be under the terms and conditions of
</a><a href="#h109-0-132" id="h109-0-132" class="d">-      this License, without any additional terms or conditions.
</a><a href="#h109-0-133" id="h109-0-133" class="d">-      Notwithstanding the above, nothing herein shall supersede or modify
</a><a href="#h109-0-134" id="h109-0-134" class="d">-      the terms of any separate license agreement you may have executed
</a><a href="#h109-0-135" id="h109-0-135" class="d">-      with Licensor regarding such Contributions.
</a><a href="#h109-0-136" id="h109-0-136" class="d">-
</a><a href="#h109-0-137" id="h109-0-137" class="d">-   6. Trademarks. This License does not grant permission to use the trade
</a><a href="#h109-0-138" id="h109-0-138" class="d">-      names, trademarks, service marks, or product names of the Licensor,
</a><a href="#h109-0-139" id="h109-0-139" class="d">-      except as required for reasonable and customary use in describing the
</a><a href="#h109-0-140" id="h109-0-140" class="d">-      origin of the Work and reproducing the content of the NOTICE file.
</a><a href="#h109-0-141" id="h109-0-141" class="d">-
</a><a href="#h109-0-142" id="h109-0-142" class="d">-   7. Disclaimer of Warranty. Unless required by applicable law or
</a><a href="#h109-0-143" id="h109-0-143" class="d">-      agreed to in writing, Licensor provides the Work (and each
</a><a href="#h109-0-144" id="h109-0-144" class="d">-      Contributor provides its Contributions) on an &quot;AS IS&quot; BASIS,
</a><a href="#h109-0-145" id="h109-0-145" class="d">-      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
</a><a href="#h109-0-146" id="h109-0-146" class="d">-      implied, including, without limitation, any warranties or conditions
</a><a href="#h109-0-147" id="h109-0-147" class="d">-      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
</a><a href="#h109-0-148" id="h109-0-148" class="d">-      PARTICULAR PURPOSE. You are solely responsible for determining the
</a><a href="#h109-0-149" id="h109-0-149" class="d">-      appropriateness of using or redistributing the Work and assume any
</a><a href="#h109-0-150" id="h109-0-150" class="d">-      risks associated with Your exercise of permissions under this License.
</a><a href="#h109-0-151" id="h109-0-151" class="d">-
</a><a href="#h109-0-152" id="h109-0-152" class="d">-   8. Limitation of Liability. In no event and under no legal theory,
</a><a href="#h109-0-153" id="h109-0-153" class="d">-      whether in tort (including negligence), contract, or otherwise,
</a><a href="#h109-0-154" id="h109-0-154" class="d">-      unless required by applicable law (such as deliberate and grossly
</a><a href="#h109-0-155" id="h109-0-155" class="d">-      negligent acts) or agreed to in writing, shall any Contributor be
</a><a href="#h109-0-156" id="h109-0-156" class="d">-      liable to You for damages, including any direct, indirect, special,
</a><a href="#h109-0-157" id="h109-0-157" class="d">-      incidental, or consequential damages of any character arising as a
</a><a href="#h109-0-158" id="h109-0-158" class="d">-      result of this License or out of the use or inability to use the
</a><a href="#h109-0-159" id="h109-0-159" class="d">-      Work (including but not limited to damages for loss of goodwill,
</a><a href="#h109-0-160" id="h109-0-160" class="d">-      work stoppage, computer failure or malfunction, or any and all
</a><a href="#h109-0-161" id="h109-0-161" class="d">-      other commercial damages or losses), even if such Contributor
</a><a href="#h109-0-162" id="h109-0-162" class="d">-      has been advised of the possibility of such damages.
</a><a href="#h109-0-163" id="h109-0-163" class="d">-
</a><a href="#h109-0-164" id="h109-0-164" class="d">-   9. Accepting Warranty or Additional Liability. While redistributing
</a><a href="#h109-0-165" id="h109-0-165" class="d">-      the Work or Derivative Works thereof, You may choose to offer,
</a><a href="#h109-0-166" id="h109-0-166" class="d">-      and charge a fee for, acceptance of support, warranty, indemnity,
</a><a href="#h109-0-167" id="h109-0-167" class="d">-      or other liability obligations and/or rights consistent with this
</a><a href="#h109-0-168" id="h109-0-168" class="d">-      License. However, in accepting such obligations, You may act only
</a><a href="#h109-0-169" id="h109-0-169" class="d">-      on Your own behalf and on Your sole responsibility, not on behalf
</a><a href="#h109-0-170" id="h109-0-170" class="d">-      of any other Contributor, and only if You agree to indemnify,
</a><a href="#h109-0-171" id="h109-0-171" class="d">-      defend, and hold each Contributor harmless for any liability
</a><a href="#h109-0-172" id="h109-0-172" class="d">-      incurred by, or claims asserted against, such Contributor by reason
</a><a href="#h109-0-173" id="h109-0-173" class="d">-      of your accepting any such warranty or additional liability.
</a><a href="#h109-0-174" id="h109-0-174" class="d">-
</a><a href="#h109-0-175" id="h109-0-175" class="d">-   END OF TERMS AND CONDITIONS
</a><a href="#h109-0-176" id="h109-0-176" class="d">-
</a><a href="#h109-0-177" id="h109-0-177" class="d">-   APPENDIX: How to apply the Apache License to your work.
</a><a href="#h109-0-178" id="h109-0-178" class="d">-
</a><a href="#h109-0-179" id="h109-0-179" class="d">-      To apply the Apache License to your work, attach the following
</a><a href="#h109-0-180" id="h109-0-180" class="d">-      boilerplate notice, with the fields enclosed by brackets &quot;{}&quot;
</a><a href="#h109-0-181" id="h109-0-181" class="d">-      replaced with your own identifying information. (Don&#39;t include
</a><a href="#h109-0-182" id="h109-0-182" class="d">-      the brackets!)  The text should be enclosed in the appropriate
</a><a href="#h109-0-183" id="h109-0-183" class="d">-      comment syntax for the file format. We also recommend that a
</a><a href="#h109-0-184" id="h109-0-184" class="d">-      file or class name and description of purpose be included on the
</a><a href="#h109-0-185" id="h109-0-185" class="d">-      same &quot;printed page&quot; as the copyright notice for easier
</a><a href="#h109-0-186" id="h109-0-186" class="d">-      identification within third-party archives.
</a><a href="#h109-0-187" id="h109-0-187" class="d">-
</a><a href="#h109-0-188" id="h109-0-188" class="d">-   Copyright {yyyy} {name of copyright owner}
</a><a href="#h109-0-189" id="h109-0-189" class="d">-
</a><a href="#h109-0-190" id="h109-0-190" class="d">-   Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
</a><a href="#h109-0-191" id="h109-0-191" class="d">-   you may not use this file except in compliance with the License.
</a><a href="#h109-0-192" id="h109-0-192" class="d">-   You may obtain a copy of the License at
</a><a href="#h109-0-193" id="h109-0-193" class="d">-
</a><a href="#h109-0-194" id="h109-0-194" class="d">-       http://www.apache.org/licenses/LICENSE-2.0
</a><a href="#h109-0-195" id="h109-0-195" class="d">-
</a><a href="#h109-0-196" id="h109-0-196" class="d">-   Unless required by applicable law or agreed to in writing, software
</a><a href="#h109-0-197" id="h109-0-197" class="d">-   distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
</a><a href="#h109-0-198" id="h109-0-198" class="d">-   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
</a><a href="#h109-0-199" id="h109-0-199" class="d">-   See the License for the specific language governing permissions and
</a><a href="#h109-0-200" id="h109-0-200" class="d">-   limitations under the License.
</a><b>diff --git a/<a id="h110" href="../file/vendor/github.com/honeycombio/libhoney-go/README.md">vendor/github.com/honeycombio/libhoney-go/README.md</a> b/<a href="../file/vendor/github.com/honeycombio/libhoney-go/README.md">vendor/github.com/honeycombio/libhoney-go/README.md</a></b>
<a href="#h110-0" id="h110-0" class="h">@@ -1,29 +0,0 @@
</a><a href="#h110-0-0" id="h110-0-0" class="d">-A Go library for sending data to Honeycomb (http://honeycomb.io)
</a><a href="#h110-0-1" id="h110-0-1" class="d">-========================================================
</a><a href="#h110-0-2" id="h110-0-2" class="d">-
</a><a href="#h110-0-3" id="h110-0-3" class="d">-[![Build Status](https://travis-ci.org/honeycombio/libhoney-go.svg?branch=master)](https://travis-ci.org/honeycombio/libhoney-go)
</a><a href="#h110-0-4" id="h110-0-4" class="d">-
</a><a href="#h110-0-5" id="h110-0-5" class="d">-## Summary
</a><a href="#h110-0-6" id="h110-0-6" class="d">-
</a><a href="#h110-0-7" id="h110-0-7" class="d">-libhoney is written to ease the process of sending data to Honeycomb from within
</a><a href="#h110-0-8" id="h110-0-8" class="d">-your go code.
</a><a href="#h110-0-9" id="h110-0-9" class="d">-
</a><a href="#h110-0-10" id="h110-0-10" class="d">-For an overview of how to use a honeycomb library, see our documentation at
</a><a href="#h110-0-11" id="h110-0-11" class="d">-https://honeycomb.io/docs/send-data/sdks/
</a><a href="#h110-0-12" id="h110-0-12" class="d">-
</a><a href="#h110-0-13" id="h110-0-13" class="d">-For specifics on the go libhoney, check out the
</a><a href="#h110-0-14" id="h110-0-14" class="d">-[godoc](https://godoc.org/github.com/honeycombio/libhoney-go)
</a><a href="#h110-0-15" id="h110-0-15" class="d">-
</a><a href="#h110-0-16" id="h110-0-16" class="d">-## Example
</a><a href="#h110-0-17" id="h110-0-17" class="d">-
</a><a href="#h110-0-18" id="h110-0-18" class="d">-See the examples directory for sample code demonstrating how to use events,
</a><a href="#h110-0-19" id="h110-0-19" class="d">-builders, fields, and dynamic fields.
</a><a href="#h110-0-20" id="h110-0-20" class="d">-
</a><a href="#h110-0-21" id="h110-0-21" class="d">-## Contributions
</a><a href="#h110-0-22" id="h110-0-22" class="d">-
</a><a href="#h110-0-23" id="h110-0-23" class="d">-Features, bug fixes and other changes to libhoney are gladly accepted. Please
</a><a href="#h110-0-24" id="h110-0-24" class="d">-open issues or a pull request with your change. Remember to add your name to the
</a><a href="#h110-0-25" id="h110-0-25" class="d">-CONTRIBUTORS file!
</a><a href="#h110-0-26" id="h110-0-26" class="d">-
</a><a href="#h110-0-27" id="h110-0-27" class="d">-All contributions will be released under the Apache License 2.0.
</a><a href="#h110-0-28" id="h110-0-28" class="d">-
</a><b>diff --git a/<a id="h111" href="../file/vendor/github.com/honeycombio/libhoney-go/doc.go">vendor/github.com/honeycombio/libhoney-go/doc.go</a> b/<a href="../file/vendor/github.com/honeycombio/libhoney-go/doc.go">vendor/github.com/honeycombio/libhoney-go/doc.go</a></b>
<a href="#h111-0" id="h111-0" class="h">@@ -1,13 +0,0 @@
</a><a href="#h111-0-0" id="h111-0-0" class="d">-/*
</a><a href="#h111-0-1" id="h111-0-1" class="d">-Package libhoney is a client library for sending data to https://honeycomb.io
</a><a href="#h111-0-2" id="h111-0-2" class="d">-
</a><a href="#h111-0-3" id="h111-0-3" class="d">-Summary
</a><a href="#h111-0-4" id="h111-0-4" class="d">-
</a><a href="#h111-0-5" id="h111-0-5" class="d">-libhoney aims to make it as easy as possible to create events and send them on
</a><a href="#h111-0-6" id="h111-0-6" class="d">-into honeycomb.
</a><a href="#h111-0-7" id="h111-0-7" class="d">-
</a><a href="#h111-0-8" id="h111-0-8" class="d">-See https://docs.honeycomb.io for background on how to use this library
</a><a href="#h111-0-9" id="h111-0-9" class="d">-
</a><a href="#h111-0-10" id="h111-0-10" class="d">-Look in the examples/ directory for a complete example using libhoney.
</a><a href="#h111-0-11" id="h111-0-11" class="d">-*/
</a><a href="#h111-0-12" id="h111-0-12" class="d">-package libhoney
</a><b>diff --git a/<a id="h112" href="../file/vendor/github.com/honeycombio/libhoney-go/libhoney.go">vendor/github.com/honeycombio/libhoney-go/libhoney.go</a> b/<a href="../file/vendor/github.com/honeycombio/libhoney-go/libhoney.go">vendor/github.com/honeycombio/libhoney-go/libhoney.go</a></b>
<a href="#h112-0" id="h112-0" class="h">@@ -1,528 +0,0 @@
</a><a href="#h112-0-0" id="h112-0-0" class="d">-// Copyright 2016 Honeycomb, Hound Technology, Inc. All rights reserved.
</a><a href="#h112-0-1" id="h112-0-1" class="d">-// Use of this source code is governed by the Apache License 2.0
</a><a href="#h112-0-2" id="h112-0-2" class="d">-// license that can be found in the LICENSE file.
</a><a href="#h112-0-3" id="h112-0-3" class="d">-
</a><a href="#h112-0-4" id="h112-0-4" class="d">-package libhoney
</a><a href="#h112-0-5" id="h112-0-5" class="d">-
</a><a href="#h112-0-6" id="h112-0-6" class="d">-import (
</a><a href="#h112-0-7" id="h112-0-7" class="d">-	&quot;encoding/json&quot;
</a><a href="#h112-0-8" id="h112-0-8" class="d">-	&quot;errors&quot;
</a><a href="#h112-0-9" id="h112-0-9" class="d">-	&quot;fmt&quot;
</a><a href="#h112-0-10" id="h112-0-10" class="d">-	&quot;math/rand&quot;
</a><a href="#h112-0-11" id="h112-0-11" class="d">-	&quot;reflect&quot;
</a><a href="#h112-0-12" id="h112-0-12" class="d">-	&quot;strings&quot;
</a><a href="#h112-0-13" id="h112-0-13" class="d">-	&quot;sync&quot;
</a><a href="#h112-0-14" id="h112-0-14" class="d">-	&quot;time&quot;
</a><a href="#h112-0-15" id="h112-0-15" class="d">-
</a><a href="#h112-0-16" id="h112-0-16" class="d">-	&quot;gopkg.in/alexcesaro/statsd.v2&quot;
</a><a href="#h112-0-17" id="h112-0-17" class="d">-)
</a><a href="#h112-0-18" id="h112-0-18" class="d">-
</a><a href="#h112-0-19" id="h112-0-19" class="d">-const (
</a><a href="#h112-0-20" id="h112-0-20" class="d">-	defaultSampleRate = 1
</a><a href="#h112-0-21" id="h112-0-21" class="d">-	defaultAPIHost    = &quot;https://api.honeycomb.io/&quot;
</a><a href="#h112-0-22" id="h112-0-22" class="d">-	version           = &quot;1.1.0&quot;
</a><a href="#h112-0-23" id="h112-0-23" class="d">-)
</a><a href="#h112-0-24" id="h112-0-24" class="d">-
</a><a href="#h112-0-25" id="h112-0-25" class="d">-var (
</a><a href="#h112-0-26" id="h112-0-26" class="d">-	ptrKinds = []reflect.Kind{reflect.Ptr, reflect.Slice, reflect.Map}
</a><a href="#h112-0-27" id="h112-0-27" class="d">-)
</a><a href="#h112-0-28" id="h112-0-28" class="d">-
</a><a href="#h112-0-29" id="h112-0-29" class="d">-// UserAgentAddition is a variable set at compile time via -ldflags to allow you
</a><a href="#h112-0-30" id="h112-0-30" class="d">-// to augment the &quot;User-Agent&quot; header that libhoney sends along with each event.
</a><a href="#h112-0-31" id="h112-0-31" class="d">-// The default User-Agent is &quot;libhoney-go/1.1.0&quot;. If you set this variable, its
</a><a href="#h112-0-32" id="h112-0-32" class="d">-// contents will be appended to the User-Agent string, separated by a space. The
</a><a href="#h112-0-33" id="h112-0-33" class="d">-// expected format is product-name/version, eg &quot;myapp/1.0&quot;
</a><a href="#h112-0-34" id="h112-0-34" class="d">-var UserAgentAddition string
</a><a href="#h112-0-35" id="h112-0-35" class="d">-
</a><a href="#h112-0-36" id="h112-0-36" class="d">-type Config struct {
</a><a href="#h112-0-37" id="h112-0-37" class="d">-
</a><a href="#h112-0-38" id="h112-0-38" class="d">-	// WriteKey is the Honeycomb authentication token. If it is specified during
</a><a href="#h112-0-39" id="h112-0-39" class="d">-	// libhoney initialization, it will be used as the default write key for all
</a><a href="#h112-0-40" id="h112-0-40" class="d">-	// events. If absent, write key must be explicitly set on a builder or
</a><a href="#h112-0-41" id="h112-0-41" class="d">-	// event. Find your team write key at https://ui.honeycomb.io/account
</a><a href="#h112-0-42" id="h112-0-42" class="d">-	WriteKey string
</a><a href="#h112-0-43" id="h112-0-43" class="d">-
</a><a href="#h112-0-44" id="h112-0-44" class="d">-	// Dataset is the name of the Honeycomb dataset to which to send these events.
</a><a href="#h112-0-45" id="h112-0-45" class="d">-	// If it is specified during libhoney initialization, it will be used as the
</a><a href="#h112-0-46" id="h112-0-46" class="d">-	// default dataset for all events. If absent, dataset must be explicitly set
</a><a href="#h112-0-47" id="h112-0-47" class="d">-	// on a builder or event.
</a><a href="#h112-0-48" id="h112-0-48" class="d">-	Dataset string
</a><a href="#h112-0-49" id="h112-0-49" class="d">-
</a><a href="#h112-0-50" id="h112-0-50" class="d">-	// SampleRate is the rate at which to sample this event. Default is 1,
</a><a href="#h112-0-51" id="h112-0-51" class="d">-	// meaning no sampling. If you want to send one event out of every 250 times
</a><a href="#h112-0-52" id="h112-0-52" class="d">-	// Send() is called, you would specify 250 here.
</a><a href="#h112-0-53" id="h112-0-53" class="d">-	SampleRate uint
</a><a href="#h112-0-54" id="h112-0-54" class="d">-
</a><a href="#h112-0-55" id="h112-0-55" class="d">-	// APIHost is the hostname for the Honeycomb API server to which to send this
</a><a href="#h112-0-56" id="h112-0-56" class="d">-	// event. default: https://api.honeycomb.io/
</a><a href="#h112-0-57" id="h112-0-57" class="d">-	APIHost string
</a><a href="#h112-0-58" id="h112-0-58" class="d">-
</a><a href="#h112-0-59" id="h112-0-59" class="d">-	// TODO add logger in an agnostic way
</a><a href="#h112-0-60" id="h112-0-60" class="d">-
</a><a href="#h112-0-61" id="h112-0-61" class="d">-	// BlockOnSend determines if libhoney should block or drop packets that exceed
</a><a href="#h112-0-62" id="h112-0-62" class="d">-	// the size of the send channel (set by PendingWorkCapacity). Defaults to
</a><a href="#h112-0-63" id="h112-0-63" class="d">-	// False - events overflowing the send channel will be dropped.
</a><a href="#h112-0-64" id="h112-0-64" class="d">-	BlockOnSend bool
</a><a href="#h112-0-65" id="h112-0-65" class="d">-
</a><a href="#h112-0-66" id="h112-0-66" class="d">-	// BlockOnResponse determines if libhoney should block trying to hand
</a><a href="#h112-0-67" id="h112-0-67" class="d">-	// responses back to the caller. If this is true and there is nothing reading
</a><a href="#h112-0-68" id="h112-0-68" class="d">-	// from the Responses channel, it will fill up and prevent events from being
</a><a href="#h112-0-69" id="h112-0-69" class="d">-	// sent to Honeycomb. Defaults to False - if you don&#39;t read from the Responses
</a><a href="#h112-0-70" id="h112-0-70" class="d">-	// channel it will be ok.
</a><a href="#h112-0-71" id="h112-0-71" class="d">-	BlockOnResponse bool
</a><a href="#h112-0-72" id="h112-0-72" class="d">-
</a><a href="#h112-0-73" id="h112-0-73" class="d">-	// Configuration for the underlying sender. It is safe (and recommended) to
</a><a href="#h112-0-74" id="h112-0-74" class="d">-	// leave these values at their defaults. You cannot change these values
</a><a href="#h112-0-75" id="h112-0-75" class="d">-	// after calling Init()
</a><a href="#h112-0-76" id="h112-0-76" class="d">-	MaxBatchSize         uint          // how many events to collect into a batch before sending
</a><a href="#h112-0-77" id="h112-0-77" class="d">-	SendFrequency        time.Duration // how often to send off batches
</a><a href="#h112-0-78" id="h112-0-78" class="d">-	MaxConcurrentBatches uint          // how many batches can be inflight simultaneously
</a><a href="#h112-0-79" id="h112-0-79" class="d">-	PendingWorkCapacity  uint          // how many events to allow to pile up
</a><a href="#h112-0-80" id="h112-0-80" class="d">-
</a><a href="#h112-0-81" id="h112-0-81" class="d">-}
</a><a href="#h112-0-82" id="h112-0-82" class="d">-
</a><a href="#h112-0-83" id="h112-0-83" class="d">-type Event struct {
</a><a href="#h112-0-84" id="h112-0-84" class="d">-	// WriteKey, if set, overrides whatever is found in Config
</a><a href="#h112-0-85" id="h112-0-85" class="d">-	WriteKey string
</a><a href="#h112-0-86" id="h112-0-86" class="d">-	// Dataset, if set, overrides whatever is found in Config
</a><a href="#h112-0-87" id="h112-0-87" class="d">-	Dataset string
</a><a href="#h112-0-88" id="h112-0-88" class="d">-	// SampleRate, if set, overrides whatever is found in Config
</a><a href="#h112-0-89" id="h112-0-89" class="d">-	SampleRate uint
</a><a href="#h112-0-90" id="h112-0-90" class="d">-	// APIHost, if set, overrides whatever is found in Config
</a><a href="#h112-0-91" id="h112-0-91" class="d">-	APIHost string
</a><a href="#h112-0-92" id="h112-0-92" class="d">-	// Timestamp, if set, specifies the time for this event. If unset, defaults
</a><a href="#h112-0-93" id="h112-0-93" class="d">-	// to Now()
</a><a href="#h112-0-94" id="h112-0-94" class="d">-	Timestamp time.Time
</a><a href="#h112-0-95" id="h112-0-95" class="d">-	// Metadata is a field for you to add in data that will be handed back to you
</a><a href="#h112-0-96" id="h112-0-96" class="d">-	// on the Response object read off the Responses channel. It is not sent to
</a><a href="#h112-0-97" id="h112-0-97" class="d">-	// Honeycomb with the event.
</a><a href="#h112-0-98" id="h112-0-98" class="d">-	Metadata interface{}
</a><a href="#h112-0-99" id="h112-0-99" class="d">-
</a><a href="#h112-0-100" id="h112-0-100" class="d">-	// fieldHolder contains fields (and methods) common to both events and builders
</a><a href="#h112-0-101" id="h112-0-101" class="d">-	fieldHolder
</a><a href="#h112-0-102" id="h112-0-102" class="d">-}
</a><a href="#h112-0-103" id="h112-0-103" class="d">-
</a><a href="#h112-0-104" id="h112-0-104" class="d">-type Builder struct {
</a><a href="#h112-0-105" id="h112-0-105" class="d">-	// WriteKey, if set, overrides whatever is found in Config
</a><a href="#h112-0-106" id="h112-0-106" class="d">-	WriteKey string
</a><a href="#h112-0-107" id="h112-0-107" class="d">-	// Dataset, if set, overrides whatever is found in Config
</a><a href="#h112-0-108" id="h112-0-108" class="d">-	Dataset string
</a><a href="#h112-0-109" id="h112-0-109" class="d">-	// SampleRate, if set, overrides whatever is found in Config
</a><a href="#h112-0-110" id="h112-0-110" class="d">-	SampleRate uint
</a><a href="#h112-0-111" id="h112-0-111" class="d">-	// APIHost, if set, overrides whatever is found in Config
</a><a href="#h112-0-112" id="h112-0-112" class="d">-	APIHost string
</a><a href="#h112-0-113" id="h112-0-113" class="d">-
</a><a href="#h112-0-114" id="h112-0-114" class="d">-	// fieldHolder contains fields (and methods) common to both events and builders
</a><a href="#h112-0-115" id="h112-0-115" class="d">-	fieldHolder
</a><a href="#h112-0-116" id="h112-0-116" class="d">-
</a><a href="#h112-0-117" id="h112-0-117" class="d">-	// any dynamic fields to apply to each generated event
</a><a href="#h112-0-118" id="h112-0-118" class="d">-	dynFields     []dynamicField
</a><a href="#h112-0-119" id="h112-0-119" class="d">-	dynFieldsLock sync.Mutex
</a><a href="#h112-0-120" id="h112-0-120" class="d">-}
</a><a href="#h112-0-121" id="h112-0-121" class="d">-
</a><a href="#h112-0-122" id="h112-0-122" class="d">-type fieldHolder struct {
</a><a href="#h112-0-123" id="h112-0-123" class="d">-	data map[string]interface{}
</a><a href="#h112-0-124" id="h112-0-124" class="d">-	lock sync.Mutex
</a><a href="#h112-0-125" id="h112-0-125" class="d">-}
</a><a href="#h112-0-126" id="h112-0-126" class="d">-
</a><a href="#h112-0-127" id="h112-0-127" class="d">-// globals for singleton-like behavior
</a><a href="#h112-0-128" id="h112-0-128" class="d">-var (
</a><a href="#h112-0-129" id="h112-0-129" class="d">-	tx               txClient
</a><a href="#h112-0-130" id="h112-0-130" class="d">-	responses        chan Response
</a><a href="#h112-0-131" id="h112-0-131" class="d">-	blockOnResponses bool
</a><a href="#h112-0-132" id="h112-0-132" class="d">-	sd               *statsd.Client
</a><a href="#h112-0-133" id="h112-0-133" class="d">-	globalState      *Builder
</a><a href="#h112-0-134" id="h112-0-134" class="d">-)
</a><a href="#h112-0-135" id="h112-0-135" class="d">-
</a><a href="#h112-0-136" id="h112-0-136" class="d">-type dynamicField struct {
</a><a href="#h112-0-137" id="h112-0-137" class="d">-	name string
</a><a href="#h112-0-138" id="h112-0-138" class="d">-	fn   func() interface{}
</a><a href="#h112-0-139" id="h112-0-139" class="d">-}
</a><a href="#h112-0-140" id="h112-0-140" class="d">-
</a><a href="#h112-0-141" id="h112-0-141" class="d">-// initialize a default config to protect ourselves against using unitialized
</a><a href="#h112-0-142" id="h112-0-142" class="d">-// values if someone forgets to run Init(). It&#39;s fine if things don&#39;t work
</a><a href="#h112-0-143" id="h112-0-143" class="d">-// without running Init; it&#39;s not fine if they panic.
</a><a href="#h112-0-144" id="h112-0-144" class="d">-func init() {
</a><a href="#h112-0-145" id="h112-0-145" class="d">-	// initialize global statsd client as mute to provide a working default
</a><a href="#h112-0-146" id="h112-0-146" class="d">-	sd, _ = statsd.New(statsd.Mute(true))
</a><a href="#h112-0-147" id="h112-0-147" class="d">-	globalState = &amp;Builder{
</a><a href="#h112-0-148" id="h112-0-148" class="d">-		SampleRate: 1,
</a><a href="#h112-0-149" id="h112-0-149" class="d">-		dynFields:  make([]dynamicField, 0, 0),
</a><a href="#h112-0-150" id="h112-0-150" class="d">-	}
</a><a href="#h112-0-151" id="h112-0-151" class="d">-	globalState.data = make(map[string]interface{})
</a><a href="#h112-0-152" id="h112-0-152" class="d">-}
</a><a href="#h112-0-153" id="h112-0-153" class="d">-
</a><a href="#h112-0-154" id="h112-0-154" class="d">-// Init must be called once on app initialization. All fields in the Config
</a><a href="#h112-0-155" id="h112-0-155" class="d">-// struct are optional. If WriteKey and DataSet are absent, they must be
</a><a href="#h112-0-156" id="h112-0-156" class="d">-// specified later, either on a builder or an event. WriteKey, Dataset,
</a><a href="#h112-0-157" id="h112-0-157" class="d">-// SampleRate, and APIHost can all be overridden on a per-builder or per-event
</a><a href="#h112-0-158" id="h112-0-158" class="d">-// basis.
</a><a href="#h112-0-159" id="h112-0-159" class="d">-//
</a><a href="#h112-0-160" id="h112-0-160" class="d">-// Make sure to call Close() to flush transmisison buffers.
</a><a href="#h112-0-161" id="h112-0-161" class="d">-func Init(config Config) error {
</a><a href="#h112-0-162" id="h112-0-162" class="d">-	// Default sample rate should be 1. 0 is invalid.
</a><a href="#h112-0-163" id="h112-0-163" class="d">-	if config.SampleRate == 0 {
</a><a href="#h112-0-164" id="h112-0-164" class="d">-		config.SampleRate = defaultSampleRate
</a><a href="#h112-0-165" id="h112-0-165" class="d">-	}
</a><a href="#h112-0-166" id="h112-0-166" class="d">-	if config.APIHost == &quot;&quot; {
</a><a href="#h112-0-167" id="h112-0-167" class="d">-		config.APIHost = defaultAPIHost
</a><a href="#h112-0-168" id="h112-0-168" class="d">-	}
</a><a href="#h112-0-169" id="h112-0-169" class="d">-
</a><a href="#h112-0-170" id="h112-0-170" class="d">-	sd, _ = statsd.New(statsd.Prefix(&quot;libhoney&quot;))
</a><a href="#h112-0-171" id="h112-0-171" class="d">-
</a><a href="#h112-0-172" id="h112-0-172" class="d">-	responses = make(chan Response, config.PendingWorkCapacity*2)
</a><a href="#h112-0-173" id="h112-0-173" class="d">-
</a><a href="#h112-0-174" id="h112-0-174" class="d">-	// spin up the global transmission
</a><a href="#h112-0-175" id="h112-0-175" class="d">-	tx = &amp;txDefaultClient{
</a><a href="#h112-0-176" id="h112-0-176" class="d">-		maxBatchSize:         config.MaxBatchSize,
</a><a href="#h112-0-177" id="h112-0-177" class="d">-		batchTimeout:         config.SendFrequency,
</a><a href="#h112-0-178" id="h112-0-178" class="d">-		maxConcurrentBatches: config.MaxConcurrentBatches,
</a><a href="#h112-0-179" id="h112-0-179" class="d">-		pendingWorkCapacity:  config.PendingWorkCapacity,
</a><a href="#h112-0-180" id="h112-0-180" class="d">-		blockOnSend:          config.BlockOnSend,
</a><a href="#h112-0-181" id="h112-0-181" class="d">-	}
</a><a href="#h112-0-182" id="h112-0-182" class="d">-
</a><a href="#h112-0-183" id="h112-0-183" class="d">-	if err := tx.Start(); err != nil {
</a><a href="#h112-0-184" id="h112-0-184" class="d">-		return err
</a><a href="#h112-0-185" id="h112-0-185" class="d">-	}
</a><a href="#h112-0-186" id="h112-0-186" class="d">-
</a><a href="#h112-0-187" id="h112-0-187" class="d">-	globalState = &amp;Builder{
</a><a href="#h112-0-188" id="h112-0-188" class="d">-		WriteKey:   config.WriteKey,
</a><a href="#h112-0-189" id="h112-0-189" class="d">-		Dataset:    config.Dataset,
</a><a href="#h112-0-190" id="h112-0-190" class="d">-		SampleRate: config.SampleRate,
</a><a href="#h112-0-191" id="h112-0-191" class="d">-		APIHost:    config.APIHost,
</a><a href="#h112-0-192" id="h112-0-192" class="d">-		dynFields:  make([]dynamicField, 0, 0),
</a><a href="#h112-0-193" id="h112-0-193" class="d">-	}
</a><a href="#h112-0-194" id="h112-0-194" class="d">-	globalState.data = make(map[string]interface{})
</a><a href="#h112-0-195" id="h112-0-195" class="d">-
</a><a href="#h112-0-196" id="h112-0-196" class="d">-	return nil
</a><a href="#h112-0-197" id="h112-0-197" class="d">-}
</a><a href="#h112-0-198" id="h112-0-198" class="d">-
</a><a href="#h112-0-199" id="h112-0-199" class="d">-// Close waits for all in-flight messages to be sent. You should
</a><a href="#h112-0-200" id="h112-0-200" class="d">-// call Close() before app termination.
</a><a href="#h112-0-201" id="h112-0-201" class="d">-func Close() {
</a><a href="#h112-0-202" id="h112-0-202" class="d">-	tx.Stop()
</a><a href="#h112-0-203" id="h112-0-203" class="d">-	close(responses)
</a><a href="#h112-0-204" id="h112-0-204" class="d">-}
</a><a href="#h112-0-205" id="h112-0-205" class="d">-
</a><a href="#h112-0-206" id="h112-0-206" class="d">-// SendNow is a shortcut to create an event, add data, and send the event.
</a><a href="#h112-0-207" id="h112-0-207" class="d">-func SendNow(data interface{}) error {
</a><a href="#h112-0-208" id="h112-0-208" class="d">-	ev := NewEvent()
</a><a href="#h112-0-209" id="h112-0-209" class="d">-	if err := ev.Add(data); err != nil {
</a><a href="#h112-0-210" id="h112-0-210" class="d">-		return err
</a><a href="#h112-0-211" id="h112-0-211" class="d">-	}
</a><a href="#h112-0-212" id="h112-0-212" class="d">-	if err := ev.Send(); err != nil {
</a><a href="#h112-0-213" id="h112-0-213" class="d">-		return err
</a><a href="#h112-0-214" id="h112-0-214" class="d">-	}
</a><a href="#h112-0-215" id="h112-0-215" class="d">-	return nil
</a><a href="#h112-0-216" id="h112-0-216" class="d">-}
</a><a href="#h112-0-217" id="h112-0-217" class="d">-
</a><a href="#h112-0-218" id="h112-0-218" class="d">-// Responses returns the channel from which the caller can read the responses
</a><a href="#h112-0-219" id="h112-0-219" class="d">-// to sent events
</a><a href="#h112-0-220" id="h112-0-220" class="d">-func Responses() chan Response {
</a><a href="#h112-0-221" id="h112-0-221" class="d">-	return responses
</a><a href="#h112-0-222" id="h112-0-222" class="d">-}
</a><a href="#h112-0-223" id="h112-0-223" class="d">-
</a><a href="#h112-0-224" id="h112-0-224" class="d">-// AddDynamicField takes a field name and a function that will generate values
</a><a href="#h112-0-225" id="h112-0-225" class="d">-// for that metric. The function is called once every time a NewEvent() is
</a><a href="#h112-0-226" id="h112-0-226" class="d">-// created and added as a field (with name as the key) to the newly created
</a><a href="#h112-0-227" id="h112-0-227" class="d">-// event.
</a><a href="#h112-0-228" id="h112-0-228" class="d">-func AddDynamicField(name string, fn func() interface{}) error {
</a><a href="#h112-0-229" id="h112-0-229" class="d">-	return globalState.AddDynamicField(name, fn)
</a><a href="#h112-0-230" id="h112-0-230" class="d">-}
</a><a href="#h112-0-231" id="h112-0-231" class="d">-
</a><a href="#h112-0-232" id="h112-0-232" class="d">-// AddField adds a Field to the global scope. This metric will be inherited by
</a><a href="#h112-0-233" id="h112-0-233" class="d">-// all builders and events.
</a><a href="#h112-0-234" id="h112-0-234" class="d">-func AddField(name string, val interface{}) {
</a><a href="#h112-0-235" id="h112-0-235" class="d">-	globalState.AddField(name, val)
</a><a href="#h112-0-236" id="h112-0-236" class="d">-}
</a><a href="#h112-0-237" id="h112-0-237" class="d">-
</a><a href="#h112-0-238" id="h112-0-238" class="d">-// Add adds its data to the global scope. It adds all fields in a struct or all
</a><a href="#h112-0-239" id="h112-0-239" class="d">-// keys in a map as individual Fields. These metrics will be inherited by all
</a><a href="#h112-0-240" id="h112-0-240" class="d">-// builders and events.
</a><a href="#h112-0-241" id="h112-0-241" class="d">-func Add(data interface{}) error {
</a><a href="#h112-0-242" id="h112-0-242" class="d">-	return globalState.Add(data)
</a><a href="#h112-0-243" id="h112-0-243" class="d">-}
</a><a href="#h112-0-244" id="h112-0-244" class="d">-
</a><a href="#h112-0-245" id="h112-0-245" class="d">-// Creates a new event prepopulated with any Fields present in the global
</a><a href="#h112-0-246" id="h112-0-246" class="d">-// scope.
</a><a href="#h112-0-247" id="h112-0-247" class="d">-func NewEvent() *Event {
</a><a href="#h112-0-248" id="h112-0-248" class="d">-	return globalState.NewEvent()
</a><a href="#h112-0-249" id="h112-0-249" class="d">-}
</a><a href="#h112-0-250" id="h112-0-250" class="d">-
</a><a href="#h112-0-251" id="h112-0-251" class="d">-// AddField adds an individual metric to the event or builder on which it is
</a><a href="#h112-0-252" id="h112-0-252" class="d">-// called.
</a><a href="#h112-0-253" id="h112-0-253" class="d">-func (f *fieldHolder) AddField(key string, val interface{}) {
</a><a href="#h112-0-254" id="h112-0-254" class="d">-	f.lock.Lock()
</a><a href="#h112-0-255" id="h112-0-255" class="d">-	defer f.lock.Unlock()
</a><a href="#h112-0-256" id="h112-0-256" class="d">-	// run a sanity check on data, transparently drop if it fails.
</a><a href="#h112-0-257" id="h112-0-257" class="d">-	if validateData(val) {
</a><a href="#h112-0-258" id="h112-0-258" class="d">-		f.data[key] = val
</a><a href="#h112-0-259" id="h112-0-259" class="d">-	}
</a><a href="#h112-0-260" id="h112-0-260" class="d">-}
</a><a href="#h112-0-261" id="h112-0-261" class="d">-
</a><a href="#h112-0-262" id="h112-0-262" class="d">-// validateData runs some checks on the data and returns false if it&#39;s bad data
</a><a href="#h112-0-263" id="h112-0-263" class="d">-// and should be skipped
</a><a href="#h112-0-264" id="h112-0-264" class="d">-func validateData(val interface{}) bool {
</a><a href="#h112-0-265" id="h112-0-265" class="d">-	if val == nil {
</a><a href="#h112-0-266" id="h112-0-266" class="d">-		return false
</a><a href="#h112-0-267" id="h112-0-267" class="d">-	}
</a><a href="#h112-0-268" id="h112-0-268" class="d">-	// if we can&#39;t json encode the value, we should skip it.
</a><a href="#h112-0-269" id="h112-0-269" class="d">-	// TODO this is probably slow. Decide whether it&#39;s unacceptably slow.
</a><a href="#h112-0-270" id="h112-0-270" class="d">-	_, err := json.Marshal(val)
</a><a href="#h112-0-271" id="h112-0-271" class="d">-	if err != nil {
</a><a href="#h112-0-272" id="h112-0-272" class="d">-		return false
</a><a href="#h112-0-273" id="h112-0-273" class="d">-	}
</a><a href="#h112-0-274" id="h112-0-274" class="d">-	return true
</a><a href="#h112-0-275" id="h112-0-275" class="d">-}
</a><a href="#h112-0-276" id="h112-0-276" class="d">-
</a><a href="#h112-0-277" id="h112-0-277" class="d">-func validateValue(val reflect.Value) bool {
</a><a href="#h112-0-278" id="h112-0-278" class="d">-	if val.Type().Kind() == reflect.Chan {
</a><a href="#h112-0-279" id="h112-0-279" class="d">-		return false
</a><a href="#h112-0-280" id="h112-0-280" class="d">-	}
</a><a href="#h112-0-281" id="h112-0-281" class="d">-	kind := val.Type().Kind()
</a><a href="#h112-0-282" id="h112-0-282" class="d">-	for _, ptrKind := range ptrKinds {
</a><a href="#h112-0-283" id="h112-0-283" class="d">-		if kind == ptrKind &amp;&amp; val.IsNil() {
</a><a href="#h112-0-284" id="h112-0-284" class="d">-			return false
</a><a href="#h112-0-285" id="h112-0-285" class="d">-		}
</a><a href="#h112-0-286" id="h112-0-286" class="d">-	}
</a><a href="#h112-0-287" id="h112-0-287" class="d">-	if validateData(val.Interface()) == false {
</a><a href="#h112-0-288" id="h112-0-288" class="d">-		return false
</a><a href="#h112-0-289" id="h112-0-289" class="d">-	}
</a><a href="#h112-0-290" id="h112-0-290" class="d">-	return true
</a><a href="#h112-0-291" id="h112-0-291" class="d">-}
</a><a href="#h112-0-292" id="h112-0-292" class="d">-
</a><a href="#h112-0-293" id="h112-0-293" class="d">-// Add adds a complex data type to the event or builder on which it&#39;s called.
</a><a href="#h112-0-294" id="h112-0-294" class="d">-// For structs, it adds each exported field. For maps, it adds each key/value.
</a><a href="#h112-0-295" id="h112-0-295" class="d">-// Add will error on all other types.
</a><a href="#h112-0-296" id="h112-0-296" class="d">-func (f *fieldHolder) Add(data interface{}) error {
</a><a href="#h112-0-297" id="h112-0-297" class="d">-	switch reflect.TypeOf(data).Kind() {
</a><a href="#h112-0-298" id="h112-0-298" class="d">-	case reflect.Struct:
</a><a href="#h112-0-299" id="h112-0-299" class="d">-		return f.addStruct(data)
</a><a href="#h112-0-300" id="h112-0-300" class="d">-	case reflect.Map:
</a><a href="#h112-0-301" id="h112-0-301" class="d">-		return f.addMap(data)
</a><a href="#h112-0-302" id="h112-0-302" class="d">-	case reflect.Ptr:
</a><a href="#h112-0-303" id="h112-0-303" class="d">-		return f.Add(reflect.ValueOf(data).Elem().Interface())
</a><a href="#h112-0-304" id="h112-0-304" class="d">-	}
</a><a href="#h112-0-305" id="h112-0-305" class="d">-	return fmt.Errorf(
</a><a href="#h112-0-306" id="h112-0-306" class="d">-		&quot;Couldn&#39;t add type %s content %+v&quot;,
</a><a href="#h112-0-307" id="h112-0-307" class="d">-		reflect.TypeOf(data).Kind(), data,
</a><a href="#h112-0-308" id="h112-0-308" class="d">-	)
</a><a href="#h112-0-309" id="h112-0-309" class="d">-}
</a><a href="#h112-0-310" id="h112-0-310" class="d">-
</a><a href="#h112-0-311" id="h112-0-311" class="d">-func (f *fieldHolder) addStruct(s interface{}) error {
</a><a href="#h112-0-312" id="h112-0-312" class="d">-	f.lock.Lock()
</a><a href="#h112-0-313" id="h112-0-313" class="d">-	defer f.lock.Unlock()
</a><a href="#h112-0-314" id="h112-0-314" class="d">-
</a><a href="#h112-0-315" id="h112-0-315" class="d">-	// TODO should we handle embedded structs differently from other deep structs?
</a><a href="#h112-0-316" id="h112-0-316" class="d">-	sType := reflect.TypeOf(s)
</a><a href="#h112-0-317" id="h112-0-317" class="d">-	sVal := reflect.ValueOf(s)
</a><a href="#h112-0-318" id="h112-0-318" class="d">-	// Iterate through the fields, adding each.
</a><a href="#h112-0-319" id="h112-0-319" class="d">-	for i := 0; i &lt; sType.NumField(); i++ {
</a><a href="#h112-0-320" id="h112-0-320" class="d">-		fieldInfo := sType.Field(i)
</a><a href="#h112-0-321" id="h112-0-321" class="d">-		if fieldInfo.PkgPath != &quot;&quot; {
</a><a href="#h112-0-322" id="h112-0-322" class="d">-			// skipping unexported field in the struct
</a><a href="#h112-0-323" id="h112-0-323" class="d">-			continue
</a><a href="#h112-0-324" id="h112-0-324" class="d">-		}
</a><a href="#h112-0-325" id="h112-0-325" class="d">-
</a><a href="#h112-0-326" id="h112-0-326" class="d">-		var fName string
</a><a href="#h112-0-327" id="h112-0-327" class="d">-		fTag := fieldInfo.Tag.Get(&quot;json&quot;)
</a><a href="#h112-0-328" id="h112-0-328" class="d">-		if fTag != &quot;&quot; {
</a><a href="#h112-0-329" id="h112-0-329" class="d">-			if fTag == &quot;-&quot; {
</a><a href="#h112-0-330" id="h112-0-330" class="d">-				// skip this field
</a><a href="#h112-0-331" id="h112-0-331" class="d">-				continue
</a><a href="#h112-0-332" id="h112-0-332" class="d">-			}
</a><a href="#h112-0-333" id="h112-0-333" class="d">-			// slice off options
</a><a href="#h112-0-334" id="h112-0-334" class="d">-			if idx := strings.Index(fTag, &quot;,&quot;); idx != -1 {
</a><a href="#h112-0-335" id="h112-0-335" class="d">-				fTag = fTag[:idx]
</a><a href="#h112-0-336" id="h112-0-336" class="d">-			}
</a><a href="#h112-0-337" id="h112-0-337" class="d">-			fName = fTag
</a><a href="#h112-0-338" id="h112-0-338" class="d">-		} else {
</a><a href="#h112-0-339" id="h112-0-339" class="d">-			fName = fieldInfo.Name
</a><a href="#h112-0-340" id="h112-0-340" class="d">-		}
</a><a href="#h112-0-341" id="h112-0-341" class="d">-
</a><a href="#h112-0-342" id="h112-0-342" class="d">-		if validateValue(sVal.Field(i)) {
</a><a href="#h112-0-343" id="h112-0-343" class="d">-			f.data[fName] = sVal.Field(i).Interface()
</a><a href="#h112-0-344" id="h112-0-344" class="d">-		}
</a><a href="#h112-0-345" id="h112-0-345" class="d">-	}
</a><a href="#h112-0-346" id="h112-0-346" class="d">-	return nil
</a><a href="#h112-0-347" id="h112-0-347" class="d">-}
</a><a href="#h112-0-348" id="h112-0-348" class="d">-
</a><a href="#h112-0-349" id="h112-0-349" class="d">-func (f *fieldHolder) addMap(m interface{}) error {
</a><a href="#h112-0-350" id="h112-0-350" class="d">-	f.lock.Lock()
</a><a href="#h112-0-351" id="h112-0-351" class="d">-	defer f.lock.Unlock()
</a><a href="#h112-0-352" id="h112-0-352" class="d">-
</a><a href="#h112-0-353" id="h112-0-353" class="d">-	mVal := reflect.ValueOf(m)
</a><a href="#h112-0-354" id="h112-0-354" class="d">-	mKeys := mVal.MapKeys()
</a><a href="#h112-0-355" id="h112-0-355" class="d">-	for _, key := range mKeys {
</a><a href="#h112-0-356" id="h112-0-356" class="d">-		// get a string representation of key
</a><a href="#h112-0-357" id="h112-0-357" class="d">-		var keyStr string
</a><a href="#h112-0-358" id="h112-0-358" class="d">-		switch key.Type().Kind() {
</a><a href="#h112-0-359" id="h112-0-359" class="d">-		case reflect.String:
</a><a href="#h112-0-360" id="h112-0-360" class="d">-			keyStr = key.String()
</a><a href="#h112-0-361" id="h112-0-361" class="d">-		case reflect.Int, reflect.Int8, reflect.Int16, reflect.Int32,
</a><a href="#h112-0-362" id="h112-0-362" class="d">-			reflect.Int64, reflect.Uint, reflect.Uint8, reflect.Uint16, reflect.Uint32,
</a><a href="#h112-0-363" id="h112-0-363" class="d">-			reflect.Uint64, reflect.Float32, reflect.Float64, reflect.Complex64,
</a><a href="#h112-0-364" id="h112-0-364" class="d">-			reflect.Complex128:
</a><a href="#h112-0-365" id="h112-0-365" class="d">-			keyStr = fmt.Sprintf(&quot;%v&quot;, key.Interface())
</a><a href="#h112-0-366" id="h112-0-366" class="d">-		default:
</a><a href="#h112-0-367" id="h112-0-367" class="d">-			return fmt.Errorf(&quot;failed to add map: key type %s unaccepted&quot;, key.Type().Kind())
</a><a href="#h112-0-368" id="h112-0-368" class="d">-		}
</a><a href="#h112-0-369" id="h112-0-369" class="d">-		if validateValue(mVal.MapIndex(key)) {
</a><a href="#h112-0-370" id="h112-0-370" class="d">-			f.data[keyStr] = mVal.MapIndex(key).Interface()
</a><a href="#h112-0-371" id="h112-0-371" class="d">-		}
</a><a href="#h112-0-372" id="h112-0-372" class="d">-	}
</a><a href="#h112-0-373" id="h112-0-373" class="d">-	return nil
</a><a href="#h112-0-374" id="h112-0-374" class="d">-}
</a><a href="#h112-0-375" id="h112-0-375" class="d">-
</a><a href="#h112-0-376" id="h112-0-376" class="d">-// AddFunc takes a function and runs it repeatedly, adding the return values
</a><a href="#h112-0-377" id="h112-0-377" class="d">-// as fields.
</a><a href="#h112-0-378" id="h112-0-378" class="d">-// The function should return error when it has exhausted its values
</a><a href="#h112-0-379" id="h112-0-379" class="d">-func (f *fieldHolder) AddFunc(fn func() (string, interface{}, error)) error {
</a><a href="#h112-0-380" id="h112-0-380" class="d">-	for {
</a><a href="#h112-0-381" id="h112-0-381" class="d">-		key, rawVal, err := fn()
</a><a href="#h112-0-382" id="h112-0-382" class="d">-		if err != nil {
</a><a href="#h112-0-383" id="h112-0-383" class="d">-			// fn is done giving us data
</a><a href="#h112-0-384" id="h112-0-384" class="d">-			break
</a><a href="#h112-0-385" id="h112-0-385" class="d">-		}
</a><a href="#h112-0-386" id="h112-0-386" class="d">-		f.AddField(key, rawVal)
</a><a href="#h112-0-387" id="h112-0-387" class="d">-	}
</a><a href="#h112-0-388" id="h112-0-388" class="d">-	return nil
</a><a href="#h112-0-389" id="h112-0-389" class="d">-}
</a><a href="#h112-0-390" id="h112-0-390" class="d">-
</a><a href="#h112-0-391" id="h112-0-391" class="d">-// Send dispatches the event to be sent to Honeycomb.
</a><a href="#h112-0-392" id="h112-0-392" class="d">-//
</a><a href="#h112-0-393" id="h112-0-393" class="d">-// If you have sampling enabled
</a><a href="#h112-0-394" id="h112-0-394" class="d">-// (i.e. SampleRate &gt;1), Send will only actually transmit data with a
</a><a href="#h112-0-395" id="h112-0-395" class="d">-// probability of 1/SampleRate. No error is returned whether or not traffic
</a><a href="#h112-0-396" id="h112-0-396" class="d">-// is sampled, however, the Response sent down the response channel will
</a><a href="#h112-0-397" id="h112-0-397" class="d">-// indicate the event was sampled in the errors Err field.
</a><a href="#h112-0-398" id="h112-0-398" class="d">-//
</a><a href="#h112-0-399" id="h112-0-399" class="d">-// Send inherits the values of required fields from Config. If any required
</a><a href="#h112-0-400" id="h112-0-400" class="d">-// fields are specified in neither Config nor the Event, Send will return an
</a><a href="#h112-0-401" id="h112-0-401" class="d">-// error.  Required fields are APIHost, WriteKey, and Dataset. Values specified
</a><a href="#h112-0-402" id="h112-0-402" class="d">-// in an Event override Config.
</a><a href="#h112-0-403" id="h112-0-403" class="d">-func (e *Event) Send() error {
</a><a href="#h112-0-404" id="h112-0-404" class="d">-	if shouldDrop(e.SampleRate) {
</a><a href="#h112-0-405" id="h112-0-405" class="d">-		sd.Increment(&quot;sampled&quot;)
</a><a href="#h112-0-406" id="h112-0-406" class="d">-		sendDroppedResponse(e, &quot;event dropped due to sampling&quot;)
</a><a href="#h112-0-407" id="h112-0-407" class="d">-		return nil
</a><a href="#h112-0-408" id="h112-0-408" class="d">-	}
</a><a href="#h112-0-409" id="h112-0-409" class="d">-	if len(e.data) == 0 {
</a><a href="#h112-0-410" id="h112-0-410" class="d">-		return errors.New(&quot;No metrics added to event. Won&#39;t send empty event.&quot;)
</a><a href="#h112-0-411" id="h112-0-411" class="d">-	}
</a><a href="#h112-0-412" id="h112-0-412" class="d">-	if e.APIHost == &quot;&quot; {
</a><a href="#h112-0-413" id="h112-0-413" class="d">-		return errors.New(&quot;No APIHost for Honeycomb. Can&#39;t send to the Great Unknown.&quot;)
</a><a href="#h112-0-414" id="h112-0-414" class="d">-	}
</a><a href="#h112-0-415" id="h112-0-415" class="d">-	if e.WriteKey == &quot;&quot; {
</a><a href="#h112-0-416" id="h112-0-416" class="d">-		return errors.New(&quot;No WriteKey specified. Can&#39;t send event.&quot;)
</a><a href="#h112-0-417" id="h112-0-417" class="d">-	}
</a><a href="#h112-0-418" id="h112-0-418" class="d">-	if e.Dataset == &quot;&quot; {
</a><a href="#h112-0-419" id="h112-0-419" class="d">-		return errors.New(&quot;No Dataset for Honeycomb. Can&#39;t send datasetless.&quot;)
</a><a href="#h112-0-420" id="h112-0-420" class="d">-	}
</a><a href="#h112-0-421" id="h112-0-421" class="d">-
</a><a href="#h112-0-422" id="h112-0-422" class="d">-	tx.Add(e)
</a><a href="#h112-0-423" id="h112-0-423" class="d">-	return nil
</a><a href="#h112-0-424" id="h112-0-424" class="d">-}
</a><a href="#h112-0-425" id="h112-0-425" class="d">-
</a><a href="#h112-0-426" id="h112-0-426" class="d">-// sendResponse sends a dropped event response down the response channel
</a><a href="#h112-0-427" id="h112-0-427" class="d">-func sendDroppedResponse(e *Event, message string) {
</a><a href="#h112-0-428" id="h112-0-428" class="d">-	r := Response{
</a><a href="#h112-0-429" id="h112-0-429" class="d">-		Err:      errors.New(message),
</a><a href="#h112-0-430" id="h112-0-430" class="d">-		Metadata: e.Metadata,
</a><a href="#h112-0-431" id="h112-0-431" class="d">-	}
</a><a href="#h112-0-432" id="h112-0-432" class="d">-	if blockOnResponses {
</a><a href="#h112-0-433" id="h112-0-433" class="d">-		responses &lt;- r
</a><a href="#h112-0-434" id="h112-0-434" class="d">-	} else {
</a><a href="#h112-0-435" id="h112-0-435" class="d">-		select {
</a><a href="#h112-0-436" id="h112-0-436" class="d">-		case responses &lt;- r:
</a><a href="#h112-0-437" id="h112-0-437" class="d">-		default:
</a><a href="#h112-0-438" id="h112-0-438" class="d">-		}
</a><a href="#h112-0-439" id="h112-0-439" class="d">-	}
</a><a href="#h112-0-440" id="h112-0-440" class="d">-}
</a><a href="#h112-0-441" id="h112-0-441" class="d">-
</a><a href="#h112-0-442" id="h112-0-442" class="d">-// returns true if the sample should be dropped
</a><a href="#h112-0-443" id="h112-0-443" class="d">-func shouldDrop(rate uint) bool {
</a><a href="#h112-0-444" id="h112-0-444" class="d">-	return rand.Intn(int(rate)) != 0
</a><a href="#h112-0-445" id="h112-0-445" class="d">-}
</a><a href="#h112-0-446" id="h112-0-446" class="d">-
</a><a href="#h112-0-447" id="h112-0-447" class="d">-// returns true if the first character of the string is lowercase
</a><a href="#h112-0-448" id="h112-0-448" class="d">-func isFirstLower(s string) bool {
</a><a href="#h112-0-449" id="h112-0-449" class="d">-	return false
</a><a href="#h112-0-450" id="h112-0-450" class="d">-}
</a><a href="#h112-0-451" id="h112-0-451" class="d">-
</a><a href="#h112-0-452" id="h112-0-452" class="d">-// NewBuilder creates a new event builder. The builder inherits any
</a><a href="#h112-0-453" id="h112-0-453" class="d">-// Dynamic or Static Fields present in the global scope.
</a><a href="#h112-0-454" id="h112-0-454" class="d">-func NewBuilder() *Builder {
</a><a href="#h112-0-455" id="h112-0-455" class="d">-	return globalState.Clone()
</a><a href="#h112-0-456" id="h112-0-456" class="d">-}
</a><a href="#h112-0-457" id="h112-0-457" class="d">-
</a><a href="#h112-0-458" id="h112-0-458" class="d">-// AddDynamicField adds a dynamic field to the builder. Any events
</a><a href="#h112-0-459" id="h112-0-459" class="d">-// created from this builder will get this metric added.
</a><a href="#h112-0-460" id="h112-0-460" class="d">-func (b *Builder) AddDynamicField(name string, fn func() interface{}) error {
</a><a href="#h112-0-461" id="h112-0-461" class="d">-	b.dynFieldsLock.Lock()
</a><a href="#h112-0-462" id="h112-0-462" class="d">-	defer b.dynFieldsLock.Unlock()
</a><a href="#h112-0-463" id="h112-0-463" class="d">-	dynFn := dynamicField{
</a><a href="#h112-0-464" id="h112-0-464" class="d">-		name: name,
</a><a href="#h112-0-465" id="h112-0-465" class="d">-		fn:   fn,
</a><a href="#h112-0-466" id="h112-0-466" class="d">-	}
</a><a href="#h112-0-467" id="h112-0-467" class="d">-	b.dynFields = append(b.dynFields, dynFn)
</a><a href="#h112-0-468" id="h112-0-468" class="d">-	return nil
</a><a href="#h112-0-469" id="h112-0-469" class="d">-}
</a><a href="#h112-0-470" id="h112-0-470" class="d">-
</a><a href="#h112-0-471" id="h112-0-471" class="d">-// SendNow is a shortcut to create an event from this builder, add data, and
</a><a href="#h112-0-472" id="h112-0-472" class="d">-// send the event.
</a><a href="#h112-0-473" id="h112-0-473" class="d">-func (b *Builder) SendNow(data interface{}) error {
</a><a href="#h112-0-474" id="h112-0-474" class="d">-	ev := b.NewEvent()
</a><a href="#h112-0-475" id="h112-0-475" class="d">-	if err := ev.Add(data); err != nil {
</a><a href="#h112-0-476" id="h112-0-476" class="d">-		return err
</a><a href="#h112-0-477" id="h112-0-477" class="d">-	}
</a><a href="#h112-0-478" id="h112-0-478" class="d">-	if err := ev.Send(); err != nil {
</a><a href="#h112-0-479" id="h112-0-479" class="d">-		return err
</a><a href="#h112-0-480" id="h112-0-480" class="d">-	}
</a><a href="#h112-0-481" id="h112-0-481" class="d">-	return nil
</a><a href="#h112-0-482" id="h112-0-482" class="d">-}
</a><a href="#h112-0-483" id="h112-0-483" class="d">-
</a><a href="#h112-0-484" id="h112-0-484" class="d">-// NewEvent creates a new Event prepopulated with fields, dynamic
</a><a href="#h112-0-485" id="h112-0-485" class="d">-// field values, and configuration inherited from the builder.
</a><a href="#h112-0-486" id="h112-0-486" class="d">-func (b *Builder) NewEvent() *Event {
</a><a href="#h112-0-487" id="h112-0-487" class="d">-	e := &amp;Event{
</a><a href="#h112-0-488" id="h112-0-488" class="d">-		WriteKey:   b.WriteKey,
</a><a href="#h112-0-489" id="h112-0-489" class="d">-		Dataset:    b.Dataset,
</a><a href="#h112-0-490" id="h112-0-490" class="d">-		SampleRate: b.SampleRate,
</a><a href="#h112-0-491" id="h112-0-491" class="d">-		APIHost:    b.APIHost,
</a><a href="#h112-0-492" id="h112-0-492" class="d">-		Timestamp:  time.Now(),
</a><a href="#h112-0-493" id="h112-0-493" class="d">-	}
</a><a href="#h112-0-494" id="h112-0-494" class="d">-	e.data = make(map[string]interface{})
</a><a href="#h112-0-495" id="h112-0-495" class="d">-
</a><a href="#h112-0-496" id="h112-0-496" class="d">-	// copy static metrics (everything&#39;s been serialized so flat copy is OK)
</a><a href="#h112-0-497" id="h112-0-497" class="d">-	for k, v := range b.data {
</a><a href="#h112-0-498" id="h112-0-498" class="d">-		e.data[k] = v
</a><a href="#h112-0-499" id="h112-0-499" class="d">-	}
</a><a href="#h112-0-500" id="h112-0-500" class="d">-	// create dynamic metrics
</a><a href="#h112-0-501" id="h112-0-501" class="d">-	for _, dynField := range b.dynFields {
</a><a href="#h112-0-502" id="h112-0-502" class="d">-		e.AddField(dynField.name, dynField.fn())
</a><a href="#h112-0-503" id="h112-0-503" class="d">-	}
</a><a href="#h112-0-504" id="h112-0-504" class="d">-	return e
</a><a href="#h112-0-505" id="h112-0-505" class="d">-}
</a><a href="#h112-0-506" id="h112-0-506" class="d">-
</a><a href="#h112-0-507" id="h112-0-507" class="d">-// Clone creates a new builder that inherits all traits of this builder and
</a><a href="#h112-0-508" id="h112-0-508" class="d">-// creates its own scope in which to add additional static and dynamic fields.
</a><a href="#h112-0-509" id="h112-0-509" class="d">-func (b *Builder) Clone() *Builder {
</a><a href="#h112-0-510" id="h112-0-510" class="d">-	newB := &amp;Builder{
</a><a href="#h112-0-511" id="h112-0-511" class="d">-		WriteKey:   b.WriteKey,
</a><a href="#h112-0-512" id="h112-0-512" class="d">-		Dataset:    b.Dataset,
</a><a href="#h112-0-513" id="h112-0-513" class="d">-		SampleRate: b.SampleRate,
</a><a href="#h112-0-514" id="h112-0-514" class="d">-		APIHost:    b.APIHost,
</a><a href="#h112-0-515" id="h112-0-515" class="d">-		dynFields:  make([]dynamicField, 0, len(b.dynFields)),
</a><a href="#h112-0-516" id="h112-0-516" class="d">-	}
</a><a href="#h112-0-517" id="h112-0-517" class="d">-	newB.data = make(map[string]interface{})
</a><a href="#h112-0-518" id="h112-0-518" class="d">-	// copy static metrics (everything&#39;s been serialized so flat copy is OK)
</a><a href="#h112-0-519" id="h112-0-519" class="d">-	for k, v := range b.data {
</a><a href="#h112-0-520" id="h112-0-520" class="d">-		newB.data[k] = v
</a><a href="#h112-0-521" id="h112-0-521" class="d">-	}
</a><a href="#h112-0-522" id="h112-0-522" class="d">-	// copy dynamic metric generators
</a><a href="#h112-0-523" id="h112-0-523" class="d">-	for _, dynFd := range b.dynFields {
</a><a href="#h112-0-524" id="h112-0-524" class="d">-		newB.dynFields = append(newB.dynFields, dynFd)
</a><a href="#h112-0-525" id="h112-0-525" class="d">-	}
</a><a href="#h112-0-526" id="h112-0-526" class="d">-	return newB
</a><a href="#h112-0-527" id="h112-0-527" class="d">-}
</a><b>diff --git a/<a id="h113" href="../file/vendor/github.com/honeycombio/libhoney-go/response.go">vendor/github.com/honeycombio/libhoney-go/response.go</a> b/<a href="../file/vendor/github.com/honeycombio/libhoney-go/response.go">vendor/github.com/honeycombio/libhoney-go/response.go</a></b>
<a href="#h113-0" id="h113-0" class="h">@@ -1,32 +0,0 @@
</a><a href="#h113-0-0" id="h113-0-0" class="d">-package libhoney
</a><a href="#h113-0-1" id="h113-0-1" class="d">-
</a><a href="#h113-0-2" id="h113-0-2" class="d">-import &quot;time&quot;
</a><a href="#h113-0-3" id="h113-0-3" class="d">-
</a><a href="#h113-0-4" id="h113-0-4" class="d">-// Response is a record of an event sent. It includes information about sending
</a><a href="#h113-0-5" id="h113-0-5" class="d">-// the event - how long it took, whether it succeeded, and so on. It also has
</a><a href="#h113-0-6" id="h113-0-6" class="d">-// a metadata field that is just a pass through - you add it to an Event and
</a><a href="#h113-0-7" id="h113-0-7" class="d">-// it will be on the Response that correlates with that Event. This allows you
</a><a href="#h113-0-8" id="h113-0-8" class="d">-// to track specific events.
</a><a href="#h113-0-9" id="h113-0-9" class="d">-type Response struct {
</a><a href="#h113-0-10" id="h113-0-10" class="d">-
</a><a href="#h113-0-11" id="h113-0-11" class="d">-	// Err contains any error returned by the httpClient on sending or an error
</a><a href="#h113-0-12" id="h113-0-12" class="d">-	// indicating queue overflow
</a><a href="#h113-0-13" id="h113-0-13" class="d">-	Err error
</a><a href="#h113-0-14" id="h113-0-14" class="d">-
</a><a href="#h113-0-15" id="h113-0-15" class="d">-	// StatusCode contains the HTTP Status Code returned by the Honeycomb API
</a><a href="#h113-0-16" id="h113-0-16" class="d">-	// server
</a><a href="#h113-0-17" id="h113-0-17" class="d">-	StatusCode int
</a><a href="#h113-0-18" id="h113-0-18" class="d">-
</a><a href="#h113-0-19" id="h113-0-19" class="d">-	// Body is the body of the HTTP response from the Honeycomb API server.
</a><a href="#h113-0-20" id="h113-0-20" class="d">-	Body []byte
</a><a href="#h113-0-21" id="h113-0-21" class="d">-
</a><a href="#h113-0-22" id="h113-0-22" class="d">-	// Duration is a measurement of how long the HTTP request to send an event
</a><a href="#h113-0-23" id="h113-0-23" class="d">-	// took to process. The actual time it takes libhoney to send an event may
</a><a href="#h113-0-24" id="h113-0-24" class="d">-	// be longer due to any time the event spends waiting in the queue before
</a><a href="#h113-0-25" id="h113-0-25" class="d">-	// being sent.
</a><a href="#h113-0-26" id="h113-0-26" class="d">-	Duration time.Duration
</a><a href="#h113-0-27" id="h113-0-27" class="d">-
</a><a href="#h113-0-28" id="h113-0-28" class="d">-	// Metadata is whatever content you put in the Metadata field of the event for
</a><a href="#h113-0-29" id="h113-0-29" class="d">-	// which this is the response. It is passed through unmodified.
</a><a href="#h113-0-30" id="h113-0-30" class="d">-	Metadata interface{}
</a><a href="#h113-0-31" id="h113-0-31" class="d">-}
</a><b>diff --git a/<a id="h114" href="../file/vendor/github.com/honeycombio/libhoney-go/test_helpers.go">vendor/github.com/honeycombio/libhoney-go/test_helpers.go</a> b/<a href="../file/vendor/github.com/honeycombio/libhoney-go/test_helpers.go">vendor/github.com/honeycombio/libhoney-go/test_helpers.go</a></b>
<a href="#h114-0" id="h114-0" class="h">@@ -1,114 +0,0 @@
</a><a href="#h114-0-0" id="h114-0-0" class="d">-package libhoney
</a><a href="#h114-0-1" id="h114-0-1" class="d">-
</a><a href="#h114-0-2" id="h114-0-2" class="d">-import (
</a><a href="#h114-0-3" id="h114-0-3" class="d">-	&quot;fmt&quot;
</a><a href="#h114-0-4" id="h114-0-4" class="d">-	&quot;path/filepath&quot;
</a><a href="#h114-0-5" id="h114-0-5" class="d">-	&quot;reflect&quot;
</a><a href="#h114-0-6" id="h114-0-6" class="d">-	&quot;runtime&quot;
</a><a href="#h114-0-7" id="h114-0-7" class="d">-	&quot;strings&quot;
</a><a href="#h114-0-8" id="h114-0-8" class="d">-	&quot;testing&quot;
</a><a href="#h114-0-9" id="h114-0-9" class="d">-	&quot;time&quot;
</a><a href="#h114-0-10" id="h114-0-10" class="d">-)
</a><a href="#h114-0-11" id="h114-0-11" class="d">-
</a><a href="#h114-0-12" id="h114-0-12" class="d">-func testOK(t testing.TB, err error) {
</a><a href="#h114-0-13" id="h114-0-13" class="d">-	if err != nil {
</a><a href="#h114-0-14" id="h114-0-14" class="d">-		_, file, line, _ := runtime.Caller(1)
</a><a href="#h114-0-15" id="h114-0-15" class="d">-		t.Fatalf(&quot;%s:%d: unexpected error: %s&quot;, filepath.Base(file), line, err.Error())
</a><a href="#h114-0-16" id="h114-0-16" class="d">-	}
</a><a href="#h114-0-17" id="h114-0-17" class="d">-}
</a><a href="#h114-0-18" id="h114-0-18" class="d">-func testErr(t testing.TB, err error) {
</a><a href="#h114-0-19" id="h114-0-19" class="d">-	if err == nil {
</a><a href="#h114-0-20" id="h114-0-20" class="d">-		_, file, line, _ := runtime.Caller(1)
</a><a href="#h114-0-21" id="h114-0-21" class="d">-		t.Fatalf(&quot;%s:%d: error expected!&quot;, filepath.Base(file), line)
</a><a href="#h114-0-22" id="h114-0-22" class="d">-	}
</a><a href="#h114-0-23" id="h114-0-23" class="d">-}
</a><a href="#h114-0-24" id="h114-0-24" class="d">-
</a><a href="#h114-0-25" id="h114-0-25" class="d">-func testEquals(t testing.TB, actual, expected interface{}, msg ...string) {
</a><a href="#h114-0-26" id="h114-0-26" class="d">-	if !reflect.DeepEqual(actual, expected) {
</a><a href="#h114-0-27" id="h114-0-27" class="d">-		testCommonErr(t, actual, expected, msg)
</a><a href="#h114-0-28" id="h114-0-28" class="d">-	}
</a><a href="#h114-0-29" id="h114-0-29" class="d">-}
</a><a href="#h114-0-30" id="h114-0-30" class="d">-
</a><a href="#h114-0-31" id="h114-0-31" class="d">-func testNotEquals(t testing.TB, actual, expected interface{}, msg ...string) {
</a><a href="#h114-0-32" id="h114-0-32" class="d">-	if reflect.DeepEqual(actual, expected) {
</a><a href="#h114-0-33" id="h114-0-33" class="d">-		testCommonErr(t, actual, expected, msg)
</a><a href="#h114-0-34" id="h114-0-34" class="d">-	}
</a><a href="#h114-0-35" id="h114-0-35" class="d">-}
</a><a href="#h114-0-36" id="h114-0-36" class="d">-
</a><a href="#h114-0-37" id="h114-0-37" class="d">-func testResponsesChannelEmpty(t testing.TB, chnl chan Response, msg ...string) {
</a><a href="#h114-0-38" id="h114-0-38" class="d">-	expected := &quot;no response&quot;
</a><a href="#h114-0-39" id="h114-0-39" class="d">-	var rsp string
</a><a href="#h114-0-40" id="h114-0-40" class="d">-	select {
</a><a href="#h114-0-41" id="h114-0-41" class="d">-	case _ = &lt;-chnl:
</a><a href="#h114-0-42" id="h114-0-42" class="d">-		rsp = &quot;got response&quot;
</a><a href="#h114-0-43" id="h114-0-43" class="d">-	default:
</a><a href="#h114-0-44" id="h114-0-44" class="d">-		rsp = &quot;no response&quot;
</a><a href="#h114-0-45" id="h114-0-45" class="d">-	}
</a><a href="#h114-0-46" id="h114-0-46" class="d">-	testEquals(t, rsp, expected)
</a><a href="#h114-0-47" id="h114-0-47" class="d">-}
</a><a href="#h114-0-48" id="h114-0-48" class="d">-
</a><a href="#h114-0-49" id="h114-0-49" class="d">-func testChannelHasResponse(t testing.TB, chnl chan Response, msg ...string) {
</a><a href="#h114-0-50" id="h114-0-50" class="d">-	expected := &quot;got response&quot;
</a><a href="#h114-0-51" id="h114-0-51" class="d">-	var r Response
</a><a href="#h114-0-52" id="h114-0-52" class="d">-	var rsp string
</a><a href="#h114-0-53" id="h114-0-53" class="d">-	select {
</a><a href="#h114-0-54" id="h114-0-54" class="d">-	case r = &lt;-chnl:
</a><a href="#h114-0-55" id="h114-0-55" class="d">-		rsp = &quot;got response&quot;
</a><a href="#h114-0-56" id="h114-0-56" class="d">-	default:
</a><a href="#h114-0-57" id="h114-0-57" class="d">-		rsp = &quot;no response&quot;
</a><a href="#h114-0-58" id="h114-0-58" class="d">-	}
</a><a href="#h114-0-59" id="h114-0-59" class="d">-	t.Log(r)
</a><a href="#h114-0-60" id="h114-0-60" class="d">-	testEquals(t, rsp, expected)
</a><a href="#h114-0-61" id="h114-0-61" class="d">-}
</a><a href="#h114-0-62" id="h114-0-62" class="d">-
</a><a href="#h114-0-63" id="h114-0-63" class="d">-func testCommonErr(t testing.TB, actual, expected interface{}, msg []string) {
</a><a href="#h114-0-64" id="h114-0-64" class="d">-	message := strings.Join(msg, &quot;, &quot;)
</a><a href="#h114-0-65" id="h114-0-65" class="d">-	_, file, line, _ := runtime.Caller(2)
</a><a href="#h114-0-66" id="h114-0-66" class="d">-
</a><a href="#h114-0-67" id="h114-0-67" class="d">-	t.Errorf(
</a><a href="#h114-0-68" id="h114-0-68" class="d">-		&quot;%s:%d: %s -- actual(%T): %v, expected(%T): %v&quot;,
</a><a href="#h114-0-69" id="h114-0-69" class="d">-		filepath.Base(file),
</a><a href="#h114-0-70" id="h114-0-70" class="d">-		line,
</a><a href="#h114-0-71" id="h114-0-71" class="d">-		message,
</a><a href="#h114-0-72" id="h114-0-72" class="d">-		testDeref(actual),
</a><a href="#h114-0-73" id="h114-0-73" class="d">-		testDeref(actual),
</a><a href="#h114-0-74" id="h114-0-74" class="d">-		testDeref(expected),
</a><a href="#h114-0-75" id="h114-0-75" class="d">-		testDeref(expected),
</a><a href="#h114-0-76" id="h114-0-76" class="d">-	)
</a><a href="#h114-0-77" id="h114-0-77" class="d">-}
</a><a href="#h114-0-78" id="h114-0-78" class="d">-
</a><a href="#h114-0-79" id="h114-0-79" class="d">-func testDeref(v interface{}) interface{} {
</a><a href="#h114-0-80" id="h114-0-80" class="d">-	switch t := v.(type) {
</a><a href="#h114-0-81" id="h114-0-81" class="d">-	case *string:
</a><a href="#h114-0-82" id="h114-0-82" class="d">-		return fmt.Sprintf(&quot;*(%v)&quot;, *t)
</a><a href="#h114-0-83" id="h114-0-83" class="d">-	case *int64:
</a><a href="#h114-0-84" id="h114-0-84" class="d">-		return fmt.Sprintf(&quot;*(%v)&quot;, *t)
</a><a href="#h114-0-85" id="h114-0-85" class="d">-	case *float64:
</a><a href="#h114-0-86" id="h114-0-86" class="d">-		return fmt.Sprintf(&quot;*(%v)&quot;, *t)
</a><a href="#h114-0-87" id="h114-0-87" class="d">-	case *bool:
</a><a href="#h114-0-88" id="h114-0-88" class="d">-		return fmt.Sprintf(&quot;*(%v)&quot;, *t)
</a><a href="#h114-0-89" id="h114-0-89" class="d">-	default:
</a><a href="#h114-0-90" id="h114-0-90" class="d">-		return v
</a><a href="#h114-0-91" id="h114-0-91" class="d">-	}
</a><a href="#h114-0-92" id="h114-0-92" class="d">-}
</a><a href="#h114-0-93" id="h114-0-93" class="d">-
</a><a href="#h114-0-94" id="h114-0-94" class="d">-// for easy time manipulation during tests
</a><a href="#h114-0-95" id="h114-0-95" class="d">-type fakeNower struct {
</a><a href="#h114-0-96" id="h114-0-96" class="d">-	now  time.Time
</a><a href="#h114-0-97" id="h114-0-97" class="d">-	iter int
</a><a href="#h114-0-98" id="h114-0-98" class="d">-}
</a><a href="#h114-0-99" id="h114-0-99" class="d">-
</a><a href="#h114-0-100" id="h114-0-100" class="d">-// Now() returns the nth element of nows
</a><a href="#h114-0-101" id="h114-0-101" class="d">-func (f *fakeNower) Now() time.Time {
</a><a href="#h114-0-102" id="h114-0-102" class="d">-	now := f.now.Add(time.Second * 10 * time.Duration(f.iter))
</a><a href="#h114-0-103" id="h114-0-103" class="d">-	f.iter += 1
</a><a href="#h114-0-104" id="h114-0-104" class="d">-	return now
</a><a href="#h114-0-105" id="h114-0-105" class="d">-}
</a><a href="#h114-0-106" id="h114-0-106" class="d">-func (f *fakeNower) set(t time.Time) {
</a><a href="#h114-0-107" id="h114-0-107" class="d">-	f.now = t
</a><a href="#h114-0-108" id="h114-0-108" class="d">-}
</a><a href="#h114-0-109" id="h114-0-109" class="d">-func (f *fakeNower) init() {
</a><a href="#h114-0-110" id="h114-0-110" class="d">-	f.iter = 0
</a><a href="#h114-0-111" id="h114-0-111" class="d">-	t0, _ := time.Parse(time.RFC3339, &quot;2010-06-21T15:04:05Z&quot;)
</a><a href="#h114-0-112" id="h114-0-112" class="d">-	f.now = t0
</a><a href="#h114-0-113" id="h114-0-113" class="d">-}
</a><b>diff --git a/<a id="h115" href="../file/vendor/github.com/honeycombio/libhoney-go/transmission.go">vendor/github.com/honeycombio/libhoney-go/transmission.go</a> b/<a href="../file/vendor/github.com/honeycombio/libhoney-go/transmission.go">vendor/github.com/honeycombio/libhoney-go/transmission.go</a></b>
<a href="#h115-0" id="h115-0" class="h">@@ -1,222 +0,0 @@
</a><a href="#h115-0-0" id="h115-0-0" class="d">-package libhoney
</a><a href="#h115-0-1" id="h115-0-1" class="d">-
</a><a href="#h115-0-2" id="h115-0-2" class="d">-// Package transmission handles sending events to houd.
</a><a href="#h115-0-3" id="h115-0-3" class="d">-//
</a><a href="#h115-0-4" id="h115-0-4" class="d">-// Overview
</a><a href="#h115-0-5" id="h115-0-5" class="d">-//
</a><a href="#h115-0-6" id="h115-0-6" class="d">-// Create a new instance of Client.
</a><a href="#h115-0-7" id="h115-0-7" class="d">-// Set any of the public fields for which you want to override the defaults.
</a><a href="#h115-0-8" id="h115-0-8" class="d">-// Call Start() to spin up the background goroutines necessary for transmission
</a><a href="#h115-0-9" id="h115-0-9" class="d">-// Call Add(Event) to queue an event for transmission
</a><a href="#h115-0-10" id="h115-0-10" class="d">-
</a><a href="#h115-0-11" id="h115-0-11" class="d">-import (
</a><a href="#h115-0-12" id="h115-0-12" class="d">-	&quot;bytes&quot;
</a><a href="#h115-0-13" id="h115-0-13" class="d">-	&quot;encoding/json&quot;
</a><a href="#h115-0-14" id="h115-0-14" class="d">-	&quot;errors&quot;
</a><a href="#h115-0-15" id="h115-0-15" class="d">-	&quot;fmt&quot;
</a><a href="#h115-0-16" id="h115-0-16" class="d">-	&quot;io/ioutil&quot;
</a><a href="#h115-0-17" id="h115-0-17" class="d">-	&quot;net/http&quot;
</a><a href="#h115-0-18" id="h115-0-18" class="d">-	&quot;strconv&quot;
</a><a href="#h115-0-19" id="h115-0-19" class="d">-	&quot;strings&quot;
</a><a href="#h115-0-20" id="h115-0-20" class="d">-	&quot;time&quot;
</a><a href="#h115-0-21" id="h115-0-21" class="d">-
</a><a href="#h115-0-22" id="h115-0-22" class="d">-	&quot;github.com/facebookgo/muster&quot;
</a><a href="#h115-0-23" id="h115-0-23" class="d">-)
</a><a href="#h115-0-24" id="h115-0-24" class="d">-
</a><a href="#h115-0-25" id="h115-0-25" class="d">-const (
</a><a href="#h115-0-26" id="h115-0-26" class="d">-	// defaultmaxBatchSize how many events to collect in a batch
</a><a href="#h115-0-27" id="h115-0-27" class="d">-	defaultmaxBatchSize = 50
</a><a href="#h115-0-28" id="h115-0-28" class="d">-	// defaultbatchTimeout how frequently to send unfilled batches
</a><a href="#h115-0-29" id="h115-0-29" class="d">-	defaultbatchTimeout = 100 * time.Millisecond
</a><a href="#h115-0-30" id="h115-0-30" class="d">-	// defaultmaxConcurrentBatches how many batches to maintain in parallel
</a><a href="#h115-0-31" id="h115-0-31" class="d">-	defaultmaxConcurrentBatches = 10
</a><a href="#h115-0-32" id="h115-0-32" class="d">-	// defaultpendingWorkCapacity how many events to queue up for busy batches
</a><a href="#h115-0-33" id="h115-0-33" class="d">-	defaultpendingWorkCapacity = 10000
</a><a href="#h115-0-34" id="h115-0-34" class="d">-)
</a><a href="#h115-0-35" id="h115-0-35" class="d">-
</a><a href="#h115-0-36" id="h115-0-36" class="d">-type txClient interface {
</a><a href="#h115-0-37" id="h115-0-37" class="d">-	Start() error
</a><a href="#h115-0-38" id="h115-0-38" class="d">-	Stop() error
</a><a href="#h115-0-39" id="h115-0-39" class="d">-	Add(*Event)
</a><a href="#h115-0-40" id="h115-0-40" class="d">-}
</a><a href="#h115-0-41" id="h115-0-41" class="d">-
</a><a href="#h115-0-42" id="h115-0-42" class="d">-type txDefaultClient struct {
</a><a href="#h115-0-43" id="h115-0-43" class="d">-	maxBatchSize         uint          // how many events to collect into a batch before sending
</a><a href="#h115-0-44" id="h115-0-44" class="d">-	batchTimeout         time.Duration // how often to send off batches
</a><a href="#h115-0-45" id="h115-0-45" class="d">-	maxConcurrentBatches uint          // how many batches can be inflight simultaneously
</a><a href="#h115-0-46" id="h115-0-46" class="d">-	pendingWorkCapacity  uint          // how many events to allow to pile up
</a><a href="#h115-0-47" id="h115-0-47" class="d">-	blockOnSend          bool          // whether to block or drop events when the queue fills
</a><a href="#h115-0-48" id="h115-0-48" class="d">-	blockOnResponses     bool          // whether to block or drop responses when the queue fills
</a><a href="#h115-0-49" id="h115-0-49" class="d">-
</a><a href="#h115-0-50" id="h115-0-50" class="d">-	muster muster.Client
</a><a href="#h115-0-51" id="h115-0-51" class="d">-}
</a><a href="#h115-0-52" id="h115-0-52" class="d">-
</a><a href="#h115-0-53" id="h115-0-53" class="d">-func (t *txDefaultClient) Start() error {
</a><a href="#h115-0-54" id="h115-0-54" class="d">-	if t.maxBatchSize == 0 {
</a><a href="#h115-0-55" id="h115-0-55" class="d">-		t.maxBatchSize = defaultmaxBatchSize
</a><a href="#h115-0-56" id="h115-0-56" class="d">-	}
</a><a href="#h115-0-57" id="h115-0-57" class="d">-	t.muster.MaxBatchSize = t.maxBatchSize
</a><a href="#h115-0-58" id="h115-0-58" class="d">-	if t.batchTimeout == 0 {
</a><a href="#h115-0-59" id="h115-0-59" class="d">-		t.batchTimeout = defaultbatchTimeout
</a><a href="#h115-0-60" id="h115-0-60" class="d">-	}
</a><a href="#h115-0-61" id="h115-0-61" class="d">-	t.muster.BatchTimeout = t.batchTimeout
</a><a href="#h115-0-62" id="h115-0-62" class="d">-	if t.maxConcurrentBatches == 0 {
</a><a href="#h115-0-63" id="h115-0-63" class="d">-		t.maxConcurrentBatches = defaultmaxConcurrentBatches
</a><a href="#h115-0-64" id="h115-0-64" class="d">-	}
</a><a href="#h115-0-65" id="h115-0-65" class="d">-	t.muster.MaxConcurrentBatches = t.maxConcurrentBatches
</a><a href="#h115-0-66" id="h115-0-66" class="d">-	if t.pendingWorkCapacity == 0 {
</a><a href="#h115-0-67" id="h115-0-67" class="d">-		t.pendingWorkCapacity = defaultpendingWorkCapacity
</a><a href="#h115-0-68" id="h115-0-68" class="d">-	}
</a><a href="#h115-0-69" id="h115-0-69" class="d">-	t.muster.PendingWorkCapacity = t.pendingWorkCapacity
</a><a href="#h115-0-70" id="h115-0-70" class="d">-	t.muster.BatchMaker = func() muster.Batch {
</a><a href="#h115-0-71" id="h115-0-71" class="d">-		return &amp;batch{
</a><a href="#h115-0-72" id="h115-0-72" class="d">-			events:           make([]*Event, 0, t.maxBatchSize),
</a><a href="#h115-0-73" id="h115-0-73" class="d">-			n:                &amp;realNower{},
</a><a href="#h115-0-74" id="h115-0-74" class="d">-			httpClient:       &amp;http.Client{},
</a><a href="#h115-0-75" id="h115-0-75" class="d">-			blockOnResponses: t.blockOnResponses,
</a><a href="#h115-0-76" id="h115-0-76" class="d">-		}
</a><a href="#h115-0-77" id="h115-0-77" class="d">-	}
</a><a href="#h115-0-78" id="h115-0-78" class="d">-	return t.muster.Start()
</a><a href="#h115-0-79" id="h115-0-79" class="d">-}
</a><a href="#h115-0-80" id="h115-0-80" class="d">-
</a><a href="#h115-0-81" id="h115-0-81" class="d">-func (t *txDefaultClient) Stop() error {
</a><a href="#h115-0-82" id="h115-0-82" class="d">-	return t.muster.Stop()
</a><a href="#h115-0-83" id="h115-0-83" class="d">-}
</a><a href="#h115-0-84" id="h115-0-84" class="d">-
</a><a href="#h115-0-85" id="h115-0-85" class="d">-func (t *txDefaultClient) Add(ev *Event) {
</a><a href="#h115-0-86" id="h115-0-86" class="d">-	// don&#39;t block if we can&#39;t send events fast enough
</a><a href="#h115-0-87" id="h115-0-87" class="d">-	sd.Gauge(&quot;queue_length&quot;, len(t.muster.Work))
</a><a href="#h115-0-88" id="h115-0-88" class="d">-	if t.blockOnSend {
</a><a href="#h115-0-89" id="h115-0-89" class="d">-		t.muster.Work &lt;- ev
</a><a href="#h115-0-90" id="h115-0-90" class="d">-		sd.Increment(&quot;messages_queued&quot;)
</a><a href="#h115-0-91" id="h115-0-91" class="d">-	} else {
</a><a href="#h115-0-92" id="h115-0-92" class="d">-		select {
</a><a href="#h115-0-93" id="h115-0-93" class="d">-		case t.muster.Work &lt;- ev:
</a><a href="#h115-0-94" id="h115-0-94" class="d">-			sd.Increment(&quot;messages_queued&quot;)
</a><a href="#h115-0-95" id="h115-0-95" class="d">-		default:
</a><a href="#h115-0-96" id="h115-0-96" class="d">-			sd.Increment(&quot;queue_overflow&quot;)
</a><a href="#h115-0-97" id="h115-0-97" class="d">-			r := Response{
</a><a href="#h115-0-98" id="h115-0-98" class="d">-				Err:      errors.New(&quot;queue overflow&quot;),
</a><a href="#h115-0-99" id="h115-0-99" class="d">-				Metadata: ev.Metadata,
</a><a href="#h115-0-100" id="h115-0-100" class="d">-			}
</a><a href="#h115-0-101" id="h115-0-101" class="d">-			if t.blockOnResponses {
</a><a href="#h115-0-102" id="h115-0-102" class="d">-				responses &lt;- r
</a><a href="#h115-0-103" id="h115-0-103" class="d">-			} else {
</a><a href="#h115-0-104" id="h115-0-104" class="d">-				select {
</a><a href="#h115-0-105" id="h115-0-105" class="d">-				case responses &lt;- r:
</a><a href="#h115-0-106" id="h115-0-106" class="d">-				default:
</a><a href="#h115-0-107" id="h115-0-107" class="d">-				}
</a><a href="#h115-0-108" id="h115-0-108" class="d">-			}
</a><a href="#h115-0-109" id="h115-0-109" class="d">-		}
</a><a href="#h115-0-110" id="h115-0-110" class="d">-	}
</a><a href="#h115-0-111" id="h115-0-111" class="d">-}
</a><a href="#h115-0-112" id="h115-0-112" class="d">-
</a><a href="#h115-0-113" id="h115-0-113" class="d">-type txTestClient struct {
</a><a href="#h115-0-114" id="h115-0-114" class="d">-	Timestamps []time.Time
</a><a href="#h115-0-115" id="h115-0-115" class="d">-	datas      [][]byte
</a><a href="#h115-0-116" id="h115-0-116" class="d">-}
</a><a href="#h115-0-117" id="h115-0-117" class="d">-
</a><a href="#h115-0-118" id="h115-0-118" class="d">-func (t *txTestClient) Start() error {
</a><a href="#h115-0-119" id="h115-0-119" class="d">-	t.Timestamps = make([]time.Time, 0)
</a><a href="#h115-0-120" id="h115-0-120" class="d">-	t.datas = make([][]byte, 0)
</a><a href="#h115-0-121" id="h115-0-121" class="d">-	return nil
</a><a href="#h115-0-122" id="h115-0-122" class="d">-}
</a><a href="#h115-0-123" id="h115-0-123" class="d">-
</a><a href="#h115-0-124" id="h115-0-124" class="d">-func (t *txTestClient) Stop() error {
</a><a href="#h115-0-125" id="h115-0-125" class="d">-	return nil
</a><a href="#h115-0-126" id="h115-0-126" class="d">-}
</a><a href="#h115-0-127" id="h115-0-127" class="d">-
</a><a href="#h115-0-128" id="h115-0-128" class="d">-func (t *txTestClient) Add(ev *Event) {
</a><a href="#h115-0-129" id="h115-0-129" class="d">-	t.Timestamps = append(t.Timestamps, ev.Timestamp)
</a><a href="#h115-0-130" id="h115-0-130" class="d">-	blob, err := json.Marshal(ev.data)
</a><a href="#h115-0-131" id="h115-0-131" class="d">-	if err != nil {
</a><a href="#h115-0-132" id="h115-0-132" class="d">-		panic(err)
</a><a href="#h115-0-133" id="h115-0-133" class="d">-	}
</a><a href="#h115-0-134" id="h115-0-134" class="d">-	t.datas = append(t.datas, blob)
</a><a href="#h115-0-135" id="h115-0-135" class="d">-}
</a><a href="#h115-0-136" id="h115-0-136" class="d">-
</a><a href="#h115-0-137" id="h115-0-137" class="d">-type batch struct {
</a><a href="#h115-0-138" id="h115-0-138" class="d">-	events           []*Event
</a><a href="#h115-0-139" id="h115-0-139" class="d">-	n                nower
</a><a href="#h115-0-140" id="h115-0-140" class="d">-	httpClient       *http.Client
</a><a href="#h115-0-141" id="h115-0-141" class="d">-	blockOnResponses bool
</a><a href="#h115-0-142" id="h115-0-142" class="d">-}
</a><a href="#h115-0-143" id="h115-0-143" class="d">-
</a><a href="#h115-0-144" id="h115-0-144" class="d">-func (b *batch) Add(ev interface{}) {
</a><a href="#h115-0-145" id="h115-0-145" class="d">-	b.events = append(b.events, ev.(*Event))
</a><a href="#h115-0-146" id="h115-0-146" class="d">-}
</a><a href="#h115-0-147" id="h115-0-147" class="d">-
</a><a href="#h115-0-148" id="h115-0-148" class="d">-func (b *batch) Fire(notifier muster.Notifier) {
</a><a href="#h115-0-149" id="h115-0-149" class="d">-	defer notifier.Done()
</a><a href="#h115-0-150" id="h115-0-150" class="d">-	for _, e := range b.events {
</a><a href="#h115-0-151" id="h115-0-151" class="d">-		b.sendRequest(e)
</a><a href="#h115-0-152" id="h115-0-152" class="d">-	}
</a><a href="#h115-0-153" id="h115-0-153" class="d">-}
</a><a href="#h115-0-154" id="h115-0-154" class="d">-
</a><a href="#h115-0-155" id="h115-0-155" class="d">-// sendRequest sends an individual request to Honeycomb and returns
</a><a href="#h115-0-156" id="h115-0-156" class="d">-func (b *batch) sendRequest(e *Event) {
</a><a href="#h115-0-157" id="h115-0-157" class="d">-	start := b.n.Now()
</a><a href="#h115-0-158" id="h115-0-158" class="d">-	timestamp := e.Timestamp
</a><a href="#h115-0-159" id="h115-0-159" class="d">-	blob, err := json.Marshal(e.data)
</a><a href="#h115-0-160" id="h115-0-160" class="d">-	if err != nil {
</a><a href="#h115-0-161" id="h115-0-161" class="d">-		// TODO add logging or something to raise this error
</a><a href="#h115-0-162" id="h115-0-162" class="d">-		sd.Increment(&quot;json_marshal_errors&quot;)
</a><a href="#h115-0-163" id="h115-0-163" class="d">-		return
</a><a href="#h115-0-164" id="h115-0-164" class="d">-	}
</a><a href="#h115-0-165" id="h115-0-165" class="d">-
</a><a href="#h115-0-166" id="h115-0-166" class="d">-	userAgent := fmt.Sprintf(&quot;libhoney-go/%s&quot;, version)
</a><a href="#h115-0-167" id="h115-0-167" class="d">-	if UserAgentAddition != &quot;&quot; {
</a><a href="#h115-0-168" id="h115-0-168" class="d">-		userAgent = fmt.Sprintf(&quot;%s %s&quot;, userAgent, strings.TrimSpace(UserAgentAddition))
</a><a href="#h115-0-169" id="h115-0-169" class="d">-	}
</a><a href="#h115-0-170" id="h115-0-170" class="d">-
</a><a href="#h115-0-171" id="h115-0-171" class="d">-	url := fmt.Sprintf(&quot;%s/1/events/%s&quot;, e.APIHost, e.Dataset)
</a><a href="#h115-0-172" id="h115-0-172" class="d">-	req, err := http.NewRequest(&quot;POST&quot;, url, bytes.NewBuffer(blob))
</a><a href="#h115-0-173" id="h115-0-173" class="d">-	req.Header.Set(&quot;User-Agent&quot;, userAgent)
</a><a href="#h115-0-174" id="h115-0-174" class="d">-	req.Header.Set(&quot;Content-Type&quot;, &quot;application/json&quot;)
</a><a href="#h115-0-175" id="h115-0-175" class="d">-	req.Header.Add(&quot;X-Honeycomb-Team&quot;, e.WriteKey)
</a><a href="#h115-0-176" id="h115-0-176" class="d">-	req.Header.Add(&quot;X-Event-Time&quot;, timestamp.Format(time.RFC3339))
</a><a href="#h115-0-177" id="h115-0-177" class="d">-	req.Header.Add(&quot;X-Honeycomb-SampleRate&quot;, strconv.Itoa(int(e.SampleRate)))
</a><a href="#h115-0-178" id="h115-0-178" class="d">-
</a><a href="#h115-0-179" id="h115-0-179" class="d">-	resp, err := b.httpClient.Do(req)
</a><a href="#h115-0-180" id="h115-0-180" class="d">-
</a><a href="#h115-0-181" id="h115-0-181" class="d">-	dur := b.n.Now().Sub(start)
</a><a href="#h115-0-182" id="h115-0-182" class="d">-	evResp := Response{}
</a><a href="#h115-0-183" id="h115-0-183" class="d">-	if !b.blockOnResponses {
</a><a href="#h115-0-184" id="h115-0-184" class="d">-		defer func() {
</a><a href="#h115-0-185" id="h115-0-185" class="d">-			select {
</a><a href="#h115-0-186" id="h115-0-186" class="d">-			case responses &lt;- evResp:
</a><a href="#h115-0-187" id="h115-0-187" class="d">-			default:
</a><a href="#h115-0-188" id="h115-0-188" class="d">-			}
</a><a href="#h115-0-189" id="h115-0-189" class="d">-		}()
</a><a href="#h115-0-190" id="h115-0-190" class="d">-	}
</a><a href="#h115-0-191" id="h115-0-191" class="d">-	evResp.Duration = dur
</a><a href="#h115-0-192" id="h115-0-192" class="d">-	evResp.Metadata = e.Metadata
</a><a href="#h115-0-193" id="h115-0-193" class="d">-	if err != nil {
</a><a href="#h115-0-194" id="h115-0-194" class="d">-		// TODO add logging or something to raise this error
</a><a href="#h115-0-195" id="h115-0-195" class="d">-		sd.Increment(&quot;send_errors&quot;)
</a><a href="#h115-0-196" id="h115-0-196" class="d">-		evResp.Err = err
</a><a href="#h115-0-197" id="h115-0-197" class="d">-		if b.blockOnResponses {
</a><a href="#h115-0-198" id="h115-0-198" class="d">-			responses &lt;- evResp
</a><a href="#h115-0-199" id="h115-0-199" class="d">-		}
</a><a href="#h115-0-200" id="h115-0-200" class="d">-		return
</a><a href="#h115-0-201" id="h115-0-201" class="d">-	}
</a><a href="#h115-0-202" id="h115-0-202" class="d">-	sd.Increment(&quot;messages_sent&quot;)
</a><a href="#h115-0-203" id="h115-0-203" class="d">-	defer resp.Body.Close()
</a><a href="#h115-0-204" id="h115-0-204" class="d">-	evResp.StatusCode = resp.StatusCode
</a><a href="#h115-0-205" id="h115-0-205" class="d">-	body, _ := ioutil.ReadAll(resp.Body)
</a><a href="#h115-0-206" id="h115-0-206" class="d">-	evResp.Body = body
</a><a href="#h115-0-207" id="h115-0-207" class="d">-	if b.blockOnResponses {
</a><a href="#h115-0-208" id="h115-0-208" class="d">-		responses &lt;- evResp
</a><a href="#h115-0-209" id="h115-0-209" class="d">-	}
</a><a href="#h115-0-210" id="h115-0-210" class="d">-}
</a><a href="#h115-0-211" id="h115-0-211" class="d">-
</a><a href="#h115-0-212" id="h115-0-212" class="d">-// nower to make testing easier
</a><a href="#h115-0-213" id="h115-0-213" class="d">-type nower interface {
</a><a href="#h115-0-214" id="h115-0-214" class="d">-	Now() time.Time
</a><a href="#h115-0-215" id="h115-0-215" class="d">-}
</a><a href="#h115-0-216" id="h115-0-216" class="d">-
</a><a href="#h115-0-217" id="h115-0-217" class="d">-type realNower struct{}
</a><a href="#h115-0-218" id="h115-0-218" class="d">-
</a><a href="#h115-0-219" id="h115-0-219" class="d">-func (r *realNower) Now() time.Time {
</a><a href="#h115-0-220" id="h115-0-220" class="d">-	return time.Now().UTC()
</a><a href="#h115-0-221" id="h115-0-221" class="d">-}
</a><b>diff --git a/<a id="h116" href="../file/vendor/github.com/nelhage/go.cli/LICENSE">vendor/github.com/nelhage/go.cli/LICENSE</a> b/<a href="../file/vendor/github.com/nelhage/go.cli/LICENSE">vendor/github.com/nelhage/go.cli/LICENSE</a></b>
<a href="#h116-0" id="h116-0" class="h">@@ -1,26 +0,0 @@
</a><a href="#h116-0-0" id="h116-0-0" class="d">-Copyright (c) 2013-2014 Nelson Elhage
</a><a href="#h116-0-1" id="h116-0-1" class="d">-All rights reserved.
</a><a href="#h116-0-2" id="h116-0-2" class="d">-
</a><a href="#h116-0-3" id="h116-0-3" class="d">-Redistribution and use in source and binary forms, with or without
</a><a href="#h116-0-4" id="h116-0-4" class="d">-modification, are permitted provided that the following conditions
</a><a href="#h116-0-5" id="h116-0-5" class="d">-are met:
</a><a href="#h116-0-6" id="h116-0-6" class="d">-1. Redistributions of source code must retain the above copyright
</a><a href="#h116-0-7" id="h116-0-7" class="d">-   notice, this list of conditions and the following disclaimer.
</a><a href="#h116-0-8" id="h116-0-8" class="d">-2. Redistributions in binary form must reproduce the above copyright
</a><a href="#h116-0-9" id="h116-0-9" class="d">-   notice, this list of conditions and the following disclaimer in the
</a><a href="#h116-0-10" id="h116-0-10" class="d">-   documentation and/or other materials provided with the distribution.
</a><a href="#h116-0-11" id="h116-0-11" class="d">-3. Neither the name of the University nor the names of its contributors
</a><a href="#h116-0-12" id="h116-0-12" class="d">-   may be used to endorse or promote products derived from this software
</a><a href="#h116-0-13" id="h116-0-13" class="d">-   without specific prior written permission.
</a><a href="#h116-0-14" id="h116-0-14" class="d">-
</a><a href="#h116-0-15" id="h116-0-15" class="d">-THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS&#39;&#39; AND
</a><a href="#h116-0-16" id="h116-0-16" class="d">-ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
</a><a href="#h116-0-17" id="h116-0-17" class="d">-IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
</a><a href="#h116-0-18" id="h116-0-18" class="d">-ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
</a><a href="#h116-0-19" id="h116-0-19" class="d">-FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
</a><a href="#h116-0-20" id="h116-0-20" class="d">-DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
</a><a href="#h116-0-21" id="h116-0-21" class="d">-OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
</a><a href="#h116-0-22" id="h116-0-22" class="d">-HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
</a><a href="#h116-0-23" id="h116-0-23" class="d">-LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
</a><a href="#h116-0-24" id="h116-0-24" class="d">-OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
</a><a href="#h116-0-25" id="h116-0-25" class="d">-SUCH DAMAGE.
</a><b>diff --git a/<a id="h117" href="../file/vendor/github.com/nelhage/go.cli/config/BUILD">vendor/github.com/nelhage/go.cli/config/BUILD</a> b/<a href="../file/vendor/github.com/nelhage/go.cli/config/BUILD">vendor/github.com/nelhage/go.cli/config/BUILD</a></b>
<a href="#h117-0" id="h117-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h117-0-0" id="h117-0-0" class="d">-
</a><a href="#h117-0-1" id="h117-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h117-0-2" id="h117-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h117-0-3" id="h117-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h117-0-4" id="h117-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h117-0-5" id="h117-0-5" class="d">-)
</a><a href="#h117-0-6" id="h117-0-6" class="d">-
</a><a href="#h117-0-7" id="h117-0-7" class="d">-go_library(
</a><a href="#h117-0-8" id="h117-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h117-0-9" id="h117-0-9" class="d">-  srcs = [
</a><a href="#h117-0-10" id="h117-0-10" class="d">-    &quot;config.go&quot;,
</a><a href="#h117-0-11" id="h117-0-11" class="d">-  ],
</a><a href="#h117-0-12" id="h117-0-12" class="d">-  deps = [
</a><a href="#h117-0-13" id="h117-0-13" class="d">-  ],
</a><a href="#h117-0-14" id="h117-0-14" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h117-0-15" id="h117-0-15" class="d">-)
</a><a href="#h117-0-16" id="h117-0-16" class="d">-
</a><a href="#h117-0-17" id="h117-0-17" class="d">-
</a><b>diff --git a/<a id="h118" href="../file/vendor/github.com/nelhage/go.cli/config/README.md">vendor/github.com/nelhage/go.cli/config/README.md</a> b/<a href="../file/vendor/github.com/nelhage/go.cli/config/README.md">vendor/github.com/nelhage/go.cli/config/README.md</a></b>
<a href="#h118-0" id="h118-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h118-0-0" id="h118-0-0" class="d">-# go.config -- parse configuration files using go&#39;s &quot;flag&quot; package
</a><a href="#h118-0-1" id="h118-0-1" class="d">-
</a><a href="#h118-0-2" id="h118-0-2" class="d">-command-line options already provide a flexible and powerful way to
</a><a href="#h118-0-3" id="h118-0-3" class="d">-configure many applications, and go&#39;s &quot;flag&quot; package provides an easy
</a><a href="#h118-0-4" id="h118-0-4" class="d">-way to define command-line options and distribute their values into
</a><a href="#h118-0-5" id="h118-0-5" class="d">-arbitrary modules in your program.
</a><a href="#h118-0-6" id="h118-0-6" class="d">-
</a><a href="#h118-0-7" id="h118-0-7" class="d">-go.config builds on that infrastructure to provide a lightweight
</a><a href="#h118-0-8" id="h118-0-8" class="d">-config-file mechanism to read configuration options from a file
</a><a href="#h118-0-9" id="h118-0-9" class="d">-directly into a flag.FlagSet.
</a><a href="#h118-0-10" id="h118-0-10" class="d">-
</a><a href="#h118-0-11" id="h118-0-11" class="d">-Run
</a><a href="#h118-0-12" id="h118-0-12" class="d">-
</a><a href="#h118-0-13" id="h118-0-13" class="d">-```
</a><a href="#h118-0-14" id="h118-0-14" class="d">-godoc github.com/nelhage/go.config
</a><a href="#h118-0-15" id="h118-0-15" class="d">-```
</a><a href="#h118-0-16" id="h118-0-16" class="d">-
</a><a href="#h118-0-17" id="h118-0-17" class="d">-for more information.
</a><b>diff --git a/<a id="h119" href="../file/vendor/github.com/nelhage/go.cli/config/config.go">vendor/github.com/nelhage/go.cli/config/config.go</a> b/<a href="../file/vendor/github.com/nelhage/go.cli/config/config.go">vendor/github.com/nelhage/go.cli/config/config.go</a></b>
<a href="#h119-0" id="h119-0" class="h">@@ -1,71 +0,0 @@
</a><a href="#h119-0-0" id="h119-0-0" class="d">-// Package config provides support for loading config options from a
</a><a href="#h119-0-1" id="h119-0-1" class="d">-// file, leveraging configuration defined using the `flag&#39; package.
</a><a href="#h119-0-2" id="h119-0-2" class="d">-//
</a><a href="#h119-0-3" id="h119-0-3" class="d">-// Config files should consist of lines of the form
</a><a href="#h119-0-4" id="h119-0-4" class="d">-//
</a><a href="#h119-0-5" id="h119-0-5" class="d">-//   &lt;key&gt; = &lt;value&gt;
</a><a href="#h119-0-6" id="h119-0-6" class="d">-//
</a><a href="#h119-0-7" id="h119-0-7" class="d">-// or
</a><a href="#h119-0-8" id="h119-0-8" class="d">-//
</a><a href="#h119-0-9" id="h119-0-9" class="d">-//   # this is a comment
</a><a href="#h119-0-10" id="h119-0-10" class="d">-//
</a><a href="#h119-0-11" id="h119-0-11" class="d">-// Configuration options are loaded by passing in a flag.FlagSet; keys
</a><a href="#h119-0-12" id="h119-0-12" class="d">-//  and values are looked up, parsed, and stored using the
</a><a href="#h119-0-13" id="h119-0-13" class="d">-//  FlagSet. For many applications, you can just pass in
</a><a href="#h119-0-14" id="h119-0-14" class="d">-//  flag.CommandLine to expose your application&#39;s default set of
</a><a href="#h119-0-15" id="h119-0-15" class="d">-//  command-line options as configuration frobs.
</a><a href="#h119-0-16" id="h119-0-16" class="d">-package config
</a><a href="#h119-0-17" id="h119-0-17" class="d">-
</a><a href="#h119-0-18" id="h119-0-18" class="d">-import (
</a><a href="#h119-0-19" id="h119-0-19" class="d">-	&quot;bufio&quot;
</a><a href="#h119-0-20" id="h119-0-20" class="d">-	&quot;flag&quot;
</a><a href="#h119-0-21" id="h119-0-21" class="d">-	&quot;fmt&quot;
</a><a href="#h119-0-22" id="h119-0-22" class="d">-	&quot;io&quot;
</a><a href="#h119-0-23" id="h119-0-23" class="d">-	&quot;os&quot;
</a><a href="#h119-0-24" id="h119-0-24" class="d">-	&quot;strings&quot;
</a><a href="#h119-0-25" id="h119-0-25" class="d">-)
</a><a href="#h119-0-26" id="h119-0-26" class="d">-
</a><a href="#h119-0-27" id="h119-0-27" class="d">-// LoadConfig loads configuration from a dotfile. It looks for
</a><a href="#h119-0-28" id="h119-0-28" class="d">-// $HOME/.basename, and, if it exists, opens it and calls
</a><a href="#h119-0-29" id="h119-0-29" class="d">-// ParseConfig. Returns silently if no such file exists.
</a><a href="#h119-0-30" id="h119-0-30" class="d">-func LoadConfig(flags *flag.FlagSet, basename string) error {
</a><a href="#h119-0-31" id="h119-0-31" class="d">-	path := os.ExpandEnv(fmt.Sprintf(&quot;${HOME}/.%s&quot;, basename))
</a><a href="#h119-0-32" id="h119-0-32" class="d">-	f, err := os.Open(path)
</a><a href="#h119-0-33" id="h119-0-33" class="d">-	if err != nil {
</a><a href="#h119-0-34" id="h119-0-34" class="d">-		if os.IsNotExist(err) {
</a><a href="#h119-0-35" id="h119-0-35" class="d">-			return nil
</a><a href="#h119-0-36" id="h119-0-36" class="d">-		}
</a><a href="#h119-0-37" id="h119-0-37" class="d">-		return err
</a><a href="#h119-0-38" id="h119-0-38" class="d">-	}
</a><a href="#h119-0-39" id="h119-0-39" class="d">-	defer f.Close()
</a><a href="#h119-0-40" id="h119-0-40" class="d">-	return ParseConfig(flags, f)
</a><a href="#h119-0-41" id="h119-0-41" class="d">-}
</a><a href="#h119-0-42" id="h119-0-42" class="d">-
</a><a href="#h119-0-43" id="h119-0-43" class="d">-// ParseConfig parses a config file, using the provided FlagSet to
</a><a href="#h119-0-44" id="h119-0-44" class="d">-// look up, parse, and store values.
</a><a href="#h119-0-45" id="h119-0-45" class="d">-func ParseConfig(flags *flag.FlagSet, f io.Reader) error {
</a><a href="#h119-0-46" id="h119-0-46" class="d">-	scanner := bufio.NewScanner(f)
</a><a href="#h119-0-47" id="h119-0-47" class="d">-	for scanner.Scan() {
</a><a href="#h119-0-48" id="h119-0-48" class="d">-		line := strings.TrimSpace(scanner.Text())
</a><a href="#h119-0-49" id="h119-0-49" class="d">-		if line == &quot;&quot; || strings.HasPrefix(line, &quot;#&quot;) {
</a><a href="#h119-0-50" id="h119-0-50" class="d">-			continue
</a><a href="#h119-0-51" id="h119-0-51" class="d">-		}
</a><a href="#h119-0-52" id="h119-0-52" class="d">-
</a><a href="#h119-0-53" id="h119-0-53" class="d">-		bits := strings.SplitN(line, &quot;=&quot;, 2)
</a><a href="#h119-0-54" id="h119-0-54" class="d">-		if len(bits) != 2 {
</a><a href="#h119-0-55" id="h119-0-55" class="d">-			return fmt.Errorf(&quot;illegal config line: `%s&#39;&quot;, line)
</a><a href="#h119-0-56" id="h119-0-56" class="d">-		}
</a><a href="#h119-0-57" id="h119-0-57" class="d">-
</a><a href="#h119-0-58" id="h119-0-58" class="d">-		key := strings.TrimSpace(bits[0])
</a><a href="#h119-0-59" id="h119-0-59" class="d">-		value := strings.TrimSpace(bits[1])
</a><a href="#h119-0-60" id="h119-0-60" class="d">-
</a><a href="#h119-0-61" id="h119-0-61" class="d">-		if flag := flags.Lookup(key); flag == nil {
</a><a href="#h119-0-62" id="h119-0-62" class="d">-			return fmt.Errorf(&quot;unknown option `%s&#39;&quot;, key)
</a><a href="#h119-0-63" id="h119-0-63" class="d">-		}
</a><a href="#h119-0-64" id="h119-0-64" class="d">-
</a><a href="#h119-0-65" id="h119-0-65" class="d">-		if err := flags.Set(key, value); err != nil {
</a><a href="#h119-0-66" id="h119-0-66" class="d">-			return err
</a><a href="#h119-0-67" id="h119-0-67" class="d">-		}
</a><a href="#h119-0-68" id="h119-0-68" class="d">-	}
</a><a href="#h119-0-69" id="h119-0-69" class="d">-	return nil
</a><a href="#h119-0-70" id="h119-0-70" class="d">-}
</a><b>diff --git a/<a id="h120" href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/BUILD">vendor/gopkg.in/alexcesaro/statsd.v2/BUILD</a> b/<a href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/BUILD">vendor/gopkg.in/alexcesaro/statsd.v2/BUILD</a></b>
<a href="#h120-0" id="h120-0" class="h">@@ -1,21 +0,0 @@
</a><a href="#h120-0-0" id="h120-0-0" class="d">-
</a><a href="#h120-0-1" id="h120-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h120-0-2" id="h120-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h120-0-3" id="h120-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h120-0-4" id="h120-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h120-0-5" id="h120-0-5" class="d">-)
</a><a href="#h120-0-6" id="h120-0-6" class="d">-
</a><a href="#h120-0-7" id="h120-0-7" class="d">-go_library(
</a><a href="#h120-0-8" id="h120-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h120-0-9" id="h120-0-9" class="d">-  srcs = [
</a><a href="#h120-0-10" id="h120-0-10" class="d">-    &quot;conn.go&quot;,
</a><a href="#h120-0-11" id="h120-0-11" class="d">-    &quot;doc.go&quot;,
</a><a href="#h120-0-12" id="h120-0-12" class="d">-    &quot;options.go&quot;,
</a><a href="#h120-0-13" id="h120-0-13" class="d">-    &quot;statsd.go&quot;,
</a><a href="#h120-0-14" id="h120-0-14" class="d">-  ],
</a><a href="#h120-0-15" id="h120-0-15" class="d">-  deps = [
</a><a href="#h120-0-16" id="h120-0-16" class="d">-  ],
</a><a href="#h120-0-17" id="h120-0-17" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h120-0-18" id="h120-0-18" class="d">-)
</a><a href="#h120-0-19" id="h120-0-19" class="d">-
</a><a href="#h120-0-20" id="h120-0-20" class="d">-
</a><b>diff --git a/<a id="h121" href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/CHANGELOG.md">vendor/gopkg.in/alexcesaro/statsd.v2/CHANGELOG.md</a> b/<a href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/CHANGELOG.md">vendor/gopkg.in/alexcesaro/statsd.v2/CHANGELOG.md</a></b>
<a href="#h121-0" id="h121-0" class="h">@@ -1,64 +0,0 @@
</a><a href="#h121-0-0" id="h121-0-0" class="d">-# Change Log
</a><a href="#h121-0-1" id="h121-0-1" class="d">-All notable changes to this project will be documented in this file.
</a><a href="#h121-0-2" id="h121-0-2" class="d">-This project adheres to [Semantic Versioning](http://semver.org/).
</a><a href="#h121-0-3" id="h121-0-3" class="d">-
</a><a href="#h121-0-4" id="h121-0-4" class="d">-## [2.0.0] - 2016-03-20
</a><a href="#h121-0-5" id="h121-0-5" class="d">-
</a><a href="#h121-0-6" id="h121-0-6" class="d">-- `New` signature changed. The default address used is now &quot;:8125&quot;. To use
</a><a href="#h121-0-7" id="h121-0-7" class="d">-  another address use the `Address` option:
</a><a href="#h121-0-8" id="h121-0-8" class="d">-
</a><a href="#h121-0-9" id="h121-0-9" class="d">-  Before:
</a><a href="#h121-0-10" id="h121-0-10" class="d">-  ```
</a><a href="#h121-0-11" id="h121-0-11" class="d">-  statsd.New(&quot;:8125&quot;)
</a><a href="#h121-0-12" id="h121-0-12" class="d">-  statsd.New(&quot;:9000&quot;)
</a><a href="#h121-0-13" id="h121-0-13" class="d">-  ```
</a><a href="#h121-0-14" id="h121-0-14" class="d">-
</a><a href="#h121-0-15" id="h121-0-15" class="d">-  After
</a><a href="#h121-0-16" id="h121-0-16" class="d">-  ```
</a><a href="#h121-0-17" id="h121-0-17" class="d">-  statsd.New()
</a><a href="#h121-0-18" id="h121-0-18" class="d">-  statsd.New(statsd.Address(&quot;:9000&quot;))
</a><a href="#h121-0-19" id="h121-0-19" class="d">-  ```
</a><a href="#h121-0-20" id="h121-0-20" class="d">-
</a><a href="#h121-0-21" id="h121-0-21" class="d">-- The `rate` parameter has been removed from the `Count` and `Timing` methods.
</a><a href="#h121-0-22" id="h121-0-22" class="d">-  Use the new `SampleRate` option instead.
</a><a href="#h121-0-23" id="h121-0-23" class="d">-
</a><a href="#h121-0-24" id="h121-0-24" class="d">-- `Count`, `Gauge` and `Timing` now accept a `interface{}` instead of an int as
</a><a href="#h121-0-25" id="h121-0-25" class="d">-  the value parameter. So you can now use any type of integer or float in these
</a><a href="#h121-0-26" id="h121-0-26" class="d">-  functions.
</a><a href="#h121-0-27" id="h121-0-27" class="d">-
</a><a href="#h121-0-28" id="h121-0-28" class="d">-- The `WithInfluxDBTags` and `WithDatadogTags` options were replaced by the
</a><a href="#h121-0-29" id="h121-0-29" class="d">-  `TagsFormat` and `Tags` options:
</a><a href="#h121-0-30" id="h121-0-30" class="d">-
</a><a href="#h121-0-31" id="h121-0-31" class="d">-  Before:
</a><a href="#h121-0-32" id="h121-0-32" class="d">-  ```
</a><a href="#h121-0-33" id="h121-0-33" class="d">-  statsd.New(statsd.WithInfluxDBTags(&quot;tag&quot;, &quot;value&quot;))
</a><a href="#h121-0-34" id="h121-0-34" class="d">-  statsd.New(statsd.WithDatadogTags(&quot;tag&quot;, &quot;value&quot;))
</a><a href="#h121-0-35" id="h121-0-35" class="d">-  ```
</a><a href="#h121-0-36" id="h121-0-36" class="d">-
</a><a href="#h121-0-37" id="h121-0-37" class="d">-  After
</a><a href="#h121-0-38" id="h121-0-38" class="d">-  ```
</a><a href="#h121-0-39" id="h121-0-39" class="d">-  statsd.New(statsd.TagsFormat(statsd.InfluxDB), statsd.Tags(&quot;tag&quot;, &quot;value&quot;))
</a><a href="#h121-0-40" id="h121-0-40" class="d">-  statsd.New(statsd.TagsFormat(statsd.Datadog), statsd.Tags(&quot;tag&quot;, &quot;value&quot;))
</a><a href="#h121-0-41" id="h121-0-41" class="d">-  ```
</a><a href="#h121-0-42" id="h121-0-42" class="d">-
</a><a href="#h121-0-43" id="h121-0-43" class="d">-- All options whose named began by `With` had the `With` stripped:
</a><a href="#h121-0-44" id="h121-0-44" class="d">-
</a><a href="#h121-0-45" id="h121-0-45" class="d">-  Before:
</a><a href="#h121-0-46" id="h121-0-46" class="d">-  ```
</a><a href="#h121-0-47" id="h121-0-47" class="d">-  statsd.New(statsd.WithMaxPacketSize(65000))
</a><a href="#h121-0-48" id="h121-0-48" class="d">-  ```
</a><a href="#h121-0-49" id="h121-0-49" class="d">-
</a><a href="#h121-0-50" id="h121-0-50" class="d">-  After
</a><a href="#h121-0-51" id="h121-0-51" class="d">-  ```
</a><a href="#h121-0-52" id="h121-0-52" class="d">-  statsd.New(statsd.MaxPacketSize(65000))
</a><a href="#h121-0-53" id="h121-0-53" class="d">-  ```
</a><a href="#h121-0-54" id="h121-0-54" class="d">-
</a><a href="#h121-0-55" id="h121-0-55" class="d">-- `ChangeGauge` has been removed as it is a bad practice: UDP packets can be
</a><a href="#h121-0-56" id="h121-0-56" class="d">-  lost so using relative changes can cause unreliable values in the long term.
</a><a href="#h121-0-57" id="h121-0-57" class="d">-  Use `Gauge` instead which sends an absolute value.
</a><a href="#h121-0-58" id="h121-0-58" class="d">-
</a><a href="#h121-0-59" id="h121-0-59" class="d">-- The `Histogram` method has been added.
</a><a href="#h121-0-60" id="h121-0-60" class="d">-
</a><a href="#h121-0-61" id="h121-0-61" class="d">-- The `Clone` method was added to the `Client`, it allows to create a new
</a><a href="#h121-0-62" id="h121-0-62" class="d">-  `Client` with different rate / prefix / tags parameters while still using the
</a><a href="#h121-0-63" id="h121-0-63" class="d">-  same connection.
</a><b>diff --git a/<a id="h122" href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/LICENSE">vendor/gopkg.in/alexcesaro/statsd.v2/LICENSE</a> b/<a href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/LICENSE">vendor/gopkg.in/alexcesaro/statsd.v2/LICENSE</a></b>
<a href="#h122-0" id="h122-0" class="h">@@ -1,20 +0,0 @@
</a><a href="#h122-0-0" id="h122-0-0" class="d">-The MIT License (MIT)
</a><a href="#h122-0-1" id="h122-0-1" class="d">-
</a><a href="#h122-0-2" id="h122-0-2" class="d">-Copyright (c) 2015 Alexandre Cesaro
</a><a href="#h122-0-3" id="h122-0-3" class="d">-
</a><a href="#h122-0-4" id="h122-0-4" class="d">-Permission is hereby granted, free of charge, to any person obtaining a copy of
</a><a href="#h122-0-5" id="h122-0-5" class="d">-this software and associated documentation files (the &quot;Software&quot;), to deal in
</a><a href="#h122-0-6" id="h122-0-6" class="d">-the Software without restriction, including without limitation the rights to
</a><a href="#h122-0-7" id="h122-0-7" class="d">-use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
</a><a href="#h122-0-8" id="h122-0-8" class="d">-the Software, and to permit persons to whom the Software is furnished to do so,
</a><a href="#h122-0-9" id="h122-0-9" class="d">-subject to the following conditions:
</a><a href="#h122-0-10" id="h122-0-10" class="d">-
</a><a href="#h122-0-11" id="h122-0-11" class="d">-The above copyright notice and this permission notice shall be included in all
</a><a href="#h122-0-12" id="h122-0-12" class="d">-copies or substantial portions of the Software.
</a><a href="#h122-0-13" id="h122-0-13" class="d">-
</a><a href="#h122-0-14" id="h122-0-14" class="d">-THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</a><a href="#h122-0-15" id="h122-0-15" class="d">-IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
</a><a href="#h122-0-16" id="h122-0-16" class="d">-FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
</a><a href="#h122-0-17" id="h122-0-17" class="d">-COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
</a><a href="#h122-0-18" id="h122-0-18" class="d">-IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
</a><a href="#h122-0-19" id="h122-0-19" class="d">-CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
</a><b>diff --git a/<a id="h123" href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/README.md">vendor/gopkg.in/alexcesaro/statsd.v2/README.md</a> b/<a href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/README.md">vendor/gopkg.in/alexcesaro/statsd.v2/README.md</a></b>
<a href="#h123-0" id="h123-0" class="h">@@ -1,50 +0,0 @@
</a><a href="#h123-0-0" id="h123-0-0" class="d">-# statsd
</a><a href="#h123-0-1" id="h123-0-1" class="d">-[![Build Status](https://travis-ci.org/alexcesaro/statsd.svg?branch=v2)](https://travis-ci.org/alexcesaro/statsd) [![Code Coverage](http://gocover.io/_badge/gopkg.in/alexcesaro/statsd.v2)](http://gocover.io/gopkg.in/alexcesaro/statsd.v2) [![Documentation](https://godoc.org/gopkg.in/alexcesaro/statsd.v2?status.svg)](https://godoc.org/gopkg.in/alexcesaro/statsd.v2)
</a><a href="#h123-0-2" id="h123-0-2" class="d">-
</a><a href="#h123-0-3" id="h123-0-3" class="d">-## Introduction
</a><a href="#h123-0-4" id="h123-0-4" class="d">-
</a><a href="#h123-0-5" id="h123-0-5" class="d">-statsd is a simple and efficient [Statsd](https://github.com/etsy/statsd)
</a><a href="#h123-0-6" id="h123-0-6" class="d">-client.
</a><a href="#h123-0-7" id="h123-0-7" class="d">-
</a><a href="#h123-0-8" id="h123-0-8" class="d">-See the [benchmark](https://github.com/alexcesaro/statsdbench) for a comparison
</a><a href="#h123-0-9" id="h123-0-9" class="d">-with other Go StatsD clients.
</a><a href="#h123-0-10" id="h123-0-10" class="d">-
</a><a href="#h123-0-11" id="h123-0-11" class="d">-## Features
</a><a href="#h123-0-12" id="h123-0-12" class="d">-
</a><a href="#h123-0-13" id="h123-0-13" class="d">-- Supports all StatsD metrics: counter, gauge, timing and set
</a><a href="#h123-0-14" id="h123-0-14" class="d">-- Supports InfluxDB and Datadog tags
</a><a href="#h123-0-15" id="h123-0-15" class="d">-- Fast and GC-friendly: all functions for sending metrics do not allocate
</a><a href="#h123-0-16" id="h123-0-16" class="d">-- Efficient: metrics are buffered by default
</a><a href="#h123-0-17" id="h123-0-17" class="d">-- Simple and clean API
</a><a href="#h123-0-18" id="h123-0-18" class="d">-- 100% test coverage
</a><a href="#h123-0-19" id="h123-0-19" class="d">-- Versioned API using gopkg.in
</a><a href="#h123-0-20" id="h123-0-20" class="d">-
</a><a href="#h123-0-21" id="h123-0-21" class="d">-
</a><a href="#h123-0-22" id="h123-0-22" class="d">-## Documentation
</a><a href="#h123-0-23" id="h123-0-23" class="d">-
</a><a href="#h123-0-24" id="h123-0-24" class="d">-https://godoc.org/gopkg.in/alexcesaro/statsd.v2
</a><a href="#h123-0-25" id="h123-0-25" class="d">-
</a><a href="#h123-0-26" id="h123-0-26" class="d">-
</a><a href="#h123-0-27" id="h123-0-27" class="d">-## Download
</a><a href="#h123-0-28" id="h123-0-28" class="d">-
</a><a href="#h123-0-29" id="h123-0-29" class="d">-    go get gopkg.in/alexcesaro/statsd.v2
</a><a href="#h123-0-30" id="h123-0-30" class="d">-
</a><a href="#h123-0-31" id="h123-0-31" class="d">-
</a><a href="#h123-0-32" id="h123-0-32" class="d">-## Example
</a><a href="#h123-0-33" id="h123-0-33" class="d">-
</a><a href="#h123-0-34" id="h123-0-34" class="d">-See the [examples in the documentation](https://godoc.org/gopkg.in/alexcesaro/statsd.v2#example-package).
</a><a href="#h123-0-35" id="h123-0-35" class="d">-
</a><a href="#h123-0-36" id="h123-0-36" class="d">-
</a><a href="#h123-0-37" id="h123-0-37" class="d">-## License
</a><a href="#h123-0-38" id="h123-0-38" class="d">-
</a><a href="#h123-0-39" id="h123-0-39" class="d">-[MIT](LICENSE)
</a><a href="#h123-0-40" id="h123-0-40" class="d">-
</a><a href="#h123-0-41" id="h123-0-41" class="d">-
</a><a href="#h123-0-42" id="h123-0-42" class="d">-## Contribute
</a><a href="#h123-0-43" id="h123-0-43" class="d">-
</a><a href="#h123-0-44" id="h123-0-44" class="d">-Do you have any question the documentation does not answer? Is there a use case
</a><a href="#h123-0-45" id="h123-0-45" class="d">-that you feel is common and is not well-addressed by the current API?
</a><a href="#h123-0-46" id="h123-0-46" class="d">-
</a><a href="#h123-0-47" id="h123-0-47" class="d">-If so you are more than welcome to ask questions in the
</a><a href="#h123-0-48" id="h123-0-48" class="d">-[thread on golang-nuts](https://groups.google.com/d/topic/golang-nuts/Tz6t4_iLgnw/discussion)
</a><a href="#h123-0-49" id="h123-0-49" class="d">-or open an issue or send a pull-request here on Github.
</a><b>diff --git a/<a id="h124" href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/conn.go">vendor/gopkg.in/alexcesaro/statsd.v2/conn.go</a> b/<a href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/conn.go">vendor/gopkg.in/alexcesaro/statsd.v2/conn.go</a></b>
<a href="#h124-0" id="h124-0" class="h">@@ -1,270 +0,0 @@
</a><a href="#h124-0-0" id="h124-0-0" class="d">-package statsd
</a><a href="#h124-0-1" id="h124-0-1" class="d">-
</a><a href="#h124-0-2" id="h124-0-2" class="d">-import (
</a><a href="#h124-0-3" id="h124-0-3" class="d">-	&quot;io&quot;
</a><a href="#h124-0-4" id="h124-0-4" class="d">-	&quot;math/rand&quot;
</a><a href="#h124-0-5" id="h124-0-5" class="d">-	&quot;net&quot;
</a><a href="#h124-0-6" id="h124-0-6" class="d">-	&quot;strconv&quot;
</a><a href="#h124-0-7" id="h124-0-7" class="d">-	&quot;sync&quot;
</a><a href="#h124-0-8" id="h124-0-8" class="d">-	&quot;time&quot;
</a><a href="#h124-0-9" id="h124-0-9" class="d">-)
</a><a href="#h124-0-10" id="h124-0-10" class="d">-
</a><a href="#h124-0-11" id="h124-0-11" class="d">-type conn struct {
</a><a href="#h124-0-12" id="h124-0-12" class="d">-	// Fields settable with options at Client&#39;s creation.
</a><a href="#h124-0-13" id="h124-0-13" class="d">-	addr          string
</a><a href="#h124-0-14" id="h124-0-14" class="d">-	errorHandler  func(error)
</a><a href="#h124-0-15" id="h124-0-15" class="d">-	flushPeriod   time.Duration
</a><a href="#h124-0-16" id="h124-0-16" class="d">-	maxPacketSize int
</a><a href="#h124-0-17" id="h124-0-17" class="d">-	network       string
</a><a href="#h124-0-18" id="h124-0-18" class="d">-	tagFormat     TagFormat
</a><a href="#h124-0-19" id="h124-0-19" class="d">-
</a><a href="#h124-0-20" id="h124-0-20" class="d">-	mu sync.Mutex
</a><a href="#h124-0-21" id="h124-0-21" class="d">-	// Fields guarded by the mutex.
</a><a href="#h124-0-22" id="h124-0-22" class="d">-	closed    bool
</a><a href="#h124-0-23" id="h124-0-23" class="d">-	w         io.WriteCloser
</a><a href="#h124-0-24" id="h124-0-24" class="d">-	buf       []byte
</a><a href="#h124-0-25" id="h124-0-25" class="d">-	rateCache map[float32]string
</a><a href="#h124-0-26" id="h124-0-26" class="d">-}
</a><a href="#h124-0-27" id="h124-0-27" class="d">-
</a><a href="#h124-0-28" id="h124-0-28" class="d">-func newConn(conf connConfig, muted bool) (*conn, error) {
</a><a href="#h124-0-29" id="h124-0-29" class="d">-	c := &amp;conn{
</a><a href="#h124-0-30" id="h124-0-30" class="d">-		addr:          conf.Addr,
</a><a href="#h124-0-31" id="h124-0-31" class="d">-		errorHandler:  conf.ErrorHandler,
</a><a href="#h124-0-32" id="h124-0-32" class="d">-		flushPeriod:   conf.FlushPeriod,
</a><a href="#h124-0-33" id="h124-0-33" class="d">-		maxPacketSize: conf.MaxPacketSize,
</a><a href="#h124-0-34" id="h124-0-34" class="d">-		network:       conf.Network,
</a><a href="#h124-0-35" id="h124-0-35" class="d">-		tagFormat:     conf.TagFormat,
</a><a href="#h124-0-36" id="h124-0-36" class="d">-	}
</a><a href="#h124-0-37" id="h124-0-37" class="d">-
</a><a href="#h124-0-38" id="h124-0-38" class="d">-	if muted {
</a><a href="#h124-0-39" id="h124-0-39" class="d">-		return c, nil
</a><a href="#h124-0-40" id="h124-0-40" class="d">-	}
</a><a href="#h124-0-41" id="h124-0-41" class="d">-
</a><a href="#h124-0-42" id="h124-0-42" class="d">-	var err error
</a><a href="#h124-0-43" id="h124-0-43" class="d">-	c.w, err = dialTimeout(c.network, c.addr, 5*time.Second)
</a><a href="#h124-0-44" id="h124-0-44" class="d">-	if err != nil {
</a><a href="#h124-0-45" id="h124-0-45" class="d">-		return c, err
</a><a href="#h124-0-46" id="h124-0-46" class="d">-	}
</a><a href="#h124-0-47" id="h124-0-47" class="d">-	// When using UDP do a quick check to see if something is listening on the
</a><a href="#h124-0-48" id="h124-0-48" class="d">-	// given port to return an error as soon as possible.
</a><a href="#h124-0-49" id="h124-0-49" class="d">-	if c.network[:3] == &quot;udp&quot; {
</a><a href="#h124-0-50" id="h124-0-50" class="d">-		for i := 0; i &lt; 2; i++ {
</a><a href="#h124-0-51" id="h124-0-51" class="d">-			_, err = c.w.Write(nil)
</a><a href="#h124-0-52" id="h124-0-52" class="d">-			if err != nil {
</a><a href="#h124-0-53" id="h124-0-53" class="d">-				_ = c.w.Close()
</a><a href="#h124-0-54" id="h124-0-54" class="d">-				c.w = nil
</a><a href="#h124-0-55" id="h124-0-55" class="d">-				return c, err
</a><a href="#h124-0-56" id="h124-0-56" class="d">-			}
</a><a href="#h124-0-57" id="h124-0-57" class="d">-		}
</a><a href="#h124-0-58" id="h124-0-58" class="d">-	}
</a><a href="#h124-0-59" id="h124-0-59" class="d">-
</a><a href="#h124-0-60" id="h124-0-60" class="d">-	// To prevent a buffer overflow add some capacity to the buffer to allow for
</a><a href="#h124-0-61" id="h124-0-61" class="d">-	// an additional metric.
</a><a href="#h124-0-62" id="h124-0-62" class="d">-	c.buf = make([]byte, 0, c.maxPacketSize+200)
</a><a href="#h124-0-63" id="h124-0-63" class="d">-
</a><a href="#h124-0-64" id="h124-0-64" class="d">-	if c.flushPeriod &gt; 0 {
</a><a href="#h124-0-65" id="h124-0-65" class="d">-		go func() {
</a><a href="#h124-0-66" id="h124-0-66" class="d">-			ticker := time.NewTicker(c.flushPeriod)
</a><a href="#h124-0-67" id="h124-0-67" class="d">-			for _ = range ticker.C {
</a><a href="#h124-0-68" id="h124-0-68" class="d">-				c.mu.Lock()
</a><a href="#h124-0-69" id="h124-0-69" class="d">-				if c.closed {
</a><a href="#h124-0-70" id="h124-0-70" class="d">-					ticker.Stop()
</a><a href="#h124-0-71" id="h124-0-71" class="d">-					c.mu.Unlock()
</a><a href="#h124-0-72" id="h124-0-72" class="d">-					return
</a><a href="#h124-0-73" id="h124-0-73" class="d">-				}
</a><a href="#h124-0-74" id="h124-0-74" class="d">-				c.flush(0)
</a><a href="#h124-0-75" id="h124-0-75" class="d">-				c.mu.Unlock()
</a><a href="#h124-0-76" id="h124-0-76" class="d">-			}
</a><a href="#h124-0-77" id="h124-0-77" class="d">-		}()
</a><a href="#h124-0-78" id="h124-0-78" class="d">-	}
</a><a href="#h124-0-79" id="h124-0-79" class="d">-
</a><a href="#h124-0-80" id="h124-0-80" class="d">-	return c, nil
</a><a href="#h124-0-81" id="h124-0-81" class="d">-}
</a><a href="#h124-0-82" id="h124-0-82" class="d">-
</a><a href="#h124-0-83" id="h124-0-83" class="d">-func (c *conn) metric(prefix, bucket string, n interface{}, typ string, rate float32, tags string) {
</a><a href="#h124-0-84" id="h124-0-84" class="d">-	c.mu.Lock()
</a><a href="#h124-0-85" id="h124-0-85" class="d">-	l := len(c.buf)
</a><a href="#h124-0-86" id="h124-0-86" class="d">-	c.appendBucket(prefix, bucket, tags)
</a><a href="#h124-0-87" id="h124-0-87" class="d">-	c.appendNumber(n)
</a><a href="#h124-0-88" id="h124-0-88" class="d">-	c.appendType(typ)
</a><a href="#h124-0-89" id="h124-0-89" class="d">-	c.appendRate(rate)
</a><a href="#h124-0-90" id="h124-0-90" class="d">-	c.closeMetric(tags)
</a><a href="#h124-0-91" id="h124-0-91" class="d">-	c.flushIfBufferFull(l)
</a><a href="#h124-0-92" id="h124-0-92" class="d">-	c.mu.Unlock()
</a><a href="#h124-0-93" id="h124-0-93" class="d">-}
</a><a href="#h124-0-94" id="h124-0-94" class="d">-
</a><a href="#h124-0-95" id="h124-0-95" class="d">-func (c *conn) gauge(prefix, bucket string, value interface{}, tags string) {
</a><a href="#h124-0-96" id="h124-0-96" class="d">-	c.mu.Lock()
</a><a href="#h124-0-97" id="h124-0-97" class="d">-	l := len(c.buf)
</a><a href="#h124-0-98" id="h124-0-98" class="d">-	// To set a gauge to a negative value we must first set it to 0.
</a><a href="#h124-0-99" id="h124-0-99" class="d">-	// https://github.com/etsy/statsd/blob/master/docs/metric_types.md#gauges
</a><a href="#h124-0-100" id="h124-0-100" class="d">-	if isNegative(value) {
</a><a href="#h124-0-101" id="h124-0-101" class="d">-		c.appendBucket(prefix, bucket, tags)
</a><a href="#h124-0-102" id="h124-0-102" class="d">-		c.appendGauge(0, tags)
</a><a href="#h124-0-103" id="h124-0-103" class="d">-	}
</a><a href="#h124-0-104" id="h124-0-104" class="d">-	c.appendBucket(prefix, bucket, tags)
</a><a href="#h124-0-105" id="h124-0-105" class="d">-	c.appendGauge(value, tags)
</a><a href="#h124-0-106" id="h124-0-106" class="d">-	c.flushIfBufferFull(l)
</a><a href="#h124-0-107" id="h124-0-107" class="d">-	c.mu.Unlock()
</a><a href="#h124-0-108" id="h124-0-108" class="d">-}
</a><a href="#h124-0-109" id="h124-0-109" class="d">-
</a><a href="#h124-0-110" id="h124-0-110" class="d">-func (c *conn) appendGauge(value interface{}, tags string) {
</a><a href="#h124-0-111" id="h124-0-111" class="d">-	c.appendNumber(value)
</a><a href="#h124-0-112" id="h124-0-112" class="d">-	c.appendType(&quot;g&quot;)
</a><a href="#h124-0-113" id="h124-0-113" class="d">-	c.closeMetric(tags)
</a><a href="#h124-0-114" id="h124-0-114" class="d">-}
</a><a href="#h124-0-115" id="h124-0-115" class="d">-
</a><a href="#h124-0-116" id="h124-0-116" class="d">-func (c *conn) unique(prefix, bucket string, value string, tags string) {
</a><a href="#h124-0-117" id="h124-0-117" class="d">-	c.mu.Lock()
</a><a href="#h124-0-118" id="h124-0-118" class="d">-	l := len(c.buf)
</a><a href="#h124-0-119" id="h124-0-119" class="d">-	c.appendBucket(prefix, bucket, tags)
</a><a href="#h124-0-120" id="h124-0-120" class="d">-	c.appendString(value)
</a><a href="#h124-0-121" id="h124-0-121" class="d">-	c.appendType(&quot;s&quot;)
</a><a href="#h124-0-122" id="h124-0-122" class="d">-	c.closeMetric(tags)
</a><a href="#h124-0-123" id="h124-0-123" class="d">-	c.flushIfBufferFull(l)
</a><a href="#h124-0-124" id="h124-0-124" class="d">-	c.mu.Unlock()
</a><a href="#h124-0-125" id="h124-0-125" class="d">-}
</a><a href="#h124-0-126" id="h124-0-126" class="d">-
</a><a href="#h124-0-127" id="h124-0-127" class="d">-func (c *conn) appendByte(b byte) {
</a><a href="#h124-0-128" id="h124-0-128" class="d">-	c.buf = append(c.buf, b)
</a><a href="#h124-0-129" id="h124-0-129" class="d">-}
</a><a href="#h124-0-130" id="h124-0-130" class="d">-
</a><a href="#h124-0-131" id="h124-0-131" class="d">-func (c *conn) appendString(s string) {
</a><a href="#h124-0-132" id="h124-0-132" class="d">-	c.buf = append(c.buf, s...)
</a><a href="#h124-0-133" id="h124-0-133" class="d">-}
</a><a href="#h124-0-134" id="h124-0-134" class="d">-
</a><a href="#h124-0-135" id="h124-0-135" class="d">-func (c *conn) appendNumber(v interface{}) {
</a><a href="#h124-0-136" id="h124-0-136" class="d">-	switch n := v.(type) {
</a><a href="#h124-0-137" id="h124-0-137" class="d">-	case int:
</a><a href="#h124-0-138" id="h124-0-138" class="d">-		c.buf = strconv.AppendInt(c.buf, int64(n), 10)
</a><a href="#h124-0-139" id="h124-0-139" class="d">-	case uint:
</a><a href="#h124-0-140" id="h124-0-140" class="d">-		c.buf = strconv.AppendUint(c.buf, uint64(n), 10)
</a><a href="#h124-0-141" id="h124-0-141" class="d">-	case int64:
</a><a href="#h124-0-142" id="h124-0-142" class="d">-		c.buf = strconv.AppendInt(c.buf, n, 10)
</a><a href="#h124-0-143" id="h124-0-143" class="d">-	case uint64:
</a><a href="#h124-0-144" id="h124-0-144" class="d">-		c.buf = strconv.AppendUint(c.buf, n, 10)
</a><a href="#h124-0-145" id="h124-0-145" class="d">-	case int32:
</a><a href="#h124-0-146" id="h124-0-146" class="d">-		c.buf = strconv.AppendInt(c.buf, int64(n), 10)
</a><a href="#h124-0-147" id="h124-0-147" class="d">-	case uint32:
</a><a href="#h124-0-148" id="h124-0-148" class="d">-		c.buf = strconv.AppendUint(c.buf, uint64(n), 10)
</a><a href="#h124-0-149" id="h124-0-149" class="d">-	case int16:
</a><a href="#h124-0-150" id="h124-0-150" class="d">-		c.buf = strconv.AppendInt(c.buf, int64(n), 10)
</a><a href="#h124-0-151" id="h124-0-151" class="d">-	case uint16:
</a><a href="#h124-0-152" id="h124-0-152" class="d">-		c.buf = strconv.AppendUint(c.buf, uint64(n), 10)
</a><a href="#h124-0-153" id="h124-0-153" class="d">-	case int8:
</a><a href="#h124-0-154" id="h124-0-154" class="d">-		c.buf = strconv.AppendInt(c.buf, int64(n), 10)
</a><a href="#h124-0-155" id="h124-0-155" class="d">-	case uint8:
</a><a href="#h124-0-156" id="h124-0-156" class="d">-		c.buf = strconv.AppendUint(c.buf, uint64(n), 10)
</a><a href="#h124-0-157" id="h124-0-157" class="d">-	case float64:
</a><a href="#h124-0-158" id="h124-0-158" class="d">-		c.buf = strconv.AppendFloat(c.buf, n, &#39;f&#39;, -1, 64)
</a><a href="#h124-0-159" id="h124-0-159" class="d">-	case float32:
</a><a href="#h124-0-160" id="h124-0-160" class="d">-		c.buf = strconv.AppendFloat(c.buf, float64(n), &#39;f&#39;, -1, 32)
</a><a href="#h124-0-161" id="h124-0-161" class="d">-	}
</a><a href="#h124-0-162" id="h124-0-162" class="d">-}
</a><a href="#h124-0-163" id="h124-0-163" class="d">-
</a><a href="#h124-0-164" id="h124-0-164" class="d">-func isNegative(v interface{}) bool {
</a><a href="#h124-0-165" id="h124-0-165" class="d">-	switch n := v.(type) {
</a><a href="#h124-0-166" id="h124-0-166" class="d">-	case int:
</a><a href="#h124-0-167" id="h124-0-167" class="d">-		return n &lt; 0
</a><a href="#h124-0-168" id="h124-0-168" class="d">-	case uint:
</a><a href="#h124-0-169" id="h124-0-169" class="d">-		return n &lt; 0
</a><a href="#h124-0-170" id="h124-0-170" class="d">-	case int64:
</a><a href="#h124-0-171" id="h124-0-171" class="d">-		return n &lt; 0
</a><a href="#h124-0-172" id="h124-0-172" class="d">-	case uint64:
</a><a href="#h124-0-173" id="h124-0-173" class="d">-		return n &lt; 0
</a><a href="#h124-0-174" id="h124-0-174" class="d">-	case int32:
</a><a href="#h124-0-175" id="h124-0-175" class="d">-		return n &lt; 0
</a><a href="#h124-0-176" id="h124-0-176" class="d">-	case uint32:
</a><a href="#h124-0-177" id="h124-0-177" class="d">-		return n &lt; 0
</a><a href="#h124-0-178" id="h124-0-178" class="d">-	case int16:
</a><a href="#h124-0-179" id="h124-0-179" class="d">-		return n &lt; 0
</a><a href="#h124-0-180" id="h124-0-180" class="d">-	case uint16:
</a><a href="#h124-0-181" id="h124-0-181" class="d">-		return n &lt; 0
</a><a href="#h124-0-182" id="h124-0-182" class="d">-	case int8:
</a><a href="#h124-0-183" id="h124-0-183" class="d">-		return n &lt; 0
</a><a href="#h124-0-184" id="h124-0-184" class="d">-	case uint8:
</a><a href="#h124-0-185" id="h124-0-185" class="d">-		return n &lt; 0
</a><a href="#h124-0-186" id="h124-0-186" class="d">-	case float64:
</a><a href="#h124-0-187" id="h124-0-187" class="d">-		return n &lt; 0
</a><a href="#h124-0-188" id="h124-0-188" class="d">-	case float32:
</a><a href="#h124-0-189" id="h124-0-189" class="d">-		return n &lt; 0
</a><a href="#h124-0-190" id="h124-0-190" class="d">-	}
</a><a href="#h124-0-191" id="h124-0-191" class="d">-	return false
</a><a href="#h124-0-192" id="h124-0-192" class="d">-}
</a><a href="#h124-0-193" id="h124-0-193" class="d">-
</a><a href="#h124-0-194" id="h124-0-194" class="d">-func (c *conn) appendBucket(prefix, bucket string, tags string) {
</a><a href="#h124-0-195" id="h124-0-195" class="d">-	c.appendString(prefix)
</a><a href="#h124-0-196" id="h124-0-196" class="d">-	c.appendString(bucket)
</a><a href="#h124-0-197" id="h124-0-197" class="d">-	if c.tagFormat == InfluxDB {
</a><a href="#h124-0-198" id="h124-0-198" class="d">-		c.appendString(tags)
</a><a href="#h124-0-199" id="h124-0-199" class="d">-	}
</a><a href="#h124-0-200" id="h124-0-200" class="d">-	c.appendByte(&#39;:&#39;)
</a><a href="#h124-0-201" id="h124-0-201" class="d">-}
</a><a href="#h124-0-202" id="h124-0-202" class="d">-
</a><a href="#h124-0-203" id="h124-0-203" class="d">-func (c *conn) appendType(t string) {
</a><a href="#h124-0-204" id="h124-0-204" class="d">-	c.appendByte(&#39;|&#39;)
</a><a href="#h124-0-205" id="h124-0-205" class="d">-	c.appendString(t)
</a><a href="#h124-0-206" id="h124-0-206" class="d">-}
</a><a href="#h124-0-207" id="h124-0-207" class="d">-
</a><a href="#h124-0-208" id="h124-0-208" class="d">-func (c *conn) appendRate(rate float32) {
</a><a href="#h124-0-209" id="h124-0-209" class="d">-	if rate == 1 {
</a><a href="#h124-0-210" id="h124-0-210" class="d">-		return
</a><a href="#h124-0-211" id="h124-0-211" class="d">-	}
</a><a href="#h124-0-212" id="h124-0-212" class="d">-	if c.rateCache == nil {
</a><a href="#h124-0-213" id="h124-0-213" class="d">-		c.rateCache = make(map[float32]string)
</a><a href="#h124-0-214" id="h124-0-214" class="d">-	}
</a><a href="#h124-0-215" id="h124-0-215" class="d">-
</a><a href="#h124-0-216" id="h124-0-216" class="d">-	c.appendString(&quot;|@&quot;)
</a><a href="#h124-0-217" id="h124-0-217" class="d">-	if s, ok := c.rateCache[rate]; ok {
</a><a href="#h124-0-218" id="h124-0-218" class="d">-		c.appendString(s)
</a><a href="#h124-0-219" id="h124-0-219" class="d">-	} else {
</a><a href="#h124-0-220" id="h124-0-220" class="d">-		s = strconv.FormatFloat(float64(rate), &#39;f&#39;, -1, 32)
</a><a href="#h124-0-221" id="h124-0-221" class="d">-		c.rateCache[rate] = s
</a><a href="#h124-0-222" id="h124-0-222" class="d">-		c.appendString(s)
</a><a href="#h124-0-223" id="h124-0-223" class="d">-	}
</a><a href="#h124-0-224" id="h124-0-224" class="d">-}
</a><a href="#h124-0-225" id="h124-0-225" class="d">-
</a><a href="#h124-0-226" id="h124-0-226" class="d">-func (c *conn) closeMetric(tags string) {
</a><a href="#h124-0-227" id="h124-0-227" class="d">-	if c.tagFormat == Datadog {
</a><a href="#h124-0-228" id="h124-0-228" class="d">-		c.appendString(tags)
</a><a href="#h124-0-229" id="h124-0-229" class="d">-	}
</a><a href="#h124-0-230" id="h124-0-230" class="d">-	c.appendByte(&#39;\n&#39;)
</a><a href="#h124-0-231" id="h124-0-231" class="d">-}
</a><a href="#h124-0-232" id="h124-0-232" class="d">-
</a><a href="#h124-0-233" id="h124-0-233" class="d">-func (c *conn) flushIfBufferFull(lastSafeLen int) {
</a><a href="#h124-0-234" id="h124-0-234" class="d">-	if len(c.buf) &gt; c.maxPacketSize {
</a><a href="#h124-0-235" id="h124-0-235" class="d">-		c.flush(lastSafeLen)
</a><a href="#h124-0-236" id="h124-0-236" class="d">-	}
</a><a href="#h124-0-237" id="h124-0-237" class="d">-}
</a><a href="#h124-0-238" id="h124-0-238" class="d">-
</a><a href="#h124-0-239" id="h124-0-239" class="d">-// flush flushes the first n bytes of the buffer.
</a><a href="#h124-0-240" id="h124-0-240" class="d">-// If n is 0, the whole buffer is flushed.
</a><a href="#h124-0-241" id="h124-0-241" class="d">-func (c *conn) flush(n int) {
</a><a href="#h124-0-242" id="h124-0-242" class="d">-	if len(c.buf) == 0 {
</a><a href="#h124-0-243" id="h124-0-243" class="d">-		return
</a><a href="#h124-0-244" id="h124-0-244" class="d">-	}
</a><a href="#h124-0-245" id="h124-0-245" class="d">-	if n == 0 {
</a><a href="#h124-0-246" id="h124-0-246" class="d">-		n = len(c.buf)
</a><a href="#h124-0-247" id="h124-0-247" class="d">-	}
</a><a href="#h124-0-248" id="h124-0-248" class="d">-
</a><a href="#h124-0-249" id="h124-0-249" class="d">-	// Trim the last \n, StatsD does not like it.
</a><a href="#h124-0-250" id="h124-0-250" class="d">-	_, err := c.w.Write(c.buf[:n-1])
</a><a href="#h124-0-251" id="h124-0-251" class="d">-	c.handleError(err)
</a><a href="#h124-0-252" id="h124-0-252" class="d">-	if n &lt; len(c.buf) {
</a><a href="#h124-0-253" id="h124-0-253" class="d">-		copy(c.buf, c.buf[n:])
</a><a href="#h124-0-254" id="h124-0-254" class="d">-	}
</a><a href="#h124-0-255" id="h124-0-255" class="d">-	c.buf = c.buf[:len(c.buf)-n]
</a><a href="#h124-0-256" id="h124-0-256" class="d">-}
</a><a href="#h124-0-257" id="h124-0-257" class="d">-
</a><a href="#h124-0-258" id="h124-0-258" class="d">-func (c *conn) handleError(err error) {
</a><a href="#h124-0-259" id="h124-0-259" class="d">-	if err != nil &amp;&amp; c.errorHandler != nil {
</a><a href="#h124-0-260" id="h124-0-260" class="d">-		c.errorHandler(err)
</a><a href="#h124-0-261" id="h124-0-261" class="d">-	}
</a><a href="#h124-0-262" id="h124-0-262" class="d">-}
</a><a href="#h124-0-263" id="h124-0-263" class="d">-
</a><a href="#h124-0-264" id="h124-0-264" class="d">-// Stubbed out for testing.
</a><a href="#h124-0-265" id="h124-0-265" class="d">-var (
</a><a href="#h124-0-266" id="h124-0-266" class="d">-	dialTimeout = net.DialTimeout
</a><a href="#h124-0-267" id="h124-0-267" class="d">-	now         = time.Now
</a><a href="#h124-0-268" id="h124-0-268" class="d">-	randFloat   = rand.Float32
</a><a href="#h124-0-269" id="h124-0-269" class="d">-)
</a><b>diff --git a/<a id="h125" href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/doc.go">vendor/gopkg.in/alexcesaro/statsd.v2/doc.go</a> b/<a href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/doc.go">vendor/gopkg.in/alexcesaro/statsd.v2/doc.go</a></b>
<a href="#h125-0" id="h125-0" class="h">@@ -1,29 +0,0 @@
</a><a href="#h125-0-0" id="h125-0-0" class="d">-/*
</a><a href="#h125-0-1" id="h125-0-1" class="d">-Package statsd is a simple and efficient StatsD client.
</a><a href="#h125-0-2" id="h125-0-2" class="d">-
</a><a href="#h125-0-3" id="h125-0-3" class="d">-
</a><a href="#h125-0-4" id="h125-0-4" class="d">-Options
</a><a href="#h125-0-5" id="h125-0-5" class="d">-
</a><a href="#h125-0-6" id="h125-0-6" class="d">-Use options to configure the Client: target host/port, sampling rate, tags, etc.
</a><a href="#h125-0-7" id="h125-0-7" class="d">-
</a><a href="#h125-0-8" id="h125-0-8" class="d">-Whenever you want to use different options (e.g. other tags, different sampling
</a><a href="#h125-0-9" id="h125-0-9" class="d">-rate), you should use the Clone() method of the Client.
</a><a href="#h125-0-10" id="h125-0-10" class="d">-
</a><a href="#h125-0-11" id="h125-0-11" class="d">-Because when cloning a Client, the same connection is reused so this is way
</a><a href="#h125-0-12" id="h125-0-12" class="d">-cheaper and more efficient than creating another Client using New().
</a><a href="#h125-0-13" id="h125-0-13" class="d">-
</a><a href="#h125-0-14" id="h125-0-14" class="d">-
</a><a href="#h125-0-15" id="h125-0-15" class="d">-Internals
</a><a href="#h125-0-16" id="h125-0-16" class="d">-
</a><a href="#h125-0-17" id="h125-0-17" class="d">-Client&#39;s methods buffer metrics. The buffer is flushed when either:
</a><a href="#h125-0-18" id="h125-0-18" class="d">- - the background goroutine flushes the buffer (every 100ms by default)
</a><a href="#h125-0-19" id="h125-0-19" class="d">- - the buffer is full (1440 bytes by default so that IP packets are not
</a><a href="#h125-0-20" id="h125-0-20" class="d">-   fragmented)
</a><a href="#h125-0-21" id="h125-0-21" class="d">-
</a><a href="#h125-0-22" id="h125-0-22" class="d">-The background goroutine can be disabled using the FlushPeriod(0) option.
</a><a href="#h125-0-23" id="h125-0-23" class="d">-
</a><a href="#h125-0-24" id="h125-0-24" class="d">-Buffering can be disabled using the MaxPacketSize(0) option.
</a><a href="#h125-0-25" id="h125-0-25" class="d">-
</a><a href="#h125-0-26" id="h125-0-26" class="d">-StatsD homepage: https://github.com/etsy/statsd
</a><a href="#h125-0-27" id="h125-0-27" class="d">-*/
</a><a href="#h125-0-28" id="h125-0-28" class="d">-package statsd
</a><b>diff --git a/<a id="h126" href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/options.go">vendor/gopkg.in/alexcesaro/statsd.v2/options.go</a> b/<a href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/options.go">vendor/gopkg.in/alexcesaro/statsd.v2/options.go</a></b>
<a href="#h126-0" id="h126-0" class="h">@@ -1,250 +0,0 @@
</a><a href="#h126-0-0" id="h126-0-0" class="d">-package statsd
</a><a href="#h126-0-1" id="h126-0-1" class="d">-
</a><a href="#h126-0-2" id="h126-0-2" class="d">-import (
</a><a href="#h126-0-3" id="h126-0-3" class="d">-	&quot;bytes&quot;
</a><a href="#h126-0-4" id="h126-0-4" class="d">-	&quot;strings&quot;
</a><a href="#h126-0-5" id="h126-0-5" class="d">-	&quot;time&quot;
</a><a href="#h126-0-6" id="h126-0-6" class="d">-)
</a><a href="#h126-0-7" id="h126-0-7" class="d">-
</a><a href="#h126-0-8" id="h126-0-8" class="d">-type config struct {
</a><a href="#h126-0-9" id="h126-0-9" class="d">-	Conn   connConfig
</a><a href="#h126-0-10" id="h126-0-10" class="d">-	Client clientConfig
</a><a href="#h126-0-11" id="h126-0-11" class="d">-}
</a><a href="#h126-0-12" id="h126-0-12" class="d">-
</a><a href="#h126-0-13" id="h126-0-13" class="d">-type clientConfig struct {
</a><a href="#h126-0-14" id="h126-0-14" class="d">-	Muted  bool
</a><a href="#h126-0-15" id="h126-0-15" class="d">-	Rate   float32
</a><a href="#h126-0-16" id="h126-0-16" class="d">-	Prefix string
</a><a href="#h126-0-17" id="h126-0-17" class="d">-	Tags   []tag
</a><a href="#h126-0-18" id="h126-0-18" class="d">-}
</a><a href="#h126-0-19" id="h126-0-19" class="d">-
</a><a href="#h126-0-20" id="h126-0-20" class="d">-type connConfig struct {
</a><a href="#h126-0-21" id="h126-0-21" class="d">-	Addr          string
</a><a href="#h126-0-22" id="h126-0-22" class="d">-	ErrorHandler  func(error)
</a><a href="#h126-0-23" id="h126-0-23" class="d">-	FlushPeriod   time.Duration
</a><a href="#h126-0-24" id="h126-0-24" class="d">-	MaxPacketSize int
</a><a href="#h126-0-25" id="h126-0-25" class="d">-	Network       string
</a><a href="#h126-0-26" id="h126-0-26" class="d">-	TagFormat     TagFormat
</a><a href="#h126-0-27" id="h126-0-27" class="d">-}
</a><a href="#h126-0-28" id="h126-0-28" class="d">-
</a><a href="#h126-0-29" id="h126-0-29" class="d">-// An Option represents an option for a Client. It must be used as an
</a><a href="#h126-0-30" id="h126-0-30" class="d">-// argument to New() or Client.Clone().
</a><a href="#h126-0-31" id="h126-0-31" class="d">-type Option func(*config)
</a><a href="#h126-0-32" id="h126-0-32" class="d">-
</a><a href="#h126-0-33" id="h126-0-33" class="d">-// Address sets the address of the StatsD daemon.
</a><a href="#h126-0-34" id="h126-0-34" class="d">-//
</a><a href="#h126-0-35" id="h126-0-35" class="d">-// By default, &quot;:8125&quot; is used. This option is ignored in Client.Clone().
</a><a href="#h126-0-36" id="h126-0-36" class="d">-func Address(addr string) Option {
</a><a href="#h126-0-37" id="h126-0-37" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-38" id="h126-0-38" class="d">-		c.Conn.Addr = addr
</a><a href="#h126-0-39" id="h126-0-39" class="d">-	})
</a><a href="#h126-0-40" id="h126-0-40" class="d">-}
</a><a href="#h126-0-41" id="h126-0-41" class="d">-
</a><a href="#h126-0-42" id="h126-0-42" class="d">-// ErrorHandler sets the function called when an error happens when sending
</a><a href="#h126-0-43" id="h126-0-43" class="d">-// metrics (e.g. the StatsD daemon is not listening anymore).
</a><a href="#h126-0-44" id="h126-0-44" class="d">-//
</a><a href="#h126-0-45" id="h126-0-45" class="d">-// By default, these errors are ignored.  This option is ignored in
</a><a href="#h126-0-46" id="h126-0-46" class="d">-// Client.Clone().
</a><a href="#h126-0-47" id="h126-0-47" class="d">-func ErrorHandler(h func(error)) Option {
</a><a href="#h126-0-48" id="h126-0-48" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-49" id="h126-0-49" class="d">-		c.Conn.ErrorHandler = h
</a><a href="#h126-0-50" id="h126-0-50" class="d">-	})
</a><a href="#h126-0-51" id="h126-0-51" class="d">-}
</a><a href="#h126-0-52" id="h126-0-52" class="d">-
</a><a href="#h126-0-53" id="h126-0-53" class="d">-// FlushPeriod sets how often the Client&#39;s buffer is flushed. If p is 0, the
</a><a href="#h126-0-54" id="h126-0-54" class="d">-// goroutine that periodically flush the buffer is not lauched and the buffer
</a><a href="#h126-0-55" id="h126-0-55" class="d">-// is only flushed when it is full.
</a><a href="#h126-0-56" id="h126-0-56" class="d">-//
</a><a href="#h126-0-57" id="h126-0-57" class="d">-// By default, the flush period is 100 ms.  This option is ignored in
</a><a href="#h126-0-58" id="h126-0-58" class="d">-// Client.Clone().
</a><a href="#h126-0-59" id="h126-0-59" class="d">-func FlushPeriod(p time.Duration) Option {
</a><a href="#h126-0-60" id="h126-0-60" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-61" id="h126-0-61" class="d">-		c.Conn.FlushPeriod = p
</a><a href="#h126-0-62" id="h126-0-62" class="d">-	})
</a><a href="#h126-0-63" id="h126-0-63" class="d">-}
</a><a href="#h126-0-64" id="h126-0-64" class="d">-
</a><a href="#h126-0-65" id="h126-0-65" class="d">-// MaxPacketSize sets the maximum packet size in bytes sent by the Client.
</a><a href="#h126-0-66" id="h126-0-66" class="d">-//
</a><a href="#h126-0-67" id="h126-0-67" class="d">-// By default, it is 1440 to avoid IP fragmentation. This option is ignored in
</a><a href="#h126-0-68" id="h126-0-68" class="d">-// Client.Clone().
</a><a href="#h126-0-69" id="h126-0-69" class="d">-func MaxPacketSize(n int) Option {
</a><a href="#h126-0-70" id="h126-0-70" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-71" id="h126-0-71" class="d">-		c.Conn.MaxPacketSize = n
</a><a href="#h126-0-72" id="h126-0-72" class="d">-	})
</a><a href="#h126-0-73" id="h126-0-73" class="d">-}
</a><a href="#h126-0-74" id="h126-0-74" class="d">-
</a><a href="#h126-0-75" id="h126-0-75" class="d">-// Network sets the network (udp, tcp, etc) used by the client. See the
</a><a href="#h126-0-76" id="h126-0-76" class="d">-// net.Dial documentation (https://golang.org/pkg/net/#Dial) for the available
</a><a href="#h126-0-77" id="h126-0-77" class="d">-// network options.
</a><a href="#h126-0-78" id="h126-0-78" class="d">-//
</a><a href="#h126-0-79" id="h126-0-79" class="d">-// By default, network is udp. This option is ignored in Client.Clone().
</a><a href="#h126-0-80" id="h126-0-80" class="d">-func Network(network string) Option {
</a><a href="#h126-0-81" id="h126-0-81" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-82" id="h126-0-82" class="d">-		c.Conn.Network = network
</a><a href="#h126-0-83" id="h126-0-83" class="d">-	})
</a><a href="#h126-0-84" id="h126-0-84" class="d">-}
</a><a href="#h126-0-85" id="h126-0-85" class="d">-
</a><a href="#h126-0-86" id="h126-0-86" class="d">-// Mute sets whether the Client is muted. All methods of a muted Client do
</a><a href="#h126-0-87" id="h126-0-87" class="d">-// nothing and return immedialtly.
</a><a href="#h126-0-88" id="h126-0-88" class="d">-//
</a><a href="#h126-0-89" id="h126-0-89" class="d">-// This option can be used in Client.Clone() only if the parent Client is not
</a><a href="#h126-0-90" id="h126-0-90" class="d">-// muted. The clones of a muted Client are always muted.
</a><a href="#h126-0-91" id="h126-0-91" class="d">-func Mute(b bool) Option {
</a><a href="#h126-0-92" id="h126-0-92" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-93" id="h126-0-93" class="d">-		c.Client.Muted = b
</a><a href="#h126-0-94" id="h126-0-94" class="d">-	})
</a><a href="#h126-0-95" id="h126-0-95" class="d">-}
</a><a href="#h126-0-96" id="h126-0-96" class="d">-
</a><a href="#h126-0-97" id="h126-0-97" class="d">-// SampleRate sets the sample rate of the Client. It allows sending the metrics
</a><a href="#h126-0-98" id="h126-0-98" class="d">-// less often which can be useful for performance intensive code paths.
</a><a href="#h126-0-99" id="h126-0-99" class="d">-func SampleRate(rate float32) Option {
</a><a href="#h126-0-100" id="h126-0-100" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-101" id="h126-0-101" class="d">-		c.Client.Rate = rate
</a><a href="#h126-0-102" id="h126-0-102" class="d">-	})
</a><a href="#h126-0-103" id="h126-0-103" class="d">-}
</a><a href="#h126-0-104" id="h126-0-104" class="d">-
</a><a href="#h126-0-105" id="h126-0-105" class="d">-// Prefix appends the prefix that will be used in every bucket name.
</a><a href="#h126-0-106" id="h126-0-106" class="d">-//
</a><a href="#h126-0-107" id="h126-0-107" class="d">-// Note that when used in cloned, the prefix of the parent Client is not
</a><a href="#h126-0-108" id="h126-0-108" class="d">-// replaced but is prepended to the given prefix.
</a><a href="#h126-0-109" id="h126-0-109" class="d">-func Prefix(p string) Option {
</a><a href="#h126-0-110" id="h126-0-110" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-111" id="h126-0-111" class="d">-		c.Client.Prefix += strings.TrimSuffix(p, &quot;.&quot;) + &quot;.&quot;
</a><a href="#h126-0-112" id="h126-0-112" class="d">-	})
</a><a href="#h126-0-113" id="h126-0-113" class="d">-}
</a><a href="#h126-0-114" id="h126-0-114" class="d">-
</a><a href="#h126-0-115" id="h126-0-115" class="d">-// TagFormat represents the format of tags sent by a Client.
</a><a href="#h126-0-116" id="h126-0-116" class="d">-type TagFormat uint8
</a><a href="#h126-0-117" id="h126-0-117" class="d">-
</a><a href="#h126-0-118" id="h126-0-118" class="d">-// TagsFormat sets the format of tags.
</a><a href="#h126-0-119" id="h126-0-119" class="d">-func TagsFormat(tf TagFormat) Option {
</a><a href="#h126-0-120" id="h126-0-120" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-121" id="h126-0-121" class="d">-		c.Conn.TagFormat = tf
</a><a href="#h126-0-122" id="h126-0-122" class="d">-	})
</a><a href="#h126-0-123" id="h126-0-123" class="d">-}
</a><a href="#h126-0-124" id="h126-0-124" class="d">-
</a><a href="#h126-0-125" id="h126-0-125" class="d">-// Tags appends the given tags to the tags sent with every metrics. If a tag
</a><a href="#h126-0-126" id="h126-0-126" class="d">-// already exists, it is replaced.
</a><a href="#h126-0-127" id="h126-0-127" class="d">-//
</a><a href="#h126-0-128" id="h126-0-128" class="d">-// The tags must be set as key-value pairs. If the number of tags is not even,
</a><a href="#h126-0-129" id="h126-0-129" class="d">-// Tags panics.
</a><a href="#h126-0-130" id="h126-0-130" class="d">-//
</a><a href="#h126-0-131" id="h126-0-131" class="d">-// If the format of tags have not been set using the TagsFormat option, the tags
</a><a href="#h126-0-132" id="h126-0-132" class="d">-// will be ignored.
</a><a href="#h126-0-133" id="h126-0-133" class="d">-func Tags(tags ...string) Option {
</a><a href="#h126-0-134" id="h126-0-134" class="d">-	if len(tags)%2 != 0 {
</a><a href="#h126-0-135" id="h126-0-135" class="d">-		panic(&quot;statsd: Tags only accepts an even number of arguments&quot;)
</a><a href="#h126-0-136" id="h126-0-136" class="d">-	}
</a><a href="#h126-0-137" id="h126-0-137" class="d">-
</a><a href="#h126-0-138" id="h126-0-138" class="d">-	return Option(func(c *config) {
</a><a href="#h126-0-139" id="h126-0-139" class="d">-		if len(tags) == 0 {
</a><a href="#h126-0-140" id="h126-0-140" class="d">-			return
</a><a href="#h126-0-141" id="h126-0-141" class="d">-		}
</a><a href="#h126-0-142" id="h126-0-142" class="d">-
</a><a href="#h126-0-143" id="h126-0-143" class="d">-		newTags := make([]tag, len(tags)/2)
</a><a href="#h126-0-144" id="h126-0-144" class="d">-		for i := 0; i &lt; len(tags)/2; i++ {
</a><a href="#h126-0-145" id="h126-0-145" class="d">-			newTags[i] = tag{K: tags[2*i], V: tags[2*i+1]}
</a><a href="#h126-0-146" id="h126-0-146" class="d">-		}
</a><a href="#h126-0-147" id="h126-0-147" class="d">-
</a><a href="#h126-0-148" id="h126-0-148" class="d">-		for _, newTag := range newTags {
</a><a href="#h126-0-149" id="h126-0-149" class="d">-			exists := false
</a><a href="#h126-0-150" id="h126-0-150" class="d">-			for _, oldTag := range c.Client.Tags {
</a><a href="#h126-0-151" id="h126-0-151" class="d">-				if newTag.K == oldTag.K {
</a><a href="#h126-0-152" id="h126-0-152" class="d">-					exists = true
</a><a href="#h126-0-153" id="h126-0-153" class="d">-					oldTag.V = newTag.V
</a><a href="#h126-0-154" id="h126-0-154" class="d">-				}
</a><a href="#h126-0-155" id="h126-0-155" class="d">-			}
</a><a href="#h126-0-156" id="h126-0-156" class="d">-			if !exists {
</a><a href="#h126-0-157" id="h126-0-157" class="d">-				c.Client.Tags = append(c.Client.Tags, tag{
</a><a href="#h126-0-158" id="h126-0-158" class="d">-					K: newTag.K,
</a><a href="#h126-0-159" id="h126-0-159" class="d">-					V: newTag.V,
</a><a href="#h126-0-160" id="h126-0-160" class="d">-				})
</a><a href="#h126-0-161" id="h126-0-161" class="d">-			}
</a><a href="#h126-0-162" id="h126-0-162" class="d">-		}
</a><a href="#h126-0-163" id="h126-0-163" class="d">-	})
</a><a href="#h126-0-164" id="h126-0-164" class="d">-}
</a><a href="#h126-0-165" id="h126-0-165" class="d">-
</a><a href="#h126-0-166" id="h126-0-166" class="d">-type tag struct {
</a><a href="#h126-0-167" id="h126-0-167" class="d">-	K, V string
</a><a href="#h126-0-168" id="h126-0-168" class="d">-}
</a><a href="#h126-0-169" id="h126-0-169" class="d">-
</a><a href="#h126-0-170" id="h126-0-170" class="d">-func joinTags(tf TagFormat, tags []tag) string {
</a><a href="#h126-0-171" id="h126-0-171" class="d">-	if len(tags) == 0 || tf == 0 {
</a><a href="#h126-0-172" id="h126-0-172" class="d">-		return &quot;&quot;
</a><a href="#h126-0-173" id="h126-0-173" class="d">-	}
</a><a href="#h126-0-174" id="h126-0-174" class="d">-	join := joinFuncs[tf]
</a><a href="#h126-0-175" id="h126-0-175" class="d">-	return join(tags)
</a><a href="#h126-0-176" id="h126-0-176" class="d">-}
</a><a href="#h126-0-177" id="h126-0-177" class="d">-
</a><a href="#h126-0-178" id="h126-0-178" class="d">-func splitTags(tf TagFormat, tags string) []tag {
</a><a href="#h126-0-179" id="h126-0-179" class="d">-	if len(tags) == 0 || tf == 0 {
</a><a href="#h126-0-180" id="h126-0-180" class="d">-		return nil
</a><a href="#h126-0-181" id="h126-0-181" class="d">-	}
</a><a href="#h126-0-182" id="h126-0-182" class="d">-	split := splitFuncs[tf]
</a><a href="#h126-0-183" id="h126-0-183" class="d">-	return split(tags)
</a><a href="#h126-0-184" id="h126-0-184" class="d">-}
</a><a href="#h126-0-185" id="h126-0-185" class="d">-
</a><a href="#h126-0-186" id="h126-0-186" class="d">-const (
</a><a href="#h126-0-187" id="h126-0-187" class="d">-	// InfluxDB tag format.
</a><a href="#h126-0-188" id="h126-0-188" class="d">-	// See https://influxdb.com/blog/2015/11/03/getting_started_with_influx_statsd.html
</a><a href="#h126-0-189" id="h126-0-189" class="d">-	InfluxDB TagFormat = iota + 1
</a><a href="#h126-0-190" id="h126-0-190" class="d">-	// Datadog tag format.
</a><a href="#h126-0-191" id="h126-0-191" class="d">-	// See http://docs.datadoghq.com/guides/metrics/#tags
</a><a href="#h126-0-192" id="h126-0-192" class="d">-	Datadog
</a><a href="#h126-0-193" id="h126-0-193" class="d">-)
</a><a href="#h126-0-194" id="h126-0-194" class="d">-
</a><a href="#h126-0-195" id="h126-0-195" class="d">-var (
</a><a href="#h126-0-196" id="h126-0-196" class="d">-	joinFuncs = map[TagFormat]func([]tag) string{
</a><a href="#h126-0-197" id="h126-0-197" class="d">-		// InfluxDB tag format: ,tag1=payroll,region=us-west
</a><a href="#h126-0-198" id="h126-0-198" class="d">-		// https://influxdb.com/blog/2015/11/03/getting_started_with_influx_statsd.html
</a><a href="#h126-0-199" id="h126-0-199" class="d">-		InfluxDB: func(tags []tag) string {
</a><a href="#h126-0-200" id="h126-0-200" class="d">-			var buf bytes.Buffer
</a><a href="#h126-0-201" id="h126-0-201" class="d">-			for _, tag := range tags {
</a><a href="#h126-0-202" id="h126-0-202" class="d">-				_ = buf.WriteByte(&#39;,&#39;)
</a><a href="#h126-0-203" id="h126-0-203" class="d">-				_, _ = buf.WriteString(tag.K)
</a><a href="#h126-0-204" id="h126-0-204" class="d">-				_ = buf.WriteByte(&#39;=&#39;)
</a><a href="#h126-0-205" id="h126-0-205" class="d">-				_, _ = buf.WriteString(tag.V)
</a><a href="#h126-0-206" id="h126-0-206" class="d">-			}
</a><a href="#h126-0-207" id="h126-0-207" class="d">-			return buf.String()
</a><a href="#h126-0-208" id="h126-0-208" class="d">-		},
</a><a href="#h126-0-209" id="h126-0-209" class="d">-		// Datadog tag format: |#tag1:value1,tag2:value2
</a><a href="#h126-0-210" id="h126-0-210" class="d">-		// http://docs.datadoghq.com/guides/dogstatsd/#datagram-format
</a><a href="#h126-0-211" id="h126-0-211" class="d">-		Datadog: func(tags []tag) string {
</a><a href="#h126-0-212" id="h126-0-212" class="d">-			buf := bytes.NewBufferString(&quot;|#&quot;)
</a><a href="#h126-0-213" id="h126-0-213" class="d">-			first := true
</a><a href="#h126-0-214" id="h126-0-214" class="d">-			for _, tag := range tags {
</a><a href="#h126-0-215" id="h126-0-215" class="d">-				if first {
</a><a href="#h126-0-216" id="h126-0-216" class="d">-					first = false
</a><a href="#h126-0-217" id="h126-0-217" class="d">-				} else {
</a><a href="#h126-0-218" id="h126-0-218" class="d">-					_ = buf.WriteByte(&#39;,&#39;)
</a><a href="#h126-0-219" id="h126-0-219" class="d">-				}
</a><a href="#h126-0-220" id="h126-0-220" class="d">-				_, _ = buf.WriteString(tag.K)
</a><a href="#h126-0-221" id="h126-0-221" class="d">-				_ = buf.WriteByte(&#39;:&#39;)
</a><a href="#h126-0-222" id="h126-0-222" class="d">-				_, _ = buf.WriteString(tag.V)
</a><a href="#h126-0-223" id="h126-0-223" class="d">-			}
</a><a href="#h126-0-224" id="h126-0-224" class="d">-			return buf.String()
</a><a href="#h126-0-225" id="h126-0-225" class="d">-		},
</a><a href="#h126-0-226" id="h126-0-226" class="d">-	}
</a><a href="#h126-0-227" id="h126-0-227" class="d">-	splitFuncs = map[TagFormat]func(string) []tag{
</a><a href="#h126-0-228" id="h126-0-228" class="d">-		InfluxDB: func(s string) []tag {
</a><a href="#h126-0-229" id="h126-0-229" class="d">-			s = s[1:]
</a><a href="#h126-0-230" id="h126-0-230" class="d">-			pairs := strings.Split(s, &quot;,&quot;)
</a><a href="#h126-0-231" id="h126-0-231" class="d">-			tags := make([]tag, len(pairs))
</a><a href="#h126-0-232" id="h126-0-232" class="d">-			for i, pair := range pairs {
</a><a href="#h126-0-233" id="h126-0-233" class="d">-				kv := strings.Split(pair, &quot;=&quot;)
</a><a href="#h126-0-234" id="h126-0-234" class="d">-				tags[i] = tag{K: kv[0], V: kv[1]}
</a><a href="#h126-0-235" id="h126-0-235" class="d">-			}
</a><a href="#h126-0-236" id="h126-0-236" class="d">-			return tags
</a><a href="#h126-0-237" id="h126-0-237" class="d">-		},
</a><a href="#h126-0-238" id="h126-0-238" class="d">-		Datadog: func(s string) []tag {
</a><a href="#h126-0-239" id="h126-0-239" class="d">-			s = s[2:]
</a><a href="#h126-0-240" id="h126-0-240" class="d">-			pairs := strings.Split(s, &quot;,&quot;)
</a><a href="#h126-0-241" id="h126-0-241" class="d">-			tags := make([]tag, len(pairs))
</a><a href="#h126-0-242" id="h126-0-242" class="d">-			for i, pair := range pairs {
</a><a href="#h126-0-243" id="h126-0-243" class="d">-				kv := strings.Split(pair, &quot;:&quot;)
</a><a href="#h126-0-244" id="h126-0-244" class="d">-				tags[i] = tag{K: kv[0], V: kv[1]}
</a><a href="#h126-0-245" id="h126-0-245" class="d">-			}
</a><a href="#h126-0-246" id="h126-0-246" class="d">-			return tags
</a><a href="#h126-0-247" id="h126-0-247" class="d">-		},
</a><a href="#h126-0-248" id="h126-0-248" class="d">-	}
</a><a href="#h126-0-249" id="h126-0-249" class="d">-)
</a><b>diff --git a/<a id="h127" href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/statsd.go">vendor/gopkg.in/alexcesaro/statsd.v2/statsd.go</a> b/<a href="../file/vendor/gopkg.in/alexcesaro/statsd.v2/statsd.go">vendor/gopkg.in/alexcesaro/statsd.v2/statsd.go</a></b>
<a href="#h127-0" id="h127-0" class="h">@@ -1,169 +0,0 @@
</a><a href="#h127-0-0" id="h127-0-0" class="d">-package statsd
</a><a href="#h127-0-1" id="h127-0-1" class="d">-
</a><a href="#h127-0-2" id="h127-0-2" class="d">-import &quot;time&quot;
</a><a href="#h127-0-3" id="h127-0-3" class="d">-
</a><a href="#h127-0-4" id="h127-0-4" class="d">-// A Client represents a StatsD client.
</a><a href="#h127-0-5" id="h127-0-5" class="d">-type Client struct {
</a><a href="#h127-0-6" id="h127-0-6" class="d">-	conn   *conn
</a><a href="#h127-0-7" id="h127-0-7" class="d">-	muted  bool
</a><a href="#h127-0-8" id="h127-0-8" class="d">-	rate   float32
</a><a href="#h127-0-9" id="h127-0-9" class="d">-	prefix string
</a><a href="#h127-0-10" id="h127-0-10" class="d">-	tags   string
</a><a href="#h127-0-11" id="h127-0-11" class="d">-}
</a><a href="#h127-0-12" id="h127-0-12" class="d">-
</a><a href="#h127-0-13" id="h127-0-13" class="d">-// New returns a new Client.
</a><a href="#h127-0-14" id="h127-0-14" class="d">-func New(opts ...Option) (*Client, error) {
</a><a href="#h127-0-15" id="h127-0-15" class="d">-	// The default configuration.
</a><a href="#h127-0-16" id="h127-0-16" class="d">-	conf := &amp;config{
</a><a href="#h127-0-17" id="h127-0-17" class="d">-		Client: clientConfig{
</a><a href="#h127-0-18" id="h127-0-18" class="d">-			Rate: 1,
</a><a href="#h127-0-19" id="h127-0-19" class="d">-		},
</a><a href="#h127-0-20" id="h127-0-20" class="d">-		Conn: connConfig{
</a><a href="#h127-0-21" id="h127-0-21" class="d">-			Addr:        &quot;:8125&quot;,
</a><a href="#h127-0-22" id="h127-0-22" class="d">-			FlushPeriod: 100 * time.Millisecond,
</a><a href="#h127-0-23" id="h127-0-23" class="d">-			// Worst-case scenario:
</a><a href="#h127-0-24" id="h127-0-24" class="d">-			// Ethernet MTU - IPv6 Header - TCP Header = 1500 - 40 - 20 = 1440
</a><a href="#h127-0-25" id="h127-0-25" class="d">-			MaxPacketSize: 1440,
</a><a href="#h127-0-26" id="h127-0-26" class="d">-			Network:       &quot;udp&quot;,
</a><a href="#h127-0-27" id="h127-0-27" class="d">-		},
</a><a href="#h127-0-28" id="h127-0-28" class="d">-	}
</a><a href="#h127-0-29" id="h127-0-29" class="d">-	for _, o := range opts {
</a><a href="#h127-0-30" id="h127-0-30" class="d">-		o(conf)
</a><a href="#h127-0-31" id="h127-0-31" class="d">-	}
</a><a href="#h127-0-32" id="h127-0-32" class="d">-
</a><a href="#h127-0-33" id="h127-0-33" class="d">-	conn, err := newConn(conf.Conn, conf.Client.Muted)
</a><a href="#h127-0-34" id="h127-0-34" class="d">-	c := &amp;Client{
</a><a href="#h127-0-35" id="h127-0-35" class="d">-		conn:  conn,
</a><a href="#h127-0-36" id="h127-0-36" class="d">-		muted: conf.Client.Muted,
</a><a href="#h127-0-37" id="h127-0-37" class="d">-	}
</a><a href="#h127-0-38" id="h127-0-38" class="d">-	if err != nil {
</a><a href="#h127-0-39" id="h127-0-39" class="d">-		c.muted = true
</a><a href="#h127-0-40" id="h127-0-40" class="d">-		return c, err
</a><a href="#h127-0-41" id="h127-0-41" class="d">-	}
</a><a href="#h127-0-42" id="h127-0-42" class="d">-	c.rate = conf.Client.Rate
</a><a href="#h127-0-43" id="h127-0-43" class="d">-	c.prefix = conf.Client.Prefix
</a><a href="#h127-0-44" id="h127-0-44" class="d">-	c.tags = joinTags(conf.Conn.TagFormat, conf.Client.Tags)
</a><a href="#h127-0-45" id="h127-0-45" class="d">-	return c, nil
</a><a href="#h127-0-46" id="h127-0-46" class="d">-}
</a><a href="#h127-0-47" id="h127-0-47" class="d">-
</a><a href="#h127-0-48" id="h127-0-48" class="d">-// Clone returns a clone of the Client. The cloned Client inherits its
</a><a href="#h127-0-49" id="h127-0-49" class="d">-// configuration from its parent.
</a><a href="#h127-0-50" id="h127-0-50" class="d">-//
</a><a href="#h127-0-51" id="h127-0-51" class="d">-// All cloned Clients share the same connection, so cloning a Client is a cheap
</a><a href="#h127-0-52" id="h127-0-52" class="d">-// operation.
</a><a href="#h127-0-53" id="h127-0-53" class="d">-func (c *Client) Clone(opts ...Option) *Client {
</a><a href="#h127-0-54" id="h127-0-54" class="d">-	tf := c.conn.tagFormat
</a><a href="#h127-0-55" id="h127-0-55" class="d">-	conf := &amp;config{
</a><a href="#h127-0-56" id="h127-0-56" class="d">-		Client: clientConfig{
</a><a href="#h127-0-57" id="h127-0-57" class="d">-			Rate:   c.rate,
</a><a href="#h127-0-58" id="h127-0-58" class="d">-			Prefix: c.prefix,
</a><a href="#h127-0-59" id="h127-0-59" class="d">-			Tags:   splitTags(tf, c.tags),
</a><a href="#h127-0-60" id="h127-0-60" class="d">-		},
</a><a href="#h127-0-61" id="h127-0-61" class="d">-	}
</a><a href="#h127-0-62" id="h127-0-62" class="d">-	for _, o := range opts {
</a><a href="#h127-0-63" id="h127-0-63" class="d">-		o(conf)
</a><a href="#h127-0-64" id="h127-0-64" class="d">-	}
</a><a href="#h127-0-65" id="h127-0-65" class="d">-
</a><a href="#h127-0-66" id="h127-0-66" class="d">-	clone := &amp;Client{
</a><a href="#h127-0-67" id="h127-0-67" class="d">-		conn:   c.conn,
</a><a href="#h127-0-68" id="h127-0-68" class="d">-		muted:  c.muted || conf.Client.Muted,
</a><a href="#h127-0-69" id="h127-0-69" class="d">-		rate:   conf.Client.Rate,
</a><a href="#h127-0-70" id="h127-0-70" class="d">-		prefix: conf.Client.Prefix,
</a><a href="#h127-0-71" id="h127-0-71" class="d">-		tags:   joinTags(tf, conf.Client.Tags),
</a><a href="#h127-0-72" id="h127-0-72" class="d">-	}
</a><a href="#h127-0-73" id="h127-0-73" class="d">-	clone.conn = c.conn
</a><a href="#h127-0-74" id="h127-0-74" class="d">-	return clone
</a><a href="#h127-0-75" id="h127-0-75" class="d">-}
</a><a href="#h127-0-76" id="h127-0-76" class="d">-
</a><a href="#h127-0-77" id="h127-0-77" class="d">-// Count adds n to bucket.
</a><a href="#h127-0-78" id="h127-0-78" class="d">-func (c *Client) Count(bucket string, n interface{}) {
</a><a href="#h127-0-79" id="h127-0-79" class="d">-	if c.skip() {
</a><a href="#h127-0-80" id="h127-0-80" class="d">-		return
</a><a href="#h127-0-81" id="h127-0-81" class="d">-	}
</a><a href="#h127-0-82" id="h127-0-82" class="d">-	c.conn.metric(c.prefix, bucket, n, &quot;c&quot;, c.rate, c.tags)
</a><a href="#h127-0-83" id="h127-0-83" class="d">-}
</a><a href="#h127-0-84" id="h127-0-84" class="d">-
</a><a href="#h127-0-85" id="h127-0-85" class="d">-func (c *Client) skip() bool {
</a><a href="#h127-0-86" id="h127-0-86" class="d">-	return c.muted || (c.rate != 1 &amp;&amp; randFloat() &gt; c.rate)
</a><a href="#h127-0-87" id="h127-0-87" class="d">-}
</a><a href="#h127-0-88" id="h127-0-88" class="d">-
</a><a href="#h127-0-89" id="h127-0-89" class="d">-// Increment increment the given bucket. It is equivalent to Count(bucket, 1).
</a><a href="#h127-0-90" id="h127-0-90" class="d">-func (c *Client) Increment(bucket string) {
</a><a href="#h127-0-91" id="h127-0-91" class="d">-	c.Count(bucket, 1)
</a><a href="#h127-0-92" id="h127-0-92" class="d">-}
</a><a href="#h127-0-93" id="h127-0-93" class="d">-
</a><a href="#h127-0-94" id="h127-0-94" class="d">-// Gauge records an absolute value for the given bucket.
</a><a href="#h127-0-95" id="h127-0-95" class="d">-func (c *Client) Gauge(bucket string, value interface{}) {
</a><a href="#h127-0-96" id="h127-0-96" class="d">-	if c.skip() {
</a><a href="#h127-0-97" id="h127-0-97" class="d">-		return
</a><a href="#h127-0-98" id="h127-0-98" class="d">-	}
</a><a href="#h127-0-99" id="h127-0-99" class="d">-	c.conn.gauge(c.prefix, bucket, value, c.tags)
</a><a href="#h127-0-100" id="h127-0-100" class="d">-}
</a><a href="#h127-0-101" id="h127-0-101" class="d">-
</a><a href="#h127-0-102" id="h127-0-102" class="d">-// Timing sends a timing value to a bucket.
</a><a href="#h127-0-103" id="h127-0-103" class="d">-func (c *Client) Timing(bucket string, value interface{}) {
</a><a href="#h127-0-104" id="h127-0-104" class="d">-	if c.skip() {
</a><a href="#h127-0-105" id="h127-0-105" class="d">-		return
</a><a href="#h127-0-106" id="h127-0-106" class="d">-	}
</a><a href="#h127-0-107" id="h127-0-107" class="d">-	c.conn.metric(c.prefix, bucket, value, &quot;ms&quot;, c.rate, c.tags)
</a><a href="#h127-0-108" id="h127-0-108" class="d">-}
</a><a href="#h127-0-109" id="h127-0-109" class="d">-
</a><a href="#h127-0-110" id="h127-0-110" class="d">-// Histogram sends an histogram value to a bucket.
</a><a href="#h127-0-111" id="h127-0-111" class="d">-func (c *Client) Histogram(bucket string, value interface{}) {
</a><a href="#h127-0-112" id="h127-0-112" class="d">-	if c.skip() {
</a><a href="#h127-0-113" id="h127-0-113" class="d">-		return
</a><a href="#h127-0-114" id="h127-0-114" class="d">-	}
</a><a href="#h127-0-115" id="h127-0-115" class="d">-	c.conn.metric(c.prefix, bucket, value, &quot;h&quot;, c.rate, c.tags)
</a><a href="#h127-0-116" id="h127-0-116" class="d">-}
</a><a href="#h127-0-117" id="h127-0-117" class="d">-
</a><a href="#h127-0-118" id="h127-0-118" class="d">-// A Timing is an helper object that eases sending timing values.
</a><a href="#h127-0-119" id="h127-0-119" class="d">-type Timing struct {
</a><a href="#h127-0-120" id="h127-0-120" class="d">-	start time.Time
</a><a href="#h127-0-121" id="h127-0-121" class="d">-	c     *Client
</a><a href="#h127-0-122" id="h127-0-122" class="d">-}
</a><a href="#h127-0-123" id="h127-0-123" class="d">-
</a><a href="#h127-0-124" id="h127-0-124" class="d">-// NewTiming creates a new Timing.
</a><a href="#h127-0-125" id="h127-0-125" class="d">-func (c *Client) NewTiming() Timing {
</a><a href="#h127-0-126" id="h127-0-126" class="d">-	return Timing{start: now(), c: c}
</a><a href="#h127-0-127" id="h127-0-127" class="d">-}
</a><a href="#h127-0-128" id="h127-0-128" class="d">-
</a><a href="#h127-0-129" id="h127-0-129" class="d">-// Send sends the time elapsed since the creation of the Timing.
</a><a href="#h127-0-130" id="h127-0-130" class="d">-func (t Timing) Send(bucket string) {
</a><a href="#h127-0-131" id="h127-0-131" class="d">-	t.c.Timing(bucket, int(t.Duration()/time.Millisecond))
</a><a href="#h127-0-132" id="h127-0-132" class="d">-}
</a><a href="#h127-0-133" id="h127-0-133" class="d">-
</a><a href="#h127-0-134" id="h127-0-134" class="d">-// Duration returns the time elapsed since the creation of the Timing.
</a><a href="#h127-0-135" id="h127-0-135" class="d">-func (t Timing) Duration() time.Duration {
</a><a href="#h127-0-136" id="h127-0-136" class="d">-	return now().Sub(t.start)
</a><a href="#h127-0-137" id="h127-0-137" class="d">-}
</a><a href="#h127-0-138" id="h127-0-138" class="d">-
</a><a href="#h127-0-139" id="h127-0-139" class="d">-// Unique sends the given value to a set bucket.
</a><a href="#h127-0-140" id="h127-0-140" class="d">-func (c *Client) Unique(bucket string, value string) {
</a><a href="#h127-0-141" id="h127-0-141" class="d">-	if c.skip() {
</a><a href="#h127-0-142" id="h127-0-142" class="d">-		return
</a><a href="#h127-0-143" id="h127-0-143" class="d">-	}
</a><a href="#h127-0-144" id="h127-0-144" class="d">-	c.conn.unique(c.prefix, bucket, value, c.tags)
</a><a href="#h127-0-145" id="h127-0-145" class="d">-}
</a><a href="#h127-0-146" id="h127-0-146" class="d">-
</a><a href="#h127-0-147" id="h127-0-147" class="d">-// Flush flushes the Client&#39;s buffer.
</a><a href="#h127-0-148" id="h127-0-148" class="d">-func (c *Client) Flush() {
</a><a href="#h127-0-149" id="h127-0-149" class="d">-	if c.muted {
</a><a href="#h127-0-150" id="h127-0-150" class="d">-		return
</a><a href="#h127-0-151" id="h127-0-151" class="d">-	}
</a><a href="#h127-0-152" id="h127-0-152" class="d">-	c.conn.mu.Lock()
</a><a href="#h127-0-153" id="h127-0-153" class="d">-	c.conn.flush(0)
</a><a href="#h127-0-154" id="h127-0-154" class="d">-	c.conn.mu.Unlock()
</a><a href="#h127-0-155" id="h127-0-155" class="d">-}
</a><a href="#h127-0-156" id="h127-0-156" class="d">-
</a><a href="#h127-0-157" id="h127-0-157" class="d">-// Close flushes the Client&#39;s buffer and releases the associated ressources. The
</a><a href="#h127-0-158" id="h127-0-158" class="d">-// Client and all the cloned Clients must not be used afterward.
</a><a href="#h127-0-159" id="h127-0-159" class="d">-func (c *Client) Close() {
</a><a href="#h127-0-160" id="h127-0-160" class="d">-	if c.muted {
</a><a href="#h127-0-161" id="h127-0-161" class="d">-		return
</a><a href="#h127-0-162" id="h127-0-162" class="d">-	}
</a><a href="#h127-0-163" id="h127-0-163" class="d">-	c.conn.mu.Lock()
</a><a href="#h127-0-164" id="h127-0-164" class="d">-	c.conn.flush(0)
</a><a href="#h127-0-165" id="h127-0-165" class="d">-	c.conn.handleError(c.conn.w.Close())
</a><a href="#h127-0-166" id="h127-0-166" class="d">-	c.conn.closed = true
</a><a href="#h127-0-167" id="h127-0-167" class="d">-	c.conn.mu.Unlock()
</a><a href="#h127-0-168" id="h127-0-168" class="d">-}
</a><b>diff --git a/<a id="h128" href="../file/vendor/gopkg.in/check.v1/BUILD">vendor/gopkg.in/check.v1/BUILD</a> b/<a href="../file/vendor/gopkg.in/check.v1/BUILD">vendor/gopkg.in/check.v1/BUILD</a></b>
<a href="#h128-0" id="h128-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h128-0-0" id="h128-0-0" class="d">-
</a><a href="#h128-0-1" id="h128-0-1" class="d">-load(&quot;@io_bazel_rules_go//go:def.bzl&quot;,
</a><a href="#h128-0-2" id="h128-0-2" class="d">-  &quot;go_binary&quot;,
</a><a href="#h128-0-3" id="h128-0-3" class="d">-  &quot;go_library&quot;,
</a><a href="#h128-0-4" id="h128-0-4" class="d">-  &quot;go_test&quot;,
</a><a href="#h128-0-5" id="h128-0-5" class="d">-)
</a><a href="#h128-0-6" id="h128-0-6" class="d">-
</a><a href="#h128-0-7" id="h128-0-7" class="d">-go_library(
</a><a href="#h128-0-8" id="h128-0-8" class="d">-name = &quot;go_default_library&quot;,
</a><a href="#h128-0-9" id="h128-0-9" class="d">-  srcs = [
</a><a href="#h128-0-10" id="h128-0-10" class="d">-    &quot;benchmark.go&quot;,
</a><a href="#h128-0-11" id="h128-0-11" class="d">-    &quot;check.go&quot;,
</a><a href="#h128-0-12" id="h128-0-12" class="d">-    &quot;checkers.go&quot;,
</a><a href="#h128-0-13" id="h128-0-13" class="d">-    &quot;helpers.go&quot;,
</a><a href="#h128-0-14" id="h128-0-14" class="d">-    &quot;printer.go&quot;,
</a><a href="#h128-0-15" id="h128-0-15" class="d">-    &quot;reporter.go&quot;,
</a><a href="#h128-0-16" id="h128-0-16" class="d">-    &quot;run.go&quot;,
</a><a href="#h128-0-17" id="h128-0-17" class="d">-  ],
</a><a href="#h128-0-18" id="h128-0-18" class="d">-  deps = [
</a><a href="#h128-0-19" id="h128-0-19" class="d">-  ],
</a><a href="#h128-0-20" id="h128-0-20" class="d">-  visibility = [&quot;//visibility:public&quot;],
</a><a href="#h128-0-21" id="h128-0-21" class="d">-)
</a><a href="#h128-0-22" id="h128-0-22" class="d">-
</a><a href="#h128-0-23" id="h128-0-23" class="d">-
</a><b>diff --git a/<a id="h129" href="../file/vendor/gopkg.in/check.v1/LICENSE">vendor/gopkg.in/check.v1/LICENSE</a> b/<a href="../file/vendor/gopkg.in/check.v1/LICENSE">vendor/gopkg.in/check.v1/LICENSE</a></b>
<a href="#h129-0" id="h129-0" class="h">@@ -1,25 +0,0 @@
</a><a href="#h129-0-0" id="h129-0-0" class="d">-Gocheck - A rich testing framework for Go
</a><a href="#h129-0-1" id="h129-0-1" class="d">- 
</a><a href="#h129-0-2" id="h129-0-2" class="d">-Copyright (c) 2010-2013 Gustavo Niemeyer &lt;gustavo@niemeyer.net&gt;
</a><a href="#h129-0-3" id="h129-0-3" class="d">-
</a><a href="#h129-0-4" id="h129-0-4" class="d">-All rights reserved.
</a><a href="#h129-0-5" id="h129-0-5" class="d">-
</a><a href="#h129-0-6" id="h129-0-6" class="d">-Redistribution and use in source and binary forms, with or without
</a><a href="#h129-0-7" id="h129-0-7" class="d">-modification, are permitted provided that the following conditions are met: 
</a><a href="#h129-0-8" id="h129-0-8" class="d">-
</a><a href="#h129-0-9" id="h129-0-9" class="d">-1. Redistributions of source code must retain the above copyright notice, this
</a><a href="#h129-0-10" id="h129-0-10" class="d">-   list of conditions and the following disclaimer. 
</a><a href="#h129-0-11" id="h129-0-11" class="d">-2. Redistributions in binary form must reproduce the above copyright notice,
</a><a href="#h129-0-12" id="h129-0-12" class="d">-   this list of conditions and the following disclaimer in the documentation
</a><a href="#h129-0-13" id="h129-0-13" class="d">-   and/or other materials provided with the distribution. 
</a><a href="#h129-0-14" id="h129-0-14" class="d">-
</a><a href="#h129-0-15" id="h129-0-15" class="d">-THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND
</a><a href="#h129-0-16" id="h129-0-16" class="d">-ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
</a><a href="#h129-0-17" id="h129-0-17" class="d">-WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
</a><a href="#h129-0-18" id="h129-0-18" class="d">-DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
</a><a href="#h129-0-19" id="h129-0-19" class="d">-ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
</a><a href="#h129-0-20" id="h129-0-20" class="d">-(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
</a><a href="#h129-0-21" id="h129-0-21" class="d">-LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
</a><a href="#h129-0-22" id="h129-0-22" class="d">-ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h129-0-23" id="h129-0-23" class="d">-(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
</a><a href="#h129-0-24" id="h129-0-24" class="d">-SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><b>diff --git a/<a id="h130" href="../file/vendor/gopkg.in/check.v1/README.md">vendor/gopkg.in/check.v1/README.md</a> b/<a href="../file/vendor/gopkg.in/check.v1/README.md">vendor/gopkg.in/check.v1/README.md</a></b>
<a href="#h130-0" id="h130-0" class="h">@@ -1,20 +0,0 @@
</a><a href="#h130-0-0" id="h130-0-0" class="d">-Instructions
</a><a href="#h130-0-1" id="h130-0-1" class="d">-============
</a><a href="#h130-0-2" id="h130-0-2" class="d">-
</a><a href="#h130-0-3" id="h130-0-3" class="d">-Install the package with:
</a><a href="#h130-0-4" id="h130-0-4" class="d">-
</a><a href="#h130-0-5" id="h130-0-5" class="d">-    go get gopkg.in/check.v1
</a><a href="#h130-0-6" id="h130-0-6" class="d">-    
</a><a href="#h130-0-7" id="h130-0-7" class="d">-Import it with:
</a><a href="#h130-0-8" id="h130-0-8" class="d">-
</a><a href="#h130-0-9" id="h130-0-9" class="d">-    import &quot;gopkg.in/check.v1&quot;
</a><a href="#h130-0-10" id="h130-0-10" class="d">-
</a><a href="#h130-0-11" id="h130-0-11" class="d">-and use _check_ as the package name inside the code.
</a><a href="#h130-0-12" id="h130-0-12" class="d">-
</a><a href="#h130-0-13" id="h130-0-13" class="d">-For more details, visit the project page:
</a><a href="#h130-0-14" id="h130-0-14" class="d">-
</a><a href="#h130-0-15" id="h130-0-15" class="d">-* http://labix.org/gocheck
</a><a href="#h130-0-16" id="h130-0-16" class="d">-
</a><a href="#h130-0-17" id="h130-0-17" class="d">-and the API documentation:
</a><a href="#h130-0-18" id="h130-0-18" class="d">-
</a><a href="#h130-0-19" id="h130-0-19" class="d">-* https://gopkg.in/check.v1
</a><b>diff --git a/<a id="h131" href="../file/vendor/gopkg.in/check.v1/TODO">vendor/gopkg.in/check.v1/TODO</a> b/<a href="../file/vendor/gopkg.in/check.v1/TODO">vendor/gopkg.in/check.v1/TODO</a></b>
<a href="#h131-0" id="h131-0" class="h">@@ -1,2 +0,0 @@
</a><a href="#h131-0-0" id="h131-0-0" class="d">-- Assert(slice, Contains, item)
</a><a href="#h131-0-1" id="h131-0-1" class="d">-- Parallel test support
</a><b>diff --git a/<a id="h132" href="../file/vendor/gopkg.in/check.v1/benchmark.go">vendor/gopkg.in/check.v1/benchmark.go</a> b/<a href="../file/vendor/gopkg.in/check.v1/benchmark.go">vendor/gopkg.in/check.v1/benchmark.go</a></b>
<a href="#h132-0" id="h132-0" class="h">@@ -1,187 +0,0 @@
</a><a href="#h132-0-0" id="h132-0-0" class="d">-// Copyright (c) 2012 The Go Authors. All rights reserved.
</a><a href="#h132-0-1" id="h132-0-1" class="d">-// 
</a><a href="#h132-0-2" id="h132-0-2" class="d">-// Redistribution and use in source and binary forms, with or without
</a><a href="#h132-0-3" id="h132-0-3" class="d">-// modification, are permitted provided that the following conditions are
</a><a href="#h132-0-4" id="h132-0-4" class="d">-// met:
</a><a href="#h132-0-5" id="h132-0-5" class="d">-// 
</a><a href="#h132-0-6" id="h132-0-6" class="d">-//    * Redistributions of source code must retain the above copyright
</a><a href="#h132-0-7" id="h132-0-7" class="d">-// notice, this list of conditions and the following disclaimer.
</a><a href="#h132-0-8" id="h132-0-8" class="d">-//    * Redistributions in binary form must reproduce the above
</a><a href="#h132-0-9" id="h132-0-9" class="d">-// copyright notice, this list of conditions and the following disclaimer
</a><a href="#h132-0-10" id="h132-0-10" class="d">-// in the documentation and/or other materials provided with the
</a><a href="#h132-0-11" id="h132-0-11" class="d">-// distribution.
</a><a href="#h132-0-12" id="h132-0-12" class="d">-//    * Neither the name of Google Inc. nor the names of its
</a><a href="#h132-0-13" id="h132-0-13" class="d">-// contributors may be used to endorse or promote products derived from
</a><a href="#h132-0-14" id="h132-0-14" class="d">-// this software without specific prior written permission.
</a><a href="#h132-0-15" id="h132-0-15" class="d">-// 
</a><a href="#h132-0-16" id="h132-0-16" class="d">-// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
</a><a href="#h132-0-17" id="h132-0-17" class="d">-// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
</a><a href="#h132-0-18" id="h132-0-18" class="d">-// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
</a><a href="#h132-0-19" id="h132-0-19" class="d">-// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
</a><a href="#h132-0-20" id="h132-0-20" class="d">-// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
</a><a href="#h132-0-21" id="h132-0-21" class="d">-// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
</a><a href="#h132-0-22" id="h132-0-22" class="d">-// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
</a><a href="#h132-0-23" id="h132-0-23" class="d">-// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
</a><a href="#h132-0-24" id="h132-0-24" class="d">-// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
</a><a href="#h132-0-25" id="h132-0-25" class="d">-// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
</a><a href="#h132-0-26" id="h132-0-26" class="d">-// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</a><a href="#h132-0-27" id="h132-0-27" class="d">-
</a><a href="#h132-0-28" id="h132-0-28" class="d">-package check
</a><a href="#h132-0-29" id="h132-0-29" class="d">-
</a><a href="#h132-0-30" id="h132-0-30" class="d">-import (
</a><a href="#h132-0-31" id="h132-0-31" class="d">-	&quot;fmt&quot;
</a><a href="#h132-0-32" id="h132-0-32" class="d">-	&quot;runtime&quot;
</a><a href="#h132-0-33" id="h132-0-33" class="d">-	&quot;time&quot;
</a><a href="#h132-0-34" id="h132-0-34" class="d">-)
</a><a href="#h132-0-35" id="h132-0-35" class="d">-
</a><a href="#h132-0-36" id="h132-0-36" class="d">-var memStats runtime.MemStats
</a><a href="#h132-0-37" id="h132-0-37" class="d">-
</a><a href="#h132-0-38" id="h132-0-38" class="d">-// testingB is a type passed to Benchmark functions to manage benchmark
</a><a href="#h132-0-39" id="h132-0-39" class="d">-// timing and to specify the number of iterations to run.
</a><a href="#h132-0-40" id="h132-0-40" class="d">-type timer struct {
</a><a href="#h132-0-41" id="h132-0-41" class="d">-	start     time.Time // Time test or benchmark started
</a><a href="#h132-0-42" id="h132-0-42" class="d">-	duration  time.Duration
</a><a href="#h132-0-43" id="h132-0-43" class="d">-	N         int
</a><a href="#h132-0-44" id="h132-0-44" class="d">-	bytes     int64
</a><a href="#h132-0-45" id="h132-0-45" class="d">-	timerOn   bool
</a><a href="#h132-0-46" id="h132-0-46" class="d">-	benchTime time.Duration
</a><a href="#h132-0-47" id="h132-0-47" class="d">-	// The initial states of memStats.Mallocs and memStats.TotalAlloc.
</a><a href="#h132-0-48" id="h132-0-48" class="d">-	startAllocs uint64
</a><a href="#h132-0-49" id="h132-0-49" class="d">-	startBytes  uint64
</a><a href="#h132-0-50" id="h132-0-50" class="d">-	// The net total of this test after being run.
</a><a href="#h132-0-51" id="h132-0-51" class="d">-	netAllocs uint64
</a><a href="#h132-0-52" id="h132-0-52" class="d">-	netBytes  uint64
</a><a href="#h132-0-53" id="h132-0-53" class="d">-}
</a><a href="#h132-0-54" id="h132-0-54" class="d">-
</a><a href="#h132-0-55" id="h132-0-55" class="d">-// StartTimer starts timing a test. This function is called automatically
</a><a href="#h132-0-56" id="h132-0-56" class="d">-// before a benchmark starts, but it can also used to resume timing after
</a><a href="#h132-0-57" id="h132-0-57" class="d">-// a call to StopTimer.
</a><a href="#h132-0-58" id="h132-0-58" class="d">-func (c *C) StartTimer() {
</a><a href="#h132-0-59" id="h132-0-59" class="d">-	if !c.timerOn {
</a><a href="#h132-0-60" id="h132-0-60" class="d">-		c.start = time.Now()
</a><a href="#h132-0-61" id="h132-0-61" class="d">-		c.timerOn = true
</a><a href="#h132-0-62" id="h132-0-62" class="d">-
</a><a href="#h132-0-63" id="h132-0-63" class="d">-		runtime.ReadMemStats(&amp;memStats)
</a><a href="#h132-0-64" id="h132-0-64" class="d">-		c.startAllocs = memStats.Mallocs
</a><a href="#h132-0-65" id="h132-0-65" class="d">-		c.startBytes = memStats.TotalAlloc
</a><a href="#h132-0-66" id="h132-0-66" class="d">-	}
</a><a href="#h132-0-67" id="h132-0-67" class="d">-}
</a><a href="#h132-0-68" id="h132-0-68" class="d">-
</a><a href="#h132-0-69" id="h132-0-69" class="d">-// StopTimer stops timing a test. This can be used to pause the timer
</a><a href="#h132-0-70" id="h132-0-70" class="d">-// while performing complex initialization that you don&#39;t
</a><a href="#h132-0-71" id="h132-0-71" class="d">-// want to measure.
</a><a href="#h132-0-72" id="h132-0-72" class="d">-func (c *C) StopTimer() {
</a><a href="#h132-0-73" id="h132-0-73" class="d">-	if c.timerOn {
</a><a href="#h132-0-74" id="h132-0-74" class="d">-		c.duration += time.Now().Sub(c.start)
</a><a href="#h132-0-75" id="h132-0-75" class="d">-		c.timerOn = false
</a><a href="#h132-0-76" id="h132-0-76" class="d">-		runtime.ReadMemStats(&amp;memStats)
</a><a href="#h132-0-77" id="h132-0-77" class="d">-		c.netAllocs += memStats.Mallocs - c.startAllocs
</a><a href="#h132-0-78" id="h132-0-78" class="d">-		c.netBytes += memStats.TotalAlloc - c.startBytes
</a><a href="#h132-0-79" id="h132-0-79" class="d">-	}
</a><a href="#h132-0-80" id="h132-0-80" class="d">-}
</a><a href="#h132-0-81" id="h132-0-81" class="d">-
</a><a href="#h132-0-82" id="h132-0-82" class="d">-// ResetTimer sets the elapsed benchmark time to zero.
</a><a href="#h132-0-83" id="h132-0-83" class="d">-// It does not affect whether the timer is running.
</a><a href="#h132-0-84" id="h132-0-84" class="d">-func (c *C) ResetTimer() {
</a><a href="#h132-0-85" id="h132-0-85" class="d">-	if c.timerOn {
</a><a href="#h132-0-86" id="h132-0-86" class="d">-		c.start = time.Now()
</a><a href="#h132-0-87" id="h132-0-87" class="d">-		runtime.ReadMemStats(&amp;memStats)
</a><a href="#h132-0-88" id="h132-0-88" class="d">-		c.startAllocs = memStats.Mallocs
</a><a href="#h132-0-89" id="h132-0-89" class="d">-		c.startBytes = memStats.TotalAlloc
</a><a href="#h132-0-90" id="h132-0-90" class="d">-	}
</a><a href="#h132-0-91" id="h132-0-91" class="d">-	c.duration = 0
</a><a href="#h132-0-92" id="h132-0-92" class="d">-	c.netAllocs = 0
</a><a href="#h132-0-93" id="h132-0-93" class="d">-	c.netBytes = 0
</a><a href="#h132-0-94" id="h132-0-94" class="d">-}
</a><a href="#h132-0-95" id="h132-0-95" class="d">-
</a><a href="#h132-0-96" id="h132-0-96" class="d">-// SetBytes informs the number of bytes that the benchmark processes
</a><a href="#h132-0-97" id="h132-0-97" class="d">-// on each iteration. If this is called in a benchmark it will also
</a><a href="#h132-0-98" id="h132-0-98" class="d">-// report MB/s.
</a><a href="#h132-0-99" id="h132-0-99" class="d">-func (c *C) SetBytes(n int64) {
</a><a href="#h132-0-100" id="h132-0-100" class="d">-	c.bytes = n
</a><a href="#h132-0-101" id="h132-0-101" class="d">-}
</a><a href="#h132-0-102" id="h132-0-102" class="d">-
</a><a href="#h132-0-103" id="h132-0-103" class="d">-func (c *C) nsPerOp() int64 {
</a><a href="#h132-0-104" id="h132-0-104" class="d">-	if c.N &lt;= 0 {
</a><a href="#h132-0-105" id="h132-0-105" class="d">-		return 0
</a><a href="#h132-0-106" id="h132-0-106" class="d">-	}
</a><a href="#h132-0-107" id="h132-0-107" class="d">-	return c.duration.Nanoseconds() / int64(c.N)
</a><a href="#h132-0-108" id="h132-0-108" class="d">-}
</a><a href="#h132-0-109" id="h132-0-109" class="d">-
</a><a href="#h132-0-110" id="h132-0-110" class="d">-func (c *C) mbPerSec() float64 {
</a><a href="#h132-0-111" id="h132-0-111" class="d">-	if c.bytes &lt;= 0 || c.duration &lt;= 0 || c.N &lt;= 0 {
</a><a href="#h132-0-112" id="h132-0-112" class="d">-		return 0
</a><a href="#h132-0-113" id="h132-0-113" class="d">-	}
</a><a href="#h132-0-114" id="h132-0-114" class="d">-	return (float64(c.bytes) * float64(c.N) / 1e6) / c.duration.Seconds()
</a><a href="#h132-0-115" id="h132-0-115" class="d">-}
</a><a href="#h132-0-116" id="h132-0-116" class="d">-
</a><a href="#h132-0-117" id="h132-0-117" class="d">-func (c *C) timerString() string {
</a><a href="#h132-0-118" id="h132-0-118" class="d">-	if c.N &lt;= 0 {
</a><a href="#h132-0-119" id="h132-0-119" class="d">-		return fmt.Sprintf(&quot;%3.3fs&quot;, float64(c.duration.Nanoseconds())/1e9)
</a><a href="#h132-0-120" id="h132-0-120" class="d">-	}
</a><a href="#h132-0-121" id="h132-0-121" class="d">-	mbs := c.mbPerSec()
</a><a href="#h132-0-122" id="h132-0-122" class="d">-	mb := &quot;&quot;
</a><a href="#h132-0-123" id="h132-0-123" class="d">-	if mbs != 0 {
</a><a href="#h132-0-124" id="h132-0-124" class="d">-		mb = fmt.Sprintf(&quot;\t%7.2f MB/s&quot;, mbs)
</a><a href="#h132-0-125" id="h132-0-125" class="d">-	}
</a><a href="#h132-0-126" id="h132-0-126" class="d">-	nsop := c.nsPerOp()
</a><a href="#h132-0-127" id="h132-0-127" class="d">-	ns := fmt.Sprintf(&quot;%10d ns/op&quot;, nsop)
</a><a href="#h132-0-128" id="h132-0-128" class="d">-	if c.N &gt; 0 &amp;&amp; nsop &lt; 100 {
</a><a href="#h132-0-129" id="h132-0-129" class="d">-		// The format specifiers here make sure that
</a><a href="#h132-0-130" id="h132-0-130" class="d">-		// the ones digits line up for all three possible formats.
</a><a href="#h132-0-131" id="h132-0-131" class="d">-		if nsop &lt; 10 {
</a><a href="#h132-0-132" id="h132-0-132" class="d">-			ns = fmt.Sprintf(&quot;%13.2f ns/op&quot;, float64(c.duration.Nanoseconds())/float64(c.N))
</a><a href="#h132-0-133" id="h132-0-133" class="d">-		} else {
</a><a href="#h132-0-134" id="h132-0-134" class="d">-			ns = fmt.Sprintf(&quot;%12.1f ns/op&quot;, float64(c.duration.Nanoseconds())/float64(c.N))
</a><a href="#h132-0-135" id="h132-0-135" class="d">-		}
</a><a href="#h132-0-136" id="h132-0-136" class="d">-	}
</a><a href="#h132-0-137" id="h132-0-137" class="d">-	memStats := &quot;&quot;
</a><a href="#h132-0-138" id="h132-0-138" class="d">-	if c.benchMem {
</a><a href="#h132-0-139" id="h132-0-139" class="d">-		allocedBytes := fmt.Sprintf(&quot;%8d B/op&quot;, int64(c.netBytes)/int64(c.N))
</a><a href="#h132-0-140" id="h132-0-140" class="d">-		allocs := fmt.Sprintf(&quot;%8d allocs/op&quot;, int64(c.netAllocs)/int64(c.N))
</a><a href="#h132-0-141" id="h132-0-141" class="d">-		memStats = fmt.Sprintf(&quot;\t%s\t%s&quot;, allocedBytes, allocs)
</a><a href="#h132-0-142" id="h132-0-142" class="d">-	}
</a><a href="#h132-0-143" id="h132-0-143" class="d">-	return fmt.Sprintf(&quot;%8d\t%s%s%s&quot;, c.N, ns, mb, memStats)
</a><a href="#h132-0-144" id="h132-0-144" class="d">-}
</a><a href="#h132-0-145" id="h132-0-145" class="d">-
</a><a href="#h132-0-146" id="h132-0-146" class="d">-func min(x, y int) int {
</a><a href="#h132-0-147" id="h132-0-147" class="d">-	if x &gt; y {
</a><a href="#h132-0-148" id="h132-0-148" class="d">-		return y
</a><a href="#h132-0-149" id="h132-0-149" class="d">-	}
</a><a href="#h132-0-150" id="h132-0-150" class="d">-	return x
</a><a href="#h132-0-151" id="h132-0-151" class="d">-}
</a><a href="#h132-0-152" id="h132-0-152" class="d">-
</a><a href="#h132-0-153" id="h132-0-153" class="d">-func max(x, y int) int {
</a><a href="#h132-0-154" id="h132-0-154" class="d">-	if x &lt; y {
</a><a href="#h132-0-155" id="h132-0-155" class="d">-		return y
</a><a href="#h132-0-156" id="h132-0-156" class="d">-	}
</a><a href="#h132-0-157" id="h132-0-157" class="d">-	return x
</a><a href="#h132-0-158" id="h132-0-158" class="d">-}
</a><a href="#h132-0-159" id="h132-0-159" class="d">-
</a><a href="#h132-0-160" id="h132-0-160" class="d">-// roundDown10 rounds a number down to the nearest power of 10.
</a><a href="#h132-0-161" id="h132-0-161" class="d">-func roundDown10(n int) int {
</a><a href="#h132-0-162" id="h132-0-162" class="d">-	var tens = 0
</a><a href="#h132-0-163" id="h132-0-163" class="d">-	// tens = floor(log_10(n))
</a><a href="#h132-0-164" id="h132-0-164" class="d">-	for n &gt; 10 {
</a><a href="#h132-0-165" id="h132-0-165" class="d">-		n = n / 10
</a><a href="#h132-0-166" id="h132-0-166" class="d">-		tens++
</a><a href="#h132-0-167" id="h132-0-167" class="d">-	}
</a><a href="#h132-0-168" id="h132-0-168" class="d">-	// result = 10^tens
</a><a href="#h132-0-169" id="h132-0-169" class="d">-	result := 1
</a><a href="#h132-0-170" id="h132-0-170" class="d">-	for i := 0; i &lt; tens; i++ {
</a><a href="#h132-0-171" id="h132-0-171" class="d">-		result *= 10
</a><a href="#h132-0-172" id="h132-0-172" class="d">-	}
</a><a href="#h132-0-173" id="h132-0-173" class="d">-	return result
</a><a href="#h132-0-174" id="h132-0-174" class="d">-}
</a><a href="#h132-0-175" id="h132-0-175" class="d">-
</a><a href="#h132-0-176" id="h132-0-176" class="d">-// roundUp rounds x up to a number of the form [1eX, 2eX, 5eX].
</a><a href="#h132-0-177" id="h132-0-177" class="d">-func roundUp(n int) int {
</a><a href="#h132-0-178" id="h132-0-178" class="d">-	base := roundDown10(n)
</a><a href="#h132-0-179" id="h132-0-179" class="d">-	if n &lt; (2 * base) {
</a><a href="#h132-0-180" id="h132-0-180" class="d">-		return 2 * base
</a><a href="#h132-0-181" id="h132-0-181" class="d">-	}
</a><a href="#h132-0-182" id="h132-0-182" class="d">-	if n &lt; (5 * base) {
</a><a href="#h132-0-183" id="h132-0-183" class="d">-		return 5 * base
</a><a href="#h132-0-184" id="h132-0-184" class="d">-	}
</a><a href="#h132-0-185" id="h132-0-185" class="d">-	return 10 * base
</a><a href="#h132-0-186" id="h132-0-186" class="d">-}
</a><b>diff --git a/<a id="h133" href="../file/vendor/gopkg.in/check.v1/check.go">vendor/gopkg.in/check.v1/check.go</a> b/<a href="../file/vendor/gopkg.in/check.v1/check.go">vendor/gopkg.in/check.v1/check.go</a></b>
<a href="#h133-0" id="h133-0" class="h">@@ -1,873 +0,0 @@
</a><a href="#h133-0-0" id="h133-0-0" class="d">-// Package check is a rich testing extension for Go&#39;s testing package.
</a><a href="#h133-0-1" id="h133-0-1" class="d">-//
</a><a href="#h133-0-2" id="h133-0-2" class="d">-// For details about the project, see:
</a><a href="#h133-0-3" id="h133-0-3" class="d">-//
</a><a href="#h133-0-4" id="h133-0-4" class="d">-//     http://labix.org/gocheck
</a><a href="#h133-0-5" id="h133-0-5" class="d">-//
</a><a href="#h133-0-6" id="h133-0-6" class="d">-package check
</a><a href="#h133-0-7" id="h133-0-7" class="d">-
</a><a href="#h133-0-8" id="h133-0-8" class="d">-import (
</a><a href="#h133-0-9" id="h133-0-9" class="d">-	&quot;bytes&quot;
</a><a href="#h133-0-10" id="h133-0-10" class="d">-	&quot;errors&quot;
</a><a href="#h133-0-11" id="h133-0-11" class="d">-	&quot;fmt&quot;
</a><a href="#h133-0-12" id="h133-0-12" class="d">-	&quot;io&quot;
</a><a href="#h133-0-13" id="h133-0-13" class="d">-	&quot;math/rand&quot;
</a><a href="#h133-0-14" id="h133-0-14" class="d">-	&quot;os&quot;
</a><a href="#h133-0-15" id="h133-0-15" class="d">-	&quot;path&quot;
</a><a href="#h133-0-16" id="h133-0-16" class="d">-	&quot;path/filepath&quot;
</a><a href="#h133-0-17" id="h133-0-17" class="d">-	&quot;reflect&quot;
</a><a href="#h133-0-18" id="h133-0-18" class="d">-	&quot;regexp&quot;
</a><a href="#h133-0-19" id="h133-0-19" class="d">-	&quot;runtime&quot;
</a><a href="#h133-0-20" id="h133-0-20" class="d">-	&quot;strconv&quot;
</a><a href="#h133-0-21" id="h133-0-21" class="d">-	&quot;strings&quot;
</a><a href="#h133-0-22" id="h133-0-22" class="d">-	&quot;sync&quot;
</a><a href="#h133-0-23" id="h133-0-23" class="d">-	&quot;sync/atomic&quot;
</a><a href="#h133-0-24" id="h133-0-24" class="d">-	&quot;time&quot;
</a><a href="#h133-0-25" id="h133-0-25" class="d">-)
</a><a href="#h133-0-26" id="h133-0-26" class="d">-
</a><a href="#h133-0-27" id="h133-0-27" class="d">-// -----------------------------------------------------------------------
</a><a href="#h133-0-28" id="h133-0-28" class="d">-// Internal type which deals with suite method calling.
</a><a href="#h133-0-29" id="h133-0-29" class="d">-
</a><a href="#h133-0-30" id="h133-0-30" class="d">-const (
</a><a href="#h133-0-31" id="h133-0-31" class="d">-	fixtureKd = iota
</a><a href="#h133-0-32" id="h133-0-32" class="d">-	testKd
</a><a href="#h133-0-33" id="h133-0-33" class="d">-)
</a><a href="#h133-0-34" id="h133-0-34" class="d">-
</a><a href="#h133-0-35" id="h133-0-35" class="d">-type funcKind int
</a><a href="#h133-0-36" id="h133-0-36" class="d">-
</a><a href="#h133-0-37" id="h133-0-37" class="d">-const (
</a><a href="#h133-0-38" id="h133-0-38" class="d">-	succeededSt = iota
</a><a href="#h133-0-39" id="h133-0-39" class="d">-	failedSt
</a><a href="#h133-0-40" id="h133-0-40" class="d">-	skippedSt
</a><a href="#h133-0-41" id="h133-0-41" class="d">-	panickedSt
</a><a href="#h133-0-42" id="h133-0-42" class="d">-	fixturePanickedSt
</a><a href="#h133-0-43" id="h133-0-43" class="d">-	missedSt
</a><a href="#h133-0-44" id="h133-0-44" class="d">-)
</a><a href="#h133-0-45" id="h133-0-45" class="d">-
</a><a href="#h133-0-46" id="h133-0-46" class="d">-type funcStatus uint32
</a><a href="#h133-0-47" id="h133-0-47" class="d">-
</a><a href="#h133-0-48" id="h133-0-48" class="d">-// A method value can&#39;t reach its own Method structure.
</a><a href="#h133-0-49" id="h133-0-49" class="d">-type methodType struct {
</a><a href="#h133-0-50" id="h133-0-50" class="d">-	reflect.Value
</a><a href="#h133-0-51" id="h133-0-51" class="d">-	Info reflect.Method
</a><a href="#h133-0-52" id="h133-0-52" class="d">-}
</a><a href="#h133-0-53" id="h133-0-53" class="d">-
</a><a href="#h133-0-54" id="h133-0-54" class="d">-func newMethod(receiver reflect.Value, i int) *methodType {
</a><a href="#h133-0-55" id="h133-0-55" class="d">-	return &amp;methodType{receiver.Method(i), receiver.Type().Method(i)}
</a><a href="#h133-0-56" id="h133-0-56" class="d">-}
</a><a href="#h133-0-57" id="h133-0-57" class="d">-
</a><a href="#h133-0-58" id="h133-0-58" class="d">-func (method *methodType) PC() uintptr {
</a><a href="#h133-0-59" id="h133-0-59" class="d">-	return method.Info.Func.Pointer()
</a><a href="#h133-0-60" id="h133-0-60" class="d">-}
</a><a href="#h133-0-61" id="h133-0-61" class="d">-
</a><a href="#h133-0-62" id="h133-0-62" class="d">-func (method *methodType) suiteName() string {
</a><a href="#h133-0-63" id="h133-0-63" class="d">-	t := method.Info.Type.In(0)
</a><a href="#h133-0-64" id="h133-0-64" class="d">-	if t.Kind() == reflect.Ptr {
</a><a href="#h133-0-65" id="h133-0-65" class="d">-		t = t.Elem()
</a><a href="#h133-0-66" id="h133-0-66" class="d">-	}
</a><a href="#h133-0-67" id="h133-0-67" class="d">-	return t.Name()
</a><a href="#h133-0-68" id="h133-0-68" class="d">-}
</a><a href="#h133-0-69" id="h133-0-69" class="d">-
</a><a href="#h133-0-70" id="h133-0-70" class="d">-func (method *methodType) String() string {
</a><a href="#h133-0-71" id="h133-0-71" class="d">-	return method.suiteName() + &quot;.&quot; + method.Info.Name
</a><a href="#h133-0-72" id="h133-0-72" class="d">-}
</a><a href="#h133-0-73" id="h133-0-73" class="d">-
</a><a href="#h133-0-74" id="h133-0-74" class="d">-func (method *methodType) matches(re *regexp.Regexp) bool {
</a><a href="#h133-0-75" id="h133-0-75" class="d">-	return (re.MatchString(method.Info.Name) ||
</a><a href="#h133-0-76" id="h133-0-76" class="d">-		re.MatchString(method.suiteName()) ||
</a><a href="#h133-0-77" id="h133-0-77" class="d">-		re.MatchString(method.String()))
</a><a href="#h133-0-78" id="h133-0-78" class="d">-}
</a><a href="#h133-0-79" id="h133-0-79" class="d">-
</a><a href="#h133-0-80" id="h133-0-80" class="d">-type C struct {
</a><a href="#h133-0-81" id="h133-0-81" class="d">-	method    *methodType
</a><a href="#h133-0-82" id="h133-0-82" class="d">-	kind      funcKind
</a><a href="#h133-0-83" id="h133-0-83" class="d">-	testName  string
</a><a href="#h133-0-84" id="h133-0-84" class="d">-	_status   funcStatus
</a><a href="#h133-0-85" id="h133-0-85" class="d">-	logb      *logger
</a><a href="#h133-0-86" id="h133-0-86" class="d">-	logw      io.Writer
</a><a href="#h133-0-87" id="h133-0-87" class="d">-	done      chan *C
</a><a href="#h133-0-88" id="h133-0-88" class="d">-	reason    string
</a><a href="#h133-0-89" id="h133-0-89" class="d">-	mustFail  bool
</a><a href="#h133-0-90" id="h133-0-90" class="d">-	tempDir   *tempDir
</a><a href="#h133-0-91" id="h133-0-91" class="d">-	benchMem  bool
</a><a href="#h133-0-92" id="h133-0-92" class="d">-	startTime time.Time
</a><a href="#h133-0-93" id="h133-0-93" class="d">-	timer
</a><a href="#h133-0-94" id="h133-0-94" class="d">-}
</a><a href="#h133-0-95" id="h133-0-95" class="d">-
</a><a href="#h133-0-96" id="h133-0-96" class="d">-func (c *C) status() funcStatus {
</a><a href="#h133-0-97" id="h133-0-97" class="d">-	return funcStatus(atomic.LoadUint32((*uint32)(&amp;c._status)))
</a><a href="#h133-0-98" id="h133-0-98" class="d">-}
</a><a href="#h133-0-99" id="h133-0-99" class="d">-
</a><a href="#h133-0-100" id="h133-0-100" class="d">-func (c *C) setStatus(s funcStatus) {
</a><a href="#h133-0-101" id="h133-0-101" class="d">-	atomic.StoreUint32((*uint32)(&amp;c._status), uint32(s))
</a><a href="#h133-0-102" id="h133-0-102" class="d">-}
</a><a href="#h133-0-103" id="h133-0-103" class="d">-
</a><a href="#h133-0-104" id="h133-0-104" class="d">-func (c *C) stopNow() {
</a><a href="#h133-0-105" id="h133-0-105" class="d">-	runtime.Goexit()
</a><a href="#h133-0-106" id="h133-0-106" class="d">-}
</a><a href="#h133-0-107" id="h133-0-107" class="d">-
</a><a href="#h133-0-108" id="h133-0-108" class="d">-// logger is a concurrency safe byte.Buffer
</a><a href="#h133-0-109" id="h133-0-109" class="d">-type logger struct {
</a><a href="#h133-0-110" id="h133-0-110" class="d">-	sync.Mutex
</a><a href="#h133-0-111" id="h133-0-111" class="d">-	writer bytes.Buffer
</a><a href="#h133-0-112" id="h133-0-112" class="d">-}
</a><a href="#h133-0-113" id="h133-0-113" class="d">-
</a><a href="#h133-0-114" id="h133-0-114" class="d">-func (l *logger) Write(buf []byte) (int, error) {
</a><a href="#h133-0-115" id="h133-0-115" class="d">-	l.Lock()
</a><a href="#h133-0-116" id="h133-0-116" class="d">-	defer l.Unlock()
</a><a href="#h133-0-117" id="h133-0-117" class="d">-	return l.writer.Write(buf)
</a><a href="#h133-0-118" id="h133-0-118" class="d">-}
</a><a href="#h133-0-119" id="h133-0-119" class="d">-
</a><a href="#h133-0-120" id="h133-0-120" class="d">-func (l *logger) WriteTo(w io.Writer) (int64, error) {
</a><a href="#h133-0-121" id="h133-0-121" class="d">-	l.Lock()
</a><a href="#h133-0-122" id="h133-0-122" class="d">-	defer l.Unlock()
</a><a href="#h133-0-123" id="h133-0-123" class="d">-	return l.writer.WriteTo(w)
</a><a href="#h133-0-124" id="h133-0-124" class="d">-}
</a><a href="#h133-0-125" id="h133-0-125" class="d">-
</a><a href="#h133-0-126" id="h133-0-126" class="d">-func (l *logger) String() string {
</a><a href="#h133-0-127" id="h133-0-127" class="d">-	l.Lock()
</a><a href="#h133-0-128" id="h133-0-128" class="d">-	defer l.Unlock()
</a><a href="#h133-0-129" id="h133-0-129" class="d">-	return l.writer.String()
</a><a href="#h133-0-130" id="h133-0-130" class="d">-}
</a><a href="#h133-0-131" id="h133-0-131" class="d">-
</a><a href="#h133-0-132" id="h133-0-132" class="d">-// -----------------------------------------------------------------------
</a><a href="#h133-0-133" id="h133-0-133" class="d">-// Handling of temporary files and directories.
</a><a href="#h133-0-134" id="h133-0-134" class="d">-
</a><a href="#h133-0-135" id="h133-0-135" class="d">-type tempDir struct {
</a><a href="#h133-0-136" id="h133-0-136" class="d">-	sync.Mutex
</a><a href="#h133-0-137" id="h133-0-137" class="d">-	path    string
</a><a href="#h133-0-138" id="h133-0-138" class="d">-	counter int
</a><a href="#h133-0-139" id="h133-0-139" class="d">-}
</a><a href="#h133-0-140" id="h133-0-140" class="d">-
</a><a href="#h133-0-141" id="h133-0-141" class="d">-func (td *tempDir) newPath() string {
</a><a href="#h133-0-142" id="h133-0-142" class="d">-	td.Lock()
</a><a href="#h133-0-143" id="h133-0-143" class="d">-	defer td.Unlock()
</a><a href="#h133-0-144" id="h133-0-144" class="d">-	if td.path == &quot;&quot; {
</a><a href="#h133-0-145" id="h133-0-145" class="d">-		var err error
</a><a href="#h133-0-146" id="h133-0-146" class="d">-		for i := 0; i != 100; i++ {
</a><a href="#h133-0-147" id="h133-0-147" class="d">-			path := fmt.Sprintf(&quot;%s%ccheck-%d&quot;, os.TempDir(), os.PathSeparator, rand.Int())
</a><a href="#h133-0-148" id="h133-0-148" class="d">-			if err = os.Mkdir(path, 0700); err == nil {
</a><a href="#h133-0-149" id="h133-0-149" class="d">-				td.path = path
</a><a href="#h133-0-150" id="h133-0-150" class="d">-				break
</a><a href="#h133-0-151" id="h133-0-151" class="d">-			}
</a><a href="#h133-0-152" id="h133-0-152" class="d">-		}
</a><a href="#h133-0-153" id="h133-0-153" class="d">-		if td.path == &quot;&quot; {
</a><a href="#h133-0-154" id="h133-0-154" class="d">-			panic(&quot;Couldn&#39;t create temporary directory: &quot; + err.Error())
</a><a href="#h133-0-155" id="h133-0-155" class="d">-		}
</a><a href="#h133-0-156" id="h133-0-156" class="d">-	}
</a><a href="#h133-0-157" id="h133-0-157" class="d">-	result := filepath.Join(td.path, strconv.Itoa(td.counter))
</a><a href="#h133-0-158" id="h133-0-158" class="d">-	td.counter += 1
</a><a href="#h133-0-159" id="h133-0-159" class="d">-	return result
</a><a href="#h133-0-160" id="h133-0-160" class="d">-}
</a><a href="#h133-0-161" id="h133-0-161" class="d">-
</a><a href="#h133-0-162" id="h133-0-162" class="d">-func (td *tempDir) removeAll() {
</a><a href="#h133-0-163" id="h133-0-163" class="d">-	td.Lock()
</a><a href="#h133-0-164" id="h133-0-164" class="d">-	defer td.Unlock()
</a><a href="#h133-0-165" id="h133-0-165" class="d">-	if td.path != &quot;&quot; {
</a><a href="#h133-0-166" id="h133-0-166" class="d">-		err := os.RemoveAll(td.path)
</a><a href="#h133-0-167" id="h133-0-167" class="d">-		if err != nil {
</a><a href="#h133-0-168" id="h133-0-168" class="d">-			fmt.Fprintf(os.Stderr, &quot;WARNING: Error cleaning up temporaries: &quot;+err.Error())
</a><a href="#h133-0-169" id="h133-0-169" class="d">-		}
</a><a href="#h133-0-170" id="h133-0-170" class="d">-	}
</a><a href="#h133-0-171" id="h133-0-171" class="d">-}
</a><a href="#h133-0-172" id="h133-0-172" class="d">-
</a><a href="#h133-0-173" id="h133-0-173" class="d">-// Create a new temporary directory which is automatically removed after
</a><a href="#h133-0-174" id="h133-0-174" class="d">-// the suite finishes running.
</a><a href="#h133-0-175" id="h133-0-175" class="d">-func (c *C) MkDir() string {
</a><a href="#h133-0-176" id="h133-0-176" class="d">-	path := c.tempDir.newPath()
</a><a href="#h133-0-177" id="h133-0-177" class="d">-	if err := os.Mkdir(path, 0700); err != nil {
</a><a href="#h133-0-178" id="h133-0-178" class="d">-		panic(fmt.Sprintf(&quot;Couldn&#39;t create temporary directory %s: %s&quot;, path, err.Error()))
</a><a href="#h133-0-179" id="h133-0-179" class="d">-	}
</a><a href="#h133-0-180" id="h133-0-180" class="d">-	return path
</a><a href="#h133-0-181" id="h133-0-181" class="d">-}
</a><a href="#h133-0-182" id="h133-0-182" class="d">-
</a><a href="#h133-0-183" id="h133-0-183" class="d">-// -----------------------------------------------------------------------
</a><a href="#h133-0-184" id="h133-0-184" class="d">-// Low-level logging functions.
</a><a href="#h133-0-185" id="h133-0-185" class="d">-
</a><a href="#h133-0-186" id="h133-0-186" class="d">-func (c *C) log(args ...interface{}) {
</a><a href="#h133-0-187" id="h133-0-187" class="d">-	c.writeLog([]byte(fmt.Sprint(args...) + &quot;\n&quot;))
</a><a href="#h133-0-188" id="h133-0-188" class="d">-}
</a><a href="#h133-0-189" id="h133-0-189" class="d">-
</a><a href="#h133-0-190" id="h133-0-190" class="d">-func (c *C) logf(format string, args ...interface{}) {
</a><a href="#h133-0-191" id="h133-0-191" class="d">-	c.writeLog([]byte(fmt.Sprintf(format+&quot;\n&quot;, args...)))
</a><a href="#h133-0-192" id="h133-0-192" class="d">-}
</a><a href="#h133-0-193" id="h133-0-193" class="d">-
</a><a href="#h133-0-194" id="h133-0-194" class="d">-func (c *C) logNewLine() {
</a><a href="#h133-0-195" id="h133-0-195" class="d">-	c.writeLog([]byte{&#39;\n&#39;})
</a><a href="#h133-0-196" id="h133-0-196" class="d">-}
</a><a href="#h133-0-197" id="h133-0-197" class="d">-
</a><a href="#h133-0-198" id="h133-0-198" class="d">-func (c *C) writeLog(buf []byte) {
</a><a href="#h133-0-199" id="h133-0-199" class="d">-	c.logb.Write(buf)
</a><a href="#h133-0-200" id="h133-0-200" class="d">-	if c.logw != nil {
</a><a href="#h133-0-201" id="h133-0-201" class="d">-		c.logw.Write(buf)
</a><a href="#h133-0-202" id="h133-0-202" class="d">-	}
</a><a href="#h133-0-203" id="h133-0-203" class="d">-}
</a><a href="#h133-0-204" id="h133-0-204" class="d">-
</a><a href="#h133-0-205" id="h133-0-205" class="d">-func hasStringOrError(x interface{}) (ok bool) {
</a><a href="#h133-0-206" id="h133-0-206" class="d">-	_, ok = x.(fmt.Stringer)
</a><a href="#h133-0-207" id="h133-0-207" class="d">-	if ok {
</a><a href="#h133-0-208" id="h133-0-208" class="d">-		return
</a><a href="#h133-0-209" id="h133-0-209" class="d">-	}
</a><a href="#h133-0-210" id="h133-0-210" class="d">-	_, ok = x.(error)
</a><a href="#h133-0-211" id="h133-0-211" class="d">-	return
</a><a href="#h133-0-212" id="h133-0-212" class="d">-}
</a><a href="#h133-0-213" id="h133-0-213" class="d">-
</a><a href="#h133-0-214" id="h133-0-214" class="d">-func (c *C) logValue(label string, value interface{}) {
</a><a href="#h133-0-215" id="h133-0-215" class="d">-	if label == &quot;&quot; {
</a><a href="#h133-0-216" id="h133-0-216" class="d">-		if hasStringOrError(value) {
</a><a href="#h133-0-217" id="h133-0-217" class="d">-			c.logf(&quot;... %#v (%q)&quot;, value, value)
</a><a href="#h133-0-218" id="h133-0-218" class="d">-		} else {
</a><a href="#h133-0-219" id="h133-0-219" class="d">-			c.logf(&quot;... %#v&quot;, value)
</a><a href="#h133-0-220" id="h133-0-220" class="d">-		}
</a><a href="#h133-0-221" id="h133-0-221" class="d">-	} else if value == nil {
</a><a href="#h133-0-222" id="h133-0-222" class="d">-		c.logf(&quot;... %s = nil&quot;, label)
</a><a href="#h133-0-223" id="h133-0-223" class="d">-	} else {
</a><a href="#h133-0-224" id="h133-0-224" class="d">-		if hasStringOrError(value) {
</a><a href="#h133-0-225" id="h133-0-225" class="d">-			fv := fmt.Sprintf(&quot;%#v&quot;, value)
</a><a href="#h133-0-226" id="h133-0-226" class="d">-			qv := fmt.Sprintf(&quot;%q&quot;, value)
</a><a href="#h133-0-227" id="h133-0-227" class="d">-			if fv != qv {
</a><a href="#h133-0-228" id="h133-0-228" class="d">-				c.logf(&quot;... %s %s = %s (%s)&quot;, label, reflect.TypeOf(value), fv, qv)
</a><a href="#h133-0-229" id="h133-0-229" class="d">-				return
</a><a href="#h133-0-230" id="h133-0-230" class="d">-			}
</a><a href="#h133-0-231" id="h133-0-231" class="d">-		}
</a><a href="#h133-0-232" id="h133-0-232" class="d">-		if s, ok := value.(string); ok &amp;&amp; isMultiLine(s) {
</a><a href="#h133-0-233" id="h133-0-233" class="d">-			c.logf(`... %s %s = &quot;&quot; +`, label, reflect.TypeOf(value))
</a><a href="#h133-0-234" id="h133-0-234" class="d">-			c.logMultiLine(s)
</a><a href="#h133-0-235" id="h133-0-235" class="d">-		} else {
</a><a href="#h133-0-236" id="h133-0-236" class="d">-			c.logf(&quot;... %s %s = %#v&quot;, label, reflect.TypeOf(value), value)
</a><a href="#h133-0-237" id="h133-0-237" class="d">-		}
</a><a href="#h133-0-238" id="h133-0-238" class="d">-	}
</a><a href="#h133-0-239" id="h133-0-239" class="d">-}
</a><a href="#h133-0-240" id="h133-0-240" class="d">-
</a><a href="#h133-0-241" id="h133-0-241" class="d">-func (c *C) logMultiLine(s string) {
</a><a href="#h133-0-242" id="h133-0-242" class="d">-	b := make([]byte, 0, len(s)*2)
</a><a href="#h133-0-243" id="h133-0-243" class="d">-	i := 0
</a><a href="#h133-0-244" id="h133-0-244" class="d">-	n := len(s)
</a><a href="#h133-0-245" id="h133-0-245" class="d">-	for i &lt; n {
</a><a href="#h133-0-246" id="h133-0-246" class="d">-		j := i + 1
</a><a href="#h133-0-247" id="h133-0-247" class="d">-		for j &lt; n &amp;&amp; s[j-1] != &#39;\n&#39; {
</a><a href="#h133-0-248" id="h133-0-248" class="d">-			j++
</a><a href="#h133-0-249" id="h133-0-249" class="d">-		}
</a><a href="#h133-0-250" id="h133-0-250" class="d">-		b = append(b, &quot;...     &quot;...)
</a><a href="#h133-0-251" id="h133-0-251" class="d">-		b = strconv.AppendQuote(b, s[i:j])
</a><a href="#h133-0-252" id="h133-0-252" class="d">-		if j &lt; n {
</a><a href="#h133-0-253" id="h133-0-253" class="d">-			b = append(b, &quot; +&quot;...)
</a><a href="#h133-0-254" id="h133-0-254" class="d">-		}
</a><a href="#h133-0-255" id="h133-0-255" class="d">-		b = append(b, &#39;\n&#39;)
</a><a href="#h133-0-256" id="h133-0-256" class="d">-		i = j
</a><a href="#h133-0-257" id="h133-0-257" class="d">-	}
</a><a href="#h133-0-258" id="h133-0-258" class="d">-	c.writeLog(b)
</a><a href="#h133-0-259" id="h133-0-259" class="d">-}
</a><a href="#h133-0-260" id="h133-0-260" class="d">-
</a><a href="#h133-0-261" id="h133-0-261" class="d">-func isMultiLine(s string) bool {
</a><a href="#h133-0-262" id="h133-0-262" class="d">-	for i := 0; i+1 &lt; len(s); i++ {
</a><a href="#h133-0-263" id="h133-0-263" class="d">-		if s[i] == &#39;\n&#39; {
</a><a href="#h133-0-264" id="h133-0-264" class="d">-			return true
</a><a href="#h133-0-265" id="h133-0-265" class="d">-		}
</a><a href="#h133-0-266" id="h133-0-266" class="d">-	}
</a><a href="#h133-0-267" id="h133-0-267" class="d">-	return false
</a><a href="#h133-0-268" id="h133-0-268" class="d">-}
</a><a href="#h133-0-269" id="h133-0-269" class="d">-
</a><a href="#h133-0-270" id="h133-0-270" class="d">-func (c *C) logString(issue string) {
</a><a href="#h133-0-271" id="h133-0-271" class="d">-	c.log(&quot;... &quot;, issue)
</a><a href="#h133-0-272" id="h133-0-272" class="d">-}
</a><a href="#h133-0-273" id="h133-0-273" class="d">-
</a><a href="#h133-0-274" id="h133-0-274" class="d">-func (c *C) logCaller(skip int) {
</a><a href="#h133-0-275" id="h133-0-275" class="d">-	// This is a bit heavier than it ought to be.
</a><a href="#h133-0-276" id="h133-0-276" class="d">-	skip += 1 // Our own frame.
</a><a href="#h133-0-277" id="h133-0-277" class="d">-	pc, callerFile, callerLine, ok := runtime.Caller(skip)
</a><a href="#h133-0-278" id="h133-0-278" class="d">-	if !ok {
</a><a href="#h133-0-279" id="h133-0-279" class="d">-		return
</a><a href="#h133-0-280" id="h133-0-280" class="d">-	}
</a><a href="#h133-0-281" id="h133-0-281" class="d">-	var testFile string
</a><a href="#h133-0-282" id="h133-0-282" class="d">-	var testLine int
</a><a href="#h133-0-283" id="h133-0-283" class="d">-	testFunc := runtime.FuncForPC(c.method.PC())
</a><a href="#h133-0-284" id="h133-0-284" class="d">-	if runtime.FuncForPC(pc) != testFunc {
</a><a href="#h133-0-285" id="h133-0-285" class="d">-		for {
</a><a href="#h133-0-286" id="h133-0-286" class="d">-			skip += 1
</a><a href="#h133-0-287" id="h133-0-287" class="d">-			if pc, file, line, ok := runtime.Caller(skip); ok {
</a><a href="#h133-0-288" id="h133-0-288" class="d">-				// Note that the test line may be different on
</a><a href="#h133-0-289" id="h133-0-289" class="d">-				// distinct calls for the same test.  Showing
</a><a href="#h133-0-290" id="h133-0-290" class="d">-				// the &quot;internal&quot; line is helpful when debugging.
</a><a href="#h133-0-291" id="h133-0-291" class="d">-				if runtime.FuncForPC(pc) == testFunc {
</a><a href="#h133-0-292" id="h133-0-292" class="d">-					testFile, testLine = file, line
</a><a href="#h133-0-293" id="h133-0-293" class="d">-					break
</a><a href="#h133-0-294" id="h133-0-294" class="d">-				}
</a><a href="#h133-0-295" id="h133-0-295" class="d">-			} else {
</a><a href="#h133-0-296" id="h133-0-296" class="d">-				break
</a><a href="#h133-0-297" id="h133-0-297" class="d">-			}
</a><a href="#h133-0-298" id="h133-0-298" class="d">-		}
</a><a href="#h133-0-299" id="h133-0-299" class="d">-	}
</a><a href="#h133-0-300" id="h133-0-300" class="d">-	if testFile != &quot;&quot; &amp;&amp; (testFile != callerFile || testLine != callerLine) {
</a><a href="#h133-0-301" id="h133-0-301" class="d">-		c.logCode(testFile, testLine)
</a><a href="#h133-0-302" id="h133-0-302" class="d">-	}
</a><a href="#h133-0-303" id="h133-0-303" class="d">-	c.logCode(callerFile, callerLine)
</a><a href="#h133-0-304" id="h133-0-304" class="d">-}
</a><a href="#h133-0-305" id="h133-0-305" class="d">-
</a><a href="#h133-0-306" id="h133-0-306" class="d">-func (c *C) logCode(path string, line int) {
</a><a href="#h133-0-307" id="h133-0-307" class="d">-	c.logf(&quot;%s:%d:&quot;, nicePath(path), line)
</a><a href="#h133-0-308" id="h133-0-308" class="d">-	code, err := printLine(path, line)
</a><a href="#h133-0-309" id="h133-0-309" class="d">-	if code == &quot;&quot; {
</a><a href="#h133-0-310" id="h133-0-310" class="d">-		code = &quot;...&quot; // XXX Open the file and take the raw line.
</a><a href="#h133-0-311" id="h133-0-311" class="d">-		if err != nil {
</a><a href="#h133-0-312" id="h133-0-312" class="d">-			code += err.Error()
</a><a href="#h133-0-313" id="h133-0-313" class="d">-		}
</a><a href="#h133-0-314" id="h133-0-314" class="d">-	}
</a><a href="#h133-0-315" id="h133-0-315" class="d">-	c.log(indent(code, &quot;    &quot;))
</a><a href="#h133-0-316" id="h133-0-316" class="d">-}
</a><a href="#h133-0-317" id="h133-0-317" class="d">-
</a><a href="#h133-0-318" id="h133-0-318" class="d">-var valueGo = filepath.Join(&quot;reflect&quot;, &quot;value.go&quot;)
</a><a href="#h133-0-319" id="h133-0-319" class="d">-var asmGo = filepath.Join(&quot;runtime&quot;, &quot;asm_&quot;)
</a><a href="#h133-0-320" id="h133-0-320" class="d">-
</a><a href="#h133-0-321" id="h133-0-321" class="d">-func (c *C) logPanic(skip int, value interface{}) {
</a><a href="#h133-0-322" id="h133-0-322" class="d">-	skip++ // Our own frame.
</a><a href="#h133-0-323" id="h133-0-323" class="d">-	initialSkip := skip
</a><a href="#h133-0-324" id="h133-0-324" class="d">-	for ; ; skip++ {
</a><a href="#h133-0-325" id="h133-0-325" class="d">-		if pc, file, line, ok := runtime.Caller(skip); ok {
</a><a href="#h133-0-326" id="h133-0-326" class="d">-			if skip == initialSkip {
</a><a href="#h133-0-327" id="h133-0-327" class="d">-				c.logf(&quot;... Panic: %s (PC=0x%X)\n&quot;, value, pc)
</a><a href="#h133-0-328" id="h133-0-328" class="d">-			}
</a><a href="#h133-0-329" id="h133-0-329" class="d">-			name := niceFuncName(pc)
</a><a href="#h133-0-330" id="h133-0-330" class="d">-			path := nicePath(file)
</a><a href="#h133-0-331" id="h133-0-331" class="d">-			if strings.Contains(path, &quot;/gopkg.in/check.v&quot;) {
</a><a href="#h133-0-332" id="h133-0-332" class="d">-				continue
</a><a href="#h133-0-333" id="h133-0-333" class="d">-			}
</a><a href="#h133-0-334" id="h133-0-334" class="d">-			if name == &quot;Value.call&quot; &amp;&amp; strings.HasSuffix(path, valueGo) {
</a><a href="#h133-0-335" id="h133-0-335" class="d">-				continue
</a><a href="#h133-0-336" id="h133-0-336" class="d">-			}
</a><a href="#h133-0-337" id="h133-0-337" class="d">-			if (name == &quot;call16&quot; || name == &quot;call32&quot;) &amp;&amp; strings.Contains(path, asmGo) {
</a><a href="#h133-0-338" id="h133-0-338" class="d">-				continue
</a><a href="#h133-0-339" id="h133-0-339" class="d">-			}
</a><a href="#h133-0-340" id="h133-0-340" class="d">-			c.logf(&quot;%s:%d\n  in %s&quot;, nicePath(file), line, name)
</a><a href="#h133-0-341" id="h133-0-341" class="d">-		} else {
</a><a href="#h133-0-342" id="h133-0-342" class="d">-			break
</a><a href="#h133-0-343" id="h133-0-343" class="d">-		}
</a><a href="#h133-0-344" id="h133-0-344" class="d">-	}
</a><a href="#h133-0-345" id="h133-0-345" class="d">-}
</a><a href="#h133-0-346" id="h133-0-346" class="d">-
</a><a href="#h133-0-347" id="h133-0-347" class="d">-func (c *C) logSoftPanic(issue string) {
</a><a href="#h133-0-348" id="h133-0-348" class="d">-	c.log(&quot;... Panic: &quot;, issue)
</a><a href="#h133-0-349" id="h133-0-349" class="d">-}
</a><a href="#h133-0-350" id="h133-0-350" class="d">-
</a><a href="#h133-0-351" id="h133-0-351" class="d">-func (c *C) logArgPanic(method *methodType, expectedType string) {
</a><a href="#h133-0-352" id="h133-0-352" class="d">-	c.logf(&quot;... Panic: %s argument should be %s&quot;,
</a><a href="#h133-0-353" id="h133-0-353" class="d">-		niceFuncName(method.PC()), expectedType)
</a><a href="#h133-0-354" id="h133-0-354" class="d">-}
</a><a href="#h133-0-355" id="h133-0-355" class="d">-
</a><a href="#h133-0-356" id="h133-0-356" class="d">-// -----------------------------------------------------------------------
</a><a href="#h133-0-357" id="h133-0-357" class="d">-// Some simple formatting helpers.
</a><a href="#h133-0-358" id="h133-0-358" class="d">-
</a><a href="#h133-0-359" id="h133-0-359" class="d">-var initWD, initWDErr = os.Getwd()
</a><a href="#h133-0-360" id="h133-0-360" class="d">-
</a><a href="#h133-0-361" id="h133-0-361" class="d">-func init() {
</a><a href="#h133-0-362" id="h133-0-362" class="d">-	if initWDErr == nil {
</a><a href="#h133-0-363" id="h133-0-363" class="d">-		initWD = strings.Replace(initWD, &quot;\\&quot;, &quot;/&quot;, -1) + &quot;/&quot;
</a><a href="#h133-0-364" id="h133-0-364" class="d">-	}
</a><a href="#h133-0-365" id="h133-0-365" class="d">-}
</a><a href="#h133-0-366" id="h133-0-366" class="d">-
</a><a href="#h133-0-367" id="h133-0-367" class="d">-func nicePath(path string) string {
</a><a href="#h133-0-368" id="h133-0-368" class="d">-	if initWDErr == nil {
</a><a href="#h133-0-369" id="h133-0-369" class="d">-		if strings.HasPrefix(path, initWD) {
</a><a href="#h133-0-370" id="h133-0-370" class="d">-			return path[len(initWD):]
</a><a href="#h133-0-371" id="h133-0-371" class="d">-		}
</a><a href="#h133-0-372" id="h133-0-372" class="d">-	}
</a><a href="#h133-0-373" id="h133-0-373" class="d">-	return path
</a><a href="#h133-0-374" id="h133-0-374" class="d">-}
</a><a href="#h133-0-375" id="h133-0-375" class="d">-
</a><a href="#h133-0-376" id="h133-0-376" class="d">-func niceFuncPath(pc uintptr) string {
</a><a href="#h133-0-377" id="h133-0-377" class="d">-	function := runtime.FuncForPC(pc)
</a><a href="#h133-0-378" id="h133-0-378" class="d">-	if function != nil {
</a><a href="#h133-0-379" id="h133-0-379" class="d">-		filename, line := function.FileLine(pc)
</a><a href="#h133-0-380" id="h133-0-380" class="d">-		return fmt.Sprintf(&quot;%s:%d&quot;, nicePath(filename), line)
</a><a href="#h133-0-381" id="h133-0-381" class="d">-	}
</a><a href="#h133-0-382" id="h133-0-382" class="d">-	return &quot;&lt;unknown path&gt;&quot;
</a><a href="#h133-0-383" id="h133-0-383" class="d">-}
</a><a href="#h133-0-384" id="h133-0-384" class="d">-
</a><a href="#h133-0-385" id="h133-0-385" class="d">-func niceFuncName(pc uintptr) string {
</a><a href="#h133-0-386" id="h133-0-386" class="d">-	function := runtime.FuncForPC(pc)
</a><a href="#h133-0-387" id="h133-0-387" class="d">-	if function != nil {
</a><a href="#h133-0-388" id="h133-0-388" class="d">-		name := path.Base(function.Name())
</a><a href="#h133-0-389" id="h133-0-389" class="d">-		if i := strings.Index(name, &quot;.&quot;); i &gt; 0 {
</a><a href="#h133-0-390" id="h133-0-390" class="d">-			name = name[i+1:]
</a><a href="#h133-0-391" id="h133-0-391" class="d">-		}
</a><a href="#h133-0-392" id="h133-0-392" class="d">-		if strings.HasPrefix(name, &quot;(*&quot;) {
</a><a href="#h133-0-393" id="h133-0-393" class="d">-			if i := strings.Index(name, &quot;)&quot;); i &gt; 0 {
</a><a href="#h133-0-394" id="h133-0-394" class="d">-				name = name[2:i] + name[i+1:]
</a><a href="#h133-0-395" id="h133-0-395" class="d">-			}
</a><a href="#h133-0-396" id="h133-0-396" class="d">-		}
</a><a href="#h133-0-397" id="h133-0-397" class="d">-		if i := strings.LastIndex(name, &quot;.*&quot;); i != -1 {
</a><a href="#h133-0-398" id="h133-0-398" class="d">-			name = name[:i] + &quot;.&quot; + name[i+2:]
</a><a href="#h133-0-399" id="h133-0-399" class="d">-		}
</a><a href="#h133-0-400" id="h133-0-400" class="d">-		if i := strings.LastIndex(name, &quot;&quot;); i != -1 {
</a><a href="#h133-0-401" id="h133-0-401" class="d">-			name = name[:i] + &quot;.&quot; + name[i+2:]
</a><a href="#h133-0-402" id="h133-0-402" class="d">-		}
</a><a href="#h133-0-403" id="h133-0-403" class="d">-		return name
</a><a href="#h133-0-404" id="h133-0-404" class="d">-	}
</a><a href="#h133-0-405" id="h133-0-405" class="d">-	return &quot;&lt;unknown function&gt;&quot;
</a><a href="#h133-0-406" id="h133-0-406" class="d">-}
</a><a href="#h133-0-407" id="h133-0-407" class="d">-
</a><a href="#h133-0-408" id="h133-0-408" class="d">-// -----------------------------------------------------------------------
</a><a href="#h133-0-409" id="h133-0-409" class="d">-// Result tracker to aggregate call results.
</a><a href="#h133-0-410" id="h133-0-410" class="d">-
</a><a href="#h133-0-411" id="h133-0-411" class="d">-type Result struct {
</a><a href="#h133-0-412" id="h133-0-412" class="d">-	Succeeded        int
</a><a href="#h133-0-413" id="h133-0-413" class="d">-	Failed           int
</a><a href="#h133-0-414" id="h133-0-414" class="d">-	Skipped          int
</a><a href="#h133-0-415" id="h133-0-415" class="d">-	Panicked         int
</a><a href="#h133-0-416" id="h133-0-416" class="d">-	FixturePanicked  int
</a><a href="#h133-0-417" id="h133-0-417" class="d">-	ExpectedFailures int
</a><a href="#h133-0-418" id="h133-0-418" class="d">-	Missed           int    // Not even tried to run, related to a panic in the fixture.
</a><a href="#h133-0-419" id="h133-0-419" class="d">-	RunError         error  // Houston, we&#39;ve got a problem.
</a><a href="#h133-0-420" id="h133-0-420" class="d">-	WorkDir          string // If KeepWorkDir is true
</a><a href="#h133-0-421" id="h133-0-421" class="d">-}
</a><a href="#h133-0-422" id="h133-0-422" class="d">-
</a><a href="#h133-0-423" id="h133-0-423" class="d">-type resultTracker struct {
</a><a href="#h133-0-424" id="h133-0-424" class="d">-	result          Result
</a><a href="#h133-0-425" id="h133-0-425" class="d">-	_lastWasProblem bool
</a><a href="#h133-0-426" id="h133-0-426" class="d">-	_waiting        int
</a><a href="#h133-0-427" id="h133-0-427" class="d">-	_missed         int
</a><a href="#h133-0-428" id="h133-0-428" class="d">-	_expectChan     chan *C
</a><a href="#h133-0-429" id="h133-0-429" class="d">-	_doneChan       chan *C
</a><a href="#h133-0-430" id="h133-0-430" class="d">-	_stopChan       chan bool
</a><a href="#h133-0-431" id="h133-0-431" class="d">-}
</a><a href="#h133-0-432" id="h133-0-432" class="d">-
</a><a href="#h133-0-433" id="h133-0-433" class="d">-func newResultTracker() *resultTracker {
</a><a href="#h133-0-434" id="h133-0-434" class="d">-	return &amp;resultTracker{_expectChan: make(chan *C), // Synchronous
</a><a href="#h133-0-435" id="h133-0-435" class="d">-		_doneChan: make(chan *C, 32), // Asynchronous
</a><a href="#h133-0-436" id="h133-0-436" class="d">-		_stopChan: make(chan bool)}   // Synchronous
</a><a href="#h133-0-437" id="h133-0-437" class="d">-}
</a><a href="#h133-0-438" id="h133-0-438" class="d">-
</a><a href="#h133-0-439" id="h133-0-439" class="d">-func (tracker *resultTracker) start() {
</a><a href="#h133-0-440" id="h133-0-440" class="d">-	go tracker._loopRoutine()
</a><a href="#h133-0-441" id="h133-0-441" class="d">-}
</a><a href="#h133-0-442" id="h133-0-442" class="d">-
</a><a href="#h133-0-443" id="h133-0-443" class="d">-func (tracker *resultTracker) waitAndStop() {
</a><a href="#h133-0-444" id="h133-0-444" class="d">-	&lt;-tracker._stopChan
</a><a href="#h133-0-445" id="h133-0-445" class="d">-}
</a><a href="#h133-0-446" id="h133-0-446" class="d">-
</a><a href="#h133-0-447" id="h133-0-447" class="d">-func (tracker *resultTracker) expectCall(c *C) {
</a><a href="#h133-0-448" id="h133-0-448" class="d">-	tracker._expectChan &lt;- c
</a><a href="#h133-0-449" id="h133-0-449" class="d">-}
</a><a href="#h133-0-450" id="h133-0-450" class="d">-
</a><a href="#h133-0-451" id="h133-0-451" class="d">-func (tracker *resultTracker) callDone(c *C) {
</a><a href="#h133-0-452" id="h133-0-452" class="d">-	tracker._doneChan &lt;- c
</a><a href="#h133-0-453" id="h133-0-453" class="d">-}
</a><a href="#h133-0-454" id="h133-0-454" class="d">-
</a><a href="#h133-0-455" id="h133-0-455" class="d">-func (tracker *resultTracker) _loopRoutine() {
</a><a href="#h133-0-456" id="h133-0-456" class="d">-	for {
</a><a href="#h133-0-457" id="h133-0-457" class="d">-		var c *C
</a><a href="#h133-0-458" id="h133-0-458" class="d">-		if tracker._waiting &gt; 0 {
</a><a href="#h133-0-459" id="h133-0-459" class="d">-			// Calls still running. Can&#39;t stop.
</a><a href="#h133-0-460" id="h133-0-460" class="d">-			select {
</a><a href="#h133-0-461" id="h133-0-461" class="d">-			// XXX Reindent this (not now to make diff clear)
</a><a href="#h133-0-462" id="h133-0-462" class="d">-			case c = &lt;-tracker._expectChan:
</a><a href="#h133-0-463" id="h133-0-463" class="d">-				tracker._waiting += 1
</a><a href="#h133-0-464" id="h133-0-464" class="d">-			case c = &lt;-tracker._doneChan:
</a><a href="#h133-0-465" id="h133-0-465" class="d">-				tracker._waiting -= 1
</a><a href="#h133-0-466" id="h133-0-466" class="d">-				switch c.status() {
</a><a href="#h133-0-467" id="h133-0-467" class="d">-				case succeededSt:
</a><a href="#h133-0-468" id="h133-0-468" class="d">-					if c.kind == testKd {
</a><a href="#h133-0-469" id="h133-0-469" class="d">-						if c.mustFail {
</a><a href="#h133-0-470" id="h133-0-470" class="d">-							tracker.result.ExpectedFailures++
</a><a href="#h133-0-471" id="h133-0-471" class="d">-						} else {
</a><a href="#h133-0-472" id="h133-0-472" class="d">-							tracker.result.Succeeded++
</a><a href="#h133-0-473" id="h133-0-473" class="d">-						}
</a><a href="#h133-0-474" id="h133-0-474" class="d">-					}
</a><a href="#h133-0-475" id="h133-0-475" class="d">-				case failedSt:
</a><a href="#h133-0-476" id="h133-0-476" class="d">-					tracker.result.Failed++
</a><a href="#h133-0-477" id="h133-0-477" class="d">-				case panickedSt:
</a><a href="#h133-0-478" id="h133-0-478" class="d">-					if c.kind == fixtureKd {
</a><a href="#h133-0-479" id="h133-0-479" class="d">-						tracker.result.FixturePanicked++
</a><a href="#h133-0-480" id="h133-0-480" class="d">-					} else {
</a><a href="#h133-0-481" id="h133-0-481" class="d">-						tracker.result.Panicked++
</a><a href="#h133-0-482" id="h133-0-482" class="d">-					}
</a><a href="#h133-0-483" id="h133-0-483" class="d">-				case fixturePanickedSt:
</a><a href="#h133-0-484" id="h133-0-484" class="d">-					// Track it as missed, since the panic
</a><a href="#h133-0-485" id="h133-0-485" class="d">-					// was on the fixture, not on the test.
</a><a href="#h133-0-486" id="h133-0-486" class="d">-					tracker.result.Missed++
</a><a href="#h133-0-487" id="h133-0-487" class="d">-				case missedSt:
</a><a href="#h133-0-488" id="h133-0-488" class="d">-					tracker.result.Missed++
</a><a href="#h133-0-489" id="h133-0-489" class="d">-				case skippedSt:
</a><a href="#h133-0-490" id="h133-0-490" class="d">-					if c.kind == testKd {
</a><a href="#h133-0-491" id="h133-0-491" class="d">-						tracker.result.Skipped++
</a><a href="#h133-0-492" id="h133-0-492" class="d">-					}
</a><a href="#h133-0-493" id="h133-0-493" class="d">-				}
</a><a href="#h133-0-494" id="h133-0-494" class="d">-			}
</a><a href="#h133-0-495" id="h133-0-495" class="d">-		} else {
</a><a href="#h133-0-496" id="h133-0-496" class="d">-			// No calls.  Can stop, but no done calls here.
</a><a href="#h133-0-497" id="h133-0-497" class="d">-			select {
</a><a href="#h133-0-498" id="h133-0-498" class="d">-			case tracker._stopChan &lt;- true:
</a><a href="#h133-0-499" id="h133-0-499" class="d">-				return
</a><a href="#h133-0-500" id="h133-0-500" class="d">-			case c = &lt;-tracker._expectChan:
</a><a href="#h133-0-501" id="h133-0-501" class="d">-				tracker._waiting += 1
</a><a href="#h133-0-502" id="h133-0-502" class="d">-			case c = &lt;-tracker._doneChan:
</a><a href="#h133-0-503" id="h133-0-503" class="d">-				panic(&quot;Tracker got an unexpected done call.&quot;)
</a><a href="#h133-0-504" id="h133-0-504" class="d">-			}
</a><a href="#h133-0-505" id="h133-0-505" class="d">-		}
</a><a href="#h133-0-506" id="h133-0-506" class="d">-	}
</a><a href="#h133-0-507" id="h133-0-507" class="d">-}
</a><a href="#h133-0-508" id="h133-0-508" class="d">-
</a><a href="#h133-0-509" id="h133-0-509" class="d">-// -----------------------------------------------------------------------
</a><a href="#h133-0-510" id="h133-0-510" class="d">-// The underlying suite runner.
</a><a href="#h133-0-511" id="h133-0-511" class="d">-
</a><a href="#h133-0-512" id="h133-0-512" class="d">-type suiteRunner struct {
</a><a href="#h133-0-513" id="h133-0-513" class="d">-	suite                     interface{}
</a><a href="#h133-0-514" id="h133-0-514" class="d">-	setUpSuite, tearDownSuite *methodType
</a><a href="#h133-0-515" id="h133-0-515" class="d">-	setUpTest, tearDownTest   *methodType
</a><a href="#h133-0-516" id="h133-0-516" class="d">-	tests                     []*methodType
</a><a href="#h133-0-517" id="h133-0-517" class="d">-	tracker                   *resultTracker
</a><a href="#h133-0-518" id="h133-0-518" class="d">-	tempDir                   *tempDir
</a><a href="#h133-0-519" id="h133-0-519" class="d">-	keepDir                   bool
</a><a href="#h133-0-520" id="h133-0-520" class="d">-	output                    *outputWriter
</a><a href="#h133-0-521" id="h133-0-521" class="d">-	reportedProblemLast       bool
</a><a href="#h133-0-522" id="h133-0-522" class="d">-	benchTime                 time.Duration
</a><a href="#h133-0-523" id="h133-0-523" class="d">-	benchMem                  bool
</a><a href="#h133-0-524" id="h133-0-524" class="d">-}
</a><a href="#h133-0-525" id="h133-0-525" class="d">-
</a><a href="#h133-0-526" id="h133-0-526" class="d">-type RunConf struct {
</a><a href="#h133-0-527" id="h133-0-527" class="d">-	Output        io.Writer
</a><a href="#h133-0-528" id="h133-0-528" class="d">-	Stream        bool
</a><a href="#h133-0-529" id="h133-0-529" class="d">-	Verbose       bool
</a><a href="#h133-0-530" id="h133-0-530" class="d">-	Filter        string
</a><a href="#h133-0-531" id="h133-0-531" class="d">-	Benchmark     bool
</a><a href="#h133-0-532" id="h133-0-532" class="d">-	BenchmarkTime time.Duration // Defaults to 1 second
</a><a href="#h133-0-533" id="h133-0-533" class="d">-	BenchmarkMem  bool
</a><a href="#h133-0-534" id="h133-0-534" class="d">-	KeepWorkDir   bool
</a><a href="#h133-0-535" id="h133-0-535" class="d">-}
</a><a href="#h133-0-536" id="h133-0-536" class="d">-
</a><a href="#h133-0-537" id="h133-0-537" class="d">-// Create a new suiteRunner able to run all methods in the given suite.
</a><a href="#h133-0-538" id="h133-0-538" class="d">-func newSuiteRunner(suite interface{}, runConf *RunConf) *suiteRunner {
</a><a href="#h133-0-539" id="h133-0-539" class="d">-	var conf RunConf
</a><a href="#h133-0-540" id="h133-0-540" class="d">-	if runConf != nil {
</a><a href="#h133-0-541" id="h133-0-541" class="d">-		conf = *runConf
</a><a href="#h133-0-542" id="h133-0-542" class="d">-	}
</a><a href="#h133-0-543" id="h133-0-543" class="d">-	if conf.Output == nil {
</a><a href="#h133-0-544" id="h133-0-544" class="d">-		conf.Output = os.Stdout
</a><a href="#h133-0-545" id="h133-0-545" class="d">-	}
</a><a href="#h133-0-546" id="h133-0-546" class="d">-	if conf.Benchmark {
</a><a href="#h133-0-547" id="h133-0-547" class="d">-		conf.Verbose = true
</a><a href="#h133-0-548" id="h133-0-548" class="d">-	}
</a><a href="#h133-0-549" id="h133-0-549" class="d">-
</a><a href="#h133-0-550" id="h133-0-550" class="d">-	suiteType := reflect.TypeOf(suite)
</a><a href="#h133-0-551" id="h133-0-551" class="d">-	suiteNumMethods := suiteType.NumMethod()
</a><a href="#h133-0-552" id="h133-0-552" class="d">-	suiteValue := reflect.ValueOf(suite)
</a><a href="#h133-0-553" id="h133-0-553" class="d">-
</a><a href="#h133-0-554" id="h133-0-554" class="d">-	runner := &amp;suiteRunner{
</a><a href="#h133-0-555" id="h133-0-555" class="d">-		suite:     suite,
</a><a href="#h133-0-556" id="h133-0-556" class="d">-		output:    newOutputWriter(conf.Output, conf.Stream, conf.Verbose),
</a><a href="#h133-0-557" id="h133-0-557" class="d">-		tracker:   newResultTracker(),
</a><a href="#h133-0-558" id="h133-0-558" class="d">-		benchTime: conf.BenchmarkTime,
</a><a href="#h133-0-559" id="h133-0-559" class="d">-		benchMem:  conf.BenchmarkMem,
</a><a href="#h133-0-560" id="h133-0-560" class="d">-		tempDir:   &amp;tempDir{},
</a><a href="#h133-0-561" id="h133-0-561" class="d">-		keepDir:   conf.KeepWorkDir,
</a><a href="#h133-0-562" id="h133-0-562" class="d">-		tests:     make([]*methodType, 0, suiteNumMethods),
</a><a href="#h133-0-563" id="h133-0-563" class="d">-	}
</a><a href="#h133-0-564" id="h133-0-564" class="d">-	if runner.benchTime == 0 {
</a><a href="#h133-0-565" id="h133-0-565" class="d">-		runner.benchTime = 1 * time.Second
</a><a href="#h133-0-566" id="h133-0-566" class="d">-	}
</a><a href="#h133-0-567" id="h133-0-567" class="d">-
</a><a href="#h133-0-568" id="h133-0-568" class="d">-	var filterRegexp *regexp.Regexp
</a><a href="#h133-0-569" id="h133-0-569" class="d">-	if conf.Filter != &quot;&quot; {
</a><a href="#h133-0-570" id="h133-0-570" class="d">-		if regexp, err := regexp.Compile(conf.Filter); err != nil {
</a><a href="#h133-0-571" id="h133-0-571" class="d">-			msg := &quot;Bad filter expression: &quot; + err.Error()
</a><a href="#h133-0-572" id="h133-0-572" class="d">-			runner.tracker.result.RunError = errors.New(msg)
</a><a href="#h133-0-573" id="h133-0-573" class="d">-			return runner
</a><a href="#h133-0-574" id="h133-0-574" class="d">-		} else {
</a><a href="#h133-0-575" id="h133-0-575" class="d">-			filterRegexp = regexp
</a><a href="#h133-0-576" id="h133-0-576" class="d">-		}
</a><a href="#h133-0-577" id="h133-0-577" class="d">-	}
</a><a href="#h133-0-578" id="h133-0-578" class="d">-
</a><a href="#h133-0-579" id="h133-0-579" class="d">-	for i := 0; i != suiteNumMethods; i++ {
</a><a href="#h133-0-580" id="h133-0-580" class="d">-		method := newMethod(suiteValue, i)
</a><a href="#h133-0-581" id="h133-0-581" class="d">-		switch method.Info.Name {
</a><a href="#h133-0-582" id="h133-0-582" class="d">-		case &quot;SetUpSuite&quot;:
</a><a href="#h133-0-583" id="h133-0-583" class="d">-			runner.setUpSuite = method
</a><a href="#h133-0-584" id="h133-0-584" class="d">-		case &quot;TearDownSuite&quot;:
</a><a href="#h133-0-585" id="h133-0-585" class="d">-			runner.tearDownSuite = method
</a><a href="#h133-0-586" id="h133-0-586" class="d">-		case &quot;SetUpTest&quot;:
</a><a href="#h133-0-587" id="h133-0-587" class="d">-			runner.setUpTest = method
</a><a href="#h133-0-588" id="h133-0-588" class="d">-		case &quot;TearDownTest&quot;:
</a><a href="#h133-0-589" id="h133-0-589" class="d">-			runner.tearDownTest = method
</a><a href="#h133-0-590" id="h133-0-590" class="d">-		default:
</a><a href="#h133-0-591" id="h133-0-591" class="d">-			prefix := &quot;Test&quot;
</a><a href="#h133-0-592" id="h133-0-592" class="d">-			if conf.Benchmark {
</a><a href="#h133-0-593" id="h133-0-593" class="d">-				prefix = &quot;Benchmark&quot;
</a><a href="#h133-0-594" id="h133-0-594" class="d">-			}
</a><a href="#h133-0-595" id="h133-0-595" class="d">-			if !strings.HasPrefix(method.Info.Name, prefix) {
</a><a href="#h133-0-596" id="h133-0-596" class="d">-				continue
</a><a href="#h133-0-597" id="h133-0-597" class="d">-			}
</a><a href="#h133-0-598" id="h133-0-598" class="d">-			if filterRegexp == nil || method.matches(filterRegexp) {
</a><a href="#h133-0-599" id="h133-0-599" class="d">-				runner.tests = append(runner.tests, method)
</a><a href="#h133-0-600" id="h133-0-600" class="d">-			}
</a><a href="#h133-0-601" id="h133-0-601" class="d">-		}
</a><a href="#h133-0-602" id="h133-0-602" class="d">-	}
</a><a href="#h133-0-603" id="h133-0-603" class="d">-	return runner
</a><a href="#h133-0-604" id="h133-0-604" class="d">-}
</a><a href="#h133-0-605" id="h133-0-605" class="d">-
</a><a href="#h133-0-606" id="h133-0-606" class="d">-// Run all methods in the given suite.
</a><a href="#h133-0-607" id="h133-0-607" class="d">-func (runner *suiteRunner) run() *Result {
</a><a href="#h133-0-608" id="h133-0-608" class="d">-	if runner.tracker.result.RunError == nil &amp;&amp; len(runner.tests) &gt; 0 {
</a><a href="#h133-0-609" id="h133-0-609" class="d">-		runner.tracker.start()
</a><a href="#h133-0-610" id="h133-0-610" class="d">-		if runner.checkFixtureArgs() {
</a><a href="#h133-0-611" id="h133-0-611" class="d">-			c := runner.runFixture(runner.setUpSuite, &quot;&quot;, nil)
</a><a href="#h133-0-612" id="h133-0-612" class="d">-			if c == nil || c.status() == succeededSt {
</a><a href="#h133-0-613" id="h133-0-613" class="d">-				for i := 0; i != len(runner.tests); i++ {
</a><a href="#h133-0-614" id="h133-0-614" class="d">-					c := runner.runTest(runner.tests[i])
</a><a href="#h133-0-615" id="h133-0-615" class="d">-					if c.status() == fixturePanickedSt {
</a><a href="#h133-0-616" id="h133-0-616" class="d">-						runner.skipTests(missedSt, runner.tests[i+1:])
</a><a href="#h133-0-617" id="h133-0-617" class="d">-						break
</a><a href="#h133-0-618" id="h133-0-618" class="d">-					}
</a><a href="#h133-0-619" id="h133-0-619" class="d">-				}
</a><a href="#h133-0-620" id="h133-0-620" class="d">-			} else if c != nil &amp;&amp; c.status() == skippedSt {
</a><a href="#h133-0-621" id="h133-0-621" class="d">-				runner.skipTests(skippedSt, runner.tests)
</a><a href="#h133-0-622" id="h133-0-622" class="d">-			} else {
</a><a href="#h133-0-623" id="h133-0-623" class="d">-				runner.skipTests(missedSt, runner.tests)
</a><a href="#h133-0-624" id="h133-0-624" class="d">-			}
</a><a href="#h133-0-625" id="h133-0-625" class="d">-			runner.runFixture(runner.tearDownSuite, &quot;&quot;, nil)
</a><a href="#h133-0-626" id="h133-0-626" class="d">-		} else {
</a><a href="#h133-0-627" id="h133-0-627" class="d">-			runner.skipTests(missedSt, runner.tests)
</a><a href="#h133-0-628" id="h133-0-628" class="d">-		}
</a><a href="#h133-0-629" id="h133-0-629" class="d">-		runner.tracker.waitAndStop()
</a><a href="#h133-0-630" id="h133-0-630" class="d">-		if runner.keepDir {
</a><a href="#h133-0-631" id="h133-0-631" class="d">-			runner.tracker.result.WorkDir = runner.tempDir.path
</a><a href="#h133-0-632" id="h133-0-632" class="d">-		} else {
</a><a href="#h133-0-633" id="h133-0-633" class="d">-			runner.tempDir.removeAll()
</a><a href="#h133-0-634" id="h133-0-634" class="d">-		}
</a><a href="#h133-0-635" id="h133-0-635" class="d">-	}
</a><a href="#h133-0-636" id="h133-0-636" class="d">-	return &amp;runner.tracker.result
</a><a href="#h133-0-637" id="h133-0-637" class="d">-}
</a><a href="#h133-0-638" id="h133-0-638" class="d">-
</a><a href="#h133-0-639" id="h133-0-639" class="d">-// Create a call object with the given suite method, and fork a
</a><a href="#h133-0-640" id="h133-0-640" class="d">-// goroutine with the provided dispatcher for running it.
</a><a href="#h133-0-641" id="h133-0-641" class="d">-func (runner *suiteRunner) forkCall(method *methodType, kind funcKind, testName string, logb *logger, dispatcher func(c *C)) *C {
</a><a href="#h133-0-642" id="h133-0-642" class="d">-	var logw io.Writer
</a><a href="#h133-0-643" id="h133-0-643" class="d">-	if runner.output.Stream {
</a><a href="#h133-0-644" id="h133-0-644" class="d">-		logw = runner.output
</a><a href="#h133-0-645" id="h133-0-645" class="d">-	}
</a><a href="#h133-0-646" id="h133-0-646" class="d">-	if logb == nil {
</a><a href="#h133-0-647" id="h133-0-647" class="d">-		logb = new(logger)
</a><a href="#h133-0-648" id="h133-0-648" class="d">-	}
</a><a href="#h133-0-649" id="h133-0-649" class="d">-	c := &amp;C{
</a><a href="#h133-0-650" id="h133-0-650" class="d">-		method:    method,
</a><a href="#h133-0-651" id="h133-0-651" class="d">-		kind:      kind,
</a><a href="#h133-0-652" id="h133-0-652" class="d">-		testName:  testName,
</a><a href="#h133-0-653" id="h133-0-653" class="d">-		logb:      logb,
</a><a href="#h133-0-654" id="h133-0-654" class="d">-		logw:      logw,
</a><a href="#h133-0-655" id="h133-0-655" class="d">-		tempDir:   runner.tempDir,
</a><a href="#h133-0-656" id="h133-0-656" class="d">-		done:      make(chan *C, 1),
</a><a href="#h133-0-657" id="h133-0-657" class="d">-		timer:     timer{benchTime: runner.benchTime},
</a><a href="#h133-0-658" id="h133-0-658" class="d">-		startTime: time.Now(),
</a><a href="#h133-0-659" id="h133-0-659" class="d">-		benchMem:  runner.benchMem,
</a><a href="#h133-0-660" id="h133-0-660" class="d">-	}
</a><a href="#h133-0-661" id="h133-0-661" class="d">-	runner.tracker.expectCall(c)
</a><a href="#h133-0-662" id="h133-0-662" class="d">-	go (func() {
</a><a href="#h133-0-663" id="h133-0-663" class="d">-		runner.reportCallStarted(c)
</a><a href="#h133-0-664" id="h133-0-664" class="d">-		defer runner.callDone(c)
</a><a href="#h133-0-665" id="h133-0-665" class="d">-		dispatcher(c)
</a><a href="#h133-0-666" id="h133-0-666" class="d">-	})()
</a><a href="#h133-0-667" id="h133-0-667" class="d">-	return c
</a><a href="#h133-0-668" id="h133-0-668" class="d">-}
</a><a href="#h133-0-669" id="h133-0-669" class="d">-
</a><a href="#h133-0-670" id="h133-0-670" class="d">-// Same as forkCall(), but wait for call to finish before returning.
</a><a href="#h133-0-671" id="h133-0-671" class="d">-func (runner *suiteRunner) runFunc(method *methodType, kind funcKind, testName string, logb *logger, dispatcher func(c *C)) *C {
</a><a href="#h133-0-672" id="h133-0-672" class="d">-	c := runner.forkCall(method, kind, testName, logb, dispatcher)
</a><a href="#h133-0-673" id="h133-0-673" class="d">-	&lt;-c.done
</a><a href="#h133-0-674" id="h133-0-674" class="d">-	return c
</a><a href="#h133-0-675" id="h133-0-675" class="d">-}
</a><a href="#h133-0-676" id="h133-0-676" class="d">-
</a><a href="#h133-0-677" id="h133-0-677" class="d">-// Handle a finished call.  If there were any panics, update the call status
</a><a href="#h133-0-678" id="h133-0-678" class="d">-// accordingly.  Then, mark the call as done and report to the tracker.
</a><a href="#h133-0-679" id="h133-0-679" class="d">-func (runner *suiteRunner) callDone(c *C) {
</a><a href="#h133-0-680" id="h133-0-680" class="d">-	value := recover()
</a><a href="#h133-0-681" id="h133-0-681" class="d">-	if value != nil {
</a><a href="#h133-0-682" id="h133-0-682" class="d">-		switch v := value.(type) {
</a><a href="#h133-0-683" id="h133-0-683" class="d">-		case *fixturePanic:
</a><a href="#h133-0-684" id="h133-0-684" class="d">-			if v.status == skippedSt {
</a><a href="#h133-0-685" id="h133-0-685" class="d">-				c.setStatus(skippedSt)
</a><a href="#h133-0-686" id="h133-0-686" class="d">-			} else {
</a><a href="#h133-0-687" id="h133-0-687" class="d">-				c.logSoftPanic(&quot;Fixture has panicked (see related PANIC)&quot;)
</a><a href="#h133-0-688" id="h133-0-688" class="d">-				c.setStatus(fixturePanickedSt)
</a><a href="#h133-0-689" id="h133-0-689" class="d">-			}
</a><a href="#h133-0-690" id="h133-0-690" class="d">-		default:
</a><a href="#h133-0-691" id="h133-0-691" class="d">-			c.logPanic(1, value)
</a><a href="#h133-0-692" id="h133-0-692" class="d">-			c.setStatus(panickedSt)
</a><a href="#h133-0-693" id="h133-0-693" class="d">-		}
</a><a href="#h133-0-694" id="h133-0-694" class="d">-	}
</a><a href="#h133-0-695" id="h133-0-695" class="d">-	if c.mustFail {
</a><a href="#h133-0-696" id="h133-0-696" class="d">-		switch c.status() {
</a><a href="#h133-0-697" id="h133-0-697" class="d">-		case failedSt:
</a><a href="#h133-0-698" id="h133-0-698" class="d">-			c.setStatus(succeededSt)
</a><a href="#h133-0-699" id="h133-0-699" class="d">-		case succeededSt:
</a><a href="#h133-0-700" id="h133-0-700" class="d">-			c.setStatus(failedSt)
</a><a href="#h133-0-701" id="h133-0-701" class="d">-			c.logString(&quot;Error: Test succeeded, but was expected to fail&quot;)
</a><a href="#h133-0-702" id="h133-0-702" class="d">-			c.logString(&quot;Reason: &quot; + c.reason)
</a><a href="#h133-0-703" id="h133-0-703" class="d">-		}
</a><a href="#h133-0-704" id="h133-0-704" class="d">-	}
</a><a href="#h133-0-705" id="h133-0-705" class="d">-
</a><a href="#h133-0-706" id="h133-0-706" class="d">-	runner.reportCallDone(c)
</a><a href="#h133-0-707" id="h133-0-707" class="d">-	c.done &lt;- c
</a><a href="#h133-0-708" id="h133-0-708" class="d">-}
</a><a href="#h133-0-709" id="h133-0-709" class="d">-
</a><a href="#h133-0-710" id="h133-0-710" class="d">-// Runs a fixture call synchronously.  The fixture will still be run in a
</a><a href="#h133-0-711" id="h133-0-711" class="d">-// goroutine like all suite methods, but this method will not return
</a><a href="#h133-0-712" id="h133-0-712" class="d">-// while the fixture goroutine is not done, because the fixture must be
</a><a href="#h133-0-713" id="h133-0-713" class="d">-// run in a desired order.
</a><a href="#h133-0-714" id="h133-0-714" class="d">-func (runner *suiteRunner) runFixture(method *methodType, testName string, logb *logger) *C {
</a><a href="#h133-0-715" id="h133-0-715" class="d">-	if method != nil {
</a><a href="#h133-0-716" id="h133-0-716" class="d">-		c := runner.runFunc(method, fixtureKd, testName, logb, func(c *C) {
</a><a href="#h133-0-717" id="h133-0-717" class="d">-			c.ResetTimer()
</a><a href="#h133-0-718" id="h133-0-718" class="d">-			c.StartTimer()
</a><a href="#h133-0-719" id="h133-0-719" class="d">-			defer c.StopTimer()
</a><a href="#h133-0-720" id="h133-0-720" class="d">-			c.method.Call([]reflect.Value{reflect.ValueOf(c)})
</a><a href="#h133-0-721" id="h133-0-721" class="d">-		})
</a><a href="#h133-0-722" id="h133-0-722" class="d">-		return c
</a><a href="#h133-0-723" id="h133-0-723" class="d">-	}
</a><a href="#h133-0-724" id="h133-0-724" class="d">-	return nil
</a><a href="#h133-0-725" id="h133-0-725" class="d">-}
</a><a href="#h133-0-726" id="h133-0-726" class="d">-
</a><a href="#h133-0-727" id="h133-0-727" class="d">-// Run the fixture method with runFixture(), but panic with a fixturePanic{}
</a><a href="#h133-0-728" id="h133-0-728" class="d">-// in case the fixture method panics.  This makes it easier to track the
</a><a href="#h133-0-729" id="h133-0-729" class="d">-// fixture panic together with other call panics within forkTest().
</a><a href="#h133-0-730" id="h133-0-730" class="d">-func (runner *suiteRunner) runFixtureWithPanic(method *methodType, testName string, logb *logger, skipped *bool) *C {
</a><a href="#h133-0-731" id="h133-0-731" class="d">-	if skipped != nil &amp;&amp; *skipped {
</a><a href="#h133-0-732" id="h133-0-732" class="d">-		return nil
</a><a href="#h133-0-733" id="h133-0-733" class="d">-	}
</a><a href="#h133-0-734" id="h133-0-734" class="d">-	c := runner.runFixture(method, testName, logb)
</a><a href="#h133-0-735" id="h133-0-735" class="d">-	if c != nil &amp;&amp; c.status() != succeededSt {
</a><a href="#h133-0-736" id="h133-0-736" class="d">-		if skipped != nil {
</a><a href="#h133-0-737" id="h133-0-737" class="d">-			*skipped = c.status() == skippedSt
</a><a href="#h133-0-738" id="h133-0-738" class="d">-		}
</a><a href="#h133-0-739" id="h133-0-739" class="d">-		panic(&amp;fixturePanic{c.status(), method})
</a><a href="#h133-0-740" id="h133-0-740" class="d">-	}
</a><a href="#h133-0-741" id="h133-0-741" class="d">-	return c
</a><a href="#h133-0-742" id="h133-0-742" class="d">-}
</a><a href="#h133-0-743" id="h133-0-743" class="d">-
</a><a href="#h133-0-744" id="h133-0-744" class="d">-type fixturePanic struct {
</a><a href="#h133-0-745" id="h133-0-745" class="d">-	status funcStatus
</a><a href="#h133-0-746" id="h133-0-746" class="d">-	method *methodType
</a><a href="#h133-0-747" id="h133-0-747" class="d">-}
</a><a href="#h133-0-748" id="h133-0-748" class="d">-
</a><a href="#h133-0-749" id="h133-0-749" class="d">-// Run the suite test method, together with the test-specific fixture,
</a><a href="#h133-0-750" id="h133-0-750" class="d">-// asynchronously.
</a><a href="#h133-0-751" id="h133-0-751" class="d">-func (runner *suiteRunner) forkTest(method *methodType) *C {
</a><a href="#h133-0-752" id="h133-0-752" class="d">-	testName := method.String()
</a><a href="#h133-0-753" id="h133-0-753" class="d">-	return runner.forkCall(method, testKd, testName, nil, func(c *C) {
</a><a href="#h133-0-754" id="h133-0-754" class="d">-		var skipped bool
</a><a href="#h133-0-755" id="h133-0-755" class="d">-		defer runner.runFixtureWithPanic(runner.tearDownTest, testName, nil, &amp;skipped)
</a><a href="#h133-0-756" id="h133-0-756" class="d">-		defer c.StopTimer()
</a><a href="#h133-0-757" id="h133-0-757" class="d">-		benchN := 1
</a><a href="#h133-0-758" id="h133-0-758" class="d">-		for {
</a><a href="#h133-0-759" id="h133-0-759" class="d">-			runner.runFixtureWithPanic(runner.setUpTest, testName, c.logb, &amp;skipped)
</a><a href="#h133-0-760" id="h133-0-760" class="d">-			mt := c.method.Type()
</a><a href="#h133-0-761" id="h133-0-761" class="d">-			if mt.NumIn() != 1 || mt.In(0) != reflect.TypeOf(c) {
</a><a href="#h133-0-762" id="h133-0-762" class="d">-				// Rather than a plain panic, provide a more helpful message when
</a><a href="#h133-0-763" id="h133-0-763" class="d">-				// the argument type is incorrect.
</a><a href="#h133-0-764" id="h133-0-764" class="d">-				c.setStatus(panickedSt)
</a><a href="#h133-0-765" id="h133-0-765" class="d">-				c.logArgPanic(c.method, &quot;*check.C&quot;)
</a><a href="#h133-0-766" id="h133-0-766" class="d">-				return
</a><a href="#h133-0-767" id="h133-0-767" class="d">-			}
</a><a href="#h133-0-768" id="h133-0-768" class="d">-			if strings.HasPrefix(c.method.Info.Name, &quot;Test&quot;) {
</a><a href="#h133-0-769" id="h133-0-769" class="d">-				c.ResetTimer()
</a><a href="#h133-0-770" id="h133-0-770" class="d">-				c.StartTimer()
</a><a href="#h133-0-771" id="h133-0-771" class="d">-				c.method.Call([]reflect.Value{reflect.ValueOf(c)})
</a><a href="#h133-0-772" id="h133-0-772" class="d">-				return
</a><a href="#h133-0-773" id="h133-0-773" class="d">-			}
</a><a href="#h133-0-774" id="h133-0-774" class="d">-			if !strings.HasPrefix(c.method.Info.Name, &quot;Benchmark&quot;) {
</a><a href="#h133-0-775" id="h133-0-775" class="d">-				panic(&quot;unexpected method prefix: &quot; + c.method.Info.Name)
</a><a href="#h133-0-776" id="h133-0-776" class="d">-			}
</a><a href="#h133-0-777" id="h133-0-777" class="d">-
</a><a href="#h133-0-778" id="h133-0-778" class="d">-			runtime.GC()
</a><a href="#h133-0-779" id="h133-0-779" class="d">-			c.N = benchN
</a><a href="#h133-0-780" id="h133-0-780" class="d">-			c.ResetTimer()
</a><a href="#h133-0-781" id="h133-0-781" class="d">-			c.StartTimer()
</a><a href="#h133-0-782" id="h133-0-782" class="d">-			c.method.Call([]reflect.Value{reflect.ValueOf(c)})
</a><a href="#h133-0-783" id="h133-0-783" class="d">-			c.StopTimer()
</a><a href="#h133-0-784" id="h133-0-784" class="d">-			if c.status() != succeededSt || c.duration &gt;= c.benchTime || benchN &gt;= 1e9 {
</a><a href="#h133-0-785" id="h133-0-785" class="d">-				return
</a><a href="#h133-0-786" id="h133-0-786" class="d">-			}
</a><a href="#h133-0-787" id="h133-0-787" class="d">-			perOpN := int(1e9)
</a><a href="#h133-0-788" id="h133-0-788" class="d">-			if c.nsPerOp() != 0 {
</a><a href="#h133-0-789" id="h133-0-789" class="d">-				perOpN = int(c.benchTime.Nanoseconds() / c.nsPerOp())
</a><a href="#h133-0-790" id="h133-0-790" class="d">-			}
</a><a href="#h133-0-791" id="h133-0-791" class="d">-
</a><a href="#h133-0-792" id="h133-0-792" class="d">-			// Logic taken from the stock testing package:
</a><a href="#h133-0-793" id="h133-0-793" class="d">-			// - Run more iterations than we think we&#39;ll need for a second (1.5x).
</a><a href="#h133-0-794" id="h133-0-794" class="d">-			// - Don&#39;t grow too fast in case we had timing errors previously.
</a><a href="#h133-0-795" id="h133-0-795" class="d">-			// - Be sure to run at least one more than last time.
</a><a href="#h133-0-796" id="h133-0-796" class="d">-			benchN = max(min(perOpN+perOpN/2, 100*benchN), benchN+1)
</a><a href="#h133-0-797" id="h133-0-797" class="d">-			benchN = roundUp(benchN)
</a><a href="#h133-0-798" id="h133-0-798" class="d">-
</a><a href="#h133-0-799" id="h133-0-799" class="d">-			skipped = true // Don&#39;t run the deferred one if this panics.
</a><a href="#h133-0-800" id="h133-0-800" class="d">-			runner.runFixtureWithPanic(runner.tearDownTest, testName, nil, nil)
</a><a href="#h133-0-801" id="h133-0-801" class="d">-			skipped = false
</a><a href="#h133-0-802" id="h133-0-802" class="d">-		}
</a><a href="#h133-0-803" id="h133-0-803" class="d">-	})
</a><a href="#h133-0-804" id="h133-0-804" class="d">-}
</a><a href="#h133-0-805" id="h133-0-805" class="d">-
</a><a href="#h133-0-806" id="h133-0-806" class="d">-// Same as forkTest(), but wait for the test to finish before returning.
</a><a href="#h133-0-807" id="h133-0-807" class="d">-func (runner *suiteRunner) runTest(method *methodType) *C {
</a><a href="#h133-0-808" id="h133-0-808" class="d">-	c := runner.forkTest(method)
</a><a href="#h133-0-809" id="h133-0-809" class="d">-	&lt;-c.done
</a><a href="#h133-0-810" id="h133-0-810" class="d">-	return c
</a><a href="#h133-0-811" id="h133-0-811" class="d">-}
</a><a href="#h133-0-812" id="h133-0-812" class="d">-
</a><a href="#h133-0-813" id="h133-0-813" class="d">-// Helper to mark tests as skipped or missed.  A bit heavy for what
</a><a href="#h133-0-814" id="h133-0-814" class="d">-// it does, but it enables homogeneous handling of tracking, including
</a><a href="#h133-0-815" id="h133-0-815" class="d">-// nice verbose output.
</a><a href="#h133-0-816" id="h133-0-816" class="d">-func (runner *suiteRunner) skipTests(status funcStatus, methods []*methodType) {
</a><a href="#h133-0-817" id="h133-0-817" class="d">-	for _, method := range methods {
</a><a href="#h133-0-818" id="h133-0-818" class="d">-		runner.runFunc(method, testKd, &quot;&quot;, nil, func(c *C) {
</a><a href="#h133-0-819" id="h133-0-819" class="d">-			c.setStatus(status)
</a><a href="#h133-0-820" id="h133-0-820" class="d">-		})
</a><a href="#h133-0-821" id="h133-0-821" class="d">-	}
</a><a href="#h133-0-822" id="h133-0-822" class="d">-}
</a><a href="#h133-0-823" id="h133-0-823" class="d">-
</a><a href="#h133-0-824" id="h133-0-824" class="d">-// Verify if the fixture arguments are *check.C.  In case of errors,
</a><a href="#h133-0-825" id="h133-0-825" class="d">-// log the error as a panic in the fixture method call, and return false.
</a><a href="#h133-0-826" id="h133-0-826" class="d">-func (runner *suiteRunner) checkFixtureArgs() bool {
</a><a href="#h133-0-827" id="h133-0-827" class="d">-	succeeded := true
</a><a href="#h133-0-828" id="h133-0-828" class="d">-	argType := reflect.TypeOf(&amp;C{})
</a><a href="#h133-0-829" id="h133-0-829" class="d">-	for _, method := range []*methodType{runner.setUpSuite, runner.tearDownSuite, runner.setUpTest, runner.tearDownTest} {
</a><a href="#h133-0-830" id="h133-0-830" class="d">-		if method != nil {
</a><a href="#h133-0-831" id="h133-0-831" class="d">-			mt := method.Type()
</a><a href="#h133-0-832" id="h133-0-832" class="d">-			if mt.NumIn() != 1 || mt.In(0) != argType {
</a><a href="#h133-0-833" id="h133-0-833" class="d">-				succeeded = false
</a><a href="#h133-0-834" id="h133-0-834" class="d">-				runner.runFunc(method, fixtureKd, &quot;&quot;, nil, func(c *C) {
</a><a href="#h133-0-835" id="h133-0-835" class="d">-					c.logArgPanic(method, &quot;*check.C&quot;)
</a><a href="#h133-0-836" id="h133-0-836" class="d">-					c.setStatus(panickedSt)
</a><a href="#h133-0-837" id="h133-0-837" class="d">-				})
</a><a href="#h133-0-838" id="h133-0-838" class="d">-			}
</a><a href="#h133-0-839" id="h133-0-839" class="d">-		}
</a><a href="#h133-0-840" id="h133-0-840" class="d">-	}
</a><a href="#h133-0-841" id="h133-0-841" class="d">-	return succeeded
</a><a href="#h133-0-842" id="h133-0-842" class="d">-}
</a><a href="#h133-0-843" id="h133-0-843" class="d">-
</a><a href="#h133-0-844" id="h133-0-844" class="d">-func (runner *suiteRunner) reportCallStarted(c *C) {
</a><a href="#h133-0-845" id="h133-0-845" class="d">-	runner.output.WriteCallStarted(&quot;START&quot;, c)
</a><a href="#h133-0-846" id="h133-0-846" class="d">-}
</a><a href="#h133-0-847" id="h133-0-847" class="d">-
</a><a href="#h133-0-848" id="h133-0-848" class="d">-func (runner *suiteRunner) reportCallDone(c *C) {
</a><a href="#h133-0-849" id="h133-0-849" class="d">-	runner.tracker.callDone(c)
</a><a href="#h133-0-850" id="h133-0-850" class="d">-	switch c.status() {
</a><a href="#h133-0-851" id="h133-0-851" class="d">-	case succeededSt:
</a><a href="#h133-0-852" id="h133-0-852" class="d">-		if c.mustFail {
</a><a href="#h133-0-853" id="h133-0-853" class="d">-			runner.output.WriteCallSuccess(&quot;FAIL EXPECTED&quot;, c)
</a><a href="#h133-0-854" id="h133-0-854" class="d">-		} else {
</a><a href="#h133-0-855" id="h133-0-855" class="d">-			runner.output.WriteCallSuccess(&quot;PASS&quot;, c)
</a><a href="#h133-0-856" id="h133-0-856" class="d">-		}
</a><a href="#h133-0-857" id="h133-0-857" class="d">-	case skippedSt:
</a><a href="#h133-0-858" id="h133-0-858" class="d">-		runner.output.WriteCallSuccess(&quot;SKIP&quot;, c)
</a><a href="#h133-0-859" id="h133-0-859" class="d">-	case failedSt:
</a><a href="#h133-0-860" id="h133-0-860" class="d">-		runner.output.WriteCallProblem(&quot;FAIL&quot;, c)
</a><a href="#h133-0-861" id="h133-0-861" class="d">-	case panickedSt:
</a><a href="#h133-0-862" id="h133-0-862" class="d">-		runner.output.WriteCallProblem(&quot;PANIC&quot;, c)
</a><a href="#h133-0-863" id="h133-0-863" class="d">-	case fixturePanickedSt:
</a><a href="#h133-0-864" id="h133-0-864" class="d">-		// That&#39;s a testKd call reporting that its fixture
</a><a href="#h133-0-865" id="h133-0-865" class="d">-		// has panicked. The fixture call which caused the
</a><a href="#h133-0-866" id="h133-0-866" class="d">-		// panic itself was tracked above. We&#39;ll report to
</a><a href="#h133-0-867" id="h133-0-867" class="d">-		// aid debugging.
</a><a href="#h133-0-868" id="h133-0-868" class="d">-		runner.output.WriteCallProblem(&quot;PANIC&quot;, c)
</a><a href="#h133-0-869" id="h133-0-869" class="d">-	case missedSt:
</a><a href="#h133-0-870" id="h133-0-870" class="d">-		runner.output.WriteCallSuccess(&quot;MISS&quot;, c)
</a><a href="#h133-0-871" id="h133-0-871" class="d">-	}
</a><a href="#h133-0-872" id="h133-0-872" class="d">-}
</a><b>diff --git a/<a id="h134" href="../file/vendor/gopkg.in/check.v1/checkers.go">vendor/gopkg.in/check.v1/checkers.go</a> b/<a href="../file/vendor/gopkg.in/check.v1/checkers.go">vendor/gopkg.in/check.v1/checkers.go</a></b>
<a href="#h134-0" id="h134-0" class="h">@@ -1,458 +0,0 @@
</a><a href="#h134-0-0" id="h134-0-0" class="d">-package check
</a><a href="#h134-0-1" id="h134-0-1" class="d">-
</a><a href="#h134-0-2" id="h134-0-2" class="d">-import (
</a><a href="#h134-0-3" id="h134-0-3" class="d">-	&quot;fmt&quot;
</a><a href="#h134-0-4" id="h134-0-4" class="d">-	&quot;reflect&quot;
</a><a href="#h134-0-5" id="h134-0-5" class="d">-	&quot;regexp&quot;
</a><a href="#h134-0-6" id="h134-0-6" class="d">-)
</a><a href="#h134-0-7" id="h134-0-7" class="d">-
</a><a href="#h134-0-8" id="h134-0-8" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-9" id="h134-0-9" class="d">-// CommentInterface and Commentf helper, to attach extra information to checks.
</a><a href="#h134-0-10" id="h134-0-10" class="d">-
</a><a href="#h134-0-11" id="h134-0-11" class="d">-type comment struct {
</a><a href="#h134-0-12" id="h134-0-12" class="d">-	format string
</a><a href="#h134-0-13" id="h134-0-13" class="d">-	args   []interface{}
</a><a href="#h134-0-14" id="h134-0-14" class="d">-}
</a><a href="#h134-0-15" id="h134-0-15" class="d">-
</a><a href="#h134-0-16" id="h134-0-16" class="d">-// Commentf returns an infomational value to use with Assert or Check calls.
</a><a href="#h134-0-17" id="h134-0-17" class="d">-// If the checker test fails, the provided arguments will be passed to
</a><a href="#h134-0-18" id="h134-0-18" class="d">-// fmt.Sprintf, and will be presented next to the logged failure.
</a><a href="#h134-0-19" id="h134-0-19" class="d">-//
</a><a href="#h134-0-20" id="h134-0-20" class="d">-// For example:
</a><a href="#h134-0-21" id="h134-0-21" class="d">-//
</a><a href="#h134-0-22" id="h134-0-22" class="d">-//     c.Assert(v, Equals, 42, Commentf(&quot;Iteration #%d failed.&quot;, i))
</a><a href="#h134-0-23" id="h134-0-23" class="d">-//
</a><a href="#h134-0-24" id="h134-0-24" class="d">-// Note that if the comment is constant, a better option is to
</a><a href="#h134-0-25" id="h134-0-25" class="d">-// simply use a normal comment right above or next to the line, as
</a><a href="#h134-0-26" id="h134-0-26" class="d">-// it will also get printed with any errors:
</a><a href="#h134-0-27" id="h134-0-27" class="d">-//
</a><a href="#h134-0-28" id="h134-0-28" class="d">-//     c.Assert(l, Equals, 8192) // Ensure buffer size is correct (bug #123)
</a><a href="#h134-0-29" id="h134-0-29" class="d">-//
</a><a href="#h134-0-30" id="h134-0-30" class="d">-func Commentf(format string, args ...interface{}) CommentInterface {
</a><a href="#h134-0-31" id="h134-0-31" class="d">-	return &amp;comment{format, args}
</a><a href="#h134-0-32" id="h134-0-32" class="d">-}
</a><a href="#h134-0-33" id="h134-0-33" class="d">-
</a><a href="#h134-0-34" id="h134-0-34" class="d">-// CommentInterface must be implemented by types that attach extra
</a><a href="#h134-0-35" id="h134-0-35" class="d">-// information to failed checks. See the Commentf function for details.
</a><a href="#h134-0-36" id="h134-0-36" class="d">-type CommentInterface interface {
</a><a href="#h134-0-37" id="h134-0-37" class="d">-	CheckCommentString() string
</a><a href="#h134-0-38" id="h134-0-38" class="d">-}
</a><a href="#h134-0-39" id="h134-0-39" class="d">-
</a><a href="#h134-0-40" id="h134-0-40" class="d">-func (c *comment) CheckCommentString() string {
</a><a href="#h134-0-41" id="h134-0-41" class="d">-	return fmt.Sprintf(c.format, c.args...)
</a><a href="#h134-0-42" id="h134-0-42" class="d">-}
</a><a href="#h134-0-43" id="h134-0-43" class="d">-
</a><a href="#h134-0-44" id="h134-0-44" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-45" id="h134-0-45" class="d">-// The Checker interface.
</a><a href="#h134-0-46" id="h134-0-46" class="d">-
</a><a href="#h134-0-47" id="h134-0-47" class="d">-// The Checker interface must be provided by checkers used with
</a><a href="#h134-0-48" id="h134-0-48" class="d">-// the Assert and Check verification methods.
</a><a href="#h134-0-49" id="h134-0-49" class="d">-type Checker interface {
</a><a href="#h134-0-50" id="h134-0-50" class="d">-	Info() *CheckerInfo
</a><a href="#h134-0-51" id="h134-0-51" class="d">-	Check(params []interface{}, names []string) (result bool, error string)
</a><a href="#h134-0-52" id="h134-0-52" class="d">-}
</a><a href="#h134-0-53" id="h134-0-53" class="d">-
</a><a href="#h134-0-54" id="h134-0-54" class="d">-// See the Checker interface.
</a><a href="#h134-0-55" id="h134-0-55" class="d">-type CheckerInfo struct {
</a><a href="#h134-0-56" id="h134-0-56" class="d">-	Name   string
</a><a href="#h134-0-57" id="h134-0-57" class="d">-	Params []string
</a><a href="#h134-0-58" id="h134-0-58" class="d">-}
</a><a href="#h134-0-59" id="h134-0-59" class="d">-
</a><a href="#h134-0-60" id="h134-0-60" class="d">-func (info *CheckerInfo) Info() *CheckerInfo {
</a><a href="#h134-0-61" id="h134-0-61" class="d">-	return info
</a><a href="#h134-0-62" id="h134-0-62" class="d">-}
</a><a href="#h134-0-63" id="h134-0-63" class="d">-
</a><a href="#h134-0-64" id="h134-0-64" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-65" id="h134-0-65" class="d">-// Not checker logic inverter.
</a><a href="#h134-0-66" id="h134-0-66" class="d">-
</a><a href="#h134-0-67" id="h134-0-67" class="d">-// The Not checker inverts the logic of the provided checker.  The
</a><a href="#h134-0-68" id="h134-0-68" class="d">-// resulting checker will succeed where the original one failed, and
</a><a href="#h134-0-69" id="h134-0-69" class="d">-// vice-versa.
</a><a href="#h134-0-70" id="h134-0-70" class="d">-//
</a><a href="#h134-0-71" id="h134-0-71" class="d">-// For example:
</a><a href="#h134-0-72" id="h134-0-72" class="d">-//
</a><a href="#h134-0-73" id="h134-0-73" class="d">-//     c.Assert(a, Not(Equals), b)
</a><a href="#h134-0-74" id="h134-0-74" class="d">-//
</a><a href="#h134-0-75" id="h134-0-75" class="d">-func Not(checker Checker) Checker {
</a><a href="#h134-0-76" id="h134-0-76" class="d">-	return &amp;notChecker{checker}
</a><a href="#h134-0-77" id="h134-0-77" class="d">-}
</a><a href="#h134-0-78" id="h134-0-78" class="d">-
</a><a href="#h134-0-79" id="h134-0-79" class="d">-type notChecker struct {
</a><a href="#h134-0-80" id="h134-0-80" class="d">-	sub Checker
</a><a href="#h134-0-81" id="h134-0-81" class="d">-}
</a><a href="#h134-0-82" id="h134-0-82" class="d">-
</a><a href="#h134-0-83" id="h134-0-83" class="d">-func (checker *notChecker) Info() *CheckerInfo {
</a><a href="#h134-0-84" id="h134-0-84" class="d">-	info := *checker.sub.Info()
</a><a href="#h134-0-85" id="h134-0-85" class="d">-	info.Name = &quot;Not(&quot; + info.Name + &quot;)&quot;
</a><a href="#h134-0-86" id="h134-0-86" class="d">-	return &amp;info
</a><a href="#h134-0-87" id="h134-0-87" class="d">-}
</a><a href="#h134-0-88" id="h134-0-88" class="d">-
</a><a href="#h134-0-89" id="h134-0-89" class="d">-func (checker *notChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-90" id="h134-0-90" class="d">-	result, error = checker.sub.Check(params, names)
</a><a href="#h134-0-91" id="h134-0-91" class="d">-	result = !result
</a><a href="#h134-0-92" id="h134-0-92" class="d">-	return
</a><a href="#h134-0-93" id="h134-0-93" class="d">-}
</a><a href="#h134-0-94" id="h134-0-94" class="d">-
</a><a href="#h134-0-95" id="h134-0-95" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-96" id="h134-0-96" class="d">-// IsNil checker.
</a><a href="#h134-0-97" id="h134-0-97" class="d">-
</a><a href="#h134-0-98" id="h134-0-98" class="d">-type isNilChecker struct {
</a><a href="#h134-0-99" id="h134-0-99" class="d">-	*CheckerInfo
</a><a href="#h134-0-100" id="h134-0-100" class="d">-}
</a><a href="#h134-0-101" id="h134-0-101" class="d">-
</a><a href="#h134-0-102" id="h134-0-102" class="d">-// The IsNil checker tests whether the obtained value is nil.
</a><a href="#h134-0-103" id="h134-0-103" class="d">-//
</a><a href="#h134-0-104" id="h134-0-104" class="d">-// For example:
</a><a href="#h134-0-105" id="h134-0-105" class="d">-//
</a><a href="#h134-0-106" id="h134-0-106" class="d">-//    c.Assert(err, IsNil)
</a><a href="#h134-0-107" id="h134-0-107" class="d">-//
</a><a href="#h134-0-108" id="h134-0-108" class="d">-var IsNil Checker = &amp;isNilChecker{
</a><a href="#h134-0-109" id="h134-0-109" class="d">-	&amp;CheckerInfo{Name: &quot;IsNil&quot;, Params: []string{&quot;value&quot;}},
</a><a href="#h134-0-110" id="h134-0-110" class="d">-}
</a><a href="#h134-0-111" id="h134-0-111" class="d">-
</a><a href="#h134-0-112" id="h134-0-112" class="d">-func (checker *isNilChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-113" id="h134-0-113" class="d">-	return isNil(params[0]), &quot;&quot;
</a><a href="#h134-0-114" id="h134-0-114" class="d">-}
</a><a href="#h134-0-115" id="h134-0-115" class="d">-
</a><a href="#h134-0-116" id="h134-0-116" class="d">-func isNil(obtained interface{}) (result bool) {
</a><a href="#h134-0-117" id="h134-0-117" class="d">-	if obtained == nil {
</a><a href="#h134-0-118" id="h134-0-118" class="d">-		result = true
</a><a href="#h134-0-119" id="h134-0-119" class="d">-	} else {
</a><a href="#h134-0-120" id="h134-0-120" class="d">-		switch v := reflect.ValueOf(obtained); v.Kind() {
</a><a href="#h134-0-121" id="h134-0-121" class="d">-		case reflect.Chan, reflect.Func, reflect.Interface, reflect.Map, reflect.Ptr, reflect.Slice:
</a><a href="#h134-0-122" id="h134-0-122" class="d">-			return v.IsNil()
</a><a href="#h134-0-123" id="h134-0-123" class="d">-		}
</a><a href="#h134-0-124" id="h134-0-124" class="d">-	}
</a><a href="#h134-0-125" id="h134-0-125" class="d">-	return
</a><a href="#h134-0-126" id="h134-0-126" class="d">-}
</a><a href="#h134-0-127" id="h134-0-127" class="d">-
</a><a href="#h134-0-128" id="h134-0-128" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-129" id="h134-0-129" class="d">-// NotNil checker. Alias for Not(IsNil), since it&#39;s so common.
</a><a href="#h134-0-130" id="h134-0-130" class="d">-
</a><a href="#h134-0-131" id="h134-0-131" class="d">-type notNilChecker struct {
</a><a href="#h134-0-132" id="h134-0-132" class="d">-	*CheckerInfo
</a><a href="#h134-0-133" id="h134-0-133" class="d">-}
</a><a href="#h134-0-134" id="h134-0-134" class="d">-
</a><a href="#h134-0-135" id="h134-0-135" class="d">-// The NotNil checker verifies that the obtained value is not nil.
</a><a href="#h134-0-136" id="h134-0-136" class="d">-//
</a><a href="#h134-0-137" id="h134-0-137" class="d">-// For example:
</a><a href="#h134-0-138" id="h134-0-138" class="d">-//
</a><a href="#h134-0-139" id="h134-0-139" class="d">-//     c.Assert(iface, NotNil)
</a><a href="#h134-0-140" id="h134-0-140" class="d">-//
</a><a href="#h134-0-141" id="h134-0-141" class="d">-// This is an alias for Not(IsNil), made available since it&#39;s a
</a><a href="#h134-0-142" id="h134-0-142" class="d">-// fairly common check.
</a><a href="#h134-0-143" id="h134-0-143" class="d">-//
</a><a href="#h134-0-144" id="h134-0-144" class="d">-var NotNil Checker = &amp;notNilChecker{
</a><a href="#h134-0-145" id="h134-0-145" class="d">-	&amp;CheckerInfo{Name: &quot;NotNil&quot;, Params: []string{&quot;value&quot;}},
</a><a href="#h134-0-146" id="h134-0-146" class="d">-}
</a><a href="#h134-0-147" id="h134-0-147" class="d">-
</a><a href="#h134-0-148" id="h134-0-148" class="d">-func (checker *notNilChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-149" id="h134-0-149" class="d">-	return !isNil(params[0]), &quot;&quot;
</a><a href="#h134-0-150" id="h134-0-150" class="d">-}
</a><a href="#h134-0-151" id="h134-0-151" class="d">-
</a><a href="#h134-0-152" id="h134-0-152" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-153" id="h134-0-153" class="d">-// Equals checker.
</a><a href="#h134-0-154" id="h134-0-154" class="d">-
</a><a href="#h134-0-155" id="h134-0-155" class="d">-type equalsChecker struct {
</a><a href="#h134-0-156" id="h134-0-156" class="d">-	*CheckerInfo
</a><a href="#h134-0-157" id="h134-0-157" class="d">-}
</a><a href="#h134-0-158" id="h134-0-158" class="d">-
</a><a href="#h134-0-159" id="h134-0-159" class="d">-// The Equals checker verifies that the obtained value is equal to
</a><a href="#h134-0-160" id="h134-0-160" class="d">-// the expected value, according to usual Go semantics for ==.
</a><a href="#h134-0-161" id="h134-0-161" class="d">-//
</a><a href="#h134-0-162" id="h134-0-162" class="d">-// For example:
</a><a href="#h134-0-163" id="h134-0-163" class="d">-//
</a><a href="#h134-0-164" id="h134-0-164" class="d">-//     c.Assert(value, Equals, 42)
</a><a href="#h134-0-165" id="h134-0-165" class="d">-//
</a><a href="#h134-0-166" id="h134-0-166" class="d">-var Equals Checker = &amp;equalsChecker{
</a><a href="#h134-0-167" id="h134-0-167" class="d">-	&amp;CheckerInfo{Name: &quot;Equals&quot;, Params: []string{&quot;obtained&quot;, &quot;expected&quot;}},
</a><a href="#h134-0-168" id="h134-0-168" class="d">-}
</a><a href="#h134-0-169" id="h134-0-169" class="d">-
</a><a href="#h134-0-170" id="h134-0-170" class="d">-func (checker *equalsChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-171" id="h134-0-171" class="d">-	defer func() {
</a><a href="#h134-0-172" id="h134-0-172" class="d">-		if v := recover(); v != nil {
</a><a href="#h134-0-173" id="h134-0-173" class="d">-			result = false
</a><a href="#h134-0-174" id="h134-0-174" class="d">-			error = fmt.Sprint(v)
</a><a href="#h134-0-175" id="h134-0-175" class="d">-		}
</a><a href="#h134-0-176" id="h134-0-176" class="d">-	}()
</a><a href="#h134-0-177" id="h134-0-177" class="d">-	return params[0] == params[1], &quot;&quot;
</a><a href="#h134-0-178" id="h134-0-178" class="d">-}
</a><a href="#h134-0-179" id="h134-0-179" class="d">-
</a><a href="#h134-0-180" id="h134-0-180" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-181" id="h134-0-181" class="d">-// DeepEquals checker.
</a><a href="#h134-0-182" id="h134-0-182" class="d">-
</a><a href="#h134-0-183" id="h134-0-183" class="d">-type deepEqualsChecker struct {
</a><a href="#h134-0-184" id="h134-0-184" class="d">-	*CheckerInfo
</a><a href="#h134-0-185" id="h134-0-185" class="d">-}
</a><a href="#h134-0-186" id="h134-0-186" class="d">-
</a><a href="#h134-0-187" id="h134-0-187" class="d">-// The DeepEquals checker verifies that the obtained value is deep-equal to
</a><a href="#h134-0-188" id="h134-0-188" class="d">-// the expected value.  The check will work correctly even when facing
</a><a href="#h134-0-189" id="h134-0-189" class="d">-// slices, interfaces, and values of different types (which always fail
</a><a href="#h134-0-190" id="h134-0-190" class="d">-// the test).
</a><a href="#h134-0-191" id="h134-0-191" class="d">-//
</a><a href="#h134-0-192" id="h134-0-192" class="d">-// For example:
</a><a href="#h134-0-193" id="h134-0-193" class="d">-//
</a><a href="#h134-0-194" id="h134-0-194" class="d">-//     c.Assert(value, DeepEquals, 42)
</a><a href="#h134-0-195" id="h134-0-195" class="d">-//     c.Assert(array, DeepEquals, []string{&quot;hi&quot;, &quot;there&quot;})
</a><a href="#h134-0-196" id="h134-0-196" class="d">-//
</a><a href="#h134-0-197" id="h134-0-197" class="d">-var DeepEquals Checker = &amp;deepEqualsChecker{
</a><a href="#h134-0-198" id="h134-0-198" class="d">-	&amp;CheckerInfo{Name: &quot;DeepEquals&quot;, Params: []string{&quot;obtained&quot;, &quot;expected&quot;}},
</a><a href="#h134-0-199" id="h134-0-199" class="d">-}
</a><a href="#h134-0-200" id="h134-0-200" class="d">-
</a><a href="#h134-0-201" id="h134-0-201" class="d">-func (checker *deepEqualsChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-202" id="h134-0-202" class="d">-	return reflect.DeepEqual(params[0], params[1]), &quot;&quot;
</a><a href="#h134-0-203" id="h134-0-203" class="d">-}
</a><a href="#h134-0-204" id="h134-0-204" class="d">-
</a><a href="#h134-0-205" id="h134-0-205" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-206" id="h134-0-206" class="d">-// HasLen checker.
</a><a href="#h134-0-207" id="h134-0-207" class="d">-
</a><a href="#h134-0-208" id="h134-0-208" class="d">-type hasLenChecker struct {
</a><a href="#h134-0-209" id="h134-0-209" class="d">-	*CheckerInfo
</a><a href="#h134-0-210" id="h134-0-210" class="d">-}
</a><a href="#h134-0-211" id="h134-0-211" class="d">-
</a><a href="#h134-0-212" id="h134-0-212" class="d">-// The HasLen checker verifies that the obtained value has the
</a><a href="#h134-0-213" id="h134-0-213" class="d">-// provided length. In many cases this is superior to using Equals
</a><a href="#h134-0-214" id="h134-0-214" class="d">-// in conjuction with the len function because in case the check
</a><a href="#h134-0-215" id="h134-0-215" class="d">-// fails the value itself will be printed, instead of its length,
</a><a href="#h134-0-216" id="h134-0-216" class="d">-// providing more details for figuring the problem.
</a><a href="#h134-0-217" id="h134-0-217" class="d">-//
</a><a href="#h134-0-218" id="h134-0-218" class="d">-// For example:
</a><a href="#h134-0-219" id="h134-0-219" class="d">-//
</a><a href="#h134-0-220" id="h134-0-220" class="d">-//     c.Assert(list, HasLen, 5)
</a><a href="#h134-0-221" id="h134-0-221" class="d">-//
</a><a href="#h134-0-222" id="h134-0-222" class="d">-var HasLen Checker = &amp;hasLenChecker{
</a><a href="#h134-0-223" id="h134-0-223" class="d">-	&amp;CheckerInfo{Name: &quot;HasLen&quot;, Params: []string{&quot;obtained&quot;, &quot;n&quot;}},
</a><a href="#h134-0-224" id="h134-0-224" class="d">-}
</a><a href="#h134-0-225" id="h134-0-225" class="d">-
</a><a href="#h134-0-226" id="h134-0-226" class="d">-func (checker *hasLenChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-227" id="h134-0-227" class="d">-	n, ok := params[1].(int)
</a><a href="#h134-0-228" id="h134-0-228" class="d">-	if !ok {
</a><a href="#h134-0-229" id="h134-0-229" class="d">-		return false, &quot;n must be an int&quot;
</a><a href="#h134-0-230" id="h134-0-230" class="d">-	}
</a><a href="#h134-0-231" id="h134-0-231" class="d">-	value := reflect.ValueOf(params[0])
</a><a href="#h134-0-232" id="h134-0-232" class="d">-	switch value.Kind() {
</a><a href="#h134-0-233" id="h134-0-233" class="d">-	case reflect.Map, reflect.Array, reflect.Slice, reflect.Chan, reflect.String:
</a><a href="#h134-0-234" id="h134-0-234" class="d">-	default:
</a><a href="#h134-0-235" id="h134-0-235" class="d">-		return false, &quot;obtained value type has no length&quot;
</a><a href="#h134-0-236" id="h134-0-236" class="d">-	}
</a><a href="#h134-0-237" id="h134-0-237" class="d">-	return value.Len() == n, &quot;&quot;
</a><a href="#h134-0-238" id="h134-0-238" class="d">-}
</a><a href="#h134-0-239" id="h134-0-239" class="d">-
</a><a href="#h134-0-240" id="h134-0-240" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-241" id="h134-0-241" class="d">-// ErrorMatches checker.
</a><a href="#h134-0-242" id="h134-0-242" class="d">-
</a><a href="#h134-0-243" id="h134-0-243" class="d">-type errorMatchesChecker struct {
</a><a href="#h134-0-244" id="h134-0-244" class="d">-	*CheckerInfo
</a><a href="#h134-0-245" id="h134-0-245" class="d">-}
</a><a href="#h134-0-246" id="h134-0-246" class="d">-
</a><a href="#h134-0-247" id="h134-0-247" class="d">-// The ErrorMatches checker verifies that the error value
</a><a href="#h134-0-248" id="h134-0-248" class="d">-// is non nil and matches the regular expression provided.
</a><a href="#h134-0-249" id="h134-0-249" class="d">-//
</a><a href="#h134-0-250" id="h134-0-250" class="d">-// For example:
</a><a href="#h134-0-251" id="h134-0-251" class="d">-//
</a><a href="#h134-0-252" id="h134-0-252" class="d">-//     c.Assert(err, ErrorMatches, &quot;perm.*denied&quot;)
</a><a href="#h134-0-253" id="h134-0-253" class="d">-//
</a><a href="#h134-0-254" id="h134-0-254" class="d">-var ErrorMatches Checker = errorMatchesChecker{
</a><a href="#h134-0-255" id="h134-0-255" class="d">-	&amp;CheckerInfo{Name: &quot;ErrorMatches&quot;, Params: []string{&quot;value&quot;, &quot;regex&quot;}},
</a><a href="#h134-0-256" id="h134-0-256" class="d">-}
</a><a href="#h134-0-257" id="h134-0-257" class="d">-
</a><a href="#h134-0-258" id="h134-0-258" class="d">-func (checker errorMatchesChecker) Check(params []interface{}, names []string) (result bool, errStr string) {
</a><a href="#h134-0-259" id="h134-0-259" class="d">-	if params[0] == nil {
</a><a href="#h134-0-260" id="h134-0-260" class="d">-		return false, &quot;Error value is nil&quot;
</a><a href="#h134-0-261" id="h134-0-261" class="d">-	}
</a><a href="#h134-0-262" id="h134-0-262" class="d">-	err, ok := params[0].(error)
</a><a href="#h134-0-263" id="h134-0-263" class="d">-	if !ok {
</a><a href="#h134-0-264" id="h134-0-264" class="d">-		return false, &quot;Value is not an error&quot;
</a><a href="#h134-0-265" id="h134-0-265" class="d">-	}
</a><a href="#h134-0-266" id="h134-0-266" class="d">-	params[0] = err.Error()
</a><a href="#h134-0-267" id="h134-0-267" class="d">-	names[0] = &quot;error&quot;
</a><a href="#h134-0-268" id="h134-0-268" class="d">-	return matches(params[0], params[1])
</a><a href="#h134-0-269" id="h134-0-269" class="d">-}
</a><a href="#h134-0-270" id="h134-0-270" class="d">-
</a><a href="#h134-0-271" id="h134-0-271" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-272" id="h134-0-272" class="d">-// Matches checker.
</a><a href="#h134-0-273" id="h134-0-273" class="d">-
</a><a href="#h134-0-274" id="h134-0-274" class="d">-type matchesChecker struct {
</a><a href="#h134-0-275" id="h134-0-275" class="d">-	*CheckerInfo
</a><a href="#h134-0-276" id="h134-0-276" class="d">-}
</a><a href="#h134-0-277" id="h134-0-277" class="d">-
</a><a href="#h134-0-278" id="h134-0-278" class="d">-// The Matches checker verifies that the string provided as the obtained
</a><a href="#h134-0-279" id="h134-0-279" class="d">-// value (or the string resulting from obtained.String()) matches the
</a><a href="#h134-0-280" id="h134-0-280" class="d">-// regular expression provided.
</a><a href="#h134-0-281" id="h134-0-281" class="d">-//
</a><a href="#h134-0-282" id="h134-0-282" class="d">-// For example:
</a><a href="#h134-0-283" id="h134-0-283" class="d">-//
</a><a href="#h134-0-284" id="h134-0-284" class="d">-//     c.Assert(err, Matches, &quot;perm.*denied&quot;)
</a><a href="#h134-0-285" id="h134-0-285" class="d">-//
</a><a href="#h134-0-286" id="h134-0-286" class="d">-var Matches Checker = &amp;matchesChecker{
</a><a href="#h134-0-287" id="h134-0-287" class="d">-	&amp;CheckerInfo{Name: &quot;Matches&quot;, Params: []string{&quot;value&quot;, &quot;regex&quot;}},
</a><a href="#h134-0-288" id="h134-0-288" class="d">-}
</a><a href="#h134-0-289" id="h134-0-289" class="d">-
</a><a href="#h134-0-290" id="h134-0-290" class="d">-func (checker *matchesChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-291" id="h134-0-291" class="d">-	return matches(params[0], params[1])
</a><a href="#h134-0-292" id="h134-0-292" class="d">-}
</a><a href="#h134-0-293" id="h134-0-293" class="d">-
</a><a href="#h134-0-294" id="h134-0-294" class="d">-func matches(value, regex interface{}) (result bool, error string) {
</a><a href="#h134-0-295" id="h134-0-295" class="d">-	reStr, ok := regex.(string)
</a><a href="#h134-0-296" id="h134-0-296" class="d">-	if !ok {
</a><a href="#h134-0-297" id="h134-0-297" class="d">-		return false, &quot;Regex must be a string&quot;
</a><a href="#h134-0-298" id="h134-0-298" class="d">-	}
</a><a href="#h134-0-299" id="h134-0-299" class="d">-	valueStr, valueIsStr := value.(string)
</a><a href="#h134-0-300" id="h134-0-300" class="d">-	if !valueIsStr {
</a><a href="#h134-0-301" id="h134-0-301" class="d">-		if valueWithStr, valueHasStr := value.(fmt.Stringer); valueHasStr {
</a><a href="#h134-0-302" id="h134-0-302" class="d">-			valueStr, valueIsStr = valueWithStr.String(), true
</a><a href="#h134-0-303" id="h134-0-303" class="d">-		}
</a><a href="#h134-0-304" id="h134-0-304" class="d">-	}
</a><a href="#h134-0-305" id="h134-0-305" class="d">-	if valueIsStr {
</a><a href="#h134-0-306" id="h134-0-306" class="d">-		matches, err := regexp.MatchString(&quot;^&quot;+reStr+&quot;$&quot;, valueStr)
</a><a href="#h134-0-307" id="h134-0-307" class="d">-		if err != nil {
</a><a href="#h134-0-308" id="h134-0-308" class="d">-			return false, &quot;Can&#39;t compile regex: &quot; + err.Error()
</a><a href="#h134-0-309" id="h134-0-309" class="d">-		}
</a><a href="#h134-0-310" id="h134-0-310" class="d">-		return matches, &quot;&quot;
</a><a href="#h134-0-311" id="h134-0-311" class="d">-	}
</a><a href="#h134-0-312" id="h134-0-312" class="d">-	return false, &quot;Obtained value is not a string and has no .String()&quot;
</a><a href="#h134-0-313" id="h134-0-313" class="d">-}
</a><a href="#h134-0-314" id="h134-0-314" class="d">-
</a><a href="#h134-0-315" id="h134-0-315" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-316" id="h134-0-316" class="d">-// Panics checker.
</a><a href="#h134-0-317" id="h134-0-317" class="d">-
</a><a href="#h134-0-318" id="h134-0-318" class="d">-type panicsChecker struct {
</a><a href="#h134-0-319" id="h134-0-319" class="d">-	*CheckerInfo
</a><a href="#h134-0-320" id="h134-0-320" class="d">-}
</a><a href="#h134-0-321" id="h134-0-321" class="d">-
</a><a href="#h134-0-322" id="h134-0-322" class="d">-// The Panics checker verifies that calling the provided zero-argument
</a><a href="#h134-0-323" id="h134-0-323" class="d">-// function will cause a panic which is deep-equal to the provided value.
</a><a href="#h134-0-324" id="h134-0-324" class="d">-//
</a><a href="#h134-0-325" id="h134-0-325" class="d">-// For example:
</a><a href="#h134-0-326" id="h134-0-326" class="d">-//
</a><a href="#h134-0-327" id="h134-0-327" class="d">-//     c.Assert(func() { f(1, 2) }, Panics, &amp;SomeErrorType{&quot;BOOM&quot;}).
</a><a href="#h134-0-328" id="h134-0-328" class="d">-//
</a><a href="#h134-0-329" id="h134-0-329" class="d">-//
</a><a href="#h134-0-330" id="h134-0-330" class="d">-var Panics Checker = &amp;panicsChecker{
</a><a href="#h134-0-331" id="h134-0-331" class="d">-	&amp;CheckerInfo{Name: &quot;Panics&quot;, Params: []string{&quot;function&quot;, &quot;expected&quot;}},
</a><a href="#h134-0-332" id="h134-0-332" class="d">-}
</a><a href="#h134-0-333" id="h134-0-333" class="d">-
</a><a href="#h134-0-334" id="h134-0-334" class="d">-func (checker *panicsChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-335" id="h134-0-335" class="d">-	f := reflect.ValueOf(params[0])
</a><a href="#h134-0-336" id="h134-0-336" class="d">-	if f.Kind() != reflect.Func || f.Type().NumIn() != 0 {
</a><a href="#h134-0-337" id="h134-0-337" class="d">-		return false, &quot;Function must take zero arguments&quot;
</a><a href="#h134-0-338" id="h134-0-338" class="d">-	}
</a><a href="#h134-0-339" id="h134-0-339" class="d">-	defer func() {
</a><a href="#h134-0-340" id="h134-0-340" class="d">-		// If the function has not panicked, then don&#39;t do the check.
</a><a href="#h134-0-341" id="h134-0-341" class="d">-		if error != &quot;&quot; {
</a><a href="#h134-0-342" id="h134-0-342" class="d">-			return
</a><a href="#h134-0-343" id="h134-0-343" class="d">-		}
</a><a href="#h134-0-344" id="h134-0-344" class="d">-		params[0] = recover()
</a><a href="#h134-0-345" id="h134-0-345" class="d">-		names[0] = &quot;panic&quot;
</a><a href="#h134-0-346" id="h134-0-346" class="d">-		result = reflect.DeepEqual(params[0], params[1])
</a><a href="#h134-0-347" id="h134-0-347" class="d">-	}()
</a><a href="#h134-0-348" id="h134-0-348" class="d">-	f.Call(nil)
</a><a href="#h134-0-349" id="h134-0-349" class="d">-	return false, &quot;Function has not panicked&quot;
</a><a href="#h134-0-350" id="h134-0-350" class="d">-}
</a><a href="#h134-0-351" id="h134-0-351" class="d">-
</a><a href="#h134-0-352" id="h134-0-352" class="d">-type panicMatchesChecker struct {
</a><a href="#h134-0-353" id="h134-0-353" class="d">-	*CheckerInfo
</a><a href="#h134-0-354" id="h134-0-354" class="d">-}
</a><a href="#h134-0-355" id="h134-0-355" class="d">-
</a><a href="#h134-0-356" id="h134-0-356" class="d">-// The PanicMatches checker verifies that calling the provided zero-argument
</a><a href="#h134-0-357" id="h134-0-357" class="d">-// function will cause a panic with an error value matching
</a><a href="#h134-0-358" id="h134-0-358" class="d">-// the regular expression provided.
</a><a href="#h134-0-359" id="h134-0-359" class="d">-//
</a><a href="#h134-0-360" id="h134-0-360" class="d">-// For example:
</a><a href="#h134-0-361" id="h134-0-361" class="d">-//
</a><a href="#h134-0-362" id="h134-0-362" class="d">-//     c.Assert(func() { f(1, 2) }, PanicMatches, `open.*: no such file or directory`).
</a><a href="#h134-0-363" id="h134-0-363" class="d">-//
</a><a href="#h134-0-364" id="h134-0-364" class="d">-//
</a><a href="#h134-0-365" id="h134-0-365" class="d">-var PanicMatches Checker = &amp;panicMatchesChecker{
</a><a href="#h134-0-366" id="h134-0-366" class="d">-	&amp;CheckerInfo{Name: &quot;PanicMatches&quot;, Params: []string{&quot;function&quot;, &quot;expected&quot;}},
</a><a href="#h134-0-367" id="h134-0-367" class="d">-}
</a><a href="#h134-0-368" id="h134-0-368" class="d">-
</a><a href="#h134-0-369" id="h134-0-369" class="d">-func (checker *panicMatchesChecker) Check(params []interface{}, names []string) (result bool, errmsg string) {
</a><a href="#h134-0-370" id="h134-0-370" class="d">-	f := reflect.ValueOf(params[0])
</a><a href="#h134-0-371" id="h134-0-371" class="d">-	if f.Kind() != reflect.Func || f.Type().NumIn() != 0 {
</a><a href="#h134-0-372" id="h134-0-372" class="d">-		return false, &quot;Function must take zero arguments&quot;
</a><a href="#h134-0-373" id="h134-0-373" class="d">-	}
</a><a href="#h134-0-374" id="h134-0-374" class="d">-	defer func() {
</a><a href="#h134-0-375" id="h134-0-375" class="d">-		// If the function has not panicked, then don&#39;t do the check.
</a><a href="#h134-0-376" id="h134-0-376" class="d">-		if errmsg != &quot;&quot; {
</a><a href="#h134-0-377" id="h134-0-377" class="d">-			return
</a><a href="#h134-0-378" id="h134-0-378" class="d">-		}
</a><a href="#h134-0-379" id="h134-0-379" class="d">-		obtained := recover()
</a><a href="#h134-0-380" id="h134-0-380" class="d">-		names[0] = &quot;panic&quot;
</a><a href="#h134-0-381" id="h134-0-381" class="d">-		if e, ok := obtained.(error); ok {
</a><a href="#h134-0-382" id="h134-0-382" class="d">-			params[0] = e.Error()
</a><a href="#h134-0-383" id="h134-0-383" class="d">-		} else if _, ok := obtained.(string); ok {
</a><a href="#h134-0-384" id="h134-0-384" class="d">-			params[0] = obtained
</a><a href="#h134-0-385" id="h134-0-385" class="d">-		} else {
</a><a href="#h134-0-386" id="h134-0-386" class="d">-			errmsg = &quot;Panic value is not a string or an error&quot;
</a><a href="#h134-0-387" id="h134-0-387" class="d">-			return
</a><a href="#h134-0-388" id="h134-0-388" class="d">-		}
</a><a href="#h134-0-389" id="h134-0-389" class="d">-		result, errmsg = matches(params[0], params[1])
</a><a href="#h134-0-390" id="h134-0-390" class="d">-	}()
</a><a href="#h134-0-391" id="h134-0-391" class="d">-	f.Call(nil)
</a><a href="#h134-0-392" id="h134-0-392" class="d">-	return false, &quot;Function has not panicked&quot;
</a><a href="#h134-0-393" id="h134-0-393" class="d">-}
</a><a href="#h134-0-394" id="h134-0-394" class="d">-
</a><a href="#h134-0-395" id="h134-0-395" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-396" id="h134-0-396" class="d">-// FitsTypeOf checker.
</a><a href="#h134-0-397" id="h134-0-397" class="d">-
</a><a href="#h134-0-398" id="h134-0-398" class="d">-type fitsTypeChecker struct {
</a><a href="#h134-0-399" id="h134-0-399" class="d">-	*CheckerInfo
</a><a href="#h134-0-400" id="h134-0-400" class="d">-}
</a><a href="#h134-0-401" id="h134-0-401" class="d">-
</a><a href="#h134-0-402" id="h134-0-402" class="d">-// The FitsTypeOf checker verifies that the obtained value is
</a><a href="#h134-0-403" id="h134-0-403" class="d">-// assignable to a variable with the same type as the provided
</a><a href="#h134-0-404" id="h134-0-404" class="d">-// sample value.
</a><a href="#h134-0-405" id="h134-0-405" class="d">-//
</a><a href="#h134-0-406" id="h134-0-406" class="d">-// For example:
</a><a href="#h134-0-407" id="h134-0-407" class="d">-//
</a><a href="#h134-0-408" id="h134-0-408" class="d">-//     c.Assert(value, FitsTypeOf, int64(0))
</a><a href="#h134-0-409" id="h134-0-409" class="d">-//     c.Assert(value, FitsTypeOf, os.Error(nil))
</a><a href="#h134-0-410" id="h134-0-410" class="d">-//
</a><a href="#h134-0-411" id="h134-0-411" class="d">-var FitsTypeOf Checker = &amp;fitsTypeChecker{
</a><a href="#h134-0-412" id="h134-0-412" class="d">-	&amp;CheckerInfo{Name: &quot;FitsTypeOf&quot;, Params: []string{&quot;obtained&quot;, &quot;sample&quot;}},
</a><a href="#h134-0-413" id="h134-0-413" class="d">-}
</a><a href="#h134-0-414" id="h134-0-414" class="d">-
</a><a href="#h134-0-415" id="h134-0-415" class="d">-func (checker *fitsTypeChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-416" id="h134-0-416" class="d">-	obtained := reflect.ValueOf(params[0])
</a><a href="#h134-0-417" id="h134-0-417" class="d">-	sample := reflect.ValueOf(params[1])
</a><a href="#h134-0-418" id="h134-0-418" class="d">-	if !obtained.IsValid() {
</a><a href="#h134-0-419" id="h134-0-419" class="d">-		return false, &quot;&quot;
</a><a href="#h134-0-420" id="h134-0-420" class="d">-	}
</a><a href="#h134-0-421" id="h134-0-421" class="d">-	if !sample.IsValid() {
</a><a href="#h134-0-422" id="h134-0-422" class="d">-		return false, &quot;Invalid sample value&quot;
</a><a href="#h134-0-423" id="h134-0-423" class="d">-	}
</a><a href="#h134-0-424" id="h134-0-424" class="d">-	return obtained.Type().AssignableTo(sample.Type()), &quot;&quot;
</a><a href="#h134-0-425" id="h134-0-425" class="d">-}
</a><a href="#h134-0-426" id="h134-0-426" class="d">-
</a><a href="#h134-0-427" id="h134-0-427" class="d">-// -----------------------------------------------------------------------
</a><a href="#h134-0-428" id="h134-0-428" class="d">-// Implements checker.
</a><a href="#h134-0-429" id="h134-0-429" class="d">-
</a><a href="#h134-0-430" id="h134-0-430" class="d">-type implementsChecker struct {
</a><a href="#h134-0-431" id="h134-0-431" class="d">-	*CheckerInfo
</a><a href="#h134-0-432" id="h134-0-432" class="d">-}
</a><a href="#h134-0-433" id="h134-0-433" class="d">-
</a><a href="#h134-0-434" id="h134-0-434" class="d">-// The Implements checker verifies that the obtained value
</a><a href="#h134-0-435" id="h134-0-435" class="d">-// implements the interface specified via a pointer to an interface
</a><a href="#h134-0-436" id="h134-0-436" class="d">-// variable.
</a><a href="#h134-0-437" id="h134-0-437" class="d">-//
</a><a href="#h134-0-438" id="h134-0-438" class="d">-// For example:
</a><a href="#h134-0-439" id="h134-0-439" class="d">-//
</a><a href="#h134-0-440" id="h134-0-440" class="d">-//     var e os.Error
</a><a href="#h134-0-441" id="h134-0-441" class="d">-//     c.Assert(err, Implements, &amp;e)
</a><a href="#h134-0-442" id="h134-0-442" class="d">-//
</a><a href="#h134-0-443" id="h134-0-443" class="d">-var Implements Checker = &amp;implementsChecker{
</a><a href="#h134-0-444" id="h134-0-444" class="d">-	&amp;CheckerInfo{Name: &quot;Implements&quot;, Params: []string{&quot;obtained&quot;, &quot;ifaceptr&quot;}},
</a><a href="#h134-0-445" id="h134-0-445" class="d">-}
</a><a href="#h134-0-446" id="h134-0-446" class="d">-
</a><a href="#h134-0-447" id="h134-0-447" class="d">-func (checker *implementsChecker) Check(params []interface{}, names []string) (result bool, error string) {
</a><a href="#h134-0-448" id="h134-0-448" class="d">-	obtained := reflect.ValueOf(params[0])
</a><a href="#h134-0-449" id="h134-0-449" class="d">-	ifaceptr := reflect.ValueOf(params[1])
</a><a href="#h134-0-450" id="h134-0-450" class="d">-	if !obtained.IsValid() {
</a><a href="#h134-0-451" id="h134-0-451" class="d">-		return false, &quot;&quot;
</a><a href="#h134-0-452" id="h134-0-452" class="d">-	}
</a><a href="#h134-0-453" id="h134-0-453" class="d">-	if !ifaceptr.IsValid() || ifaceptr.Kind() != reflect.Ptr || ifaceptr.Elem().Kind() != reflect.Interface {
</a><a href="#h134-0-454" id="h134-0-454" class="d">-		return false, &quot;ifaceptr should be a pointer to an interface variable&quot;
</a><a href="#h134-0-455" id="h134-0-455" class="d">-	}
</a><a href="#h134-0-456" id="h134-0-456" class="d">-	return obtained.Type().Implements(ifaceptr.Elem().Type()), &quot;&quot;
</a><a href="#h134-0-457" id="h134-0-457" class="d">-}
</a><b>diff --git a/<a id="h135" href="../file/vendor/gopkg.in/check.v1/helpers.go">vendor/gopkg.in/check.v1/helpers.go</a> b/<a href="../file/vendor/gopkg.in/check.v1/helpers.go">vendor/gopkg.in/check.v1/helpers.go</a></b>
<a href="#h135-0" id="h135-0" class="h">@@ -1,231 +0,0 @@
</a><a href="#h135-0-0" id="h135-0-0" class="d">-package check
</a><a href="#h135-0-1" id="h135-0-1" class="d">-
</a><a href="#h135-0-2" id="h135-0-2" class="d">-import (
</a><a href="#h135-0-3" id="h135-0-3" class="d">-	&quot;fmt&quot;
</a><a href="#h135-0-4" id="h135-0-4" class="d">-	&quot;strings&quot;
</a><a href="#h135-0-5" id="h135-0-5" class="d">-	&quot;time&quot;
</a><a href="#h135-0-6" id="h135-0-6" class="d">-)
</a><a href="#h135-0-7" id="h135-0-7" class="d">-
</a><a href="#h135-0-8" id="h135-0-8" class="d">-// TestName returns the current test name in the form &quot;SuiteName.TestName&quot;
</a><a href="#h135-0-9" id="h135-0-9" class="d">-func (c *C) TestName() string {
</a><a href="#h135-0-10" id="h135-0-10" class="d">-	return c.testName
</a><a href="#h135-0-11" id="h135-0-11" class="d">-}
</a><a href="#h135-0-12" id="h135-0-12" class="d">-
</a><a href="#h135-0-13" id="h135-0-13" class="d">-// -----------------------------------------------------------------------
</a><a href="#h135-0-14" id="h135-0-14" class="d">-// Basic succeeding/failing logic.
</a><a href="#h135-0-15" id="h135-0-15" class="d">-
</a><a href="#h135-0-16" id="h135-0-16" class="d">-// Failed returns whether the currently running test has already failed.
</a><a href="#h135-0-17" id="h135-0-17" class="d">-func (c *C) Failed() bool {
</a><a href="#h135-0-18" id="h135-0-18" class="d">-	return c.status() == failedSt
</a><a href="#h135-0-19" id="h135-0-19" class="d">-}
</a><a href="#h135-0-20" id="h135-0-20" class="d">-
</a><a href="#h135-0-21" id="h135-0-21" class="d">-// Fail marks the currently running test as failed.
</a><a href="#h135-0-22" id="h135-0-22" class="d">-//
</a><a href="#h135-0-23" id="h135-0-23" class="d">-// Something ought to have been previously logged so the developer can tell
</a><a href="#h135-0-24" id="h135-0-24" class="d">-// what went wrong. The higher level helper functions will fail the test
</a><a href="#h135-0-25" id="h135-0-25" class="d">-// and do the logging properly.
</a><a href="#h135-0-26" id="h135-0-26" class="d">-func (c *C) Fail() {
</a><a href="#h135-0-27" id="h135-0-27" class="d">-	c.setStatus(failedSt)
</a><a href="#h135-0-28" id="h135-0-28" class="d">-}
</a><a href="#h135-0-29" id="h135-0-29" class="d">-
</a><a href="#h135-0-30" id="h135-0-30" class="d">-// FailNow marks the currently running test as failed and stops running it.
</a><a href="#h135-0-31" id="h135-0-31" class="d">-// Something ought to have been previously logged so the developer can tell
</a><a href="#h135-0-32" id="h135-0-32" class="d">-// what went wrong. The higher level helper functions will fail the test
</a><a href="#h135-0-33" id="h135-0-33" class="d">-// and do the logging properly.
</a><a href="#h135-0-34" id="h135-0-34" class="d">-func (c *C) FailNow() {
</a><a href="#h135-0-35" id="h135-0-35" class="d">-	c.Fail()
</a><a href="#h135-0-36" id="h135-0-36" class="d">-	c.stopNow()
</a><a href="#h135-0-37" id="h135-0-37" class="d">-}
</a><a href="#h135-0-38" id="h135-0-38" class="d">-
</a><a href="#h135-0-39" id="h135-0-39" class="d">-// Succeed marks the currently running test as succeeded, undoing any
</a><a href="#h135-0-40" id="h135-0-40" class="d">-// previous failures.
</a><a href="#h135-0-41" id="h135-0-41" class="d">-func (c *C) Succeed() {
</a><a href="#h135-0-42" id="h135-0-42" class="d">-	c.setStatus(succeededSt)
</a><a href="#h135-0-43" id="h135-0-43" class="d">-}
</a><a href="#h135-0-44" id="h135-0-44" class="d">-
</a><a href="#h135-0-45" id="h135-0-45" class="d">-// SucceedNow marks the currently running test as succeeded, undoing any
</a><a href="#h135-0-46" id="h135-0-46" class="d">-// previous failures, and stops running the test.
</a><a href="#h135-0-47" id="h135-0-47" class="d">-func (c *C) SucceedNow() {
</a><a href="#h135-0-48" id="h135-0-48" class="d">-	c.Succeed()
</a><a href="#h135-0-49" id="h135-0-49" class="d">-	c.stopNow()
</a><a href="#h135-0-50" id="h135-0-50" class="d">-}
</a><a href="#h135-0-51" id="h135-0-51" class="d">-
</a><a href="#h135-0-52" id="h135-0-52" class="d">-// ExpectFailure informs that the running test is knowingly broken for
</a><a href="#h135-0-53" id="h135-0-53" class="d">-// the provided reason. If the test does not fail, an error will be reported
</a><a href="#h135-0-54" id="h135-0-54" class="d">-// to raise attention to this fact. This method is useful to temporarily
</a><a href="#h135-0-55" id="h135-0-55" class="d">-// disable tests which cover well known problems until a better time to
</a><a href="#h135-0-56" id="h135-0-56" class="d">-// fix the problem is found, without forgetting about the fact that a
</a><a href="#h135-0-57" id="h135-0-57" class="d">-// failure still exists.
</a><a href="#h135-0-58" id="h135-0-58" class="d">-func (c *C) ExpectFailure(reason string) {
</a><a href="#h135-0-59" id="h135-0-59" class="d">-	if reason == &quot;&quot; {
</a><a href="#h135-0-60" id="h135-0-60" class="d">-		panic(&quot;Missing reason why the test is expected to fail&quot;)
</a><a href="#h135-0-61" id="h135-0-61" class="d">-	}
</a><a href="#h135-0-62" id="h135-0-62" class="d">-	c.mustFail = true
</a><a href="#h135-0-63" id="h135-0-63" class="d">-	c.reason = reason
</a><a href="#h135-0-64" id="h135-0-64" class="d">-}
</a><a href="#h135-0-65" id="h135-0-65" class="d">-
</a><a href="#h135-0-66" id="h135-0-66" class="d">-// Skip skips the running test for the provided reason. If run from within
</a><a href="#h135-0-67" id="h135-0-67" class="d">-// SetUpTest, the individual test being set up will be skipped, and if run
</a><a href="#h135-0-68" id="h135-0-68" class="d">-// from within SetUpSuite, the whole suite is skipped.
</a><a href="#h135-0-69" id="h135-0-69" class="d">-func (c *C) Skip(reason string) {
</a><a href="#h135-0-70" id="h135-0-70" class="d">-	if reason == &quot;&quot; {
</a><a href="#h135-0-71" id="h135-0-71" class="d">-		panic(&quot;Missing reason why the test is being skipped&quot;)
</a><a href="#h135-0-72" id="h135-0-72" class="d">-	}
</a><a href="#h135-0-73" id="h135-0-73" class="d">-	c.reason = reason
</a><a href="#h135-0-74" id="h135-0-74" class="d">-	c.setStatus(skippedSt)
</a><a href="#h135-0-75" id="h135-0-75" class="d">-	c.stopNow()
</a><a href="#h135-0-76" id="h135-0-76" class="d">-}
</a><a href="#h135-0-77" id="h135-0-77" class="d">-
</a><a href="#h135-0-78" id="h135-0-78" class="d">-// -----------------------------------------------------------------------
</a><a href="#h135-0-79" id="h135-0-79" class="d">-// Basic logging.
</a><a href="#h135-0-80" id="h135-0-80" class="d">-
</a><a href="#h135-0-81" id="h135-0-81" class="d">-// GetTestLog returns the current test error output.
</a><a href="#h135-0-82" id="h135-0-82" class="d">-func (c *C) GetTestLog() string {
</a><a href="#h135-0-83" id="h135-0-83" class="d">-	return c.logb.String()
</a><a href="#h135-0-84" id="h135-0-84" class="d">-}
</a><a href="#h135-0-85" id="h135-0-85" class="d">-
</a><a href="#h135-0-86" id="h135-0-86" class="d">-// Log logs some information into the test error output.
</a><a href="#h135-0-87" id="h135-0-87" class="d">-// The provided arguments are assembled together into a string with fmt.Sprint.
</a><a href="#h135-0-88" id="h135-0-88" class="d">-func (c *C) Log(args ...interface{}) {
</a><a href="#h135-0-89" id="h135-0-89" class="d">-	c.log(args...)
</a><a href="#h135-0-90" id="h135-0-90" class="d">-}
</a><a href="#h135-0-91" id="h135-0-91" class="d">-
</a><a href="#h135-0-92" id="h135-0-92" class="d">-// Log logs some information into the test error output.
</a><a href="#h135-0-93" id="h135-0-93" class="d">-// The provided arguments are assembled together into a string with fmt.Sprintf.
</a><a href="#h135-0-94" id="h135-0-94" class="d">-func (c *C) Logf(format string, args ...interface{}) {
</a><a href="#h135-0-95" id="h135-0-95" class="d">-	c.logf(format, args...)
</a><a href="#h135-0-96" id="h135-0-96" class="d">-}
</a><a href="#h135-0-97" id="h135-0-97" class="d">-
</a><a href="#h135-0-98" id="h135-0-98" class="d">-// Output enables *C to be used as a logger in functions that require only
</a><a href="#h135-0-99" id="h135-0-99" class="d">-// the minimum interface of *log.Logger.
</a><a href="#h135-0-100" id="h135-0-100" class="d">-func (c *C) Output(calldepth int, s string) error {
</a><a href="#h135-0-101" id="h135-0-101" class="d">-	d := time.Now().Sub(c.startTime)
</a><a href="#h135-0-102" id="h135-0-102" class="d">-	msec := d / time.Millisecond
</a><a href="#h135-0-103" id="h135-0-103" class="d">-	sec := d / time.Second
</a><a href="#h135-0-104" id="h135-0-104" class="d">-	min := d / time.Minute
</a><a href="#h135-0-105" id="h135-0-105" class="d">-
</a><a href="#h135-0-106" id="h135-0-106" class="d">-	c.Logf(&quot;[LOG] %d:%02d.%03d %s&quot;, min, sec%60, msec%1000, s)
</a><a href="#h135-0-107" id="h135-0-107" class="d">-	return nil
</a><a href="#h135-0-108" id="h135-0-108" class="d">-}
</a><a href="#h135-0-109" id="h135-0-109" class="d">-
</a><a href="#h135-0-110" id="h135-0-110" class="d">-// Error logs an error into the test error output and marks the test as failed.
</a><a href="#h135-0-111" id="h135-0-111" class="d">-// The provided arguments are assembled together into a string with fmt.Sprint.
</a><a href="#h135-0-112" id="h135-0-112" class="d">-func (c *C) Error(args ...interface{}) {
</a><a href="#h135-0-113" id="h135-0-113" class="d">-	c.logCaller(1)
</a><a href="#h135-0-114" id="h135-0-114" class="d">-	c.logString(fmt.Sprint(&quot;Error: &quot;, fmt.Sprint(args...)))
</a><a href="#h135-0-115" id="h135-0-115" class="d">-	c.logNewLine()
</a><a href="#h135-0-116" id="h135-0-116" class="d">-	c.Fail()
</a><a href="#h135-0-117" id="h135-0-117" class="d">-}
</a><a href="#h135-0-118" id="h135-0-118" class="d">-
</a><a href="#h135-0-119" id="h135-0-119" class="d">-// Errorf logs an error into the test error output and marks the test as failed.
</a><a href="#h135-0-120" id="h135-0-120" class="d">-// The provided arguments are assembled together into a string with fmt.Sprintf.
</a><a href="#h135-0-121" id="h135-0-121" class="d">-func (c *C) Errorf(format string, args ...interface{}) {
</a><a href="#h135-0-122" id="h135-0-122" class="d">-	c.logCaller(1)
</a><a href="#h135-0-123" id="h135-0-123" class="d">-	c.logString(fmt.Sprintf(&quot;Error: &quot;+format, args...))
</a><a href="#h135-0-124" id="h135-0-124" class="d">-	c.logNewLine()
</a><a href="#h135-0-125" id="h135-0-125" class="d">-	c.Fail()
</a><a href="#h135-0-126" id="h135-0-126" class="d">-}
</a><a href="#h135-0-127" id="h135-0-127" class="d">-
</a><a href="#h135-0-128" id="h135-0-128" class="d">-// Fatal logs an error into the test error output, marks the test as failed, and
</a><a href="#h135-0-129" id="h135-0-129" class="d">-// stops the test execution. The provided arguments are assembled together into
</a><a href="#h135-0-130" id="h135-0-130" class="d">-// a string with fmt.Sprint.
</a><a href="#h135-0-131" id="h135-0-131" class="d">-func (c *C) Fatal(args ...interface{}) {
</a><a href="#h135-0-132" id="h135-0-132" class="d">-	c.logCaller(1)
</a><a href="#h135-0-133" id="h135-0-133" class="d">-	c.logString(fmt.Sprint(&quot;Error: &quot;, fmt.Sprint(args...)))
</a><a href="#h135-0-134" id="h135-0-134" class="d">-	c.logNewLine()
</a><a href="#h135-0-135" id="h135-0-135" class="d">-	c.FailNow()
</a><a href="#h135-0-136" id="h135-0-136" class="d">-}
</a><a href="#h135-0-137" id="h135-0-137" class="d">-
</a><a href="#h135-0-138" id="h135-0-138" class="d">-// Fatlaf logs an error into the test error output, marks the test as failed, and
</a><a href="#h135-0-139" id="h135-0-139" class="d">-// stops the test execution. The provided arguments are assembled together into
</a><a href="#h135-0-140" id="h135-0-140" class="d">-// a string with fmt.Sprintf.
</a><a href="#h135-0-141" id="h135-0-141" class="d">-func (c *C) Fatalf(format string, args ...interface{}) {
</a><a href="#h135-0-142" id="h135-0-142" class="d">-	c.logCaller(1)
</a><a href="#h135-0-143" id="h135-0-143" class="d">-	c.logString(fmt.Sprint(&quot;Error: &quot;, fmt.Sprintf(format, args...)))
</a><a href="#h135-0-144" id="h135-0-144" class="d">-	c.logNewLine()
</a><a href="#h135-0-145" id="h135-0-145" class="d">-	c.FailNow()
</a><a href="#h135-0-146" id="h135-0-146" class="d">-}
</a><a href="#h135-0-147" id="h135-0-147" class="d">-
</a><a href="#h135-0-148" id="h135-0-148" class="d">-// -----------------------------------------------------------------------
</a><a href="#h135-0-149" id="h135-0-149" class="d">-// Generic checks and assertions based on checkers.
</a><a href="#h135-0-150" id="h135-0-150" class="d">-
</a><a href="#h135-0-151" id="h135-0-151" class="d">-// Check verifies if the first value matches the expected value according
</a><a href="#h135-0-152" id="h135-0-152" class="d">-// to the provided checker. If they do not match, an error is logged, the
</a><a href="#h135-0-153" id="h135-0-153" class="d">-// test is marked as failed, and the test execution continues.
</a><a href="#h135-0-154" id="h135-0-154" class="d">-//
</a><a href="#h135-0-155" id="h135-0-155" class="d">-// Some checkers may not need the expected argument (e.g. IsNil).
</a><a href="#h135-0-156" id="h135-0-156" class="d">-//
</a><a href="#h135-0-157" id="h135-0-157" class="d">-// Extra arguments provided to the function are logged next to the reported
</a><a href="#h135-0-158" id="h135-0-158" class="d">-// problem when the matching fails.
</a><a href="#h135-0-159" id="h135-0-159" class="d">-func (c *C) Check(obtained interface{}, checker Checker, args ...interface{}) bool {
</a><a href="#h135-0-160" id="h135-0-160" class="d">-	return c.internalCheck(&quot;Check&quot;, obtained, checker, args...)
</a><a href="#h135-0-161" id="h135-0-161" class="d">-}
</a><a href="#h135-0-162" id="h135-0-162" class="d">-
</a><a href="#h135-0-163" id="h135-0-163" class="d">-// Assert ensures that the first value matches the expected value according
</a><a href="#h135-0-164" id="h135-0-164" class="d">-// to the provided checker. If they do not match, an error is logged, the
</a><a href="#h135-0-165" id="h135-0-165" class="d">-// test is marked as failed, and the test execution stops.
</a><a href="#h135-0-166" id="h135-0-166" class="d">-//
</a><a href="#h135-0-167" id="h135-0-167" class="d">-// Some checkers may not need the expected argument (e.g. IsNil).
</a><a href="#h135-0-168" id="h135-0-168" class="d">-//
</a><a href="#h135-0-169" id="h135-0-169" class="d">-// Extra arguments provided to the function are logged next to the reported
</a><a href="#h135-0-170" id="h135-0-170" class="d">-// problem when the matching fails.
</a><a href="#h135-0-171" id="h135-0-171" class="d">-func (c *C) Assert(obtained interface{}, checker Checker, args ...interface{}) {
</a><a href="#h135-0-172" id="h135-0-172" class="d">-	if !c.internalCheck(&quot;Assert&quot;, obtained, checker, args...) {
</a><a href="#h135-0-173" id="h135-0-173" class="d">-		c.stopNow()
</a><a href="#h135-0-174" id="h135-0-174" class="d">-	}
</a><a href="#h135-0-175" id="h135-0-175" class="d">-}
</a><a href="#h135-0-176" id="h135-0-176" class="d">-
</a><a href="#h135-0-177" id="h135-0-177" class="d">-func (c *C) internalCheck(funcName string, obtained interface{}, checker Checker, args ...interface{}) bool {
</a><a href="#h135-0-178" id="h135-0-178" class="d">-	if checker == nil {
</a><a href="#h135-0-179" id="h135-0-179" class="d">-		c.logCaller(2)
</a><a href="#h135-0-180" id="h135-0-180" class="d">-		c.logString(fmt.Sprintf(&quot;%s(obtained, nil!?, ...):&quot;, funcName))
</a><a href="#h135-0-181" id="h135-0-181" class="d">-		c.logString(&quot;Oops.. you&#39;ve provided a nil checker!&quot;)
</a><a href="#h135-0-182" id="h135-0-182" class="d">-		c.logNewLine()
</a><a href="#h135-0-183" id="h135-0-183" class="d">-		c.Fail()
</a><a href="#h135-0-184" id="h135-0-184" class="d">-		return false
</a><a href="#h135-0-185" id="h135-0-185" class="d">-	}
</a><a href="#h135-0-186" id="h135-0-186" class="d">-
</a><a href="#h135-0-187" id="h135-0-187" class="d">-	// If the last argument is a bug info, extract it out.
</a><a href="#h135-0-188" id="h135-0-188" class="d">-	var comment CommentInterface
</a><a href="#h135-0-189" id="h135-0-189" class="d">-	if len(args) &gt; 0 {
</a><a href="#h135-0-190" id="h135-0-190" class="d">-		if c, ok := args[len(args)-1].(CommentInterface); ok {
</a><a href="#h135-0-191" id="h135-0-191" class="d">-			comment = c
</a><a href="#h135-0-192" id="h135-0-192" class="d">-			args = args[:len(args)-1]
</a><a href="#h135-0-193" id="h135-0-193" class="d">-		}
</a><a href="#h135-0-194" id="h135-0-194" class="d">-	}
</a><a href="#h135-0-195" id="h135-0-195" class="d">-
</a><a href="#h135-0-196" id="h135-0-196" class="d">-	params := append([]interface{}{obtained}, args...)
</a><a href="#h135-0-197" id="h135-0-197" class="d">-	info := checker.Info()
</a><a href="#h135-0-198" id="h135-0-198" class="d">-
</a><a href="#h135-0-199" id="h135-0-199" class="d">-	if len(params) != len(info.Params) {
</a><a href="#h135-0-200" id="h135-0-200" class="d">-		names := append([]string{info.Params[0], info.Name}, info.Params[1:]...)
</a><a href="#h135-0-201" id="h135-0-201" class="d">-		c.logCaller(2)
</a><a href="#h135-0-202" id="h135-0-202" class="d">-		c.logString(fmt.Sprintf(&quot;%s(%s):&quot;, funcName, strings.Join(names, &quot;, &quot;)))
</a><a href="#h135-0-203" id="h135-0-203" class="d">-		c.logString(fmt.Sprintf(&quot;Wrong number of parameters for %s: want %d, got %d&quot;, info.Name, len(names), len(params)+1))
</a><a href="#h135-0-204" id="h135-0-204" class="d">-		c.logNewLine()
</a><a href="#h135-0-205" id="h135-0-205" class="d">-		c.Fail()
</a><a href="#h135-0-206" id="h135-0-206" class="d">-		return false
</a><a href="#h135-0-207" id="h135-0-207" class="d">-	}
</a><a href="#h135-0-208" id="h135-0-208" class="d">-
</a><a href="#h135-0-209" id="h135-0-209" class="d">-	// Copy since it may be mutated by Check.
</a><a href="#h135-0-210" id="h135-0-210" class="d">-	names := append([]string{}, info.Params...)
</a><a href="#h135-0-211" id="h135-0-211" class="d">-
</a><a href="#h135-0-212" id="h135-0-212" class="d">-	// Do the actual check.
</a><a href="#h135-0-213" id="h135-0-213" class="d">-	result, error := checker.Check(params, names)
</a><a href="#h135-0-214" id="h135-0-214" class="d">-	if !result || error != &quot;&quot; {
</a><a href="#h135-0-215" id="h135-0-215" class="d">-		c.logCaller(2)
</a><a href="#h135-0-216" id="h135-0-216" class="d">-		for i := 0; i != len(params); i++ {
</a><a href="#h135-0-217" id="h135-0-217" class="d">-			c.logValue(names[i], params[i])
</a><a href="#h135-0-218" id="h135-0-218" class="d">-		}
</a><a href="#h135-0-219" id="h135-0-219" class="d">-		if comment != nil {
</a><a href="#h135-0-220" id="h135-0-220" class="d">-			c.logString(comment.CheckCommentString())
</a><a href="#h135-0-221" id="h135-0-221" class="d">-		}
</a><a href="#h135-0-222" id="h135-0-222" class="d">-		if error != &quot;&quot; {
</a><a href="#h135-0-223" id="h135-0-223" class="d">-			c.logString(error)
</a><a href="#h135-0-224" id="h135-0-224" class="d">-		}
</a><a href="#h135-0-225" id="h135-0-225" class="d">-		c.logNewLine()
</a><a href="#h135-0-226" id="h135-0-226" class="d">-		c.Fail()
</a><a href="#h135-0-227" id="h135-0-227" class="d">-		return false
</a><a href="#h135-0-228" id="h135-0-228" class="d">-	}
</a><a href="#h135-0-229" id="h135-0-229" class="d">-	return true
</a><a href="#h135-0-230" id="h135-0-230" class="d">-}
</a><b>diff --git a/<a id="h136" href="../file/vendor/gopkg.in/check.v1/printer.go">vendor/gopkg.in/check.v1/printer.go</a> b/<a href="../file/vendor/gopkg.in/check.v1/printer.go">vendor/gopkg.in/check.v1/printer.go</a></b>
<a href="#h136-0" id="h136-0" class="h">@@ -1,168 +0,0 @@
</a><a href="#h136-0-0" id="h136-0-0" class="d">-package check
</a><a href="#h136-0-1" id="h136-0-1" class="d">-
</a><a href="#h136-0-2" id="h136-0-2" class="d">-import (
</a><a href="#h136-0-3" id="h136-0-3" class="d">-	&quot;bytes&quot;
</a><a href="#h136-0-4" id="h136-0-4" class="d">-	&quot;go/ast&quot;
</a><a href="#h136-0-5" id="h136-0-5" class="d">-	&quot;go/parser&quot;
</a><a href="#h136-0-6" id="h136-0-6" class="d">-	&quot;go/printer&quot;
</a><a href="#h136-0-7" id="h136-0-7" class="d">-	&quot;go/token&quot;
</a><a href="#h136-0-8" id="h136-0-8" class="d">-	&quot;os&quot;
</a><a href="#h136-0-9" id="h136-0-9" class="d">-)
</a><a href="#h136-0-10" id="h136-0-10" class="d">-
</a><a href="#h136-0-11" id="h136-0-11" class="d">-func indent(s, with string) (r string) {
</a><a href="#h136-0-12" id="h136-0-12" class="d">-	eol := true
</a><a href="#h136-0-13" id="h136-0-13" class="d">-	for i := 0; i != len(s); i++ {
</a><a href="#h136-0-14" id="h136-0-14" class="d">-		c := s[i]
</a><a href="#h136-0-15" id="h136-0-15" class="d">-		switch {
</a><a href="#h136-0-16" id="h136-0-16" class="d">-		case eol &amp;&amp; c == &#39;\n&#39; || c == &#39;\r&#39;:
</a><a href="#h136-0-17" id="h136-0-17" class="d">-		case c == &#39;\n&#39; || c == &#39;\r&#39;:
</a><a href="#h136-0-18" id="h136-0-18" class="d">-			eol = true
</a><a href="#h136-0-19" id="h136-0-19" class="d">-		case eol:
</a><a href="#h136-0-20" id="h136-0-20" class="d">-			eol = false
</a><a href="#h136-0-21" id="h136-0-21" class="d">-			s = s[:i] + with + s[i:]
</a><a href="#h136-0-22" id="h136-0-22" class="d">-			i += len(with)
</a><a href="#h136-0-23" id="h136-0-23" class="d">-		}
</a><a href="#h136-0-24" id="h136-0-24" class="d">-	}
</a><a href="#h136-0-25" id="h136-0-25" class="d">-	return s
</a><a href="#h136-0-26" id="h136-0-26" class="d">-}
</a><a href="#h136-0-27" id="h136-0-27" class="d">-
</a><a href="#h136-0-28" id="h136-0-28" class="d">-func printLine(filename string, line int) (string, error) {
</a><a href="#h136-0-29" id="h136-0-29" class="d">-	fset := token.NewFileSet()
</a><a href="#h136-0-30" id="h136-0-30" class="d">-	file, err := os.Open(filename)
</a><a href="#h136-0-31" id="h136-0-31" class="d">-	if err != nil {
</a><a href="#h136-0-32" id="h136-0-32" class="d">-		return &quot;&quot;, err
</a><a href="#h136-0-33" id="h136-0-33" class="d">-	}
</a><a href="#h136-0-34" id="h136-0-34" class="d">-	fnode, err := parser.ParseFile(fset, filename, file, parser.ParseComments)
</a><a href="#h136-0-35" id="h136-0-35" class="d">-	if err != nil {
</a><a href="#h136-0-36" id="h136-0-36" class="d">-		return &quot;&quot;, err
</a><a href="#h136-0-37" id="h136-0-37" class="d">-	}
</a><a href="#h136-0-38" id="h136-0-38" class="d">-	config := &amp;printer.Config{Mode: printer.UseSpaces, Tabwidth: 4}
</a><a href="#h136-0-39" id="h136-0-39" class="d">-	lp := &amp;linePrinter{fset: fset, fnode: fnode, line: line, config: config}
</a><a href="#h136-0-40" id="h136-0-40" class="d">-	ast.Walk(lp, fnode)
</a><a href="#h136-0-41" id="h136-0-41" class="d">-	result := lp.output.Bytes()
</a><a href="#h136-0-42" id="h136-0-42" class="d">-	// Comments leave \n at the end.
</a><a href="#h136-0-43" id="h136-0-43" class="d">-	n := len(result)
</a><a href="#h136-0-44" id="h136-0-44" class="d">-	for n &gt; 0 &amp;&amp; result[n-1] == &#39;\n&#39; {
</a><a href="#h136-0-45" id="h136-0-45" class="d">-		n--
</a><a href="#h136-0-46" id="h136-0-46" class="d">-	}
</a><a href="#h136-0-47" id="h136-0-47" class="d">-	return string(result[:n]), nil
</a><a href="#h136-0-48" id="h136-0-48" class="d">-}
</a><a href="#h136-0-49" id="h136-0-49" class="d">-
</a><a href="#h136-0-50" id="h136-0-50" class="d">-type linePrinter struct {
</a><a href="#h136-0-51" id="h136-0-51" class="d">-	config *printer.Config
</a><a href="#h136-0-52" id="h136-0-52" class="d">-	fset   *token.FileSet
</a><a href="#h136-0-53" id="h136-0-53" class="d">-	fnode  *ast.File
</a><a href="#h136-0-54" id="h136-0-54" class="d">-	line   int
</a><a href="#h136-0-55" id="h136-0-55" class="d">-	output bytes.Buffer
</a><a href="#h136-0-56" id="h136-0-56" class="d">-	stmt   ast.Stmt
</a><a href="#h136-0-57" id="h136-0-57" class="d">-}
</a><a href="#h136-0-58" id="h136-0-58" class="d">-
</a><a href="#h136-0-59" id="h136-0-59" class="d">-func (lp *linePrinter) emit() bool {
</a><a href="#h136-0-60" id="h136-0-60" class="d">-	if lp.stmt != nil {
</a><a href="#h136-0-61" id="h136-0-61" class="d">-		lp.trim(lp.stmt)
</a><a href="#h136-0-62" id="h136-0-62" class="d">-		lp.printWithComments(lp.stmt)
</a><a href="#h136-0-63" id="h136-0-63" class="d">-		lp.stmt = nil
</a><a href="#h136-0-64" id="h136-0-64" class="d">-		return true
</a><a href="#h136-0-65" id="h136-0-65" class="d">-	}
</a><a href="#h136-0-66" id="h136-0-66" class="d">-	return false
</a><a href="#h136-0-67" id="h136-0-67" class="d">-}
</a><a href="#h136-0-68" id="h136-0-68" class="d">-
</a><a href="#h136-0-69" id="h136-0-69" class="d">-func (lp *linePrinter) printWithComments(n ast.Node) {
</a><a href="#h136-0-70" id="h136-0-70" class="d">-	nfirst := lp.fset.Position(n.Pos()).Line
</a><a href="#h136-0-71" id="h136-0-71" class="d">-	nlast := lp.fset.Position(n.End()).Line
</a><a href="#h136-0-72" id="h136-0-72" class="d">-	for _, g := range lp.fnode.Comments {
</a><a href="#h136-0-73" id="h136-0-73" class="d">-		cfirst := lp.fset.Position(g.Pos()).Line
</a><a href="#h136-0-74" id="h136-0-74" class="d">-		clast := lp.fset.Position(g.End()).Line
</a><a href="#h136-0-75" id="h136-0-75" class="d">-		if clast == nfirst-1 &amp;&amp; lp.fset.Position(n.Pos()).Column == lp.fset.Position(g.Pos()).Column {
</a><a href="#h136-0-76" id="h136-0-76" class="d">-			for _, c := range g.List {
</a><a href="#h136-0-77" id="h136-0-77" class="d">-				lp.output.WriteString(c.Text)
</a><a href="#h136-0-78" id="h136-0-78" class="d">-				lp.output.WriteByte(&#39;\n&#39;)
</a><a href="#h136-0-79" id="h136-0-79" class="d">-			}
</a><a href="#h136-0-80" id="h136-0-80" class="d">-		}
</a><a href="#h136-0-81" id="h136-0-81" class="d">-		if cfirst &gt;= nfirst &amp;&amp; cfirst &lt;= nlast &amp;&amp; n.End() &lt;= g.List[0].Slash {
</a><a href="#h136-0-82" id="h136-0-82" class="d">-			// The printer will not include the comment if it starts past
</a><a href="#h136-0-83" id="h136-0-83" class="d">-			// the node itself. Trick it into printing by overlapping the
</a><a href="#h136-0-84" id="h136-0-84" class="d">-			// slash with the end of the statement.
</a><a href="#h136-0-85" id="h136-0-85" class="d">-			g.List[0].Slash = n.End() - 1
</a><a href="#h136-0-86" id="h136-0-86" class="d">-		}
</a><a href="#h136-0-87" id="h136-0-87" class="d">-	}
</a><a href="#h136-0-88" id="h136-0-88" class="d">-	node := &amp;printer.CommentedNode{n, lp.fnode.Comments}
</a><a href="#h136-0-89" id="h136-0-89" class="d">-	lp.config.Fprint(&amp;lp.output, lp.fset, node)
</a><a href="#h136-0-90" id="h136-0-90" class="d">-}
</a><a href="#h136-0-91" id="h136-0-91" class="d">-
</a><a href="#h136-0-92" id="h136-0-92" class="d">-func (lp *linePrinter) Visit(n ast.Node) (w ast.Visitor) {
</a><a href="#h136-0-93" id="h136-0-93" class="d">-	if n == nil {
</a><a href="#h136-0-94" id="h136-0-94" class="d">-		if lp.output.Len() == 0 {
</a><a href="#h136-0-95" id="h136-0-95" class="d">-			lp.emit()
</a><a href="#h136-0-96" id="h136-0-96" class="d">-		}
</a><a href="#h136-0-97" id="h136-0-97" class="d">-		return nil
</a><a href="#h136-0-98" id="h136-0-98" class="d">-	}
</a><a href="#h136-0-99" id="h136-0-99" class="d">-	first := lp.fset.Position(n.Pos()).Line
</a><a href="#h136-0-100" id="h136-0-100" class="d">-	last := lp.fset.Position(n.End()).Line
</a><a href="#h136-0-101" id="h136-0-101" class="d">-	if first &lt;= lp.line &amp;&amp; last &gt;= lp.line {
</a><a href="#h136-0-102" id="h136-0-102" class="d">-		// Print the innermost statement containing the line.
</a><a href="#h136-0-103" id="h136-0-103" class="d">-		if stmt, ok := n.(ast.Stmt); ok {
</a><a href="#h136-0-104" id="h136-0-104" class="d">-			if _, ok := n.(*ast.BlockStmt); !ok {
</a><a href="#h136-0-105" id="h136-0-105" class="d">-				lp.stmt = stmt
</a><a href="#h136-0-106" id="h136-0-106" class="d">-			}
</a><a href="#h136-0-107" id="h136-0-107" class="d">-		}
</a><a href="#h136-0-108" id="h136-0-108" class="d">-		if first == lp.line &amp;&amp; lp.emit() {
</a><a href="#h136-0-109" id="h136-0-109" class="d">-			return nil
</a><a href="#h136-0-110" id="h136-0-110" class="d">-		}
</a><a href="#h136-0-111" id="h136-0-111" class="d">-		return lp
</a><a href="#h136-0-112" id="h136-0-112" class="d">-	}
</a><a href="#h136-0-113" id="h136-0-113" class="d">-	return nil
</a><a href="#h136-0-114" id="h136-0-114" class="d">-}
</a><a href="#h136-0-115" id="h136-0-115" class="d">-
</a><a href="#h136-0-116" id="h136-0-116" class="d">-func (lp *linePrinter) trim(n ast.Node) bool {
</a><a href="#h136-0-117" id="h136-0-117" class="d">-	stmt, ok := n.(ast.Stmt)
</a><a href="#h136-0-118" id="h136-0-118" class="d">-	if !ok {
</a><a href="#h136-0-119" id="h136-0-119" class="d">-		return true
</a><a href="#h136-0-120" id="h136-0-120" class="d">-	}
</a><a href="#h136-0-121" id="h136-0-121" class="d">-	line := lp.fset.Position(n.Pos()).Line
</a><a href="#h136-0-122" id="h136-0-122" class="d">-	if line != lp.line {
</a><a href="#h136-0-123" id="h136-0-123" class="d">-		return false
</a><a href="#h136-0-124" id="h136-0-124" class="d">-	}
</a><a href="#h136-0-125" id="h136-0-125" class="d">-	switch stmt := stmt.(type) {
</a><a href="#h136-0-126" id="h136-0-126" class="d">-	case *ast.IfStmt:
</a><a href="#h136-0-127" id="h136-0-127" class="d">-		stmt.Body = lp.trimBlock(stmt.Body)
</a><a href="#h136-0-128" id="h136-0-128" class="d">-	case *ast.SwitchStmt:
</a><a href="#h136-0-129" id="h136-0-129" class="d">-		stmt.Body = lp.trimBlock(stmt.Body)
</a><a href="#h136-0-130" id="h136-0-130" class="d">-	case *ast.TypeSwitchStmt:
</a><a href="#h136-0-131" id="h136-0-131" class="d">-		stmt.Body = lp.trimBlock(stmt.Body)
</a><a href="#h136-0-132" id="h136-0-132" class="d">-	case *ast.CaseClause:
</a><a href="#h136-0-133" id="h136-0-133" class="d">-		stmt.Body = lp.trimList(stmt.Body)
</a><a href="#h136-0-134" id="h136-0-134" class="d">-	case *ast.CommClause:
</a><a href="#h136-0-135" id="h136-0-135" class="d">-		stmt.Body = lp.trimList(stmt.Body)
</a><a href="#h136-0-136" id="h136-0-136" class="d">-	case *ast.BlockStmt:
</a><a href="#h136-0-137" id="h136-0-137" class="d">-		stmt.List = lp.trimList(stmt.List)
</a><a href="#h136-0-138" id="h136-0-138" class="d">-	}
</a><a href="#h136-0-139" id="h136-0-139" class="d">-	return true
</a><a href="#h136-0-140" id="h136-0-140" class="d">-}
</a><a href="#h136-0-141" id="h136-0-141" class="d">-
</a><a href="#h136-0-142" id="h136-0-142" class="d">-func (lp *linePrinter) trimBlock(stmt *ast.BlockStmt) *ast.BlockStmt {
</a><a href="#h136-0-143" id="h136-0-143" class="d">-	if !lp.trim(stmt) {
</a><a href="#h136-0-144" id="h136-0-144" class="d">-		return lp.emptyBlock(stmt)
</a><a href="#h136-0-145" id="h136-0-145" class="d">-	}
</a><a href="#h136-0-146" id="h136-0-146" class="d">-	stmt.Rbrace = stmt.Lbrace
</a><a href="#h136-0-147" id="h136-0-147" class="d">-	return stmt
</a><a href="#h136-0-148" id="h136-0-148" class="d">-}
</a><a href="#h136-0-149" id="h136-0-149" class="d">-
</a><a href="#h136-0-150" id="h136-0-150" class="d">-func (lp *linePrinter) trimList(stmts []ast.Stmt) []ast.Stmt {
</a><a href="#h136-0-151" id="h136-0-151" class="d">-	for i := 0; i != len(stmts); i++ {
</a><a href="#h136-0-152" id="h136-0-152" class="d">-		if !lp.trim(stmts[i]) {
</a><a href="#h136-0-153" id="h136-0-153" class="d">-			stmts[i] = lp.emptyStmt(stmts[i])
</a><a href="#h136-0-154" id="h136-0-154" class="d">-			break
</a><a href="#h136-0-155" id="h136-0-155" class="d">-		}
</a><a href="#h136-0-156" id="h136-0-156" class="d">-	}
</a><a href="#h136-0-157" id="h136-0-157" class="d">-	return stmts
</a><a href="#h136-0-158" id="h136-0-158" class="d">-}
</a><a href="#h136-0-159" id="h136-0-159" class="d">-
</a><a href="#h136-0-160" id="h136-0-160" class="d">-func (lp *linePrinter) emptyStmt(n ast.Node) *ast.ExprStmt {
</a><a href="#h136-0-161" id="h136-0-161" class="d">-	return &amp;ast.ExprStmt{&amp;ast.Ellipsis{n.Pos(), nil}}
</a><a href="#h136-0-162" id="h136-0-162" class="d">-}
</a><a href="#h136-0-163" id="h136-0-163" class="d">-
</a><a href="#h136-0-164" id="h136-0-164" class="d">-func (lp *linePrinter) emptyBlock(n ast.Node) *ast.BlockStmt {
</a><a href="#h136-0-165" id="h136-0-165" class="d">-	p := n.Pos()
</a><a href="#h136-0-166" id="h136-0-166" class="d">-	return &amp;ast.BlockStmt{p, []ast.Stmt{lp.emptyStmt(n)}, p}
</a><a href="#h136-0-167" id="h136-0-167" class="d">-}
</a><b>diff --git a/<a id="h137" href="../file/vendor/gopkg.in/check.v1/reporter.go">vendor/gopkg.in/check.v1/reporter.go</a> b/<a href="../file/vendor/gopkg.in/check.v1/reporter.go">vendor/gopkg.in/check.v1/reporter.go</a></b>
<a href="#h137-0" id="h137-0" class="h">@@ -1,88 +0,0 @@
</a><a href="#h137-0-0" id="h137-0-0" class="d">-package check
</a><a href="#h137-0-1" id="h137-0-1" class="d">-
</a><a href="#h137-0-2" id="h137-0-2" class="d">-import (
</a><a href="#h137-0-3" id="h137-0-3" class="d">-	&quot;fmt&quot;
</a><a href="#h137-0-4" id="h137-0-4" class="d">-	&quot;io&quot;
</a><a href="#h137-0-5" id="h137-0-5" class="d">-	&quot;sync&quot;
</a><a href="#h137-0-6" id="h137-0-6" class="d">-)
</a><a href="#h137-0-7" id="h137-0-7" class="d">-
</a><a href="#h137-0-8" id="h137-0-8" class="d">-// -----------------------------------------------------------------------
</a><a href="#h137-0-9" id="h137-0-9" class="d">-// Output writer manages atomic output writing according to settings.
</a><a href="#h137-0-10" id="h137-0-10" class="d">-
</a><a href="#h137-0-11" id="h137-0-11" class="d">-type outputWriter struct {
</a><a href="#h137-0-12" id="h137-0-12" class="d">-	m                    sync.Mutex
</a><a href="#h137-0-13" id="h137-0-13" class="d">-	writer               io.Writer
</a><a href="#h137-0-14" id="h137-0-14" class="d">-	wroteCallProblemLast bool
</a><a href="#h137-0-15" id="h137-0-15" class="d">-	Stream               bool
</a><a href="#h137-0-16" id="h137-0-16" class="d">-	Verbose              bool
</a><a href="#h137-0-17" id="h137-0-17" class="d">-}
</a><a href="#h137-0-18" id="h137-0-18" class="d">-
</a><a href="#h137-0-19" id="h137-0-19" class="d">-func newOutputWriter(writer io.Writer, stream, verbose bool) *outputWriter {
</a><a href="#h137-0-20" id="h137-0-20" class="d">-	return &amp;outputWriter{writer: writer, Stream: stream, Verbose: verbose}
</a><a href="#h137-0-21" id="h137-0-21" class="d">-}
</a><a href="#h137-0-22" id="h137-0-22" class="d">-
</a><a href="#h137-0-23" id="h137-0-23" class="d">-func (ow *outputWriter) Write(content []byte) (n int, err error) {
</a><a href="#h137-0-24" id="h137-0-24" class="d">-	ow.m.Lock()
</a><a href="#h137-0-25" id="h137-0-25" class="d">-	n, err = ow.writer.Write(content)
</a><a href="#h137-0-26" id="h137-0-26" class="d">-	ow.m.Unlock()
</a><a href="#h137-0-27" id="h137-0-27" class="d">-	return
</a><a href="#h137-0-28" id="h137-0-28" class="d">-}
</a><a href="#h137-0-29" id="h137-0-29" class="d">-
</a><a href="#h137-0-30" id="h137-0-30" class="d">-func (ow *outputWriter) WriteCallStarted(label string, c *C) {
</a><a href="#h137-0-31" id="h137-0-31" class="d">-	if ow.Stream {
</a><a href="#h137-0-32" id="h137-0-32" class="d">-		header := renderCallHeader(label, c, &quot;&quot;, &quot;\n&quot;)
</a><a href="#h137-0-33" id="h137-0-33" class="d">-		ow.m.Lock()
</a><a href="#h137-0-34" id="h137-0-34" class="d">-		ow.writer.Write([]byte(header))
</a><a href="#h137-0-35" id="h137-0-35" class="d">-		ow.m.Unlock()
</a><a href="#h137-0-36" id="h137-0-36" class="d">-	}
</a><a href="#h137-0-37" id="h137-0-37" class="d">-}
</a><a href="#h137-0-38" id="h137-0-38" class="d">-
</a><a href="#h137-0-39" id="h137-0-39" class="d">-func (ow *outputWriter) WriteCallProblem(label string, c *C) {
</a><a href="#h137-0-40" id="h137-0-40" class="d">-	var prefix string
</a><a href="#h137-0-41" id="h137-0-41" class="d">-	if !ow.Stream {
</a><a href="#h137-0-42" id="h137-0-42" class="d">-		prefix = &quot;\n-----------------------------------&quot; +
</a><a href="#h137-0-43" id="h137-0-43" class="d">-			&quot;-----------------------------------\n&quot;
</a><a href="#h137-0-44" id="h137-0-44" class="d">-	}
</a><a href="#h137-0-45" id="h137-0-45" class="d">-	header := renderCallHeader(label, c, prefix, &quot;\n\n&quot;)
</a><a href="#h137-0-46" id="h137-0-46" class="d">-	ow.m.Lock()
</a><a href="#h137-0-47" id="h137-0-47" class="d">-	ow.wroteCallProblemLast = true
</a><a href="#h137-0-48" id="h137-0-48" class="d">-	ow.writer.Write([]byte(header))
</a><a href="#h137-0-49" id="h137-0-49" class="d">-	if !ow.Stream {
</a><a href="#h137-0-50" id="h137-0-50" class="d">-		c.logb.WriteTo(ow.writer)
</a><a href="#h137-0-51" id="h137-0-51" class="d">-	}
</a><a href="#h137-0-52" id="h137-0-52" class="d">-	ow.m.Unlock()
</a><a href="#h137-0-53" id="h137-0-53" class="d">-}
</a><a href="#h137-0-54" id="h137-0-54" class="d">-
</a><a href="#h137-0-55" id="h137-0-55" class="d">-func (ow *outputWriter) WriteCallSuccess(label string, c *C) {
</a><a href="#h137-0-56" id="h137-0-56" class="d">-	if ow.Stream || (ow.Verbose &amp;&amp; c.kind == testKd) {
</a><a href="#h137-0-57" id="h137-0-57" class="d">-		// TODO Use a buffer here.
</a><a href="#h137-0-58" id="h137-0-58" class="d">-		var suffix string
</a><a href="#h137-0-59" id="h137-0-59" class="d">-		if c.reason != &quot;&quot; {
</a><a href="#h137-0-60" id="h137-0-60" class="d">-			suffix = &quot; (&quot; + c.reason + &quot;)&quot;
</a><a href="#h137-0-61" id="h137-0-61" class="d">-		}
</a><a href="#h137-0-62" id="h137-0-62" class="d">-		if c.status() == succeededSt {
</a><a href="#h137-0-63" id="h137-0-63" class="d">-			suffix += &quot;\t&quot; + c.timerString()
</a><a href="#h137-0-64" id="h137-0-64" class="d">-		}
</a><a href="#h137-0-65" id="h137-0-65" class="d">-		suffix += &quot;\n&quot;
</a><a href="#h137-0-66" id="h137-0-66" class="d">-		if ow.Stream {
</a><a href="#h137-0-67" id="h137-0-67" class="d">-			suffix += &quot;\n&quot;
</a><a href="#h137-0-68" id="h137-0-68" class="d">-		}
</a><a href="#h137-0-69" id="h137-0-69" class="d">-		header := renderCallHeader(label, c, &quot;&quot;, suffix)
</a><a href="#h137-0-70" id="h137-0-70" class="d">-		ow.m.Lock()
</a><a href="#h137-0-71" id="h137-0-71" class="d">-		// Resist temptation of using line as prefix above due to race.
</a><a href="#h137-0-72" id="h137-0-72" class="d">-		if !ow.Stream &amp;&amp; ow.wroteCallProblemLast {
</a><a href="#h137-0-73" id="h137-0-73" class="d">-			header = &quot;\n-----------------------------------&quot; +
</a><a href="#h137-0-74" id="h137-0-74" class="d">-				&quot;-----------------------------------\n&quot; +
</a><a href="#h137-0-75" id="h137-0-75" class="d">-				header
</a><a href="#h137-0-76" id="h137-0-76" class="d">-		}
</a><a href="#h137-0-77" id="h137-0-77" class="d">-		ow.wroteCallProblemLast = false
</a><a href="#h137-0-78" id="h137-0-78" class="d">-		ow.writer.Write([]byte(header))
</a><a href="#h137-0-79" id="h137-0-79" class="d">-		ow.m.Unlock()
</a><a href="#h137-0-80" id="h137-0-80" class="d">-	}
</a><a href="#h137-0-81" id="h137-0-81" class="d">-}
</a><a href="#h137-0-82" id="h137-0-82" class="d">-
</a><a href="#h137-0-83" id="h137-0-83" class="d">-func renderCallHeader(label string, c *C, prefix, suffix string) string {
</a><a href="#h137-0-84" id="h137-0-84" class="d">-	pc := c.method.PC()
</a><a href="#h137-0-85" id="h137-0-85" class="d">-	return fmt.Sprintf(&quot;%s%s: %s: %s%s&quot;, prefix, label, niceFuncPath(pc),
</a><a href="#h137-0-86" id="h137-0-86" class="d">-		niceFuncName(pc), suffix)
</a><a href="#h137-0-87" id="h137-0-87" class="d">-}
</a><b>diff --git a/<a id="h138" href="../file/vendor/gopkg.in/check.v1/run.go">vendor/gopkg.in/check.v1/run.go</a> b/<a href="../file/vendor/gopkg.in/check.v1/run.go">vendor/gopkg.in/check.v1/run.go</a></b>
<a href="#h138-0" id="h138-0" class="h">@@ -1,175 +0,0 @@
</a><a href="#h138-0-0" id="h138-0-0" class="d">-package check
</a><a href="#h138-0-1" id="h138-0-1" class="d">-
</a><a href="#h138-0-2" id="h138-0-2" class="d">-import (
</a><a href="#h138-0-3" id="h138-0-3" class="d">-	&quot;bufio&quot;
</a><a href="#h138-0-4" id="h138-0-4" class="d">-	&quot;flag&quot;
</a><a href="#h138-0-5" id="h138-0-5" class="d">-	&quot;fmt&quot;
</a><a href="#h138-0-6" id="h138-0-6" class="d">-	&quot;os&quot;
</a><a href="#h138-0-7" id="h138-0-7" class="d">-	&quot;testing&quot;
</a><a href="#h138-0-8" id="h138-0-8" class="d">-	&quot;time&quot;
</a><a href="#h138-0-9" id="h138-0-9" class="d">-)
</a><a href="#h138-0-10" id="h138-0-10" class="d">-
</a><a href="#h138-0-11" id="h138-0-11" class="d">-// -----------------------------------------------------------------------
</a><a href="#h138-0-12" id="h138-0-12" class="d">-// Test suite registry.
</a><a href="#h138-0-13" id="h138-0-13" class="d">-
</a><a href="#h138-0-14" id="h138-0-14" class="d">-var allSuites []interface{}
</a><a href="#h138-0-15" id="h138-0-15" class="d">-
</a><a href="#h138-0-16" id="h138-0-16" class="d">-// Suite registers the given value as a test suite to be run. Any methods
</a><a href="#h138-0-17" id="h138-0-17" class="d">-// starting with the Test prefix in the given value will be considered as
</a><a href="#h138-0-18" id="h138-0-18" class="d">-// a test method.
</a><a href="#h138-0-19" id="h138-0-19" class="d">-func Suite(suite interface{}) interface{} {
</a><a href="#h138-0-20" id="h138-0-20" class="d">-	allSuites = append(allSuites, suite)
</a><a href="#h138-0-21" id="h138-0-21" class="d">-	return suite
</a><a href="#h138-0-22" id="h138-0-22" class="d">-}
</a><a href="#h138-0-23" id="h138-0-23" class="d">-
</a><a href="#h138-0-24" id="h138-0-24" class="d">-// -----------------------------------------------------------------------
</a><a href="#h138-0-25" id="h138-0-25" class="d">-// Public running interface.
</a><a href="#h138-0-26" id="h138-0-26" class="d">-
</a><a href="#h138-0-27" id="h138-0-27" class="d">-var (
</a><a href="#h138-0-28" id="h138-0-28" class="d">-	oldFilterFlag  = flag.String(&quot;gocheck.f&quot;, &quot;&quot;, &quot;Regular expression selecting which tests and/or suites to run&quot;)
</a><a href="#h138-0-29" id="h138-0-29" class="d">-	oldVerboseFlag = flag.Bool(&quot;gocheck.v&quot;, false, &quot;Verbose mode&quot;)
</a><a href="#h138-0-30" id="h138-0-30" class="d">-	oldStreamFlag  = flag.Bool(&quot;gocheck.vv&quot;, false, &quot;Super verbose mode (disables output caching)&quot;)
</a><a href="#h138-0-31" id="h138-0-31" class="d">-	oldBenchFlag   = flag.Bool(&quot;gocheck.b&quot;, false, &quot;Run benchmarks&quot;)
</a><a href="#h138-0-32" id="h138-0-32" class="d">-	oldBenchTime   = flag.Duration(&quot;gocheck.btime&quot;, 1*time.Second, &quot;approximate run time for each benchmark&quot;)
</a><a href="#h138-0-33" id="h138-0-33" class="d">-	oldListFlag    = flag.Bool(&quot;gocheck.list&quot;, false, &quot;List the names of all tests that will be run&quot;)
</a><a href="#h138-0-34" id="h138-0-34" class="d">-	oldWorkFlag    = flag.Bool(&quot;gocheck.work&quot;, false, &quot;Display and do not remove the test working directory&quot;)
</a><a href="#h138-0-35" id="h138-0-35" class="d">-
</a><a href="#h138-0-36" id="h138-0-36" class="d">-	newFilterFlag  = flag.String(&quot;check.f&quot;, &quot;&quot;, &quot;Regular expression selecting which tests and/or suites to run&quot;)
</a><a href="#h138-0-37" id="h138-0-37" class="d">-	newVerboseFlag = flag.Bool(&quot;check.v&quot;, false, &quot;Verbose mode&quot;)
</a><a href="#h138-0-38" id="h138-0-38" class="d">-	newStreamFlag  = flag.Bool(&quot;check.vv&quot;, false, &quot;Super verbose mode (disables output caching)&quot;)
</a><a href="#h138-0-39" id="h138-0-39" class="d">-	newBenchFlag   = flag.Bool(&quot;check.b&quot;, false, &quot;Run benchmarks&quot;)
</a><a href="#h138-0-40" id="h138-0-40" class="d">-	newBenchTime   = flag.Duration(&quot;check.btime&quot;, 1*time.Second, &quot;approximate run time for each benchmark&quot;)
</a><a href="#h138-0-41" id="h138-0-41" class="d">-	newBenchMem    = flag.Bool(&quot;check.bmem&quot;, false, &quot;Report memory benchmarks&quot;)
</a><a href="#h138-0-42" id="h138-0-42" class="d">-	newListFlag    = flag.Bool(&quot;check.list&quot;, false, &quot;List the names of all tests that will be run&quot;)
</a><a href="#h138-0-43" id="h138-0-43" class="d">-	newWorkFlag    = flag.Bool(&quot;check.work&quot;, false, &quot;Display and do not remove the test working directory&quot;)
</a><a href="#h138-0-44" id="h138-0-44" class="d">-)
</a><a href="#h138-0-45" id="h138-0-45" class="d">-
</a><a href="#h138-0-46" id="h138-0-46" class="d">-// TestingT runs all test suites registered with the Suite function,
</a><a href="#h138-0-47" id="h138-0-47" class="d">-// printing results to stdout, and reporting any failures back to
</a><a href="#h138-0-48" id="h138-0-48" class="d">-// the &quot;testing&quot; package.
</a><a href="#h138-0-49" id="h138-0-49" class="d">-func TestingT(testingT *testing.T) {
</a><a href="#h138-0-50" id="h138-0-50" class="d">-	benchTime := *newBenchTime
</a><a href="#h138-0-51" id="h138-0-51" class="d">-	if benchTime == 1*time.Second {
</a><a href="#h138-0-52" id="h138-0-52" class="d">-		benchTime = *oldBenchTime
</a><a href="#h138-0-53" id="h138-0-53" class="d">-	}
</a><a href="#h138-0-54" id="h138-0-54" class="d">-	conf := &amp;RunConf{
</a><a href="#h138-0-55" id="h138-0-55" class="d">-		Filter:        *oldFilterFlag + *newFilterFlag,
</a><a href="#h138-0-56" id="h138-0-56" class="d">-		Verbose:       *oldVerboseFlag || *newVerboseFlag,
</a><a href="#h138-0-57" id="h138-0-57" class="d">-		Stream:        *oldStreamFlag || *newStreamFlag,
</a><a href="#h138-0-58" id="h138-0-58" class="d">-		Benchmark:     *oldBenchFlag || *newBenchFlag,
</a><a href="#h138-0-59" id="h138-0-59" class="d">-		BenchmarkTime: benchTime,
</a><a href="#h138-0-60" id="h138-0-60" class="d">-		BenchmarkMem:  *newBenchMem,
</a><a href="#h138-0-61" id="h138-0-61" class="d">-		KeepWorkDir:   *oldWorkFlag || *newWorkFlag,
</a><a href="#h138-0-62" id="h138-0-62" class="d">-	}
</a><a href="#h138-0-63" id="h138-0-63" class="d">-	if *oldListFlag || *newListFlag {
</a><a href="#h138-0-64" id="h138-0-64" class="d">-		w := bufio.NewWriter(os.Stdout)
</a><a href="#h138-0-65" id="h138-0-65" class="d">-		for _, name := range ListAll(conf) {
</a><a href="#h138-0-66" id="h138-0-66" class="d">-			fmt.Fprintln(w, name)
</a><a href="#h138-0-67" id="h138-0-67" class="d">-		}
</a><a href="#h138-0-68" id="h138-0-68" class="d">-		w.Flush()
</a><a href="#h138-0-69" id="h138-0-69" class="d">-		return
</a><a href="#h138-0-70" id="h138-0-70" class="d">-	}
</a><a href="#h138-0-71" id="h138-0-71" class="d">-	result := RunAll(conf)
</a><a href="#h138-0-72" id="h138-0-72" class="d">-	println(result.String())
</a><a href="#h138-0-73" id="h138-0-73" class="d">-	if !result.Passed() {
</a><a href="#h138-0-74" id="h138-0-74" class="d">-		testingT.Fail()
</a><a href="#h138-0-75" id="h138-0-75" class="d">-	}
</a><a href="#h138-0-76" id="h138-0-76" class="d">-}
</a><a href="#h138-0-77" id="h138-0-77" class="d">-
</a><a href="#h138-0-78" id="h138-0-78" class="d">-// RunAll runs all test suites registered with the Suite function, using the
</a><a href="#h138-0-79" id="h138-0-79" class="d">-// provided run configuration.
</a><a href="#h138-0-80" id="h138-0-80" class="d">-func RunAll(runConf *RunConf) *Result {
</a><a href="#h138-0-81" id="h138-0-81" class="d">-	result := Result{}
</a><a href="#h138-0-82" id="h138-0-82" class="d">-	for _, suite := range allSuites {
</a><a href="#h138-0-83" id="h138-0-83" class="d">-		result.Add(Run(suite, runConf))
</a><a href="#h138-0-84" id="h138-0-84" class="d">-	}
</a><a href="#h138-0-85" id="h138-0-85" class="d">-	return &amp;result
</a><a href="#h138-0-86" id="h138-0-86" class="d">-}
</a><a href="#h138-0-87" id="h138-0-87" class="d">-
</a><a href="#h138-0-88" id="h138-0-88" class="d">-// Run runs the provided test suite using the provided run configuration.
</a><a href="#h138-0-89" id="h138-0-89" class="d">-func Run(suite interface{}, runConf *RunConf) *Result {
</a><a href="#h138-0-90" id="h138-0-90" class="d">-	runner := newSuiteRunner(suite, runConf)
</a><a href="#h138-0-91" id="h138-0-91" class="d">-	return runner.run()
</a><a href="#h138-0-92" id="h138-0-92" class="d">-}
</a><a href="#h138-0-93" id="h138-0-93" class="d">-
</a><a href="#h138-0-94" id="h138-0-94" class="d">-// ListAll returns the names of all the test functions registered with the
</a><a href="#h138-0-95" id="h138-0-95" class="d">-// Suite function that will be run with the provided run configuration.
</a><a href="#h138-0-96" id="h138-0-96" class="d">-func ListAll(runConf *RunConf) []string {
</a><a href="#h138-0-97" id="h138-0-97" class="d">-	var names []string
</a><a href="#h138-0-98" id="h138-0-98" class="d">-	for _, suite := range allSuites {
</a><a href="#h138-0-99" id="h138-0-99" class="d">-		names = append(names, List(suite, runConf)...)
</a><a href="#h138-0-100" id="h138-0-100" class="d">-	}
</a><a href="#h138-0-101" id="h138-0-101" class="d">-	return names
</a><a href="#h138-0-102" id="h138-0-102" class="d">-}
</a><a href="#h138-0-103" id="h138-0-103" class="d">-
</a><a href="#h138-0-104" id="h138-0-104" class="d">-// List returns the names of the test functions in the given
</a><a href="#h138-0-105" id="h138-0-105" class="d">-// suite that will be run with the provided run configuration.
</a><a href="#h138-0-106" id="h138-0-106" class="d">-func List(suite interface{}, runConf *RunConf) []string {
</a><a href="#h138-0-107" id="h138-0-107" class="d">-	var names []string
</a><a href="#h138-0-108" id="h138-0-108" class="d">-	runner := newSuiteRunner(suite, runConf)
</a><a href="#h138-0-109" id="h138-0-109" class="d">-	for _, t := range runner.tests {
</a><a href="#h138-0-110" id="h138-0-110" class="d">-		names = append(names, t.String())
</a><a href="#h138-0-111" id="h138-0-111" class="d">-	}
</a><a href="#h138-0-112" id="h138-0-112" class="d">-	return names
</a><a href="#h138-0-113" id="h138-0-113" class="d">-}
</a><a href="#h138-0-114" id="h138-0-114" class="d">-
</a><a href="#h138-0-115" id="h138-0-115" class="d">-// -----------------------------------------------------------------------
</a><a href="#h138-0-116" id="h138-0-116" class="d">-// Result methods.
</a><a href="#h138-0-117" id="h138-0-117" class="d">-
</a><a href="#h138-0-118" id="h138-0-118" class="d">-func (r *Result) Add(other *Result) {
</a><a href="#h138-0-119" id="h138-0-119" class="d">-	r.Succeeded += other.Succeeded
</a><a href="#h138-0-120" id="h138-0-120" class="d">-	r.Skipped += other.Skipped
</a><a href="#h138-0-121" id="h138-0-121" class="d">-	r.Failed += other.Failed
</a><a href="#h138-0-122" id="h138-0-122" class="d">-	r.Panicked += other.Panicked
</a><a href="#h138-0-123" id="h138-0-123" class="d">-	r.FixturePanicked += other.FixturePanicked
</a><a href="#h138-0-124" id="h138-0-124" class="d">-	r.ExpectedFailures += other.ExpectedFailures
</a><a href="#h138-0-125" id="h138-0-125" class="d">-	r.Missed += other.Missed
</a><a href="#h138-0-126" id="h138-0-126" class="d">-	if r.WorkDir != &quot;&quot; &amp;&amp; other.WorkDir != &quot;&quot; {
</a><a href="#h138-0-127" id="h138-0-127" class="d">-		r.WorkDir += &quot;:&quot; + other.WorkDir
</a><a href="#h138-0-128" id="h138-0-128" class="d">-	} else if other.WorkDir != &quot;&quot; {
</a><a href="#h138-0-129" id="h138-0-129" class="d">-		r.WorkDir = other.WorkDir
</a><a href="#h138-0-130" id="h138-0-130" class="d">-	}
</a><a href="#h138-0-131" id="h138-0-131" class="d">-}
</a><a href="#h138-0-132" id="h138-0-132" class="d">-
</a><a href="#h138-0-133" id="h138-0-133" class="d">-func (r *Result) Passed() bool {
</a><a href="#h138-0-134" id="h138-0-134" class="d">-	return (r.Failed == 0 &amp;&amp; r.Panicked == 0 &amp;&amp;
</a><a href="#h138-0-135" id="h138-0-135" class="d">-		r.FixturePanicked == 0 &amp;&amp; r.Missed == 0 &amp;&amp;
</a><a href="#h138-0-136" id="h138-0-136" class="d">-		r.RunError == nil)
</a><a href="#h138-0-137" id="h138-0-137" class="d">-}
</a><a href="#h138-0-138" id="h138-0-138" class="d">-
</a><a href="#h138-0-139" id="h138-0-139" class="d">-func (r *Result) String() string {
</a><a href="#h138-0-140" id="h138-0-140" class="d">-	if r.RunError != nil {
</a><a href="#h138-0-141" id="h138-0-141" class="d">-		return &quot;ERROR: &quot; + r.RunError.Error()
</a><a href="#h138-0-142" id="h138-0-142" class="d">-	}
</a><a href="#h138-0-143" id="h138-0-143" class="d">-
</a><a href="#h138-0-144" id="h138-0-144" class="d">-	var value string
</a><a href="#h138-0-145" id="h138-0-145" class="d">-	if r.Failed == 0 &amp;&amp; r.Panicked == 0 &amp;&amp; r.FixturePanicked == 0 &amp;&amp;
</a><a href="#h138-0-146" id="h138-0-146" class="d">-		r.Missed == 0 {
</a><a href="#h138-0-147" id="h138-0-147" class="d">-		value = &quot;OK: &quot;
</a><a href="#h138-0-148" id="h138-0-148" class="d">-	} else {
</a><a href="#h138-0-149" id="h138-0-149" class="d">-		value = &quot;OOPS: &quot;
</a><a href="#h138-0-150" id="h138-0-150" class="d">-	}
</a><a href="#h138-0-151" id="h138-0-151" class="d">-	value += fmt.Sprintf(&quot;%d passed&quot;, r.Succeeded)
</a><a href="#h138-0-152" id="h138-0-152" class="d">-	if r.Skipped != 0 {
</a><a href="#h138-0-153" id="h138-0-153" class="d">-		value += fmt.Sprintf(&quot;, %d skipped&quot;, r.Skipped)
</a><a href="#h138-0-154" id="h138-0-154" class="d">-	}
</a><a href="#h138-0-155" id="h138-0-155" class="d">-	if r.ExpectedFailures != 0 {
</a><a href="#h138-0-156" id="h138-0-156" class="d">-		value += fmt.Sprintf(&quot;, %d expected failures&quot;, r.ExpectedFailures)
</a><a href="#h138-0-157" id="h138-0-157" class="d">-	}
</a><a href="#h138-0-158" id="h138-0-158" class="d">-	if r.Failed != 0 {
</a><a href="#h138-0-159" id="h138-0-159" class="d">-		value += fmt.Sprintf(&quot;, %d FAILED&quot;, r.Failed)
</a><a href="#h138-0-160" id="h138-0-160" class="d">-	}
</a><a href="#h138-0-161" id="h138-0-161" class="d">-	if r.Panicked != 0 {
</a><a href="#h138-0-162" id="h138-0-162" class="d">-		value += fmt.Sprintf(&quot;, %d PANICKED&quot;, r.Panicked)
</a><a href="#h138-0-163" id="h138-0-163" class="d">-	}
</a><a href="#h138-0-164" id="h138-0-164" class="d">-	if r.FixturePanicked != 0 {
</a><a href="#h138-0-165" id="h138-0-165" class="d">-		value += fmt.Sprintf(&quot;, %d FIXTURE-PANICKED&quot;, r.FixturePanicked)
</a><a href="#h138-0-166" id="h138-0-166" class="d">-	}
</a><a href="#h138-0-167" id="h138-0-167" class="d">-	if r.Missed != 0 {
</a><a href="#h138-0-168" id="h138-0-168" class="d">-		value += fmt.Sprintf(&quot;, %d MISSED&quot;, r.Missed)
</a><a href="#h138-0-169" id="h138-0-169" class="d">-	}
</a><a href="#h138-0-170" id="h138-0-170" class="d">-	if r.WorkDir != &quot;&quot; {
</a><a href="#h138-0-171" id="h138-0-171" class="d">-		value += &quot;\nWORK=&quot; + r.WorkDir
</a><a href="#h138-0-172" id="h138-0-172" class="d">-	}
</a><a href="#h138-0-173" id="h138-0-173" class="d">-	return value
</a><a href="#h138-0-174" id="h138-0-174" class="d">-}
</a><b>diff --git a/<a id="h139" href="../file/vendor/vendor.json">vendor/vendor.json</a> b/<a href="../file/vendor/vendor.json">vendor/vendor.json</a></b>
<a href="#h139-0" id="h139-0" class="h">@@ -1,149 +0,0 @@
</a><a href="#h139-0-0" id="h139-0-0" class="d">-{
</a><a href="#h139-0-1" id="h139-0-1" class="d">-	&quot;comment&quot;: &quot;&quot;,
</a><a href="#h139-0-2" id="h139-0-2" class="d">-	&quot;ignore&quot;: &quot;test&quot;,
</a><a href="#h139-0-3" id="h139-0-3" class="d">-	&quot;package&quot;: [
</a><a href="#h139-0-4" id="h139-0-4" class="d">-		{
</a><a href="#h139-0-5" id="h139-0-5" class="d">-			&quot;path&quot;: &quot;_m&quot;,
</a><a href="#h139-0-6" id="h139-0-6" class="d">-			&quot;revision&quot;: &quot;&quot;
</a><a href="#h139-0-7" id="h139-0-7" class="d">-		},
</a><a href="#h139-0-8" id="h139-0-8" class="d">-		{
</a><a href="#h139-0-9" id="h139-0-9" class="d">-			&quot;path&quot;: &quot;appengine&quot;,
</a><a href="#h139-0-10" id="h139-0-10" class="d">-			&quot;revision&quot;: &quot;&quot;
</a><a href="#h139-0-11" id="h139-0-11" class="d">-		},
</a><a href="#h139-0-12" id="h139-0-12" class="d">-		{
</a><a href="#h139-0-13" id="h139-0-13" class="d">-			&quot;path&quot;: &quot;appengine_internal&quot;,
</a><a href="#h139-0-14" id="h139-0-14" class="d">-			&quot;revision&quot;: &quot;&quot;
</a><a href="#h139-0-15" id="h139-0-15" class="d">-		},
</a><a href="#h139-0-16" id="h139-0-16" class="d">-		{
</a><a href="#h139-0-17" id="h139-0-17" class="d">-			&quot;path&quot;: &quot;appengine_internal/base&quot;,
</a><a href="#h139-0-18" id="h139-0-18" class="d">-			&quot;revision&quot;: &quot;&quot;
</a><a href="#h139-0-19" id="h139-0-19" class="d">-		},
</a><a href="#h139-0-20" id="h139-0-20" class="d">-		{
</a><a href="#h139-0-21" id="h139-0-21" class="d">-			&quot;checksumSHA1&quot;: &quot;AKjqgiWov1IJWbnpCkjVEs6NunQ=&quot;,
</a><a href="#h139-0-22" id="h139-0-22" class="d">-			&quot;path&quot;: &quot;github.com/bmizerany/pat&quot;,
</a><a href="#h139-0-23" id="h139-0-23" class="d">-			&quot;revision&quot;: &quot;c068ca2f0aacee5ac3681d68e4d0a003b7d1fd2c&quot;,
</a><a href="#h139-0-24" id="h139-0-24" class="d">-			&quot;revisionTime&quot;: &quot;2016-02-17T10:30:50Z&quot;
</a><a href="#h139-0-25" id="h139-0-25" class="d">-		},
</a><a href="#h139-0-26" id="h139-0-26" class="d">-		{
</a><a href="#h139-0-27" id="h139-0-27" class="d">-			&quot;checksumSHA1&quot;: &quot;imR2wF388/0fBU6RRWx8RvTi8Q8=&quot;,
</a><a href="#h139-0-28" id="h139-0-28" class="d">-			&quot;path&quot;: &quot;github.com/facebookgo/clock&quot;,
</a><a href="#h139-0-29" id="h139-0-29" class="d">-			&quot;revision&quot;: &quot;600d898af40aa09a7a93ecb9265d87b0504b6f03&quot;,
</a><a href="#h139-0-30" id="h139-0-30" class="d">-			&quot;revisionTime&quot;: &quot;2015-04-10T01:09:13Z&quot;
</a><a href="#h139-0-31" id="h139-0-31" class="d">-		},
</a><a href="#h139-0-32" id="h139-0-32" class="d">-		{
</a><a href="#h139-0-33" id="h139-0-33" class="d">-			&quot;checksumSHA1&quot;: &quot;/jfkiemtHBkQcesTAtOso945hTY=&quot;,
</a><a href="#h139-0-34" id="h139-0-34" class="d">-			&quot;path&quot;: &quot;github.com/facebookgo/limitgroup&quot;,
</a><a href="#h139-0-35" id="h139-0-35" class="d">-			&quot;revision&quot;: &quot;6abd8d71ec01451d7f1929eacaa263bbe2935d05&quot;,
</a><a href="#h139-0-36" id="h139-0-36" class="d">-			&quot;revisionTime&quot;: &quot;2015-06-12T19:09:41Z&quot;
</a><a href="#h139-0-37" id="h139-0-37" class="d">-		},
</a><a href="#h139-0-38" id="h139-0-38" class="d">-		{
</a><a href="#h139-0-39" id="h139-0-39" class="d">-			&quot;checksumSHA1&quot;: &quot;6viCX3VLBaomwZukWCTmipmQWO8=&quot;,
</a><a href="#h139-0-40" id="h139-0-40" class="d">-			&quot;path&quot;: &quot;github.com/facebookgo/muster&quot;,
</a><a href="#h139-0-41" id="h139-0-41" class="d">-			&quot;revision&quot;: &quot;fd3d7953fd52354a74b9f6b3d70d0c9650c4ec2a&quot;,
</a><a href="#h139-0-42" id="h139-0-42" class="d">-			&quot;revisionTime&quot;: &quot;2015-07-08T23:28:44Z&quot;
</a><a href="#h139-0-43" id="h139-0-43" class="d">-		},
</a><a href="#h139-0-44" id="h139-0-44" class="d">-		{
</a><a href="#h139-0-45" id="h139-0-45" class="d">-			&quot;checksumSHA1&quot;: &quot;XnbEHQRzINRKXKmu9GcaqGkK4Lg=&quot;,
</a><a href="#h139-0-46" id="h139-0-46" class="d">-			&quot;path&quot;: &quot;github.com/golang/protobuf/proto&quot;,
</a><a href="#h139-0-47" id="h139-0-47" class="d">-			&quot;revision&quot;: &quot;f592bd283e9ef86337a432eb50e592278c3d534d&quot;,
</a><a href="#h139-0-48" id="h139-0-48" class="d">-			&quot;revisionTime&quot;: &quot;2016-08-17T17:41:13Z&quot;
</a><a href="#h139-0-49" id="h139-0-49" class="d">-		},
</a><a href="#h139-0-50" id="h139-0-50" class="d">-		{
</a><a href="#h139-0-51" id="h139-0-51" class="d">-			&quot;checksumSHA1&quot;: &quot;lRiXw/k3wMbVticu4UnHSmqdhSI=&quot;,
</a><a href="#h139-0-52" id="h139-0-52" class="d">-			&quot;path&quot;: &quot;github.com/google/go-github/github&quot;,
</a><a href="#h139-0-53" id="h139-0-53" class="d">-			&quot;revision&quot;: &quot;63f6986f05c3e857d0bd9d7245b24c12a6c11147&quot;,
</a><a href="#h139-0-54" id="h139-0-54" class="d">-			&quot;revisionTime&quot;: &quot;2016-04-05T22:16:35Z&quot;
</a><a href="#h139-0-55" id="h139-0-55" class="d">-		},
</a><a href="#h139-0-56" id="h139-0-56" class="d">-		{
</a><a href="#h139-0-57" id="h139-0-57" class="d">-			&quot;checksumSHA1&quot;: &quot;dz3Of7nwquNfShyXNkLSA36RrLo=&quot;,
</a><a href="#h139-0-58" id="h139-0-58" class="d">-			&quot;path&quot;: &quot;github.com/google/go-querystring/query&quot;,
</a><a href="#h139-0-59" id="h139-0-59" class="d">-			&quot;revision&quot;: &quot;6bb77fe6f42b85397288d4f6f67ac72f8f400ee7&quot;,
</a><a href="#h139-0-60" id="h139-0-60" class="d">-			&quot;revisionTime&quot;: &quot;2016-02-18T00:51:18Z&quot;
</a><a href="#h139-0-61" id="h139-0-61" class="d">-		},
</a><a href="#h139-0-62" id="h139-0-62" class="d">-		{
</a><a href="#h139-0-63" id="h139-0-63" class="d">-			&quot;checksumSHA1&quot;: &quot;i+NIFvz7X9lNFpdHYgp4TCWvht8=&quot;,
</a><a href="#h139-0-64" id="h139-0-64" class="d">-			&quot;path&quot;: &quot;github.com/honeycombio/libhoney-go&quot;,
</a><a href="#h139-0-65" id="h139-0-65" class="d">-			&quot;revision&quot;: &quot;7ad65cc77a0c4c90145f97f7ce5b837a85b59dab&quot;,
</a><a href="#h139-0-66" id="h139-0-66" class="d">-			&quot;revisionTime&quot;: &quot;2016-08-10T00:57:24Z&quot;
</a><a href="#h139-0-67" id="h139-0-67" class="d">-		},
</a><a href="#h139-0-68" id="h139-0-68" class="d">-		{
</a><a href="#h139-0-69" id="h139-0-69" class="d">-			&quot;checksumSHA1&quot;: &quot;Dsggox33NpBqmkEYgaYD6vEf1KQ=&quot;,
</a><a href="#h139-0-70" id="h139-0-70" class="d">-			&quot;path&quot;: &quot;github.com/nelhage/go.cli/config&quot;,
</a><a href="#h139-0-71" id="h139-0-71" class="d">-			&quot;revision&quot;: &quot;2aeb96ef8025f3646befae8353b90f95e9e79bdc&quot;,
</a><a href="#h139-0-72" id="h139-0-72" class="d">-			&quot;revisionTime&quot;: &quot;2014-07-17T04:35:04Z&quot;
</a><a href="#h139-0-73" id="h139-0-73" class="d">-		},
</a><a href="#h139-0-74" id="h139-0-74" class="d">-		{
</a><a href="#h139-0-75" id="h139-0-75" class="d">-			&quot;checksumSHA1&quot;: &quot;pancewZW3HwGvpDwfH5Imrbadc4=&quot;,
</a><a href="#h139-0-76" id="h139-0-76" class="d">-			&quot;path&quot;: &quot;golang.org/x/net/context&quot;,
</a><a href="#h139-0-77" id="h139-0-77" class="d">-			&quot;revision&quot;: &quot;e45385e9b226f570b1f086bf287b25d3d4117776&quot;,
</a><a href="#h139-0-78" id="h139-0-78" class="d">-			&quot;revisionTime&quot;: &quot;2016-04-07T02:17:48Z&quot;
</a><a href="#h139-0-79" id="h139-0-79" class="d">-		},
</a><a href="#h139-0-80" id="h139-0-80" class="d">-		{
</a><a href="#h139-0-81" id="h139-0-81" class="d">-			&quot;checksumSHA1&quot;: &quot;mktBVED98G2vv+OKcSgtnFVZC1Y=&quot;,
</a><a href="#h139-0-82" id="h139-0-82" class="d">-			&quot;path&quot;: &quot;golang.org/x/oauth2&quot;,
</a><a href="#h139-0-83" id="h139-0-83" class="d">-			&quot;revision&quot;: &quot;33fa30fe45020622640e947917fd1fc4c81e3dce&quot;,
</a><a href="#h139-0-84" id="h139-0-84" class="d">-			&quot;revisionTime&quot;: &quot;2016-03-25T17:08:19Z&quot;
</a><a href="#h139-0-85" id="h139-0-85" class="d">-		},
</a><a href="#h139-0-86" id="h139-0-86" class="d">-		{
</a><a href="#h139-0-87" id="h139-0-87" class="d">-			&quot;checksumSHA1&quot;: &quot;W/GiDqzsagBnR7/yEvxatMhUDBs=&quot;,
</a><a href="#h139-0-88" id="h139-0-88" class="d">-			&quot;path&quot;: &quot;golang.org/x/oauth2/internal&quot;,
</a><a href="#h139-0-89" id="h139-0-89" class="d">-			&quot;revision&quot;: &quot;33fa30fe45020622640e947917fd1fc4c81e3dce&quot;,
</a><a href="#h139-0-90" id="h139-0-90" class="d">-			&quot;revisionTime&quot;: &quot;2016-03-25T17:08:19Z&quot;
</a><a href="#h139-0-91" id="h139-0-91" class="d">-		},
</a><a href="#h139-0-92" id="h139-0-92" class="d">-		{
</a><a href="#h139-0-93" id="h139-0-93" class="d">-			&quot;checksumSHA1&quot;: &quot;4lEP/dEWOMb4r2Aehu0D9iBDgIU=&quot;,
</a><a href="#h139-0-94" id="h139-0-94" class="d">-			&quot;path&quot;: &quot;google.golang.org/appengine/internal&quot;,
</a><a href="#h139-0-95" id="h139-0-95" class="d">-			&quot;revision&quot;: &quot;e951d3868b377b14f4e60efa3a301532ee3c1ebf&quot;,
</a><a href="#h139-0-96" id="h139-0-96" class="d">-			&quot;revisionTime&quot;: &quot;2016-08-10T20:11:16Z&quot;
</a><a href="#h139-0-97" id="h139-0-97" class="d">-		},
</a><a href="#h139-0-98" id="h139-0-98" class="d">-		{
</a><a href="#h139-0-99" id="h139-0-99" class="d">-			&quot;checksumSHA1&quot;: &quot;TsNO8P0xUlLNyh3Ic/tzSp/fDWM=&quot;,
</a><a href="#h139-0-100" id="h139-0-100" class="d">-			&quot;path&quot;: &quot;google.golang.org/appengine/internal/base&quot;,
</a><a href="#h139-0-101" id="h139-0-101" class="d">-			&quot;revision&quot;: &quot;e951d3868b377b14f4e60efa3a301532ee3c1ebf&quot;,
</a><a href="#h139-0-102" id="h139-0-102" class="d">-			&quot;revisionTime&quot;: &quot;2016-08-10T20:11:16Z&quot;
</a><a href="#h139-0-103" id="h139-0-103" class="d">-		},
</a><a href="#h139-0-104" id="h139-0-104" class="d">-		{
</a><a href="#h139-0-105" id="h139-0-105" class="d">-			&quot;checksumSHA1&quot;: &quot;5QsV5oLGSfKZqTCVXP6NRz5T4Tw=&quot;,
</a><a href="#h139-0-106" id="h139-0-106" class="d">-			&quot;path&quot;: &quot;google.golang.org/appengine/internal/datastore&quot;,
</a><a href="#h139-0-107" id="h139-0-107" class="d">-			&quot;revision&quot;: &quot;e951d3868b377b14f4e60efa3a301532ee3c1ebf&quot;,
</a><a href="#h139-0-108" id="h139-0-108" class="d">-			&quot;revisionTime&quot;: &quot;2016-08-10T20:11:16Z&quot;
</a><a href="#h139-0-109" id="h139-0-109" class="d">-		},
</a><a href="#h139-0-110" id="h139-0-110" class="d">-		{
</a><a href="#h139-0-111" id="h139-0-111" class="d">-			&quot;checksumSHA1&quot;: &quot;Gep2T9zmVYV8qZfK2gu3zrmG6QE=&quot;,
</a><a href="#h139-0-112" id="h139-0-112" class="d">-			&quot;path&quot;: &quot;google.golang.org/appengine/internal/log&quot;,
</a><a href="#h139-0-113" id="h139-0-113" class="d">-			&quot;revision&quot;: &quot;e951d3868b377b14f4e60efa3a301532ee3c1ebf&quot;,
</a><a href="#h139-0-114" id="h139-0-114" class="d">-			&quot;revisionTime&quot;: &quot;2016-08-10T20:11:16Z&quot;
</a><a href="#h139-0-115" id="h139-0-115" class="d">-		},
</a><a href="#h139-0-116" id="h139-0-116" class="d">-		{
</a><a href="#h139-0-117" id="h139-0-117" class="d">-			&quot;checksumSHA1&quot;: &quot;a1XY7rz3BieOVqVI2Et6rKiwQCk=&quot;,
</a><a href="#h139-0-118" id="h139-0-118" class="d">-			&quot;path&quot;: &quot;google.golang.org/appengine/internal/remote_api&quot;,
</a><a href="#h139-0-119" id="h139-0-119" class="d">-			&quot;revision&quot;: &quot;e951d3868b377b14f4e60efa3a301532ee3c1ebf&quot;,
</a><a href="#h139-0-120" id="h139-0-120" class="d">-			&quot;revisionTime&quot;: &quot;2016-08-10T20:11:16Z&quot;
</a><a href="#h139-0-121" id="h139-0-121" class="d">-		},
</a><a href="#h139-0-122" id="h139-0-122" class="d">-		{
</a><a href="#h139-0-123" id="h139-0-123" class="d">-			&quot;checksumSHA1&quot;: &quot;QtAbHtHmDzcf6vOV9eqlCpKgjiw=&quot;,
</a><a href="#h139-0-124" id="h139-0-124" class="d">-			&quot;path&quot;: &quot;google.golang.org/appengine/internal/urlfetch&quot;,
</a><a href="#h139-0-125" id="h139-0-125" class="d">-			&quot;revision&quot;: &quot;e951d3868b377b14f4e60efa3a301532ee3c1ebf&quot;,
</a><a href="#h139-0-126" id="h139-0-126" class="d">-			&quot;revisionTime&quot;: &quot;2016-08-10T20:11:16Z&quot;
</a><a href="#h139-0-127" id="h139-0-127" class="d">-		},
</a><a href="#h139-0-128" id="h139-0-128" class="d">-		{
</a><a href="#h139-0-129" id="h139-0-129" class="d">-			&quot;checksumSHA1&quot;: &quot;akOV9pYnCbcPA8wJUutSQVibdyg=&quot;,
</a><a href="#h139-0-130" id="h139-0-130" class="d">-			&quot;path&quot;: &quot;google.golang.org/appengine/urlfetch&quot;,
</a><a href="#h139-0-131" id="h139-0-131" class="d">-			&quot;revision&quot;: &quot;e951d3868b377b14f4e60efa3a301532ee3c1ebf&quot;,
</a><a href="#h139-0-132" id="h139-0-132" class="d">-			&quot;revisionTime&quot;: &quot;2016-08-10T20:11:16Z&quot;
</a><a href="#h139-0-133" id="h139-0-133" class="d">-		},
</a><a href="#h139-0-134" id="h139-0-134" class="d">-		{
</a><a href="#h139-0-135" id="h139-0-135" class="d">-			&quot;checksumSHA1&quot;: &quot;o5Skl9YjZqmvEEqWie3f3oY0Kow=&quot;,
</a><a href="#h139-0-136" id="h139-0-136" class="d">-			&quot;path&quot;: &quot;gopkg.in/alexcesaro/statsd.v2&quot;,
</a><a href="#h139-0-137" id="h139-0-137" class="d">-			&quot;revision&quot;: &quot;7fea3f0d2fab1ad973e641e51dba45443a311a90&quot;,
</a><a href="#h139-0-138" id="h139-0-138" class="d">-			&quot;revisionTime&quot;: &quot;2016-03-20T18:21:10Z&quot;
</a><a href="#h139-0-139" id="h139-0-139" class="d">-		},
</a><a href="#h139-0-140" id="h139-0-140" class="d">-		{
</a><a href="#h139-0-141" id="h139-0-141" class="d">-			&quot;checksumSHA1&quot;: &quot;I2d7Kn572Fz02mnnlcI4MHXCu0c=&quot;,
</a><a href="#h139-0-142" id="h139-0-142" class="d">-			&quot;path&quot;: &quot;gopkg.in/check.v1&quot;,
</a><a href="#h139-0-143" id="h139-0-143" class="d">-			&quot;revision&quot;: &quot;4f90aeace3a26ad7021961c297b22c42160c7b25&quot;,
</a><a href="#h139-0-144" id="h139-0-144" class="d">-			&quot;revisionTime&quot;: &quot;2016-01-05T16:49:36Z&quot;
</a><a href="#h139-0-145" id="h139-0-145" class="d">-		}
</a><a href="#h139-0-146" id="h139-0-146" class="d">-	],
</a><a href="#h139-0-147" id="h139-0-147" class="d">-	&quot;rootPath&quot;: &quot;github.com/livegrep/livegrep&quot;
</a><a href="#h139-0-148" id="h139-0-148" class="d">-}
</a></pre>
</div>
</body>
</html>
